{
  "version": 3,
  "sources": ["Source_TS/Check.ts", "Source_TS/Vacuum.ts", "Source_TS/Update.ts", "Source_TS/Reset.ts", "Source_TS/Stage.ts", "Source_TS/Special.ts", "Source_TS/Limit.ts", "Source_TS/Player.ts", "Source_TS/Hotkeys.ts", "Source_TS/Main.ts"],
  "sourcesContent": ["import Overlimit from './Limit';\nimport { global, player } from './Player';\n\nexport const checkTab = (tab: string, subtab = null as null | string): boolean => {\n    switch (tab) {\n        case 'stage':\n            if (subtab === 'Advanced') { return player.stage.true >= 6 || global.strangeInfo.instability > 0; }\n            return subtab === 'Structures' || subtab === null;\n        case 'Elements':\n        case 'upgrade':\n            if (player.stage.true < 2 && player.discharge.energyMax < 9) { return false; }\n            if (subtab === 'Elements' || tab === 'Elements') { return global.stageInfo.activeAll.includes(4) && player.upgrades[4][1] === 1; }\n            return subtab === 'Upgrades' || subtab === null;\n        case 'strangeness':\n            if (player.strange[0].total <= 0 && (!player.inflation.vacuum || player.stage.current < 5)) { return false; }\n            if (subtab === 'Milestones') { return player.strangeness[5][0] >= 1 || !player.inflation.vacuum; }\n            return subtab === 'Matter' || subtab === null;\n        case 'settings':\n            if (subtab === 'History') { return player.strange[0].total > 0; }\n            return subtab === 'Settings' || subtab === 'Stats' || subtab === null;\n    }\n\n    return false;\n};\n\nexport const checkBuilding = (index: number, stageIndex: number): boolean => {\n    if (index < 1 || global.buildingsInfo.maxActive[stageIndex] < index + 1) { return false; }\n\n    if (stageIndex === 1) {\n        return true;\n    } else if (stageIndex === 2) {\n        return true;\n    } else if (stageIndex === 3) {\n        if (player.accretion.rank === 0) { return false; }\n        if (index === 1) { return true; }\n        if (index === 2) { return player.upgrades[3][2] === 1; }\n        if (index === 3) { return player.upgrades[3][4] === 1; }\n        if (index === 4) { return player.upgrades[3][8] === 1; }\n        if (index === 5) { return player.upgrades[3][11] === 1; }\n    } else if (stageIndex === 4) {\n        if (player.collapse.mass < global.collapseInfo.unlockB[index] && player.buildings[5][3].true < 1) { return false; }\n        if (index === 1) { return true; }\n        if (index === 2) { return player.researchesExtra[4][0] >= 1; }\n        if (index === 3) { return player.researchesExtra[4][0] >= 2; }\n        if (index === 4) { return player.researchesExtra[4][0] >= 3; }\n        if (index === 5) { return player.collapse.stars[2] > 0 || player.buildings[5][3].true >= 1; }\n    } else if (stageIndex === 5) {\n        if (index === 1) { return player.inflation.vacuum || player.milestones[2][0] >= 7; }\n        if (index === 2) { return player.inflation.vacuum || player.milestones[3][0] >= 7; }\n        if (index === 3) { return player.researchesExtra[5][0] >= 1; }\n    }\n\n    return false;\n};\n\nexport const checkUpgrade = (upgrade: number, stageIndex: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements' | 'strangeness'): boolean => {\n    if (upgrade < 0) { return false; }\n    switch (type) { //Some cases are handled by max level being 0\n        case 'upgrades':\n            if (global.upgradesInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (stageIndex === 1) {\n                if (upgrade === 0 || upgrade === 1) { return player.inflation.vacuum; }\n                if (upgrade > 5) { return player.upgrades[1][5] === 1; }\n                return true;\n            } else if (stageIndex === 2) {\n                if (upgrade === 7) { return player.strangeness[2][2] >= 3; }\n                if (upgrade === 8) { return player.strangeness[2][8] >= 3; }\n                return true;\n            } else if (stageIndex === 3) {\n                if (player.accretion.rank < global.accretionInfo.rankU[upgrade] || player.accretion.rank === 0) { return false; }\n                if (upgrade === 7) { return player.strangeness[3][2] >= 3; }\n                return true;\n            } else if (stageIndex === 4) {\n                if (player.collapse.mass < global.collapseInfo.unlockU[upgrade] && player.buildings[5][3].true < 1) { return false; }\n                if (upgrade === 2) { return player.upgrades[4][1] === 1; }\n                if (upgrade === 3) { return player.strangeness[4][2] >= 2 && player.upgrades[4][2] === 1 && player.collapse.stars[1] > 0; }\n                if (upgrade === 4) { return player.strangeness[4][9] >= 1 && player.upgrades[4][3] === 1; }\n                return true;\n            } else if (stageIndex === 5) {\n                if (upgrade === 0) { return player.inflation.vacuum || player.milestones[2][0] >= 7; }\n                if (upgrade === 1) { return player.inflation.vacuum || player.milestones[3][0] >= 7; }\n                if (upgrade === 2) { return player.buildings[5][3].true >= 1; }\n            }\n            break;\n        case 'researches':\n            if (global.researchesInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (stageIndex === 1) {\n                return player.upgrades[1][5] === 1;\n            } else if (stageIndex === 2) {\n                return true;\n            } else if (stageIndex === 3) {\n                return player.accretion.rank >= global.accretionInfo.rankR[upgrade] && player.accretion.rank !== 0;\n            } else if (stageIndex === 4) {\n                if (player.collapse.mass < global.collapseInfo.unlockR[upgrade] && player.buildings[5][3].true < 1) { return false; }\n                if (upgrade === 3) { return (player.collapse.stars[0] > 0 || player.buildings[5][3].true >= 1) && player.strangeness[4][2] >= 1; }\n                if (upgrade === 4) { return player.collapse.stars[2] > 0 || player.buildings[5][3].true >= 1; }\n                return true;\n            } else if (stageIndex === 5) {\n                if (upgrade === 0) { return player.inflation.vacuum || player.milestones[2][0] >= 7; }\n                if (upgrade === 1) { return player.inflation.vacuum || player.milestones[3][0] >= 7; }\n            }\n            break;\n        case 'researchesExtra':\n            if (global.researchesExtraInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (stageIndex === 1) {\n                if (upgrade === 1) { return player.researchesExtra[1][2] >= 2; }\n                if (upgrade === 3) { return player.researchesExtra[1][2] >= 1; }\n                if (upgrade === 4) { return player.accretion.rank >= 6; }\n                return player.upgrades[1][5] === 1;\n            } else if (stageIndex === 2) {\n                if (upgrade === 3) { return player.accretion.rank >= 6; }\n                //if (upgrade === 4) { return player.accretion.rank >= 7; }\n                return player.upgrades[2][2] === 1;\n            } else if (stageIndex === 3) {\n                if (player.accretion.rank < global.accretionInfo.rankE[upgrade] || player.accretion.rank === 0) { return false; }\n                if (upgrade === 4) { return player.researchesExtra[1][2] >= 2; }\n                return true;\n            } else if (stageIndex === 4) {\n                if (upgrade === 1) { return player.collapse.stars[0] > 0 || player.buildings[5][3].true >= 1; }\n                if (upgrade === 2) { return (player.collapse.stars[0] > 0 || player.buildings[5][3].true >= 1) && player.strangeness[4][2] >= 3; }\n                return true;\n            } else if (stageIndex === 5) {\n                if (upgrade === 0) { return player.inflation.vacuum || player.milestones[5][0] >= 8; }\n            }\n            break;\n        case 'researchesAuto': {\n            if (!player.inflation.vacuum) { return false; }\n            const autoStage = global.researchesAutoInfo.autoStage[upgrade][player.researchesAuto[upgrade]]; //Can be undefined\n            return autoStage === stageIndex || (stageIndex === 5 && autoStage === 4);\n        }\n        case 'ASR':\n            if (stageIndex === 1) { return player.upgrades[1][5] >= 1; }\n            if (stageIndex === 3) { return player.accretion.rank !== 0; }\n            return true;\n        case 'elements':\n            if (upgrade >= 29) { return player.upgrades[4][4] === 1; }\n            if (upgrade >= 27) { return player.upgrades[4][3] === 1; }\n            if (upgrade >= 11) { return player.upgrades[4][2] === 1 && (player.collapse.stars[1] > 0 || player.buildings[5][3].true >= 1); }\n            if (upgrade >= 6) { return player.upgrades[4][2] === 1; }\n            return player.upgrades[4][1] === 1; //&& upgrade !== 0;\n        case 'strangeness':\n            if (global.strangenessInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (player.inflation.vacuum) {\n                if (stageIndex === 1) {\n                    if (upgrade === 7) { return player.challenges.void[1] >= 1; }\n                    if (upgrade === 8) { return player.challenges.void[1] >= 2; }\n                    if (upgrade === 9) { return player.challenges.void[4] >= 2; }\n                } else if (stageIndex === 2) {\n                    if (upgrade === 7) { return player.challenges.void[2] >= 1; }\n                    if (upgrade === 8) { return player.challenges.void[2] >= 2; }\n                    //if (upgrade === ?) { return player.challenges.void[1] >= 3; }\n                } else if (stageIndex === 3) {\n                    if (upgrade === 8) { return player.challenges.void[4] >= 4; }\n                    //if (upgrade === ?) { return player.challenges.void[5] >= 2; }\n                } else if (stageIndex === 4) {\n                    if (upgrade === 8) { return player.challenges.void[4] >= 3; }\n                    if (upgrade === 9) { return player.challenges.void[5] >= 1; }\n                } else if (stageIndex === 5) {\n                    //if (upgrade === ?) { return player.challenges.void[4] >= 1; }\n                    if (upgrade === 8) { return player.challenges.void[3] >= 5; }\n                    if ([3, 4, 6, 7].includes(upgrade)) { return player.strangeness[5][5] >= 1; }\n                }\n                return true;\n            }\n            if (((stageIndex === 1 || stageIndex === 2) && upgrade < 6) || ((stageIndex === 3 || stageIndex === 4) && upgrade < 7)) { return true; }\n            if (player.milestones[4][0] < 8) { return false; }\n            if (stageIndex === 5) {\n                if (upgrade === 3) { return player.milestones[2][0] >= 7; }\n                if (upgrade === 4) { return player.milestones[3][0] >= 7; }\n                if (upgrade === 5 || upgrade === 6) { return player.milestones[2][0] >= 7 || player.milestones[3][0] >= 7; }\n            }\n            return true;\n    }\n\n    return false;\n};\n\nexport const allowedToBeReset = (check: number, stageIndex: number, type: 'structures' | 'upgrades' | 'researches' | 'researchesExtra' | 'elements'): boolean => {\n    switch (type) {\n        case 'structures':\n            if (stageIndex === 5 && check === 3) { return false; }\n            break;\n        case 'upgrades':\n            if (stageIndex === 1) {\n                return check !== 5;\n            } else if (stageIndex === 2) {\n                return check !== 2;\n            } else if (stageIndex === 4) {\n                return false;\n            }\n            break;\n        case 'researches':\n            if (stageIndex === 1) {\n                return check !== 3;\n            }\n            break;\n        case 'researchesExtra':\n            if (stageIndex === 1) {\n                return check !== 2;\n            } else if (stageIndex === 2) {\n                return check > 2;\n            } else if (stageIndex === 4) {\n                return check !== 0;\n            } else if (stageIndex === 5) {\n                return check !== 0;\n            }\n            break;\n        case 'elements':\n            return check !== 26;\n    }\n\n    return true;\n};\n\nexport const milestoneGetValue = (index: number, stageIndex: number): number | Overlimit => {\n    if (stageIndex === 1) {\n        if (index === 0) { return player.buildings[1][player.inflation.vacuum ? 1 : 0].total; }\n        if (index === 1) { return player.discharge.energy; }\n    } else if (stageIndex === 2) {\n        if (index === 0) { return player.inflation.vacuum ? player.vaporization.clouds : player.buildings[2][1].total; }\n        if (index === 1) { return player.buildings[2][2].current; }\n    } else if (stageIndex === 3) {\n        if (index === 0) { return player.inflation.vacuum ? new Overlimit(player.buildings[1][0].total).multiply('1.78266192e-33') : player.buildings[3][0].total; }\n        if (index === 1) { return player.buildings[3][4].true + player.buildings[3][5].true; } //new Overlimit(player.buildings[3][4].current).plus(player.buildings[3][5].current);\n    } else if (stageIndex === 4) {\n        if (index === 0) { return player.inflation.vacuum ? player.buildings[4][0].total : player.collapse.mass; }\n        if (index === 1) { return player.collapse.stars[2]; }\n    } else if (stageIndex === 5) {\n        if (index === 0) { return global.collapseInfo.trueStars; }\n        if (index === 1) { return player.buildings[5][3].true; }\n    }\n    throw new TypeError(`Milestone s${stageIndex}-i${index} doesn't exist`);\n};\nexport const milestoneCheck = (index: number, stageIndex: number): boolean => {\n    if (player.inflation.vacuum) {\n        if (player.challenges.active !== 0) { return false; }\n    } else if (player.stage.resets < 4 || (stageIndex === 5 && player.strangeness[5][5] < 1)) { return false; }\n    const need = global.milestonesInfo[stageIndex].need[index];\n    if (!need.notEqual('0')) { return false; }\n\n    return need.lessOrEqual(milestoneGetValue(index, stageIndex));\n};\n", "import { getId, getQuery } from './Main';\nimport { global, player, playerStart } from './Player';\nimport { resetVacuum } from './Reset';\nimport { Alert, Confirm, globalSave, playEvent, specialHTML } from './Special';\n\nexport const prepareVacuum = (state: boolean) => { //Must not use direct player values\n    const { buildings } = playerStart;\n    const { buildingsInfo, upgradesInfo, researchesInfo, researchesExtraInfo, strangenessInfo } = global;\n    const star3ExpId = getId('star3Explanation');\n\n    if (state) {\n        specialHTML.footerStatsHTML[1][0] = ['Energy%20mass.png', 'stage1borderImage cyanText', 'Mass'];\n        buildingsInfo.hoverText[2][0] = 'Tritium';\n        buildingsInfo.hoverText[3][0] = 'Preons hardcap';\n        buildings[1][0].current.setValue('5.476e-3');\n        buildings[2][0].current.setValue('0');\n        buildings[3][0].current.setValue('9.76185667392e-36');\n        const maxBuildings = [6, 7, 6, 6, 4];\n        buildingsInfo.maxActive.splice(1, maxBuildings.length, ...maxBuildings);\n        if (buildingsInfo.name[1][0] !== 'Mass') {\n            specialHTML.buildingHTML[1].unshift('Preon.png', 'Quarks.png');\n            buildingsInfo.name[1].unshift('Mass', 'Preons');\n            buildingsInfo.hoverText[1].unshift('Mass', 'Preons');\n        }\n        buildingsInfo.startCost[1] = [0, 0.005476, 6, 3, 24, 3];\n        global.dischargeInfo.energyType[1] = [0, 1, 3, 5, 10, 20];\n        buildingsInfo.type[2][1] = 'improving';\n        buildingsInfo.type[3][1] = 'delaying';\n        buildingsInfo.increase[5][1] = 4;\n        buildingsInfo.increase[5][2] = 4;\n        star3ExpId.textContent = 'Boost to Solar mass gain and delay to Preons hardcap';\n\n        const upgrades1Cost = [40, 60, 120, 140, 200, 400, 2000, 4000, 16000, 84000];\n        upgradesInfo[1].startCost.splice(0, upgrades1Cost.length, ...upgrades1Cost);\n        upgradesInfo[2].startCost[0] = 10;\n        //upgradesInfo[1].maxActive = 10;\n        upgradesInfo[2].maxActive = 9;\n        //upgradesInfo[3].maxActive = 13;\n        upgradesInfo[4].maxActive = 5;\n        //upgradesInfo[5].maxActive = 3;\n\n        const researches1Cost = [2400, 6000, 20000, 36000, 20000, 28000];\n        const researches1Scaling = [400, 2000, 8000, 48000, 16000, 16000];\n        researchesInfo[1].startCost.splice(0, researches1Cost.length, ...researches1Cost);\n        researchesInfo[1].scaling.splice(0, researches1Scaling.length, ...researches1Scaling);\n        researchesInfo[2].scaling[2] = 1e2;\n        researchesInfo[2].scaling[3] = 1e3;\n        //researchesInfo[1].maxActive = 6;\n        //researchesInfo[2].maxActive = 6;\n        //researchesInfo[3].maxActive = 9;\n        //researchesInfo[4].maxActive = 5;\n        //researchesInfo[5].maxActive = 2;\n\n        researchesExtraInfo[2].startCost[2] = 1e28;\n        researchesExtraInfo[1].maxActive = 5;\n        researchesExtraInfo[2].maxActive = 4;\n        researchesExtraInfo[3].maxActive = 5;\n        //researchesExtraInfo[4].maxActive = 3;\n        //researchesExtraInfo[5].maxActive = 1;\n\n        global.ASRInfo.costRange[1] = [4000, 12000, 20000, 36000, 60000];\n        global.ASRInfo.costRange[3][3] = 2.45576045e31;\n\n        const strangeness1Cost = [1, 2, 2, 4, 20, 2, 40];\n        const strangeness1Scaling = [2.64, 4, 6, 8, 1, 1, 1];\n        strangenessInfo[1].startCost.splice(0, strangeness1Cost.length, ...strangeness1Cost);\n        strangenessInfo[1].scaling.splice(0, strangeness1Scaling.length, ...strangeness1Scaling);\n        const strangeness2Cost = [1, 1, 2, 4, 20, 4, 40];\n        const strangeness2Scaling = [2.64, 2, 3, 6, 800, 1, 1];\n        strangenessInfo[2].startCost.splice(0, strangeness2Cost.length, ...strangeness2Cost);\n        strangenessInfo[2].scaling.splice(0, strangeness2Scaling.length, ...strangeness2Scaling);\n        const strangeness3Cost = [1, 2, 4, 16, 20, 4, 4, 40];\n        const strangeness3Scaling = [2, 3.4, 2, 1, 500, 1, 1.6, 1];\n        strangenessInfo[3].startCost.splice(0, strangeness3Cost.length, ...strangeness3Cost);\n        strangenessInfo[3].scaling.splice(0, strangeness3Scaling.length, ...strangeness3Scaling);\n        const strangeness4Cost = [1, 2, 4, 4, 20, 4, 4, 40];\n        const strangeness4Scaling = [2, 3.4, 3, 4, 300, 1, 2.56, 1];\n        strangenessInfo[4].startCost.splice(0, strangeness4Cost.length, ...strangeness4Cost);\n        strangenessInfo[4].scaling.splice(0, strangeness4Scaling.length, ...strangeness4Scaling);\n        const strangeness5Cost = [4, 16, 2400, 16, 20, 80, 80, 200];\n        const strangeness5Scaling = [1, 8, 1, 2, 2, 1, 1, 1];\n        strangenessInfo[5].startCost.splice(0, strangeness5Cost.length, ...strangeness5Cost);\n        strangenessInfo[5].scaling.splice(0, strangeness5Scaling.length, ...strangeness5Scaling);\n        strangenessInfo[1].maxActive = 10;\n        strangenessInfo[2].maxActive = 9;\n        strangenessInfo[3].maxActive = 10;\n        strangenessInfo[4].maxActive = 10;\n        strangenessInfo[5].maxActive = 9;\n\n        getId('milestonesWelcome').innerHTML = 'Milestones, can only be done when inside the <span class=\"darkvioletText\">Void</span>';\n        const milestone1S1 = getQuery('#milestone1Stage1Div > img') as HTMLImageElement;\n        milestone1S1.src = milestone1S1.src.replace('Quarks.png', 'Preon.png');\n        const milestone1S2 = getQuery('#milestone1Stage2Div > img') as HTMLImageElement;\n        global.milestonesInfo[2].name[0] = 'Distant Clouds';\n        getId('milestone1Stage2Name').textContent = 'Distant Clouds';\n        milestone1S2.src = milestone1S2.src.replace('Drop.png', 'Clouds.png');\n        milestone1S2.alt = 'Distant Clouds';\n        (getQuery('#milestone1Stage3Div > img') as HTMLImageElement).alt = 'Center of gravity';\n        global.milestonesInfo[3].name[0] = 'Center of gravity';\n        getId('milestone1Stage3Name').textContent = 'Center of gravity';\n        getQuery('#stageHistory > h4').textContent = 'Stage resets:';\n\n        getId('preonCap').style.display = '';\n        getId('molesProduction').style.display = '';\n        //getId('massProduction').style.display = '';\n        //getId('dustCap').style.display = '';\n        getId('mainCap').style.display = '';\n        getId('strange7Stage1').style.display = '';\n        getId('strange7Stage2').style.display = '';\n        getId('strange8Stage3').style.display = '';\n        getId('strange8Stage4').style.display = '';\n        getId('strange6Stage5').style.display = '';\n        for (let s = 2; s <= 5; s++) {\n            getId(`strangeness${globalSave.MDSettings[0] ? 'Page' : 'Section'}${s}`).style.display = '';\n            getId(`milestone1Stage${s}Div`).style.display = '';\n            getId(`milestone2Stage${s}Div`).style.display = '';\n        }\n        getId('vacuumBoost').style.display = 'none';\n        getId('stageInstant').style.display = 'none';\n        getId('unknownStructures').style.display = 'none';\n    } else {\n        specialHTML.footerStatsHTML[1][0] = ['Quarks.png', 'stage1borderImage cyanText', 'Quarks'];\n        buildingsInfo.hoverText[2][0] = 'Moles';\n        buildingsInfo.hoverText[3][0] = 'Mass';\n        buildings[1][0].current.setValue('3');\n        buildings[2][0].current.setValue('2.8e-3');\n        buildings[3][0].current.setValue('1e-19');\n        if (buildingsInfo.name[1][0] === 'Mass') {\n            specialHTML.buildingHTML[1].splice(0, 2);\n            buildingsInfo.name[1].splice(0, 2);\n            buildingsInfo.hoverText[1].splice(0, 2);\n        }\n        const maxBuildings = [4, 6, 5, 5, 4];\n        buildingsInfo.maxActive.splice(1, maxBuildings.length, ...maxBuildings);\n        buildingsInfo.startCost[1] = [0, 3, 24, 3];\n        global.dischargeInfo.energyType[1] = [0, 1, 5, 20];\n        buildingsInfo.type[2][1] = 'producing';\n        buildingsInfo.type[3][1] = 'producing';\n        buildingsInfo.increase[5][1] = 2;\n        buildingsInfo.increase[5][2] = 2;\n        star3ExpId.textContent = 'Boost to Solar mass gain';\n\n        const upgrades1Cost = [0, 0, 9, 12, 36, 300, 800, 2000, 4000, 22000];\n        upgradesInfo[1].startCost.splice(0, upgrades1Cost.length, ...upgrades1Cost);\n        upgradesInfo[2].startCost[0] = 1e4;\n        upgradesInfo[1].maxActive = 10;\n        upgradesInfo[2].maxActive = 8;\n        upgradesInfo[3].maxActive = 13;\n        upgradesInfo[4].maxActive = 4;\n        upgradesInfo[5].maxActive = 3;\n\n        const researches1Cost = [1000, 2500, 6000, 8000, 8000, 6000];\n        const researches1Scaling = [250, 500, 2000, 8000, 4000, 6000];\n        researchesInfo[1].startCost.splice(0, researches1Cost.length, ...researches1Cost);\n        researchesInfo[1].scaling.splice(0, researches1Scaling.length, ...researches1Scaling);\n        researchesInfo[2].scaling[2] = 1e3;\n        researchesInfo[2].scaling[3] = 1e2;\n        researchesInfo[1].maxActive = 6;\n        researchesInfo[2].maxActive = 6;\n        researchesInfo[3].maxActive = 9;\n        researchesInfo[4].maxActive = 5;\n        researchesInfo[5].maxActive = 2;\n\n        researchesExtraInfo[2].startCost[2] = 1e26;\n        researchesExtraInfo[1].maxActive = 0;\n        researchesExtraInfo[2].maxActive = 3;\n        researchesExtraInfo[3].maxActive = 4;\n        researchesExtraInfo[4].maxActive = 3;\n        researchesExtraInfo[5].maxActive = 1;\n\n        global.ASRInfo.costRange[1] = [6000, 12000, 18000];\n        global.ASRInfo.costRange[3][3] = 2e30;\n\n        const strangeness1Cost = [1, 1, 1, 2, 4, 2, 24];\n        const strangeness1Scaling = [1, 1, 1.5, 3, 0, 0, 0];\n        strangenessInfo[1].startCost.splice(0, strangeness1Cost.length, ...strangeness1Cost);\n        strangenessInfo[1].scaling.splice(0, strangeness1Scaling.length, ...strangeness1Scaling);\n        const strangeness2Cost = [1, 1, 2, 2, 4, 2, 24];\n        const strangeness2Scaling = [0.5, 0.75, 2.5, 3, 0, 0, 0];\n        strangenessInfo[2].startCost.splice(0, strangeness2Cost.length, ...strangeness2Cost);\n        strangenessInfo[2].scaling.splice(0, strangeness2Scaling.length, ...strangeness2Scaling);\n        const strangeness3Cost = [1, 1, 2, 6, 4, 2, 6, 24];\n        const strangeness3Scaling = [0.75, 1.5, 2, 0, 0, 0, 6, 0];\n        strangenessInfo[3].startCost.splice(0, strangeness3Cost.length, ...strangeness3Cost);\n        strangenessInfo[3].scaling.splice(0, strangeness3Scaling.length, ...strangeness3Scaling);\n        const strangeness4Cost = [1, 1, 3, 2, 4, 2, 4, 24];\n        const strangeness4Scaling = [1, 2, 2.5, 3, 0, 0, 76, 0];\n        strangenessInfo[4].startCost.splice(0, strangeness4Cost.length, ...strangeness4Cost);\n        strangenessInfo[4].scaling.splice(0, strangeness4Scaling.length, ...strangeness4Scaling);\n        const strangeness5Cost = [40, 40, 20, 20, 24, 60, 80, 120];\n        const strangeness5Scaling = [80, 0, 0, 12, 12, 0, 0, 0];\n        strangenessInfo[5].startCost.splice(0, strangeness5Cost.length, ...strangeness5Cost);\n        strangenessInfo[5].scaling.splice(0, strangeness5Scaling.length, ...strangeness5Scaling);\n        strangenessInfo[1].maxActive = 7;\n        strangenessInfo[2].maxActive = 7;\n        strangenessInfo[3].maxActive = 8;\n        strangenessInfo[4].maxActive = 8;\n        strangenessInfo[5].maxActive = 8;\n\n        getId('milestonesWelcome').innerHTML = 'Any reached Milestone will award 1 <span class=\"greenText\">Strange quark</span>';\n        const milestone1S1 = getQuery('#milestone1Stage1Div > img') as HTMLImageElement;\n        milestone1S1.src = milestone1S1.src.replace('Preon.png', 'Quarks.png');\n        const milestone1S2 = getQuery('#milestone1Stage2Div > img') as HTMLImageElement;\n        global.milestonesInfo[2].name[0] = 'A Nebula of Drops';\n        getId('milestone1Stage2Name').textContent = 'A Nebula of Drops';\n        milestone1S2.src = milestone1S2.src.replace('Clouds.png', 'Drop.png');\n        milestone1S2.alt = 'A Nebula of Drops';\n        (getQuery('#milestone1Stage3Div > img') as HTMLImageElement).alt = 'Cluster of Mass';\n        global.milestonesInfo[3].name[0] = 'Cluster of Mass';\n        getId('milestone1Stage3Name').textContent = 'Cluster of Mass';\n        getQuery('#stageHistory > h4').textContent = 'Interstellar Stage resets:';\n\n        getId('vacuumBoost').style.display = '';\n        getId('strange8Stage5').style.display = '';\n        getId('milestonesProgressArea').style.display = '';\n        getId('stageInstant').style.display = '';\n        getId('rankStat0').style.display = '';\n\n        getId('preonCap').style.display = 'none';\n        getId('molesProduction').style.display = 'none';\n        //getId('massProduction').style.display = 'none';\n        //getId('dustCap').style.display = 'none';\n        getId('submersionBoost').style.display = 'none';\n        getId('mainCap').style.display = 'none';\n        getId('researchAuto1').style.display = 'none';\n        for (let s = 1; s < strangenessInfo.length; s++) {\n            for (let i = strangenessInfo[s].maxActive + 1; i <= strangenessInfo[s].startCost.length; i++) {\n                getId(`strange${i}Stage${s}`).style.display = 'none';\n            }\n        }\n    }\n\n    if (globalSave.SRSettings[0]) { star3ExpId.textContent = ` (${star3ExpId.textContent})`; }\n    for (let s = 1; s <= 3; s++) {\n        const newValue = buildings[s][0].current;\n        buildings[s][0].total.setValue(newValue);\n        buildings[s][0].trueTotal.setValue(newValue);\n        buildings[s][0].highest.setValue(newValue);\n    }\n};\n\nexport const switchVacuum = async() => {\n    if (player.inflation.vacuum) { return void Alert('This cannot be undone'); }\n    const count = global.strangeInfo.instability;\n    if (count < 5) { return void Alert(`Universe is still stable. Vacuum state is false. ${5 - count} more`); }\n\n    if (!await Confirm('This will not be possible to undo. Confirm?\\n(This will reset everything)')) { return; }\n    if (player.stage.true < 6) {\n        await playEvent(6, -1);\n\n        player.stage.true = 6;\n        player.collapse.show = 0;\n    }\n    player.inflation.vacuum = true;\n    player.stage.current = 1;\n    player.stage.active = 1;\n    prepareVacuum(true);\n    resetVacuum();\n};\n\nexport const updateUnknown = () => {\n    const milestones = player.milestones;\n\n    let text = '<h4 class=\"darkvioletText\">Unknown Structures:</h4>';\n    if (milestones[1][0] >= 6) { text += '<img src=\"Used_art/Preon.png\" alt=\"Unknown Structure\" loading=\"lazy\" draggable=\"false\">'; }\n    if (milestones[2][1] >= 7) { text += '<img src=\"Used_art/Ocean.png\" alt=\"Unknown Structure\" loading=\"lazy\" draggable=\"false\">'; }\n    if (milestones[3][1] >= 7) { text += '<img src=\"Used_art/Subsatellite.png\" alt=\"Unknown Structure\" loading=\"lazy\" draggable=\"false\">'; }\n    if (milestones[4][1] >= 8) { text += '<img src=\"Used_art/Quasi%20star.png\" alt=\"Unknown Structure\" loading=\"lazy\" draggable=\"false\">'; }\n\n    const div = getId('unknownStructures');\n    div.style.display = global.strangeInfo.instability > 0 ? '' : 'none';\n    if (div.innerHTML !== text) { div.innerHTML = text; }\n};\n", "import { checkTab, milestoneGetValue } from './Check';\nimport Overlimit from './Limit';\nimport { getClass, getId, getQuery } from './Main';\nimport { global, player } from './Player';\nimport { MDStrangenessPage, globalSave, playEvent, specialHTML, switchTheme } from './Special';\nimport { autoElementsBuy, autoElementsSet, autoResearchesBuy, autoResearchesSet, autoUpgradesBuy, autoUpgradesSet, buyBuilding, calculateBuildingsCost, gainBuildings, assignBuildingInformation, collapseResetCheck, dischargeResetCheck, rankResetCheck, stageResetCheck, toggleSwap, vaporizationResetCheck, assignDischargeCost, assignNewClouds, assignNewMass, assignNewRemnants, gainStrange, switchStage, setActiveStage, calculateEffects, assignMaxRank } from './Stage';\nimport type { gameTab } from './Types';\nimport { updateUnknown } from './Vacuum';\n\nexport const switchTab = (tab: gameTab, subtab = null as null | string) => {\n    if (subtab === null) {\n        const oldTab = global.tab;\n        getId(`${oldTab}Tab`).style.display = 'none';\n        getId(`${oldTab}TabBtn`).classList.remove('tabActive');\n        const oldSubtabs = global.tabList[`${oldTab as 'stage'}Subtabs`] as string[] | undefined;\n        if (oldSubtabs !== undefined) {\n            for (const inside of oldSubtabs) {\n                getId(`${oldTab}SubtabBtn${inside}`).style.display = 'none';\n            }\n        }\n\n        global.tab = tab;\n        let subtabAmount = 0;\n        getId(`${tab}Tab`).style.display = '';\n        getId(`${tab}TabBtn`).classList.add('tabActive');\n        const newSubtabs = global.tabList[`${tab as 'stage'}Subtabs`] as string[] | undefined;\n        if (newSubtabs !== undefined) {\n            for (const inside of newSubtabs) {\n                if (checkTab(tab, inside)) {\n                    getId(`${tab}SubtabBtn${inside}`).style.display = '';\n                    subtabAmount++;\n                } else if (global.subtab[`${tab as 'stage'}Current`] === inside) {\n                    switchTab(tab, newSubtabs[0]);\n                }\n            }\n        }\n        getId('subtabs').style.display = subtabAmount > 1 ? '' : 'none';\n        if (globalSave.SRSettings[0]) { getId('SRTab').textContent = `Current tab is '${tab}'${subtabAmount > 1 ? ` and subtab is '${global.subtab[`${tab as 'stage'}Current`]}'` : ''}`; }\n    } else {\n        const oldSubtab = global.subtab[`${tab as 'stage'}Current`];\n        getId(`${tab}Subtab${oldSubtab}`).style.display = 'none';\n        getId(`${tab}SubtabBtn${oldSubtab}`).classList.remove('tabActive');\n\n        global.subtab[`${tab as 'stage'}Current`] = subtab;\n        getId(`${tab}Subtab${subtab}`).style.display = '';\n        getId(`${tab}SubtabBtn${subtab}`).classList.add('tabActive');\n        if (globalSave.SRSettings[0]) { getId('SRTab').textContent = `Current subtab is '${subtab}', part of '${tab}' tab`; }\n    }\n\n    const active = player.stage.active;\n    if (global.trueActive !== active) {\n        switchStage(global.trueActive);\n    } else if (active !== 4 && active !== 5 && ((global.tab === 'upgrade' && global.subtab.upgradeCurrent === 'Elements') || tab === 'Elements')) {\n        if ((tab === 'upgrade' && subtab === null) || !global.stageInfo.activeAll.includes(4)) {\n            switchTab('upgrade', 'Upgrades');\n        } else {\n            setActiveStage(4, active);\n            stageUpdate();\n        }\n    } else {\n        visualUpdate();\n        numbersUpdate();\n    }\n};\n\n/* Left to do */\n//Maybe to make Auto upgrades Strangeness have only 1 level\n//Test Auto Quasi cost being appropriate\n//Test Collapse safe setting for hardcap being reached\n//Test true vacuum accretion mass milestone working properly\n//Test level 2 autos, for working as intended (S, A, I)\n//Auto Collapse setting to wait for Hardcap\n//Add Energy gain from each structure? (stats)\n//Add new normal toggle > all tabs at once (https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API)\n//Maybe change 1ee2 (-1e-e2) into e1e2 (-e-1e2)\n\n//Make no Energy gain in Void from outside sourches\n//Make Submerged void harder\n//Water spread self-made puddles are no longer immune to softcap (maybe also boost to 1.02)\n//Test Accretion void\n//Make Interstellar void much harder\n//Main giants void reward is to make impulse improved by current energy\n//Maybe make Energy milestone reward to be better Discharge base\n//Change Bigger puddle milestone to Ocean amount?\n//Change Clouds gain reward to Clouds strength instead (or at least Drops to form a Cloud)\n//Maybe better automatization could be locked behind individual Void rewards (if can't figure out better ones)\n\n//Replace accretion rank increase reward with structures that 'improve' structures do it 1.4 times stronger (3 levels?)\n//Change Submerged void unlock order by making ocean world last\n//Boost neutronium and make it not boost Red giants (Titanium) part\n//Nerf Mass shift by making it -5 seconds instead of 1.4 ** level\n//Weaken auto vaporization level 2 (by a lot)\n//Nerf Strangelets by giving extra Strangelets based on Quarks on stage Reset (More levels to improve conversion)\n//Or by adding option to Sacrifice all Quarks for X amount of Strangelets (if so, then make them recover much slower)\n\n//Cosmon as upgrade resource, you get minimum +1 per false or true vacuum reset\n//More in true vacuum the more Universes owned (each new Universe is more expensive, can destroy Universe to prevent softlocks)\n//Primordial matter?\n//Make first (mandatory) universe upgrade to unlock 1 (4 for false vacuum) stage reset on Inflation\n//All auto Structures will cost 2 Cosmons\n\n//Possible cosmon upgrades\n//Rank do not reset anything;\n//Void challenge is not reset on inflation;\n//+1 to Stage reset reward;\n//*2 to Intestellar Stage reset reward;\n//1 cosmon, start Inflation with 4 Stage resets and 1 Quark in false vacuum, and 1 Stage reset and 4 Quarks in true vacuum (which unlocks export and in false vacuum more than 1 Quark per reset)\n//Formula improve for boost from Drops to cosmic dust, log2 > log1.7 > log1.4 > log1.2 > log1.1\n//When Collapse also Vaporize\n//Water Spread now affects higher tier Structures? (Self-made Ponds now added into effective self-made Puddles)\n\n//Missing Drawings:\n//Galaxy researches (Current galaxy, but improved, or many tiny ones)\n//Galaxy (side way?)\n//Protogalaxy\n\nexport const maxOfflineTime = (): number => player.stage.true >= 6 ? 43200 : Math.min(3600 * Math.min(player.stage.true, 4) + Math.max(player.stage.resets - 3, 0) * 1800, 43200);\nexport const exportMultiplier = (): number => Math.max(1, player.stage.best / 4);\n\nexport const timeUpdate = (timeWarp = 0) => { //Time based information\n    const { time } = player;\n    const { auto, buildings: autoBuy } = player.toggles;\n    const { maxActive, type } = global.buildingsInfo;\n    const { autoU, autoR, autoE, elements: autoElements } = global.automatization;\n    const vacuum = player.inflation.vacuum;\n\n    let passedSeconds: number;\n    if (timeWarp > 0) {\n        const extraTime = Math.min(1, timeWarp);\n        passedSeconds = extraTime;\n        timeWarp -= extraTime;\n    } else {\n        const currentTime = Date.now();\n        passedSeconds = (currentTime - time.updated) / 1000;\n        time.updated = currentTime;\n        time.online += passedSeconds;\n        global.lastSave += passedSeconds;\n        player.stage.export = Math.min(player.stage.export + passedSeconds, 86400);\n        if (passedSeconds < 0) {\n            time.offline += passedSeconds;\n            return;\n        } else if (passedSeconds > 60) {\n            time.offline = Math.min(time.offline + passedSeconds - 60, maxOfflineTime());\n            passedSeconds = 60;\n        }\n    }\n    const trueSeconds = passedSeconds;\n    time.stage += trueSeconds;\n    time.universe += trueSeconds;\n\n    let globalSpeed = 1;\n    if (vacuum && player.strangeness[5][0] >= 1 && player.challenges.active !== 0) { globalSpeed *= 1.2; }\n    global.inflationInfo.globalSpeed = globalSpeed;\n    passedSeconds *= globalSpeed;\n\n    player.stage.time += passedSeconds;\n    player.inflation.age += passedSeconds;\n\n    if (vacuum && auto[0]) { stageResetCheck(5, true); }\n    for (let i = 0; i < player.strangeness[5][8]; i++) {\n        gainStrange(i, trueSeconds);\n    }\n    assignBuildingInformation();\n    for (const s of global.stageInfo.activeAll) {\n        if (!vacuum && auto[0]) { stageResetCheck(s, true); }\n        if (s === 4) {\n            collapseResetCheck(Boolean(auto[4]), true);\n            if (autoElements.length !== 0) { autoElementsBuy(); }\n        } else if (s === 3) {\n            if (auto[3]) { rankResetCheck(true); }\n        } else if (s === 2) {\n            vaporizationResetCheck(Boolean(auto[2]), trueSeconds);\n        } else if (s === 1) {\n            if (auto[1]) { dischargeResetCheck(true); }\n        }\n\n        if (autoU[s].length !== 0) { autoUpgradesBuy(s); }\n        if (autoR[s].length !== 0) { autoResearchesBuy('researches', s); }\n        if (autoE[s].length !== 0) { autoResearchesBuy('researchesExtra', s); }\n\n        for (let i = maxActive[s] - 1; i >= 1; i--) {\n            if (autoBuy[s][i] && player.ASR[s] >= i) { buyBuilding(i, s, 0, true); }\n            if (type[s][i] === 'producing') {\n                gainBuildings(i - 1, s, passedSeconds);\n                assignBuildingInformation();\n            }\n        }\n        if (s === 1) { //Molecules from Radiation\n            gainBuildings(5, 1, passedSeconds);\n        } else if (s === 5) { //Stars from Nebulas\n            const research = player.researches[5][0];\n\n            if (research >= 1) { gainBuildings(1, 5, passedSeconds); }\n            if (research >= 2) { gainBuildings(2, 5, passedSeconds); }\n            if (research >= 3) { gainBuildings(3, 5, passedSeconds); }\n        }\n    }\n\n    if (timeWarp > 0) { timeUpdate(timeWarp); }\n};\n\nexport const numbersUpdate = () => {\n    const { tab, subtab } = global;\n    const { stage } = player;\n    const active = stage.active;\n    const buildings = player.buildings[active];\n\n    if (player.inflation.vacuum ? stageResetCheck(5) : (stageResetCheck(stage.current) && (active >= 4 || active === stage.current))) {\n        const peakCheck = global.strangeInfo.gain(active) / 1e12 ** player.strangeness[5][8] / player.time.stage;\n        if (stage.peak < peakCheck) { stage.peak = peakCheck; }\n    }\n\n    if (global.footer) {\n        if (active === 1) {\n            getId('footerStat1Span').textContent = format(buildings[0].current, { padding: true });\n            getId('footerStat2Span').textContent = format(player.discharge.energy, { padding: player.discharge.energy >= 1e6 });\n        } else if (active === 2) {\n            getId('footerStat1Span').textContent = format(player.vaporization.clouds, { padding: true });\n            getId('footerStat2Span').textContent = format(buildings[0].current, { padding: true });\n            getId('footerStat3Span').textContent = format(buildings[1].current, { padding: buildings[2].current.moreThan('0') });\n        } else if (active === 3) {\n            getId('footerStat1Span').textContent = format(buildings[0].current, { padding: true });\n        } else if (active === 4 || active === 5) {\n            const stars = player.buildings[4];\n\n            getId('footerStat1Span').textContent = format(player.collapse.mass, { padding: true });\n            getId('footerStat2Span').textContent = format(stars[0].current, { padding: true });\n            if (active === 5) {\n                getId('footerStat3Span').textContent = format(new Overlimit(stars[1].current).plus(stars[2].current, stars[3].current, stars[4].current, stars[5].current), { padding: true });\n            }\n        }\n    }\n    if (tab === 'stage') {\n        if (subtab.stageCurrent === 'Structures') {\n            const { buildingsInfo } = global;\n            const howMany = global.hotkeys.shift ? 1 : global.hotkeys.ctrl ? 10 : player.toggles.shop.input;\n\n            for (let i = 1; i < buildingsInfo.maxActive[active]; i++) {\n                const trueCountID = getId(`building${i}True`);\n                getId(`building${i}Cur`).textContent = format(buildings[i].current, { padding: trueCountID.style.display !== 'none' });\n                getId(`building${i}Prod`).textContent = format(buildingsInfo.producing[active][i], { padding: true });\n                trueCountID.textContent = `[${format(buildings[i as 1].true)}]`;\n\n                if (active === 4) {\n                    const unlock = global.collapseInfo.unlockB[i];\n                    if (player.collapse.mass < unlock && player.buildings[5][3].true < 1) {\n                        getId(`building${i}`).classList.remove('availableBuilding');\n                        getId(`building${i}Btn`).textContent = `Unlocked at ${format(unlock)} Mass`;\n                        getId(`building${i}BuyX`).textContent = 'Locked';\n                        continue;\n                    }\n                }\n\n                let costName: string;\n                let currency: number | Overlimit;\n                let free = false;\n                if (active === 5 && i === 3) { //Galaxy\n                    costName = 'Mass';\n                    currency = player.collapse.mass;\n                } else {\n                    let e = i - 1;\n                    let extra = active;\n                    if (active === 1) {\n                        if (i === 1 && player.inflation.vacuum) { free = player.strangeness[1][8] >= 1; }\n                    } else if (active === 2) {\n                        if (i !== 1) { e = 1; }\n                    } else if (active >= 3) {\n                        e = 0;\n                        if (active === 5) { extra = 4; }\n                    }\n\n                    costName = buildingsInfo.name[extra][e];\n                    currency = player.buildings[extra][e].current;\n                }\n\n                let buy = 1;\n                const cost = calculateBuildingsCost(i, active);\n                if (howMany !== 1 && (active !== 5 || i !== 3)) {\n                    const scaling = buildingsInfo.increase[active][i];\n                    if (free) {\n                        buy = howMany <= 0 ? Math.max(Math.floor(new Overlimit(currency).divide(cost).log(scaling).toNumber()) + 1, 1) : howMany;\n                        if (buy > 1) { cost.multiply(new Overlimit(scaling).power(buy - 1)); }\n                    } else {\n                        buy = howMany <= 0 ? Math.max(Math.floor(new Overlimit(currency).multiply(scaling - 1).divide(cost).plus('1').log(scaling).toNumber()), 1) : howMany;\n                        if (buy > 1) { cost.multiply(new Overlimit(scaling).power(buy).minus('1').divide(scaling - 1)); }\n                    }\n                }\n\n                getId(`building${i}`).classList[cost.lessOrEqual(currency) ? 'add' : 'remove']('availableBuilding');\n                getId(`building${i}Btn`).textContent = `Need: ${format(cost, { padding: true })} ${costName}`;\n                getId(`building${i}BuyX`).textContent = format(buy);\n            }\n            if (active === 1) {\n                assignDischargeCost();\n                getId('dischargeBase').textContent = format(global.dischargeInfo.base);\n                getId('reset1Button').textContent = `Next goal is ${format(global.dischargeInfo.next)} Energy`;\n                getId('tritiumEffect').textContent = format(global.dischargeInfo.tritium, { padding: true });\n                getId('dischargeEffectStat').textContent = format(new Overlimit(global.dischargeInfo.base).power(global.dischargeInfo.total), { padding: true });\n                if (player.strangeness[1][9] < 1) { getId('energySpent').textContent = format(global.dischargeInfo.energyTrue - player.discharge.energy); }\n                if (player.inflation.vacuum) {\n                    getId('preonCapStat').textContent = format(global.inflationInfo.preonCap, { padding: true });\n                    getId('preonCapRatio').textContent = format(new Overlimit(global.inflationInfo.preonTrue).divide(global.inflationInfo.preonCap), { padding: true });\n                }\n            } else if (active === 2) {\n                assignNewClouds();\n                getId('reset1Button').textContent = global.vaporizationInfo.get.moreThan('0') ? `Reset for ${format(global.vaporizationInfo.get, { padding: true })} Clouds` : `Waiting for ${format(calculateEffects.S2Upgrade2(), { padding: true })} Drops`;\n                getId('cloudEffectStat').textContent = format(global.vaporizationInfo.strength, { padding: true });\n                if (player.inflation.vacuum) {\n                    getId('molesProductionStat').textContent = format(new Overlimit(global.dischargeInfo.tritium).divide('6.02214076e23'), { padding: true });\n                }\n            } else if (active === 3) {\n                if (player.inflation.vacuum) {\n                    getId('massProductionStat').textContent = format(new Overlimit(buildingsInfo.producing[1][1]).multiply('1.78266192e-33'), { padding: true });\n                    getId('dustCapStat').textContent = format(global.inflationInfo.dustCap, { padding: true });\n                    getId('dustCapRatio').textContent = format(new Overlimit(global.inflationInfo.dustTrue).divide(global.inflationInfo.dustCap), { padding: true });\n                    getId('submersionBoostStat').textContent = format(calculateEffects.submersion(), { padding: true });\n                }\n            } else if (active === 4) {\n                const { collapse } = player;\n                const { collapseInfo } = global;\n                assignNewMass();\n                assignNewRemnants();\n\n                getId('reset1Button').textContent = `Collapse to ${format(collapseInfo.newMass, { padding: true })} Mass`;\n                getId('solarMassCurrent').textContent = format(collapseInfo.massEffect, { padding: true });\n                for (let i = 1; i <= 3; i++) {\n                    getId(`special${i}Cur`).textContent = format(collapse.stars[i - 1]);\n                    getId(`special${i}Get`).textContent = format(collapseInfo.starCheck[i - 1]);\n                    getId(`star${i}Current`).textContent = format(collapseInfo.starEffect[i - 1], { padding: true });\n                }\n                if (player.inflation.vacuum) {\n                    getId('mainCapStat').textContent = format(global.inflationInfo.massCap, { padding: true });\n                    getId('mainCapTill').textContent = format(new Overlimit(global.inflationInfo.massCap / 8.96499278339628e-67).minus(player.buildings[1][0].current).divide(buildingsInfo.producing[1][1]).toNumber() / global.inflationInfo.globalSpeed, { padding: true });\n                }\n            } else if (active === 5) {\n                assignNewMass();\n                getId('solarMassOnCollapse').textContent = format(global.collapseInfo.newMass, { padding: true });\n            }\n\n            if (!player.inflation.vacuum) {\n                const resetMessage = active >= 4 ? 'Return back to start' : active === stage.current ? 'Enter next Stage' : 'Reset this Stage';\n                const failMessage = (active >= 4 ? player.strange[0].total <= 0 : active === stage.current) ? 'Not ready for more' : 'Not ready for reset';\n                getId('stageReset').textContent = (active >= 4 ? stage.current >= 5 && player.events[0] : stageResetCheck(active)) ? resetMessage : failMessage;\n            }\n\n            getId('stageTime').textContent = format(stage.time, { type: 'time' });\n            getId('stageTimeRealStat').textContent = format(player.time.stage, { type: 'time' });\n        } else if (subtab.stageCurrent === 'Advanced') {\n            if (!player.inflation.vacuum) { getId('vacuumEffect').textContent = format(global.strangeInfo.instability); }\n            getId('globalSpeedStat').textContent = format(global.inflationInfo.globalSpeed, { padding: true });\n            getId('universeAge').textContent = format(player.inflation.age, { type: 'time' });\n            getId('universeAgeTime').textContent = format(player.time.universe, { type: 'time' });\n        }\n    } else if (tab === 'upgrade' || tab === 'Elements') {\n        const trueSubtab = tab === 'Elements' ? tab : subtab.upgradeCurrent;\n        if (trueSubtab === 'Upgrades') {\n            const last = global.lastUpgrade[active];\n            if (last[0] >= 0) { getUpgradeDescription(last[0], last[1]); }\n        } else if (trueSubtab === 'Elements') {\n            if (global.lastElement >= 1) { getUpgradeDescription(global.lastElement, 'elements'); }\n        }\n    } else if (tab === 'strangeness') {\n        if (subtab.strangenessCurrent === 'Matter') {\n            const stageGain = global.strangeInfo.gain(active) / 1e12 ** player.strangeness[5][8];\n            getId('strangeGain').textContent = format(stageGain);\n            getId('strangeRate').textContent = format(stageGain / player.time.stage, { type: 'income', padding: true });\n            getId('strangePeak').textContent = format(stage.peak, { type: 'income', padding: true });\n            getId('strange0Cur').textContent = format(player.strange[0].current);\n            getId('strange1Cur').textContent = format(player.strange[1].current);\n            if (global.lastStrangeness[0] >= 0) { getStrangenessDescription(global.lastStrangeness[0], global.lastStrangeness[1], 'strangeness'); }\n        } else if (subtab.strangenessCurrent === 'Milestones') {\n            const info = global.milestonesInfo;\n            for (let s = 1; s < info.length; s++) {\n                const need = info[s].need;\n                for (let i = 0; i < need.length; i++) {\n                    const current = milestoneGetValue(i, s);\n                    getId(`milestone${i + 1}Stage${s}Current`).textContent = format(current, { padding: true });\n                    getId(`milestone${i + 1}Stage${s}Required`).textContent = need[i].notEqual('0') ?\n                        need[i].lessOrEqual(current) ? 'Reached' :\n                        format(need[i], { padding: true }) : 'Maxed';\n                }\n            }\n        }\n    } else if (tab === 'settings') {\n        if (subtab.settingsCurrent === 'Settings') {\n            const perSecond = exportMultiplier() / 86400 / 1e12 ** player.strangeness[5][8];\n            getId('exportGain').textContent = format(stage.export * perSecond, { padding: true });\n            getId('exportSpecial').title = format(perSecond, { type: 'income', padding: true });\n            if (global.lastSave >= 1) { getId('isSaved').textContent = `${format(global.lastSave, { type: 'time' })} ago`; }\n        } else if (subtab.settingsCurrent === 'Stats') {\n            getId('firstPlayStat').textContent = `${new Date(player.time.started).toLocaleString()} (${format((Date.now() - player.time.started) / 1000, { type: 'time' })} ago)`;\n            getId('firstPlay').title = `Total online time is ${format(player.time.online, { type: 'time' })}`;\n            getId('stageResetsCount').textContent = format(stage.resets);\n            getId('stageHighestGain').textContent = format(stage.best / 1e12 ** player.strangeness[5][8]);\n            getId('offlineStat').textContent = format(player.time.offline, { type: 'time', padding: false });\n            getId('maxOfflineStat').textContent = format(maxOfflineTime(), { type: 'time', padding: false });\n            getId('maxExportStat').textContent = format(exportMultiplier() / 1e12 ** player.strangeness[5][8]);\n            if (active === 1) {\n                getId('maxEnergyStat').textContent = format(player.discharge.energyMax);\n                getId('dischargeStat').textContent = format(global.dischargeInfo.total);\n                getId('dischargeStatTrue').textContent = ` [${player.discharge.current}]`;\n            } else if (active === 2) {\n                assignNewClouds();\n\n                const clouds = new Overlimit(calculateEffects.clouds(true)).divide(global.vaporizationInfo.strength).toNumber();\n                getId('cloudEffectAfter').textContent = `x${format(clouds, { padding: true })}`;\n                const before = calculateEffects.S2Extra1_2();\n                const after = calculateEffects.S2Extra1_2(true);\n                const rain = after[0] / before[0];\n                const storm = after[1] / before[1];\n                getId('rainEffectAfter').textContent = `x${format(rain, { padding: true })}`;\n                getId('stormEffectAfter').textContent = `x${format(storm, { padding: true })}`;\n                getId('cloudEffectTotal').textContent = `x${format(clouds * rain * storm, { padding: true })}`;\n                getId('maxCloudStat').textContent = format(player.vaporization.cloudsMax);\n\n                if (player.inflation.vacuum) {\n                    const moles = player.buildings[1][5];\n\n                    buildings[0].total.setValue(moles.total).divide('6.02214076e23');\n                    buildings[0].trueTotal.setValue(moles.trueTotal).divide('6.02214076e23');\n                    buildings[0].highest.setValue(moles.highest).divide('6.02214076e23');\n                }\n            } else if (active === 3) {\n                getId('currentRank').textContent = `${player.accretion.rank}`;\n                if (player.inflation.vacuum) {\n                    const mass = player.buildings[1][0];\n\n                    buildings[0].total.setValue(mass.total).multiply('1.78266192e-33');\n                    buildings[0].trueTotal.setValue(mass.trueTotal).multiply('1.78266192e-33');\n                    buildings[0].highest.setValue(mass.highest).multiply('1.78266192e-33');\n                }\n            } else if (active === 4 || active === 5) {\n                const collapseInfo = global.collapseInfo;\n                getId('starsStatTrue').textContent = format(collapseInfo.trueStars);\n                getId('maxSolarMassStat').textContent = format(player.collapse.massMax);\n                if (active === 4) {\n                    const auto2 = player.strangeness[4][4] >= 2;\n                    assignNewMass();\n                    assignNewRemnants();\n\n                    const mass = calculateEffects.mass(true) / collapseInfo.massEffect;\n                    getId('massEffectAfter').textContent = `x${format(mass, { padding: true })}`;\n                    const star0 = auto2 ? 1 : calculateEffects.star[0](true) / collapseInfo.starEffect[0];\n                    const star1 = auto2 ? 1 : calculateEffects.star[1](true) / collapseInfo.starEffect[1];\n                    const star2 = auto2 ? 1 : calculateEffects.star[2](true) / collapseInfo.starEffect[2];\n                    if (!auto2) {\n                        getId('star1After').textContent = `x${format(star0, { padding: true })}`;\n                        getId('star2After').textContent = `x${format(star1, { padding: true })}`;\n                        getId('star3After').textContent = `x${format(star2, { padding: true })}`;\n                    }\n                    const gamma = calculateEffects.S4Research4(true) / calculateEffects.S4Research4();\n                    getId('gammaRayAfter').textContent = `x${format(gamma, { padding: true })}`;\n                    getId('starTotal').textContent = `x${format(mass * star0 * star1 * star2 * gamma, { padding: true })}`;\n                } else if (active === 5) {\n                    const stars = player.buildings[4];\n\n                    buildings[0].current.setValue(stars[1].current).plus(stars[2].current, stars[3].current, stars[4].current, stars[5].current);\n                    buildings[0].total.setValue(stars[1].total).plus(stars[2].total, stars[3].total, stars[4].total, stars[5].total);\n                    buildings[0].trueTotal.setValue(stars[1].trueTotal).plus(stars[2].trueTotal, stars[3].trueTotal, stars[4].trueTotal, stars[5].trueTotal);\n                    buildings[0].highest.setValue(stars[1].highest).plus(stars[2].highest, stars[3].highest, stars[4].highest, stars[5].highest);\n                }\n            }\n            for (let i = 0; i < buildings.length; i++) {\n                getId(`building${i}StatTotal`).textContent = format(buildings[i].total, { padding: true });\n                getId(`building${i}StatTrueTotal`).textContent = format(buildings[i].trueTotal, { padding: true });\n                getId(`building${i}StatHighest`).textContent = format(buildings[i].highest, { padding: true });\n            }\n\n            const { strange } = player;\n            const strangeMax = Math.floor(strange[1].current * 1e12);\n            for (let i = 0; i < strange.length; i++) {\n                getId(`strange${i}StatTotal`).textContent = format(strange[i].total, { padding: true });\n            }\n            getId('strange0StatProd').textContent = format(strangeMax, { padding: true });\n            getId('strange1StatProd').textContent = format(strangeMax / 600, { padding: true });\n        }\n    }\n};\n\nexport const visualUpdate = () => {\n    const { tab, subtab } = global;\n    const active = player.stage.active;\n    const vacuum = player.inflation.vacuum;\n\n    if (!player.events[0]) {\n        if (player.stage.true === 5) {\n            if (active === 5) { void playEvent(5, 0); }\n        } else if (player.stage.true === 4) {\n            if (player.elements.includes(0.5, 1)) { void playEvent(4, 0); }\n        } else if (player.stage.true === 3) {\n            if (player.buildings[3][0].current.moreOrEqual('5e29')) { void playEvent(3, 0); }\n        } else if (player.stage.true === 2) {\n            assignNewClouds();\n            if (new Overlimit(global.vaporizationInfo.get).plus(player.vaporization.clouds).moreThan('1e4')) { void playEvent(2, 0); }\n        } else if (player.stage.true === 1) {\n            if (player.upgrades[1][5] === 1) { void playEvent(1, 0); }\n        }\n    }\n\n    if (global.footer) {\n        if (globalSave.toggles[1]) { getId('ElementsTabBtn').style.display = player.upgrades[4][1] === 1 ? '' : 'none'; }\n        if (active === 1) {\n            if (player.stage.true < 2) {\n                getId('footerStat2').style.display = player.discharge.energyMax >= 9 ? '' : 'none';\n                getId('upgradeTabBtn').style.display = player.discharge.energyMax >= 9 ? '' : 'none';\n            }\n        } else if (active === 2) {\n            getId('footerStat1').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n        }\n    }\n    if (globalSave.MDSettings[0]) {\n        if (active === 1) {\n            getId('reset1Footer').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n            if (player.stage.true < 2) { getId('stageFooter').style.display = player.upgrades[1][9] === 1 ? '' : 'none'; }\n        } else if (active === 2) {\n            getId('reset1Footer').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n        } else if (active === 4) {\n            getId('reset1Footer').style.display = player.upgrades[4][0] === 1 ? '' : 'none';\n        }\n    }\n\n    if (tab === 'stage') {\n        if (subtab.stageCurrent === 'Structures') {\n            const buildings = player.buildings[active];\n            const ASR = player.ASR[active];\n\n            getId('stageTimeReal').style.display = player.stage.time !== player.time.stage ? '' : 'none';\n            getId('offlineWarning').style.display = player.time.offline > 0 && player.time.offline >= maxOfflineTime() ? '' : 'none';\n            if (player.stage.true < 2) { getId('toggleBuilding0').style.display = ASR >= 1 ? '' : 'none'; }\n            for (let i = 1; i < global.buildingsInfo.maxActive[active]; i++) {\n                getId(`building${i}True`).style.display = buildings[i].current.notEqual(buildings[i as 1].true) ? '' : 'none';\n                getId(`toggleBuilding${i}`).style.display = ASR >= i ? '' : 'none';\n            }\n            if (active === 1) {\n                getId('reset1Main').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('building2').style.display = buildings[1].trueTotal.moreOrEqual(vacuum ? '4' : '11') ? '' : 'none';\n                getId('building3').style.display = buildings[2].trueTotal.moreOrEqual('2') ? '' : 'none';\n                if (vacuum) {\n                    getId('building4').style.display = buildings[3].trueTotal.moreOrEqual('8') ? '' : 'none';\n                    getId('building5').style.display = buildings[4].trueTotal.moreOrEqual('2') ? '' : 'none';\n                }\n                getId('stageInfo').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('tritium').style.display = player.upgrades[1][8] === 1 ? '' : 'none';\n                getId('energyTrue').style.display = player.strangeness[1][9] < 1 && player.upgrades[1][5] === 1 ? '' : 'none';\n                if (player.stage.true < 2) { getId('resetStage').style.display = player.upgrades[1][9] === 1 ? '' : 'none'; }\n                if (player.stage.true < 7 && player.stage.resets < 1) { getId('resets').style.display = player.upgrades[1][5] === 1 ? '' : 'none'; }\n            } else if (active === 2) {\n                getId('reset1Main').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('building2').style.display = buildings[1].trueTotal.moreOrEqual('2e2') ? '' : 'none';\n                getId('building3').style.display = buildings[1].trueTotal.moreOrEqual('4e6') ? '' : 'none';\n                getId('building4').style.display = buildings[1].trueTotal.moreOrEqual('4e17') ? '' : 'none';\n                getId('building5').style.display = buildings[1].trueTotal.moreOrEqual('4e22') ? '' : 'none';\n                getId('cloudEffect').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                if (vacuum) {\n                    getId('building6').style.display = buildings[1].trueTotal.moreOrEqual('8e24') ? '' : 'none';\n                } else { getId('stageInfo').style.display = player.upgrades[2][2] === 1 ? '' : 'none'; }\n            } else if (active === 3) {\n                const upgrades = player.upgrades[3];\n\n                getId('buildings').style.display = player.accretion.rank >= 1 ? '' : 'none';\n                getId('building2').style.display = upgrades[2] === 1 ? '' : 'none';\n                getId('building3').style.display = upgrades[4] === 1 ? '' : 'none';\n                getId('building4').style.display = upgrades[8] === 1 ? '' : 'none';\n                if (vacuum) {\n                    getId('building5').style.display = upgrades[11] === 1 ? '' : 'none';\n                    getId('submersionBoost').style.display = player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                }\n                updateRankInfo();\n            } else if (active === 4) {\n                const nova = player.researchesExtra[4][0];\n\n                getId('specials').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('special2').style.display = buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('special3').style.display = buildings[4].trueTotal.moreThan('0') ? '' : 'none';\n                getId('reset1Main').style.display = player.upgrades[4][0] === 1 ? '' : 'none';\n                getId('building2').style.display = nova >= 1 ? '' : 'none';\n                getId('building3').style.display = nova >= 2 ? '' : 'none';\n                getId('building4').style.display = nova >= 3 ? '' : 'none';\n                getId('star1Effect').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('star2Effect').style.display = buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('star3Effect').style.display = buildings[4].trueTotal.moreThan('0') ? '' : 'none';\n                if (vacuum) { getId('building5').style.display = player.collapse.stars[2] > 0 || player.buildings[5][3].true >= 1 ? '' : 'none'; }\n            } else if (active === 5) {\n                if (!vacuum) {\n                    getId('buildings').style.display = player.milestones[2][0] >= 7 || player.milestones[3][0] >= 7 ? '' : 'none';\n                    getId('building1').style.display = player.milestones[2][0] >= 7 ? '' : 'none';\n                    getId('building2').style.display = player.milestones[3][0] >= 7 ? '' : 'none';\n                }\n                getId('building3').style.display = player.researchesExtra[5][0] >= 1 ? '' : 'none';\n            }\n        } else if (subtab.stageCurrent === 'Advanced') {\n            getId('globalSpeed').style.display = global.inflationInfo.globalSpeed !== 1 ? '' : 'none';\n            getId('universeAgeReal').style.display = player.inflation.age !== player.time.universe ? '' : 'none';\n            getId('challenge1').style.display = vacuum && player.strangeness[5][0] >= 1 ? '' : 'none';\n        }\n    } else if (tab === 'upgrade' || tab === 'Elements') {\n        const trueSubtab = tab === 'Elements' ? tab : subtab.upgradeCurrent;\n        if (trueSubtab === 'Upgrades') {\n            if (vacuum) {\n                getId('researchAuto1').style.display = player.researchesExtra[1][2] >= 2 ? '' : 'none';\n            }\n            if (active === 1) {\n                const superposition = player.upgrades[1][5] === 1;\n\n                getId('upgrade7').style.display = superposition ? '' : 'none';\n                getId('upgrade8').style.display = superposition ? '' : 'none';\n                getId('upgrade9').style.display = superposition ? '' : 'none';\n                getId('upgrade10').style.display = superposition ? '' : 'none';\n                getId('researches').style.display = superposition ? '' : 'none';\n                if (vacuum) {\n                    getId('researchExtra2').style.display = player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                    getId('researchExtra4').style.display = player.researchesExtra[1][2] >= 1 ? '' : 'none';\n                    getId('researchExtra5').style.display = player.accretion.rank >= 6 ? '' : 'none';\n                }\n            } else if (active === 2) {\n                const buildings = player.buildings[2];\n\n                getId('upgrade2').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('upgrade3').style.display = buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('upgrade4').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('upgrade5').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('upgrade6').style.display = buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('upgrade7').style.display = buildings[4].trueTotal.moreThan('0') ? '' : 'none';\n                getId('upgrade8').style.display = player.strangeness[2][2] >= 3 && buildings[5].trueTotal.moreThan('0') ? '' : 'none';\n                if (vacuum) {\n                    getId('upgrade9').style.display = player.strangeness[2][8] >= 3 && buildings[6].trueTotal.moreThan('0') ? '' : 'none';\n                    getId('researchExtra4').style.display = player.accretion.rank >= 6 ? '' : 'none';\n                    //getId('researchExtra5').style.display = player.accretion.rank >= 7 ? '' : 'none';\n                }\n                getId('research2').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('research3').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('research4').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('research5').style.display = buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('research6').style.display = buildings[4].trueTotal.moreThan('0') ? '' : 'none';\n                getId('extraResearches').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('researchExtra3').style.display = buildings[5].trueTotal.moreThan('0') ? '' : 'none';\n            } else if (active === 3) {\n                const rank = player.accretion.rank;\n                const planetesimal = player.buildings[3][2].trueTotal.moreThan('0');\n\n                getId('upgrade3').style.display = rank >= 2 ? '' : 'none';\n                getId('upgrade4').style.display = planetesimal ? '' : 'none';\n                getId('upgrade5').style.display = rank >= 3 ? '' : 'none';\n                getId('upgrade6').style.display = rank >= 4 || player.upgrades[3][4] === 1 ? '' : 'none';\n                getId('upgrade7').style.display = rank >= 4 ? '' : 'none';\n                getId('upgrade8').style.display = rank >= 4 && player.strangeness[3][2] >= 3 ? '' : 'none';\n                getId('upgrade9').style.display = rank >= 4 ? '' : 'none';\n                getId('upgrade10').style.display = rank >= 4 ? '' : 'none';\n                getId('upgrade11').style.display = rank >= 5 ? '' : 'none';\n                getId('upgrade12').style.display = rank >= 5 ? '' : 'none';\n                getId('upgrade13').style.display = rank >= 5 ? '' : 'none';\n                getId('research3').style.display = planetesimal ? '' : 'none';\n                getId('research4').style.display = planetesimal ? '' : 'none';\n                getId('research5').style.display = rank >= 3 ? '' : 'none';\n                getId('research6').style.display = rank >= 3 ? '' : 'none';\n                getId('research7').style.display = rank >= 4 || player.upgrades[3][4] === 1 ? '' : 'none';\n                getId('research8').style.display = rank >= 4 ? '' : 'none';\n                getId('research9').style.display = rank >= 5 ? '' : 'none';\n                getId('extraResearches').style.display = rank >= 2 ? '' : 'none';\n                getId('researchExtra2').style.display = rank >= 3 ? '' : 'none';\n                getId('researchExtra3').style.display = rank >= 4 ? '' : 'none';\n                getId('researchExtra4').style.display = rank >= 5 ? '' : 'none';\n                if (vacuum) {\n                    getId('researchExtra5').style.display = rank >= 3 && player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                } else {\n                    getId('upgrades').style.display = rank >= 1 ? '' : 'none';\n                    getId('stageResearches').style.display = rank >= 1 ? '' : 'none';\n                }\n            } else if (active === 4) {\n                const stars = player.collapse.stars;\n                const galaxy = player.buildings[5][3].true >= 1;\n\n                getId('upgrade4').style.display = player.strangeness[4][2] >= 2 ? '' : 'none';\n                getId('upgrade5').style.display = player.strangeness[4][9] >= 1 ? '' : 'none';\n                getId('research4').style.display = (galaxy || stars[0] > 0) && player.strangeness[4][2] >= 1 ? '' : 'none';\n                getId('research5').style.display = galaxy || stars[2] > 0 ? '' : 'none';\n                getId('researchExtra2').style.display = galaxy || stars[0] > 0 ? '' : 'none';\n                getId('researchExtra3').style.display = (galaxy || stars[0] > 0) && player.strangeness[4][2] >= 3 ? '' : 'none';\n            } else if (active === 5) {\n                if (!vacuum) {\n                    const nebula = player.milestones[2][0] >= 7;\n                    const cluster = player.milestones[3][0] >= 7;\n\n                    getId('upgrades').style.display = nebula || cluster ? '' : 'none';\n                    getId('upgrade1').style.display = nebula ? '' : 'none';\n                    getId('upgrade2').style.display = cluster ? '' : 'none';\n                    getId('stageResearches').style.display = nebula || cluster ? '' : 'none';\n                    getId('research1').style.display = nebula ? '' : 'none';\n                    getId('research2').style.display = cluster ? '' : 'none';\n                    getId('extraResearches').style.display = player.milestones[5][0] >= 8 ? '' : 'none';\n                }\n                getId('upgrade3').style.display = player.researchesExtra[5][0] >= 1 ? '' : 'none';\n            }\n        } else if (trueSubtab === 'Elements') {\n            const upgrades = player.upgrades[4];\n            const neutron = player.upgrades[4][2] === 1 && (player.collapse.stars[1] > 0 || player.buildings[5][3].true >= 1);\n            const grid = getId('elementsGrid');\n\n            grid.style.display = upgrades[2] === 1 ? '' : 'flex';\n            grid.classList[!neutron && upgrades[2] === 1 ? 'add' : 'remove']('Elements10App');\n            for (let i = 6; i <= 10; i++) { getId(`element${i}`).style.display = upgrades[2] === 1 ? '' : 'none'; }\n            for (let i = 11; i <= 26; i++) { getId(`element${i}`).style.display = neutron ? '' : 'none'; }\n            getId('element27').style.display = upgrades[3] === 1 ? '' : 'none';\n            getId('element28').style.display = upgrades[3] === 1 ? '' : 'none';\n            getId('element29').style.display = upgrades[4] === 1 ? '' : 'none';\n        }\n    } else if (tab === 'strangeness') {\n        if (subtab.strangenessCurrent === 'Matter') {\n            const bound = player.strangeness[5][5] >= 1;\n\n            getId('strangeType').textContent = global.strangeInfo.name[player.strangeness[5][8]];\n            getId('strange1').style.display = player.strangeness[5][8] >= 1 ? '' : 'none';\n            getId('strange4Stage5').style.display = (vacuum ? bound : player.milestones[2][0] >= 7) ? '' : 'none';\n            getId('strange5Stage5').style.display = (vacuum ? bound : player.milestones[3][0] >= 7) ? '' : 'none';\n            getId('strange7Stage5').style.display = (vacuum ? bound : (player.milestones[2][0] >= 7 || player.milestones[3][0] >= 7)) ? '' : 'none';\n            if (vacuum) {\n                const voidProgress = player.challenges.void;\n\n                getId('strange8Stage1').style.display = voidProgress[1] >= 1 ? '' : 'none';\n                getId('strange9Stage1').style.display = voidProgress[1] >= 2 ? '' : 'none';\n                getId('strange10Stage1').style.display = voidProgress[4] >= 2 ? '' : 'none';\n                getId('strange8Stage2').style.display = voidProgress[2] >= 1 ? '' : 'none';\n                getId('strange9Stage2').style.display = voidProgress[2] >= 2 ? '' : 'none';\n                //getId('strange?Stage2').style.display = voidProgress[1] >= 3 ? '' : 'none';\n                getId('strange9Stage3').style.display = voidProgress[4] >= 4 ? '' : 'none';\n                getId('strange10Stage3').style.display = voidProgress[5] >= 2 ? '' : 'none';\n                getId('strange9Stage4').style.display = voidProgress[4] >= 3 ? '' : 'none';\n                getId('strange10Stage4').style.display = voidProgress[5] >= 1 ? '' : 'none';\n                //getId('strange?Stage5').style.display = voidProgress[4] >= 1 ? '' : 'none';\n                getId('strange8Stage5').style.display = bound ? '' : 'none';\n                getId('strange9Stage5').style.display = voidProgress[3] >= 5 ? '' : 'none';\n            } else {\n                const strange5 = player.milestones[4][0] >= 8;\n\n                getId('strange7Stage1').style.display = strange5 ? '' : 'none';\n                getId('strange7Stage2').style.display = strange5 ? '' : 'none';\n                getId('strange8Stage3').style.display = strange5 ? '' : 'none';\n                getId('strange8Stage4').style.display = strange5 ? '' : 'none';\n                getId(`strangeness${globalSave.MDSettings[0] ? 'Page' : 'Section'}5`).style.display = strange5 ? '' : 'none';\n                getId('strange6Stage5').style.display = player.milestones[2][0] >= 7 || player.milestones[3][0] >= 7 ? '' : 'none';\n            }\n        } else if (subtab.strangenessCurrent === 'Milestones') {\n            if (!vacuum) {\n                getId('milestone1Stage5Div').style.display = player.strangeness[5][5] >= 1 ? '' : 'none';\n                getId('milestone2Stage5Div').style.display = player.milestones[5][0] >= 8 ? '' : 'none';\n                if (global.stageInfo.activeAll.includes(4)) { getId('milestonesStage5Progress').style.display = player.strangeness[5][5] >= 1 ? '' : 'none'; }\n                if (global.stageInfo.activeAll.includes(5)) { getId('milestone2Stage5Progress').style.display = player.milestones[5][0] >= 8 ? '' : 'none'; }\n            }\n        }\n    } else if (tab === 'settings') {\n        if (subtab.settingsCurrent === 'Settings') {\n            const { researchesAuto, strangeness } = player;\n\n            getId('toggleAuto0').style.display = strangeness[5][2] >= 1 ? '' : 'none';\n            getId('toggleAuto0Main').style.display = strangeness[5][2] >= 1 ? '' : 'none';\n            getId('exportSpecial').style.display = player.stage.resets >= (vacuum ? 1 : 4) ? '' : 'none';\n            getId('exportType').textContent = global.strangeInfo.name[strangeness[5][8]];\n            getId('saveNameMatter').style.display = strangeness[5][8] >= 1 ? '' : 'none';\n            getId('autoToggle5').style.display = researchesAuto[0] >= 1 ? '' : 'none';\n            getId('autoToggle6').style.display = researchesAuto[0] >= 2 ? '' : 'none';\n            getId('autoToggle7').style.display = researchesAuto[0] >= 3 ? '' : 'none';\n            getId('autoToggle8').style.display = strangeness[4][6] >= 2 ? '' : 'none';\n            getId('toggleAuto1').style.display = strangeness[1][4] >= 1 ? '' : 'none';\n            getId('toggleAuto2').style.display = strangeness[2][4] >= 1 ? '' : 'none';\n            getId('toggleAuto2Main').style.display = strangeness[2][4] >= 1 ? '' : 'none';\n            getId('toggleAuto3').style.display = strangeness[3][4] >= 1 ? '' : 'none';\n            getId('toggleAuto4').style.display = strangeness[4][4] >= 1 ? '' : 'none';\n            getId('toggleAuto4Main').style.display = strangeness[4][4] >= 1 ? '' : 'none';\n            getId('stageReward').textContent = global.strangeInfo.name[strangeness[5][8]];\n            if (player.stage.true < 2) {\n                getId('resetToggles').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('dischargeHotkey').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('stageToggleReset').style.display = player.upgrades[1][9] === 1 ? '' : 'none';\n                getId('stageHotkey').style.display = player.upgrades[1][9] === 1 ? '' : 'none';\n            }\n            if (player.stage.true < 3) {\n                getId('vaporizationToggleReset').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('vaporizationHotkey').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n            }\n            if (player.stage.true < 5) {\n                getId('collapseToggleReset').style.display = player.upgrades[4][0] === 1 ? '' : 'none';\n                getId('collapseHotkey').style.display = player.upgrades[4][0] === 1 ? '' : 'none';\n                getId('elementsAsTab').style.display = player.upgrades[4][1] === 1 ? '' : 'none';\n            }\n        } else if (subtab.settingsCurrent === 'History') {\n            updateHistory(/*'stage'*/);\n        } else if (subtab.settingsCurrent === 'Stats') {\n            const { strange, strangeness } = player;\n            const buildings = player.buildings[active];\n\n            getId('maxExportStats').style.display = player.stage.resets >= (vacuum ? 1 : 4) ? '' : 'none';\n            getId('maxExportType').textContent = global.strangeInfo.name[strangeness[5][8]];\n            getId('stageHighestType').textContent = global.strangeInfo.name[strangeness[5][8]];\n            getId('stageResets').style.display = player.stage.resets > 0 ? '' : 'none';\n            getId('stageHighest').style.display = strange[0].total > 0 ? '' : 'none';\n            for (let i = 1; i < global.buildingsInfo.maxActive[active]; i++) {\n                getId(`building${i}Stats`).style.display = buildings[i].trueTotal.moreThan('0') ? '' : 'none';\n            }\n            getId('strangeAllStats').style.display = strange[0].total > 0 ? '' : 'none';\n            for (let i = 1; i < strange.length; i++) {\n                getId(`strange${i}Stats`).style.display = strange[i].total > 0 ? '' : 'none';\n            }\n            getId('strange0StatProdDiv').style.display = strangeness[5][8] >= 1 ? '' : 'none';\n\n            if (!vacuum) { updateUnknown(); }\n            if (active === 1) {\n                getId('energyStats').style.display = player.discharge.energyMax >= (vacuum ? 40 : 9) ? '' : 'none';\n                getId('dischargeStats').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('dischargeStatTrue').style.display = player.discharge.current !== global.dischargeInfo.total ? '' : 'none';\n            } else if (active === 2) {\n                getId('vaporizationBoost').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('rainEffect').style.display = player.researchesExtra[2][1] >= 1 ? '' : 'none';\n                getId('stormEffect').style.display = player.researchesExtra[2][2] >= 1 ? '' : 'none';\n                getId('cloudStats').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n            } else if (active === 3) {\n                if (vacuum) {\n                    getId('rankStat0').style.display = strangeness[2][7] >= 1 ? '' : 'none';\n                }\n                for (let i = 1; i < global.accretionInfo.rankImage.length; i++) { getId(`rankStat${i}`).style.display = player.accretion.rank >= i ? '' : 'none'; }\n            } else if (active === 4) {\n                const auto2 = player.strangeness[4][4] >= 2;\n                getId('star1Stat').style.display = !auto2 && buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('star2Stat').style.display = !auto2 && buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('star3Stat').style.display = !auto2 && buildings[4].trueTotal.moreThan('0') ? '' : 'none';\n                getId('gammaRayStat').style.display = player.researches[4][4] >= 1 ? '' : 'none';\n            }\n        }\n    }\n};\n\nexport const getUpgradeDescription = (index: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements') => {\n    if (type === 'elements') {\n        const pointer = global.elementsInfo;\n\n        getId('elementText').textContent = `${pointer.name[index]}.`;\n        getId('elementEffect').textContent = player.elements[index] >= 1 || (player.collapse.show >= index && index !== 0) ? pointer.effectText[index]() : 'Effect is not yet known.';\n        getId('elementCost').textContent = player.elements[index] >= 1 ? 'Obtained.' :\n            player.elements[index] > 0 ? 'Awaiting Collapse.' :\n            index === 0 ? 'Unknown.' : `${format(pointer.startCost[index])} Elements.`;\n        return;\n    }\n\n    const stageIndex = player.stage.active;\n    const costName = stageIndex === 1 ? 'Energy' : stageIndex === 2 ? 'Drops' : stageIndex === 3 ? 'Mass' : 'Elements';\n    if (type === 'upgrades') {\n        const pointer = global[`${type}Info`][stageIndex];\n\n        getId('upgradeText').textContent = `${pointer.name[index]}.`;\n        getId('upgradeEffect').textContent = pointer.effectText[index]();\n        getId('upgradeCost').textContent = player.upgrades[stageIndex][index] === 1 ? 'Created.' :\n            stageIndex === 4 && global.collapseInfo.unlockU[index] > player.collapse.mass && player.buildings[5][3].true < 1 ? `Unlocked at ${format(global.collapseInfo.unlockU[index])} Mass.` :\n            `${format(pointer.startCost[index])} ${costName}.`;\n    } else if (type === 'researches' || type === 'researchesExtra') {\n        const pointer = global[`${type}Info`][stageIndex];\n        const level = player[type][stageIndex][index];\n        if (type === 'researchesExtra' && stageIndex === 4 && index === 0) { pointer.name[0] = ['Nova', 'Supernova', 'Hypernova'][Math.min(level, 2)]; }\n\n        getId('upgradeText').textContent = `${pointer.name[index]}.`;\n        getId('upgradeEffect').textContent = pointer.effectText[index]();\n        if (level >= pointer.max[index]) {\n            getId('upgradeCost').textContent = 'Maxed.';\n        } else if (stageIndex === 4 && type === 'researches' && global.collapseInfo.unlockR[index] > player.collapse.mass && player.buildings[5][3].true < 1) {\n            getId('upgradeCost').textContent = `Unlocked at ${format(global.collapseInfo.unlockR[index])} Mass.`;\n        } else {\n            let newLevels = 1;\n            let cost = pointer.cost[index];\n            if (player.toggles.max[0] && player.stage.true >= 2 && pointer.max[index] > 1) {\n                const scaling = pointer.scaling[index];\n                if (stageIndex === 1) {\n                    if (player.strangeness[1][9] >= 1) {\n                        newLevels = Math.min(Math.max(Math.floor((player.discharge.energy - cost) / scaling + 1), 1), pointer.max[index] - level);\n                        if (newLevels > 1) { cost += (newLevels - 1) * scaling; }\n                    } else {\n                        const simplify = cost - scaling / 2;\n                        newLevels = Math.min(Math.max(Math.floor(((simplify ** 2 + 2 * scaling * player.discharge.energy) ** 0.5 - simplify) / scaling), 1), pointer.max[index] - level);\n                        if (newLevels > 1) { cost = newLevels * (newLevels * scaling / 2 + simplify); }\n                    }\n                } else {\n                    const currency = stageIndex === 2 ? player.buildings[2][1].current : stageIndex === 3 ? player.buildings[3][0].current : player.buildings[4][0].current;\n                    newLevels = Math.min(Math.max(Math.floor(new Overlimit(currency).multiply(scaling - 1).divide(cost).plus('1').log(scaling).toNumber()), 1), pointer.max[index] - level);\n                    if (newLevels > 1) { cost = new Overlimit(scaling).power(newLevels).minus('1').divide(scaling - 1).multiply(cost).toNumber(); }\n                }\n            }\n\n            getId('upgradeCost').textContent = `${format(cost)} ${costName}.${newLevels > 1 ? ` [x${format(newLevels)}]` : ''}`;\n        }\n    } else if (type === 'researchesAuto') {\n        const pointer = global.researchesAutoInfo;\n        const level = player.researchesAuto[index];\n\n        getId('upgradeText').textContent = `${pointer.name[index]}.`;\n        getId('upgradeEffect').textContent = pointer.effectText[index]();\n        if (level >= pointer.max[index]) {\n            getId('upgradeCost').textContent = 'Maxed.';\n        } else {\n            const autoStage = pointer.autoStage[index][level];\n            getId('upgradeCost').textContent = !(autoStage === stageIndex || (stageIndex === 5 && autoStage === 4)) ? `This level can only be created while inside '${global.stageInfo.word[autoStage]}'.` :\n                `${format(pointer.costRange[index][level])} ${costName}.`;\n        }\n    } else if (type === 'ASR') {\n        const pointer = global.ASRInfo;\n        const level = player.ASR[stageIndex];\n\n        getId('upgradeText').textContent = `${pointer.name}.`;\n        getId('upgradeEffect').textContent = pointer.effectText();\n        getId('upgradeCost').textContent = level >= pointer.max[stageIndex] ? 'Maxed.' :\n            stageIndex === 3 && player.accretion.rank < 1 ? \"Cannot be created at 'Ocean world' Rank.\" :\n            `${format(pointer.costRange[stageIndex][level])} ${costName}.`;\n    }\n};\n\nexport const getStrangenessDescription = (index: number, stageIndex: number, type: 'strangeness' | 'milestones') => {\n    const stageText = getId(`${type}Stage`);\n    stageText.style.color = `var(--${global.stageInfo.textColor[stageIndex]}-text)`;\n    stageText.textContent = `${global.stageInfo.word[stageIndex]}. `;\n    if (type === 'strangeness') {\n        const pointer = global.strangenessInfo[stageIndex];\n\n        getId('strangenessText').textContent = `${pointer.name[index]}.`;\n        getId('strangenessEffect').textContent = pointer.effectText[index]();\n        getId('strangenessCost').textContent = player.strangeness[stageIndex][index] >= pointer.max[index] ? 'Maxed.' : `${format(pointer.cost[index])} Strange quarks.`;\n    } else {\n        const pointer = global.milestonesInfo[stageIndex];\n\n        getId('milestonesText').textContent = `${pointer.name[index]}. (${format(player.milestones[stageIndex][index])})`;\n        if (player.inflation.vacuum) {\n            getId('milestonesMultiline').innerHTML = `<p class=\"orchidText\">Requirement: <span class=\"greenText\">${pointer.needText[index]()}</span></p>\n            <p class=\"darkvioletText\">Effect: <span class=\"greenText\">${pointer.rewardText[index]()}</span></p>`;\n        } else if (pointer.need[index].notEqual('0')) {\n            getId('milestonesMultiline').innerHTML = `<p class=\"orchidText\">Requirement: <span class=\"greenText\">${pointer.needText[index]()}</span></p>\n            <p class=\"darkvioletText\">Unlock: <span class=\"greenText\">Main reward unlocked after ${pointer.scalingOld[index].length - player.milestones[stageIndex][index]} more completions.</span></p>`;\n        } else { getId('milestonesMultiline').innerHTML = `<p class=\"darkvioletText\">Reward: <span class=\"greenText\">${pointer.rewardText[index]()}</span></p>`; }\n    }\n};\n\nexport const getChallengeDescription = (index: number) => {\n    let text;\n    if (index === -1) {\n        text = `<h3 class=\"orchidText\">Vacuum state: <span ${player.inflation.vacuum ? 'class=\"greenText\">true' : 'class=\"redText\">false'}</span></h3>`;\n    } else {\n        const info = global.challengesInfo;\n        const color = `${info.color[index]}Text`;\n        text = `<h3 class=\"${color} bigWord\">${info.name[index]}${player.challenges.active === index ? ', <span class=\"greenText\">active</span>' : ''}</h3>\n        <p class=\"whiteText\">${info.description[index]}</p>\n        <div><h4 class=\"${color} bigWord\">Effect:</h4>\n        <p>${info.effectText[index]()}</p></div>`;\n    }\n\n    if (index === 0) {\n        const progress = player.challenges.void;\n\n        getId('voidRewards').style.display = '';\n        getId('voidRewardSubmerged').style.display = progress[1] >= 3 ? '' : 'none';\n        getId('voidRewardAccretion').style.display = progress[1] >= 2 ? '' : 'none';\n        getId('voidRewardInterstellar').style.display = progress[3] >= 5 ? '' : 'none';\n        getId('voidRewardIntergalactic').style.display = progress[3] >= 5 ? '' : 'none';\n    } else { getId('voidRewards').style.display = 'none'; }\n\n    getId('challengeMultiline').innerHTML = text;\n};\n\nexport const getChallengeReward = (index: number) => {\n    const need = global.challengesInfo.needText[0][index];\n    const reward = global.challengesInfo.rewardText[0][index];\n    const level = player.challenges.void[index];\n    let text = '';\n    for (let i = 0; i < need.length; i++) {\n        text += `<div><p><span class=\"${level > i ? 'greenText' : 'redText'}\">\u2192</span> ${index === 2 && i === 1 ? need[i].replace('1e4', format(1e4)) : need[i]}</p>\n        <p><span class=\"${level > i ? 'greenText' : 'redText'}\">Reward:</span> ${level > i ? reward[i] : 'Not yet unlocked'}</p></div>`;\n    }\n\n    getId('voidRewardsDivText').innerHTML = text;\n};\n\nexport const visualUpdateUpgrades = (index: number, stageIndex: number, type: 'upgrades' | 'elements') => {\n    if (type === 'upgrades') {\n        if (stageIndex !== player.stage.active) { return; }\n\n        let color = '';\n        const image = getId(`upgrade${index + 1}`);\n        if (player.upgrades[stageIndex][index] === 1) {\n            if (stageIndex === 1) {\n                color = 'green';\n            } else if (stageIndex === 2) {\n                color = 'darkgreen';\n            } else if (stageIndex === 3) {\n                color = '#0000b1'; //Darker blue\n            } else if (stageIndex === 4) {\n                color = '#1f1f8f'; //Brigher midnightblue\n            } else if (stageIndex === 5) {\n                color = '#990000'; //Brigher maroon\n            }\n            image.tabIndex = globalSave.SRSettings[0] && globalSave.SRSettings[1] ? 0 : -1;\n        } else { image.tabIndex = 0; }\n        image.style.backgroundColor = color;\n    } else if (type === 'elements') {\n        const image = getId(`element${index}`);\n        if (player.elements[index] >= 1) {\n            image.classList.remove('awaiting');\n            image.classList.add('created');\n            image.tabIndex = globalSave.SRSettings[0] && globalSave.SRSettings[1] ? 0 : -1;\n        } else if (player.elements[index] > 0) {\n            image.classList.add('awaiting');\n            image.classList.remove('created');\n            image.tabIndex = 0;\n        } else {\n            image.classList.remove('awaiting');\n            image.classList.remove('created');\n            image.tabIndex = 0;\n        }\n    }\n};\n\nexport const visualUpdateResearches = (index: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'strangeness') => {\n    let max: number;\n    let level: number;\n    let upgradeHTML: HTMLElement;\n    let image: HTMLElement;\n    if (type === 'researches' || type === 'researchesExtra') {\n        if (stageIndex !== player.stage.active) { return; }\n        max = global[`${type}Info`][stageIndex].max[index];\n        level = player[type][stageIndex][index];\n\n        const extra = type === 'researches' ? '' : 'Extra';\n        upgradeHTML = getId(`research${extra}${index + 1}Level`);\n        getId(`research${extra}${index + 1}Max`).textContent = `${max}`;\n        image = getId(`research${extra}${index + 1}Image`);\n    } else if (type === 'researchesAuto') {\n        max = global.researchesAutoInfo.max[index];\n        level = player.researchesAuto[index];\n\n        upgradeHTML = getId(`researchAuto${index + 1}Level`);\n        getId(`researchAuto${index + 1}Max`).textContent = `${max}`;\n        image = getId(`researchAuto${index + 1}Image`);\n    } else if (type === 'ASR') {\n        if (stageIndex !== player.stage.active) { return; }\n        max = global.ASRInfo.max[stageIndex];\n        level = player.ASR[stageIndex];\n\n        upgradeHTML = getId('ASRLevel');\n        getId('ASRMax').textContent = `${max}`;\n        image = getId('ASRImage');\n    } else /*if (type === 'strangeness')*/ {\n        max = global.strangenessInfo[stageIndex].max[index];\n        level = player.strangeness[stageIndex][index];\n\n        upgradeHTML = getId(`strange${index + 1}Stage${stageIndex}Level`);\n        getId(`strange${index + 1}Stage${stageIndex}Max`).textContent = `${max}`;\n        image = getId(`strange${index + 1}Stage${stageIndex}Image`);\n    }\n\n    upgradeHTML.textContent = `${level}`;\n    if (level >= max) {\n        upgradeHTML.style.color = 'var(--green-text)';\n        image.tabIndex = globalSave.SRSettings[0] && globalSave.SRSettings[1] ? 0 : -1;\n    } else if (level === 0) {\n        upgradeHTML.style.color = ''; //Red\n        image.tabIndex = 0;\n    } else {\n        upgradeHTML.style.color = 'var(--orchid-text)';\n        image.tabIndex = 0;\n    }\n};\n\nconst updateRankInfo = () => {\n    const rank = player.accretion.rank;\n    if (global.debug.rankUpdated === rank) { return; }\n    const rankInfo = global.accretionInfo;\n    const name = getId('rankName');\n\n    getId('rankMessage').textContent = rank === 0 ?\n        'Might need more than just water... Increase Rank with Mass.' :\n        `Increase it with Mass. (Return back to ${player.inflation.vacuum ? 'Preons' : 'Dust'}, but unlock something new)`;\n    getId('reset1Button').textContent = rank >= rankInfo.maxRank ? 'Max Rank achieved' : `Next Rank is ${format(rankInfo.rankCost[rank])} Mass`;\n    (getId('rankImage') as HTMLImageElement).src = `Used_art/${rankInfo.rankImage[rank]}`;\n    name.textContent = rankInfo.rankName[rank];\n    name.style.color = `var(--${rankInfo.rankColor[rank]}-text)`;\n    global.debug.rankUpdated = rank;\n};\n\nconst updateHistory = (/*type: 'stage'*/) => {\n    if (global.debug.historyStage === player.stage.resets) { return; }\n    const list = global.historyStorage.stage;\n    const length = Math.min(list.length, player.history.stage.input[1]);\n\n    let text = '';\n    if (length > 0) {\n        for (let i = 0; i < length; i++) {\n            const converted = list[i][0] / 1e12 ** list[i][2];\n            text += `<li class=\"whiteText\"><span class=\"greenText\">${format(converted)} ${global.strangeInfo.name[list[i][2]]}</span>, <span class=\"blueText\">${format(list[i][1], { type: 'time' })}</span>, <span class=\"darkorchidText\">${format(converted / list[i][1], { type: 'income', padding: true })}</span></li>`;\n        }\n    } else { text = '<li class=\"redText\">Reference list is empty</li>'; }\n    getId('stageResetsList').innerHTML = text;\n\n    const stageBest = player.history.stage.best;\n    const converted = stageBest[0] / 1e12 ** stageBest[2];\n    getId('stageBest').innerHTML = `Best reset: <span class=\"whiteText\"><span class=\"greenText\">${format(converted)} ${global.strangeInfo.name[stageBest[2]]}</span>, <span class=\"blueText\">${format(stageBest[1], { type: 'time' })}</span>, <span class=\"darkorchidText\">${format(converted / stageBest[1], { type: 'income', padding: true })}</span></span>`;\n    global.debug.historyStage = player.stage.resets;\n};\n\nexport const format = (input: number | Overlimit, settings = {} as { digits?: number, type?: 'number' | 'input' | 'time' | 'income', padding?: boolean }): string => {\n    if (typeof input === 'object') { return input.format(settings as any); }\n    const type = settings.type ?? 'number';\n\n    let extra;\n    if (type === 'income') {\n        const inputAbs = Math.abs(input);\n        if (inputAbs >= 1) {\n            extra = 'per second';\n        } else if (inputAbs >= 1 / 60) {\n            input *= 60;\n            extra = 'per minute';\n        } else if (inputAbs >= 1 / 3600) {\n            input *= 3600;\n            extra = 'per hour';\n        } else if (inputAbs >= 1 / 86400) {\n            input *= 86400;\n            extra = 'per day';\n        } else if (inputAbs >= 1 / 31556952) {\n            input *= 31556952;\n            extra = 'per year';\n        } else if (inputAbs >= 1 / 3.1556952e10) {\n            input *= 3.1556952e10;\n            extra = 'per millennium';\n        } else if (inputAbs >= 1 / 3.1556952e13) {\n            input *= 3.1556952e13;\n            extra = 'per megaannum';\n        } else {\n            input *= 3.1556952e16;\n            extra = 'per eon';\n        }\n\n        if (settings.padding === undefined) { settings.padding = true; }\n    } else if (type === 'time') {\n        const inputAbs = Math.abs(input);\n        if (inputAbs < 60) {\n            extra = 'seconds';\n        } else if (inputAbs < 3600) {\n            const minutes = Math.trunc(input / 60);\n            const seconds = Math.trunc(input - minutes * 60);\n            if (settings.padding === false && seconds === 0) { return `${minutes} minutes`; }\n            return `${minutes} minutes ${seconds} seconds`;\n        } else if (inputAbs < 86400) {\n            const hours = Math.trunc(input / 3600);\n            const minutes = Math.trunc(input / 60 - hours * 60);\n            if (settings.padding === false && minutes === 0) { return `${hours} hours`; }\n            return `${hours} hours ${minutes} minutes`;\n        } else if (inputAbs < 31556952) {\n            const days = Math.trunc(input / 86400);\n            const hours = Math.trunc(input / 3600 - days * 24);\n            if (settings.padding === false && hours === 0) { return `${days} days`; }\n            return `${days} days ${hours} hours`;\n        } else if (inputAbs < 3.1556952e10) {\n            const years = Math.trunc(input / 31556952);\n            const days = Math.trunc(input / 86400 - years * 365.2425);\n            if (settings.padding === false && days === 0) { return `${years} years`; }\n            return `${years} years ${days} days`;\n        } else if (inputAbs < 3.1556952e13) {\n            input /= 3.1556952e10;\n            extra = 'millenniums';\n        } else if (inputAbs < 3.1556952e16) {\n            input /= 3.1556952e13;\n            extra = 'megaannums';\n        } else {\n            input /= 3.1556952e16;\n            extra = 'eons';\n        }\n\n        settings.padding = !(settings.padding === false && Math.trunc(input) === input);\n        settings.digits = input >= 1e3 && input < 1e6 ? 0 : 3;\n    }\n    if (!isFinite(input)) { return extra !== undefined ? `${input} ${extra}` : `${input}`; }\n\n    const inputAbs = Math.abs(input);\n    if (inputAbs >= 1e6 || (inputAbs < 1e-3 && inputAbs > 0)) {\n        const precision = settings.digits ?? 2;\n        let digits = Math.floor(Math.log10(inputAbs));\n        let result = Math.round(input / 10 ** (digits - precision)) / (10 ** precision);\n        if (Math.abs(result) === 10) {\n            result /= 10;\n            digits++;\n        }\n\n        let formated = settings.padding ? result.toFixed(precision) : `${result}`;\n        if (type === 'input') { return `${formated}e${digits}`; }\n        formated = `${formated.replace('.', globalSave.format[0])}e${digits}`;\n        return extra !== undefined ? `${formated} ${extra}` : formated;\n    }\n\n    const precision = settings.digits ?? Math.max(4 - Math.floor(Math.log10(Math.max(inputAbs, 1))), 0);\n    const result = Math.round(input * 10 ** precision) / 10 ** precision;\n\n    let formated = settings.padding ? result.toFixed(precision) : `${result}`;\n    if (type === 'input') { return formated; }\n    formated = formated.replace('.', globalSave.format[0]);\n    if (result >= 1e3) { formated = formated.replace(/\\B(?=(\\d{3})+(?!\\d))/, globalSave.format[1]); }\n    return extra !== undefined ? `${formated} ${extra}` : formated;\n};\n\n//Soft means that Stage wasn't changed\nexport const stageUpdate = (extra = 'normal' as 'normal' | 'soft' | 'reload') => {\n    const { stageInfo, buildingsInfo } = global;\n    const { active, current, true: highest, resets } = player.stage;\n    const vacuum = player.inflation.vacuum;\n    const challenge = player.challenges.active;\n\n    stageInfo.activeAll = [vacuum ? 1 : current];\n    const activeAll = stageInfo.activeAll;\n    if (vacuum) {\n        if (player.researchesExtra[1][2] >= 2) { activeAll.push(2); }\n        if (player.researchesExtra[1][2] >= 1) { activeAll.push(3); }\n        if (player.accretion.rank >= 6) { activeAll.push(4); }\n        if (current >= 5 && player.strangeness[5][5] >= 1) { activeAll.push(5); }\n    } else {\n        if (current === 5) { activeAll.unshift(4); }\n        for (let i = player.strangeness[5][0]; i >= 1; i--) {\n            if (current !== i) { activeAll.unshift(i); }\n        }\n    }\n\n    for (let s = 1; s <= 7; s++) {\n        for (const element of getClass(`stage${s}Only`)) {\n            element.style.display = active === s ? '' : 'none';\n        }\n        for (const element of getClass(`stage${s}Include`)) {\n            element.style.display = activeAll.includes(s) ? '' : 'none';\n        }\n        for (const element of getClass(`stage${s}Unlock`)) {\n            element.style.display = highest >= s ? '' : 'none';\n        }\n    }\n\n    const stageWord = getId('stageWord');\n    const stageStatus = getId('stageStatus');\n    if (challenge === -1) {\n        stageStatus.textContent = 'Current Stage:';\n        stageStatus.style.color = '';\n        stageWord.textContent = stageInfo.word[current];\n        stageWord.style.color = `var(--${stageInfo.textColor[current]}-text)`;\n    } else {\n        stageStatus.textContent = 'Currently inside:';\n        stageStatus.style.color = 'var(--red-text)';\n        stageWord.textContent = global.challengesInfo.name[challenge];\n        stageWord.style.color = `var(--${global.challengesInfo.color[challenge]}-text)`;\n    }\n\n    getId('stageSelect').style.display = activeAll.length > 1 ? '' : 'none';\n    if (player.strange[0].total <= 0 && (!vacuum || current < 5)) { getId('strangenessTabBtn').style.display = 'none'; }\n    if (vacuum) {\n        getId('stageReset').textContent = current >= 5 ? 'Return back to start' : 'Not ready for reset';\n        getId('milestonesProgressArea').style.display = challenge === 0 ? '' : 'none';\n        if (resets >= 1 || highest >= 7) {\n            getId('dischargeToggleReset').style.display = '';\n            getId('vaporizationToggleReset').style.display = '';\n            getId('rankToggleReset').style.display = '';\n            getId('collapseToggleReset').style.display = '';\n        }\n    } else {\n        for (let s = 2; s <= 4; s++) {\n            const unlocked = highest >= 6 || resets >= s + 3;\n            getId(`strangeness${globalSave.MDSettings[0] ? 'Page' : 'Section'}${s}`).style.display = unlocked ? '' : 'none';\n            getId(`milestone1Stage${s}Div`).style.display = unlocked ? '' : 'none';\n            getId(`milestone2Stage${s}Div`).style.display = unlocked ? '' : 'none';\n        }\n    }\n\n    if (extra === 'soft') {\n        numbersUpdate();\n        visualUpdate();\n        return;\n    }\n    if (globalSave.MDSettings[0]) {\n        const reset1Footer = getId('reset1Footer');\n        reset1Footer.textContent = specialHTML.resetHTML[active];\n        if (extra === 'reload') { MDStrangenessPage(1); }\n        if (active === 3) {\n            reset1Footer.style.display = '';\n        } else if (active === 5) {\n            reset1Footer.style.display = 'none';\n        }\n    }\n    if (globalSave.SRSettings[0]) { //Firefox only recently (24.10.2023) added aria shortcuts (.ariaLabel)\n        getId('reset1Main').setAttribute('aria-label', `${specialHTML.resetHTML[active]} reset (hotkey ${['', 'D', 'V', 'R', 'C', 'Shift + M'][active]})`);\n        for (let i = 1; i < buildingsInfo.maxActive[active]; i++) {\n            getId(`building${i}`).setAttribute('aria-label', `${buildingsInfo.name[active][i]} (hotkey ${i})`);\n        }\n        getId('extraResearches').setAttribute('aria-label', `${['', 'Energy', 'Cloud', 'Rank', 'Collapse', 'Galaxy'][active]} Researches`);\n        getId('SRStage').textContent = `Current active Stage is '${stageInfo.word[active]}'${extra === 'reload' && challenge !== -1 ? `, also inside the '${global.challengesInfo.name[challenge]}'` : ''}`;\n    }\n\n    for (const text of ['upgrade', 'element']) {\n        getId(`${text}Text`).textContent = 'Hover to see.';\n        getId(`${text}Effect`).textContent = 'Hover to see.';\n        getId(`${text}Cost`).textContent = 'Resource.';\n    }\n    if (extra === 'reload') {\n        for (let s = 1; s <= 5; s++) {\n            getId(`${stageInfo.word[s]}Switch`).style.textDecoration = active === s ? 'underline' : '';\n            global.lastUpgrade[s][0] = -1;\n        }\n        global.lastElement = -1;\n        global.lastStrangeness = [-1, -1];\n        global.lastMilestone = [-1, -1];\n        global.lastChallenge = [-1, -1];\n        global.debug.historyStage = -1;\n        for (const text of ['strangeness', 'milestones']) {\n            getId(`${text}Stage`).textContent = '';\n            getId(`${text}Text`).textContent = 'Hover to see.';\n        }\n        getId('strangenessEffect').textContent = 'Hover to see.';\n        getId('strangenessCost').textContent = 'Strange quarks.';\n        getId('milestonesMultiline').innerHTML = '<p class=\"orchidText\">Requirement: <span class=\"greenText\">Hover to see.</span></p><p class=\"darkvioletText\">Unlock: <span class=\"greenText\">Hover to see.</span></p>';\n        getChallengeDescription(-1);\n\n        global.trueActive = active;\n        for (let i = 0; i < global.elementsInfo.startCost.length; i++) { visualUpdateUpgrades(i, 4, 'elements'); }\n        assignBuildingInformation();\n        assignMaxRank();\n\n        autoUpgradesSet('all');\n        autoResearchesSet('researches', 'all');\n        autoResearchesSet('researchesExtra', 'all');\n        autoElementsSet();\n    }\n\n    const upgradesInfo = global.upgradesInfo[active];\n    const researchesInfo = global.researchesInfo[active];\n    const researchesExtraInfo = global.researchesExtraInfo[active];\n    const footerStatsHTML = specialHTML.footerStatsHTML[active];\n    for (let i = buildingsInfo.maxActive[active]; i < specialHTML.longestBuilding; i++) {\n        getId(`building${i}Stats`).style.display = 'none';\n        getId(`building${i}`).style.display = 'none';\n    }\n    for (let i = upgradesInfo.maxActive; i < specialHTML.longestUpgrade; i++) {\n        getId(`upgrade${i + 1}`).style.display = 'none';\n    }\n    for (let i = researchesInfo.maxActive; i < specialHTML.longestResearch; i++) {\n        getId(`research${i + 1}`).style.display = 'none';\n    }\n    for (let i = researchesExtraInfo.maxActive; i < specialHTML.longestResearchExtra; i++) {\n        getId(`researchExtra${i + 1}`).style.display = 'none';\n    }\n    for (let i = footerStatsHTML.length; i < specialHTML.longestFooterStats; i++) {\n        getId(`footerStat${i + 1}`).style.display = 'none';\n    }\n\n    const showU: number[] = []; //Upgrades\n    const showR: number[] = []; //Researches\n    const showRE: number[] = []; //ResearchesExtra\n    const showF: number[] = []; //Footer stats\n    if (active === 1) {\n        showU.push(2, 3, 4, 5);\n        showR.push(0, 1, 2, 3, 4, 5);\n        showF.push(0, 1, 2);\n        if (vacuum) {\n            showU.push(0, 1);\n            showRE.push(0, 2);\n            getId('extraResearches').style.display = '';\n        } else {\n            getId('upgrade1').style.display = 'none';\n            getId('upgrade2').style.display = 'none';\n            getId('extraResearches').style.display = 'none';\n        }\n    } else if (active === 2) {\n        showU.push(0);\n        showR.push(0, 1);\n        showRE.push(0, 1);\n        showF.push(1, 2);\n        if (vacuum) { getId('stageInfo').style.display = ''; }\n    } else if (active === 3) {\n        showU.push(0, 1);\n        showR.push(0, 1);\n        showRE.push(0);\n        showF.push(0);\n        global.debug.rankUpdated = -1;\n        getId('reset1Main').style.display = '';\n        getId('stageInfo').style.display = vacuum ? '' : 'none';\n    } else if (active === 4) {\n        showU.push(0, 1, 2);\n        showR.push(0, 1, 2);\n        showRE.push(0);\n        showF.push(0, 1);\n        getId('stageInfo').style.display = '';\n        getId('extraResearches').style.display = '';\n    } else if (active === 5) {\n        showRE.push(0);\n        showF.push(0, 1, 2);\n        getId('reset1Main').style.display = 'none';\n        getId('stageInfo').style.display = '';\n        if (vacuum) {\n            getId('building2').style.display = '';\n            showU.push(0, 1);\n            showR.push(0, 1);\n            getId('extraResearches').style.display = '';\n        } /*else {\n            getId('reset1Main').style.display = 'none';\n        }*/\n    }\n    getId('buildings').style.display = '';\n    getId('building1').style.display = '';\n    getId('upgrades').style.display = '';\n    getId('researches').style.display = '';\n    getId('stageResearches').style.display = '';\n    if (active !== 4) { getId('specials').style.display = 'none'; }\n    getId('starsStat').style.display = active === 4 || active === 5 ? '' : 'none';\n    getId('solarMassStats').style.display = active === 4 || active === 5 ? '' : 'none';\n    (getId('autoWaitInput') as HTMLInputElement).value = format(player.toggles.shop.wait[active], { type: 'input' });\n\n    const buildingHTML = specialHTML.buildingHTML[active];\n    const buildingName = buildingsInfo.name[active];\n    const buildingType = buildingsInfo.type[active];\n    const buildingHoverText = buildingsInfo.hoverText[active];\n    for (let i = 1; i < buildingsInfo.maxActive[active]; i++) {\n        (getId(`building${i}Image`) as HTMLImageElement).src = `Used_art/${buildingHTML[i - 1]}`;\n        getId(`building${i}StatName`).textContent = buildingName[i];\n        getId(`building${i}Name`).textContent = buildingName[i];\n        getQuery(`#building${i}ProdDiv > span`).textContent = buildingType[i];\n        getId(`building${i}ProdDiv`).title = buildingHoverText[i - 1];\n        toggleSwap(i, 'buildings');\n    }\n    getId('building0StatName').textContent = buildingName[0];\n    toggleSwap(0, 'buildings');\n\n    const upgradeHTML = specialHTML.upgradeHTML[active];\n    for (let i = 0; i < upgradesInfo.maxActive; i++) {\n        const image = getId(`upgrade${i + 1}`) as HTMLInputElement;\n        if (showU.includes(i)) { image.style.display = ''; }\n        image.src = `Used_art/${upgradeHTML[i]}`;\n        image.alt = upgradesInfo.name[i];\n        visualUpdateUpgrades(i, active, 'upgrades');\n    }\n\n    const researchHTML = specialHTML.researchHTML[active];\n    for (let i = 0; i < researchesInfo.maxActive; i++) {\n        const main = getId(`research${i + 1}`);\n        if (showR.includes(i)) { main.style.display = ''; }\n        main.className = researchHTML[i][1];\n        const image = getId(`research${i + 1}Image`) as HTMLInputElement;\n        image.src = `Used_art/${researchHTML[i][0]}`;\n        image.alt = researchesInfo.name[i];\n        visualUpdateResearches(i, active, 'researches');\n    }\n\n    const researchExtraHTML = specialHTML.researchExtraHTML[active];\n    for (let i = 0; i < researchesExtraInfo.maxActive; i++) {\n        const main = getId(`researchExtra${i + 1}`);\n        if (showRE.includes(i)) { main.style.display = ''; }\n        main.className = researchExtraHTML[i][1];\n        const image = getId(`researchExtra${i + 1}Image`) as HTMLInputElement;\n        image.src = `Used_art/${researchExtraHTML[i][0]}`;\n        image.alt = researchesExtraInfo.name[i];\n        visualUpdateResearches(i, active, 'researchesExtra');\n    }\n    getQuery('#extraResearches > div').className = specialHTML.researchExtraDivHTML[active][1];\n    (getQuery('#extraResearches > img') as HTMLImageElement).src = `Used_art/${specialHTML.researchExtraDivHTML[active][0]}`;\n    visualUpdateResearches(0, active, 'ASR');\n\n    for (let i = 0; i < footerStatsHTML.length; i++) {\n        if (showF.includes(i)) { getId(`footerStat${i + 1}`).style.display = ''; }\n        (getQuery(`#footerStat${i + 1} > img`) as HTMLImageElement).src = `Used_art/${footerStatsHTML[i][0]}`;\n        getQuery(`#footerStat${i + 1} > p`).className = footerStatsHTML[i][1];\n        getId(`footerStat${i + 1}Name`).textContent = footerStatsHTML[i][2];\n    }\n\n    const body = document.body.style;\n    if (active === 1) {\n        body.removeProperty('--stage-text');\n        body.removeProperty('--stage-button-border');\n        body.removeProperty('--stage-image-borderColor');\n        body.removeProperty('--image-border');\n    } else {\n        body.setProperty('--stage-text', `var(--${stageInfo.textColor[active]}-text)`);\n        body.setProperty('--stage-button-border', stageInfo.buttonBorder[active]);\n        body.setProperty('--stage-image-borderColor', stageInfo.imageBorderColor[active]);\n        body.setProperty('--image-border', `url(\"Used_art/Stage${active} border.png\")`);\n    }\n    getId('currentSwitch').textContent = stageInfo.word[active];\n\n    if (global.trueActive === active) { switchTab(checkTab(global.tab) ? global.tab : 'stage'); }\n    switchTheme();\n};\n", "import { allowedToBeReset } from './Check';\nimport { cloneArray, global, player, playerStart } from './Player';\nimport { autoResearchesSet, autoUpgradesSet, calculateMaxLevel, calculateResearchCost, assignBuildingInformation, autoElementsSet, assignEnergy, calculateMilestoneInformation, assignStrangeBoost } from './Stage';\nimport { numbersUpdate, stageUpdate, visualUpdate, visualUpdateResearches, visualUpdateUpgrades } from './Update';\n\nexport const reset = (type: 'discharge' | 'vaporization' | 'rank' | 'collapse' | 'galaxy', stageIndex: number[]) => {\n    if (type === 'galaxy') {\n        const { elements } = player;\n\n        for (let i = 1; i < elements.length; i++) {\n            if (!allowedToBeReset(i, 4, 'elements')) { continue; }\n\n            elements[i] = 0;\n            visualUpdateUpgrades(i, 4, 'elements');\n        }\n        autoElementsSet();\n\n        player.collapse.mass = 0.01235;\n        player.collapse.stars = [0, 0, 0];\n    }\n\n    for (const s of stageIndex) {\n        if (s === 2) {\n            global.vaporizationInfo.research0 = 0;\n            global.vaporizationInfo.research1 = 0;\n        } else if (s === 4) {\n            global.collapseInfo.trueStars = 0;\n        }\n\n        const buildings = player.buildings[s];\n        buildings[0].current.setValue(playerStart.buildings[s][0].current);\n        buildings[0].total.setValue(playerStart.buildings[s][0].current);\n        for (let i = 1; i < global.buildingsInfo.maxActive[s]; i++) {\n            if (!allowedToBeReset(i, s, 'structures')) { continue; }\n\n            buildings[i as 1].true = 0;\n            buildings[i].current.setValue('0');\n            buildings[i].total.setValue('0');\n        }\n\n        if (type === 'discharge') { continue; }\n        const upgrades = player.upgrades[s];\n\n        for (let i = 0; i < global.upgradesInfo[s].maxActive; i++) {\n            if (!allowedToBeReset(i, s, 'upgrades')) { continue; }\n\n            upgrades[i] = 0;\n            visualUpdateUpgrades(i, s, 'upgrades');\n        }\n        autoUpgradesSet(s);\n\n        if (type === 'vaporization') { continue; }\n        const researches = player.researches[s];\n\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) {\n            if (!allowedToBeReset(i, s, 'researches')) { continue; }\n\n            researches[i] = 0;\n            visualUpdateResearches(i, s, 'researches');\n            calculateResearchCost(i, s, 'researches');\n        }\n        autoResearchesSet('researches', s);\n\n        if (type === 'rank') { continue; }\n        const researchesExtra = player.researchesExtra[s];\n\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) {\n            if (!allowedToBeReset(i, s, 'researchesExtra')) { continue; }\n\n            researchesExtra[i] = 0;\n            visualUpdateResearches(i, s, 'researchesExtra');\n            calculateResearchCost(i, s, 'researchesExtra');\n        }\n        autoResearchesSet('researchesExtra', s);\n    }\n\n    if (player.inflation.vacuum || type === 'discharge') {\n        if (player.strangeness[1][9] < 1) {\n            const startEnergy = 0;\n            player.discharge.energy = startEnergy;\n            global.dischargeInfo.energyTrue = startEnergy;\n        } else { assignEnergy(); }\n    }\n\n    assignBuildingInformation();\n    if (stageIndex.includes(player.stage.active)) { numbersUpdate(); }\n    visualUpdate();\n};\n\nexport const resetStage = (stageIndex: number[], update = 'normal' as false | 'normal' | 'soft') => {\n    for (const s of stageIndex) {\n        const buildings = player.buildings[s];\n        const buildingResetValue = playerStart.buildings[s][0].current;\n\n        for (let i = 1; i < global.buildingsInfo.maxActive[s]; i++) {\n            buildings[i as 1].true = 0;\n            buildings[i].current.setValue('0');\n            buildings[i].total.setValue('0');\n            buildings[i].trueTotal.setValue('0');\n        }\n        buildings[0].current.setValue(buildingResetValue);\n        buildings[0].total.setValue(buildingResetValue);\n        buildings[0].trueTotal.setValue(buildingResetValue);\n\n        player.upgrades[s] = cloneArray(playerStart.upgrades[s]);\n        player.researches[s] = cloneArray(playerStart.researches[s]);\n        player.researchesExtra[s] = cloneArray(playerStart.researchesExtra[s]);\n        autoUpgradesSet(s);\n\n        global.lastUpgrade[s][0] = -1;\n        if (s === 1) {\n            if (player.strangeness[1][5] < 1) { player.ASR[1] = 0; }\n            player.discharge.current = 0;\n            player.discharge.energy = 0;\n            global.dischargeInfo.energyTrue = 0;\n        } else if (s === 2) {\n            if (player.strangeness[2][5] < 1) { player.ASR[2] = 0; }\n            player.vaporization.clouds.setValue('0');\n            global.vaporizationInfo.research0 = 0;\n            global.vaporizationInfo.research1 = 0;\n        } else if (s === 3) {\n            if (player.strangeness[3][5] < 1) { player.ASR[3] = 0; }\n            if (player.inflation.vacuum) {\n                player.accretion.rank = 1;\n            } else {\n                player.accretion.rank = 0;\n                buildings[0].current.setValue('5.9722e27');\n            }\n        } else if (s === 4) {\n            if (player.strangeness[4][5] < 1) { player.ASR[4] = 0; }\n            global.collapseInfo.trueStars = 0;\n            player.collapse.mass = 0.01235;\n            player.collapse.stars = [0, 0, 0];\n            player.elements = cloneArray(playerStart.elements);\n            player.elements[0] = player.strangeness[4][8] >= 1 ? 1 : 0;\n            autoElementsSet();\n            for (let i = 0; i < player.elements.length; i++) { visualUpdateUpgrades(i, 4, 'elements'); }\n            global.lastElement = -1;\n        } else if (s === 5) {\n            if (player.strangeness[5][6] < 1) { player.ASR[5] = 0; }\n        }\n    }\n    player.researchesAuto[0] = player.strangeness[3][6];\n\n    for (let i = 0; i < playerStart.researchesAuto.length; i++) { calculateMaxLevel(i, 0, 'researchesAuto'); }\n    for (const s of stageIndex) { //Less errors if do it separatly\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researches'); }\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researchesExtra'); }\n        calculateMaxLevel(0, s, 'ASR');\n\n        autoResearchesSet('researches', s);\n        autoResearchesSet('researchesExtra', s);\n    }\n\n    assignBuildingInformation();\n\n    if (update !== false) {\n        stageUpdate(update);\n        if (update === 'soft') {\n            const active = player.stage.active;\n            for (let i = 0; i < global.upgradesInfo[active].maxActive; i++) { visualUpdateUpgrades(i, active, 'upgrades'); }\n        }\n    }\n};\n\nexport const resetVacuum = () => {\n    for (let s = 1; s <= 5; s++) {\n        const buildings = player.buildings[s];\n        const buildingResetValue = playerStart.buildings[s][0].current;\n\n        for (let i = 1; i < playerStart.buildings[s].length; i++) {\n            buildings[i as 1].true = 0;\n            buildings[i].current.setValue('0');\n            buildings[i].total.setValue('0');\n            buildings[i].trueTotal.setValue('0');\n            buildings[i].highest.setValue('0');\n        }\n        buildings[0].current.setValue(buildingResetValue);\n        buildings[0].total.setValue(buildingResetValue);\n        buildings[0].trueTotal.setValue(buildingResetValue);\n        buildings[0].highest.setValue(buildingResetValue);\n\n        player.upgrades[s] = cloneArray(playerStart.upgrades[s]);\n        player.researches[s] = cloneArray(playerStart.researches[s]);\n        player.researchesExtra[s] = cloneArray(playerStart.researchesExtra[s]);\n        player.strangeness[s] = cloneArray(playerStart.strangeness[s]);\n        player.milestones[s] = cloneArray(playerStart.milestones[s]);\n        player.ASR[s] = 0;\n        player.maxASR[s] = 0;\n    }\n    for (let i = 0; i < playerStart.researchesAuto.length; i++) {\n        player.researchesAuto[i] = 0;\n        calculateMaxLevel(i, 0, 'researchesAuto');\n    }\n\n    //Stage 1\n    player.discharge.energy = 0;\n    player.discharge.energyMax = 0;\n    player.discharge.current = 0;\n    global.dischargeInfo.energyTrue = 0;\n\n    //Stage 2\n    player.vaporization.clouds.setValue('0');\n    player.vaporization.cloudsMax.setValue('0');\n    global.vaporizationInfo.research0 = 0;\n    global.vaporizationInfo.research1 = 0;\n\n    //Stage 3\n    if (player.inflation.vacuum) {\n        player.accretion.rank = 1;\n    } else {\n        player.accretion.rank = 0;\n        player.buildings[3][0].current.setValue('5.9722e27');\n    }\n\n    //Stage 4\n    global.collapseInfo.trueStars = 0;\n    player.collapse.mass = 0.01235;\n    player.collapse.massMax = 0.01235;\n    player.collapse.stars = [0, 0, 0];\n    player.elements = cloneArray(playerStart.elements);\n\n    //Stage 5 and rest\n    global.historyStorage.stage = [];\n    player.history.stage.best = [0, 1, 0];\n    player.stage.resets = 0;\n    player.stage.best = 0;\n    player.stage.peak = 0;\n    player.stage.time = 0;\n    player.time.stage = 0;\n    for (let i = 0; i < player.strange.length; i++) {\n        player.strange[i].current = 0;\n        player.strange[i].total = 0;\n    }\n\n    assignStrangeBoost();\n    for (let s = 1; s <= 5; s++) {\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researches'); }\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researchesExtra'); }\n        calculateMaxLevel(0, s, 'ASR');\n        for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'strangeness'); }\n        for (let i = 0; i < playerStart.milestones[s].length; i++) { calculateMilestoneInformation(i, s); }\n    }\n\n    stageUpdate('reload');\n};\n", "import { checkBuilding, checkUpgrade, milestoneCheck } from './Check';\nimport Overlimit from './Limit';\nimport { getId } from './Main';\nimport { global, logAny, player } from './Player';\nimport { reset, resetStage } from './Reset';\nimport { Alert, Confirm, Notify, globalSave } from './Special';\nimport { format, getChallengeDescription, getChallengeReward, getStrangenessDescription, numbersUpdate, stageUpdate, switchTab, visualUpdateResearches, visualUpdateUpgrades } from './Update';\n\nexport const calculateEffects = {\n    /** Research is player.researches[1][4] */\n    dischargeBase: (research = player.researches[1][4]): number => {\n        let base = 4 + research;\n        if (player.challenges.active === 0) { base = (base + 1) / 2; }\n        return base;\n    },\n    /** Result need to be divided by 10 */\n    S1Upgrade6: (): number => 10 + 3 * player.researches[1][0],\n    S1Upgrade7: (): number => (102 + player.researches[1][1]) / 100,\n    S1Research2: (): number => 20 + (player.strangeness[1][1] * 2),\n    /** Level offset only for false vacuum */\n    S1Research5: (offset = 0): number => {\n        if (!player.inflation.vacuum) { return 1.25 + (player.researches[1][5] + offset) / 4; }\n        const discharges = global.dischargeInfo.total;\n        return discharges > 7 ? discharges + 14 : discharges * 3;\n    },\n    S1Extra1: (level = player.researchesExtra[1][1]): number => level >= 4 ? 1.1 : level >= 3 ? 1.2 : (20 - 3 * level) / 10,\n    S1Extra3: (level = player.researchesExtra[1][3]): number => level / 20,\n    S1Extra4: (): number => 1 + global.dischargeInfo.base / 100,\n    clouds: (post = false): Overlimit => {\n        const effect = new Overlimit(player.vaporization.clouds).plus('1');\n        if (post) { effect.plus(global.vaporizationInfo.get); }\n\n        if (effect.moreThan('1e4')) { effect.minus('1e4').power(0.7).plus('1e4'); }\n        return effect;\n    },\n    S2Upgrade1: (): Overlimit => {\n        const puddles = player.buildings[2][2];\n        if (player.challenges.active === 0) {\n            return new Overlimit('1.01').power((puddles.current.toNumber() - puddles.true) ** 0.7 + puddles.true);\n        } else {\n            const effect = new Overlimit('1.02').power((puddles.current.toNumber() - puddles.true) ** 0.7 + Math.min(puddles.true, 200));\n            if (puddles.true > 200) { effect.multiply(new Overlimit('1.01').power(puddles.true - 200)); }\n            return effect;\n        }\n    },\n    S2Upgrade2: (): number => 1e10 / 2 ** player.strangeness[2][3],\n    /** Research is player.researches[2][2] */\n    S2Upgrade3: (research = player.researches[2][2]): number => (1 + research / 2) / 100,\n    /** Research is player.researches[2][3] */\n    S2Upgrade4: (research = player.researches[2][3]): number => (1 + research / 2) / 100,\n    S2Upgrade5: (): number => 1 + player.researches[2][4],\n    S2Upgrade6: (): number => 1 + player.researches[2][5],\n    /** Rain is player.researchesExtra[2][1]; Storm is player.researchesExtra[2][2] */\n    S2Extra1_2: (post = false, rain = player.researchesExtra[2][1], storm = player.researchesExtra[2][2]): [number, number] => {\n        if (rain < 1) { return [1, 1]; }\n        const effect = new Overlimit(player.vaporization.clouds);\n        if (post) { effect.plus(global.vaporizationInfo.get); }\n        if (storm < 1) { return [Math.max(effect.power(0.1).toNumber(), 1), 1]; }\n        const rainEffect = Math.max(effect.power(0.11).toNumber(), 1);\n        return [rainEffect, (rainEffect - 1) / 16 + 1]; //[Rain, Storm]\n    },\n    submersion: (): number => {\n        const drops = new Overlimit(player.buildings[2][1].current);\n        return (drops.moreThan('1e10') ?\n            drops.power(0.6).divide('1e4').plus('1.000000002') : //(Drops / 1e10) ** softcap * 1e2 + 2e-9 + 1\n            drops.plus('1').power(0.2).plus('1')\n        ).log(2).toNumber();\n    },\n    S3Upgrade0: (): number => (101 + player.researches[3][1]) / 100,\n    /** Research is player.researchesExtra[3][3] */\n    S3Upgrade1: (research = player.researchesExtra[3][3]): number => (5 + research) / 100,\n    S3Upgrade3: (): number => (102 + player.researches[3][4] / 2) / 100,\n    S3Research6: (level = player.researches[3][6]): number => level / 40,\n    S3Extra1: (level = player.researchesExtra[3][1]): number => (1 + level / 10) ** player.accretion.rank,\n    S3Extra4: (level = player.researchesExtra[3][4]): number => level > 0 ? 8 ** ((player.accretion.rank + level) / 8) : 1,\n    mass: (post = false): number => {\n        let minValue = 1;\n\n        let effect = player.collapse.mass;\n        if (post) {\n            minValue = 0.5;\n            if (global.collapseInfo.newMass > effect) { effect = global.collapseInfo.newMass; }\n        }\n\n        let power = 1;\n        if (player.challenges.active === 0) {\n            effect /= 40;\n            power -= 0.2;\n        }\n\n        if (player.elements[21] >= minValue) { power += 0.1; }\n        return effect ** (effect > 1 ? power : 2 - power);\n    },\n    star: [\n        (post = false): number => {\n            let minValue = 1;\n\n            let effect = player.collapse.stars[0] + 1;\n            if (post) {\n                minValue = 0.5;\n                effect += global.collapseInfo.starCheck[0];\n            }\n            if (player.elements[27] >= minValue) { effect += player.buildings[4][3].true; }\n\n            if (player.elements[6] >= minValue) { effect **= calculateEffects.element6(); }\n            return effect;\n        },\n        (post = false): number => {\n            let minValue = 1;\n\n            let stars = player.collapse.stars[1];\n            if (post) {\n                minValue = 0.5;\n                stars += global.collapseInfo.starCheck[1];\n                if (player.elements[22] >= minValue) { stars += global.collapseInfo.starCheck[0]; }\n            }\n            if (player.elements[22] >= minValue) { stars += player.collapse.stars[0]; }\n\n            let effect = (stars + 1) ** (0.5 + player.strangeness[4][8] / 40);\n            if (player.elements[12] >= minValue) {\n                const base = calculateEffects.element12();\n                effect *= logAny(stars + base, base);\n            }\n            return effect;\n        },\n        (post = false): number => {\n            let minValue = 1;\n\n            let blackHoles = player.collapse.stars[2];\n            if (post) {\n                minValue = 0.5;\n                blackHoles += global.collapseInfo.starCheck[2];\n            }\n\n            const base = player.elements[18] >= minValue ? 3 : 2;\n            return (blackHoles + 1) / logAny(blackHoles + base, base);\n        }\n    ],\n    /** Disc is player.researches[4][2] */\n    S4Research0: (disc = player.researches[4][2]): number => {\n        let effect = 1.3 + 0.15 * disc;\n        if (player.inflation.vacuum) { effect += global.milestonesInfo[3].reward[1]; }\n        return effect;\n    },\n    /** Transfer is player.researchesExtra[4][1] */\n    S4Research1: (level = player.researches[4][1], transfer = player.researchesExtra[4][1]): number => {\n        let base = player.challenges.active === 0 ? 0.004 : 0.005;\n        if (transfer >= 1) { base += 0.001; }\n        let effective = level > 0 ? 1 + Math.min(level, 4) : 0;\n        if (level > 4) { effective += 0.5; }\n        if (level > 5) { effective += Math.min(level - 5, 2) / 4; }\n        if (level > 7) { effective += (level - 7) / 8; }\n        return 1 + base * effective;\n    },\n    S4Research4: (post = false, level = player.researches[4][4]): number => {\n        if (level < 1) { return 1; }\n        let minValue = 1;\n\n        let blackHoles = player.collapse.stars[2];\n        let mass = player.collapse.mass;\n        if (post) {\n            minValue = 0.5;\n            if (player.strangeness[4][4] < 2) { blackHoles += global.collapseInfo.starCheck[2]; } //Just in case to prevent early reset\n            if (global.collapseInfo.newMass > mass) { mass = global.collapseInfo.newMass; }\n        }\n\n        const base = level >= 2 ? 2 : 3;\n        let effect = logAny(blackHoles + base, base);\n        if (player.elements[23] >= minValue) { effect *= mass ** 0.1; }\n        return effect;\n    },\n    S4Extra1: (): number => (10 + player.researches[4][1]) / 10,\n    S5Upgrade0: (): number => {\n        let effect = 3 * (2 ** player.strangeness[5][3]);\n        if (player.challenges.active === 0) { effect = (effect / 1536) + 2; }\n        return effect;\n    },\n    S5Upgrade1: (): number => {\n        let effect = 2 * (3 ** player.strangeness[5][4]);\n        if (player.challenges.active === 0) { effect = (effect / 39366) + 1; }\n        return effect;\n    },\n    S5Upgrade2: (): number => {\n        let effect = Math.log10(Math.max(player.collapse.mass / 1e5, 1)) / 5 + 0.2;\n        if (!player.inflation.vacuum) { effect *= 2.5; }\n        return Math.min(effect, 1);\n    },\n    element6: (): number => player.researchesExtra[4][2] >= 1 ? 2 : 1.5,\n    element12: (): number => 10 - player.strangeness[4][8],\n    element24: (): number => player.elements[28] === 1 ? (player.inflation.vacuum || player.milestones[1][1] >= 6 ? 0.03 : 0.015) : 0.01,\n    element26: (): number => {\n        if (!player.inflation.vacuum && player.strange[0].total < 1) { return 1; }\n        const effect = new Overlimit(player.buildings[4][0].trueTotal).log(10).toNumber() - 47;\n        //if (player.elements[29] === 1) { effect = (9 + effect) * effect / 10; } //(1 + (effect - 1) * step / 2) * effect; Step is 0.2\n        return Math.max(Math.floor(effect), 1);\n    },\n    S2Strange7: (): number => {\n        if (player.vaporization.clouds.lessOrEqual('1')) { return 1; }\n        return new Overlimit(player.vaporization.clouds).log(10).toNumber() / 50 + 1;\n    }\n};\n\nexport const assignBuildingInformation = () => {\n    const { buildings, upgrades, researches, researchesExtra, elements, strangeness } = player;\n    const { dischargeInfo, collapseInfo, milestonesInfo } = global;\n    const producing = global.buildingsInfo.producing;\n    const stageBoost = global.strangeInfo.stageBoost;\n    const activeAll = global.stageInfo.activeAll;\n    const vacuum = player.inflation.vacuum;\n    const inVoid = player.challenges.active === 0;\n\n    const energy = Math.max(player.discharge.energy, 1);\n    const tension = upgrades[2][3] === 1 ? new Overlimit(buildings[2][0].current).max('1').power(calculateEffects.S2Upgrade3()).toNumber() : 1;\n    const stress = upgrades[2][4] === 1 ? new Overlimit(buildings[2][1].current).max('1').power(calculateEffects.S2Upgrade4()).toNumber() : 1;\n\n    if (activeAll.includes(1)) {\n        const b3 = vacuum ? 3 : 1;\n        const b4 = vacuum ? 4 : 2;\n        const b5 = vacuum ? 5 : 3;\n\n        dischargeInfo.total = player.discharge.current + (strangeness[1][3] / 2);\n        dischargeInfo.base = calculateEffects.dischargeBase();\n        let totalMultiplier = 2 ** strangeness[1][0];\n        if (upgrades[1][5] === 1) { totalMultiplier *= dischargeInfo.base ** dischargeInfo.total; }\n        if (strangeness[1][6] >= 1) { totalMultiplier *= stageBoost[1]; }\n        if (vacuum) { totalMultiplier *= milestonesInfo[1].reward[0]; }\n        const selfBoost = calculateEffects.S1Upgrade7();\n\n        const listForMult5 = [buildings[1][b5].current];\n        let prod5Number = 0.2 * totalMultiplier;\n        if (vacuum && upgrades[1][4] === 1) { prod5Number *= 5; }\n        if (upgrades[1][7] === 1) { listForMult5.push(new Overlimit(selfBoost).power(buildings[1][b5].true)); }\n        producing[1][b5].setValue(prod5Number).multiply(...listForMult5);\n\n        if (upgrades[1][8] === 1) {\n            let radiation = calculateEffects.S1Research2() ** researches[1][2];\n            if (upgrades[1][9] === 1) { radiation *= energy ** (vacuum ? 0.5 : 1); }\n            if (vacuum) {\n                radiation *= calculateEffects.S1Research5() ** researches[1][5];\n            } else if (researches[1][5] >= 1) { radiation *= dischargeInfo.total ** calculateEffects.S1Research5(); }\n            dischargeInfo.tritium.setValue(producing[1][b5]).plus('1').log(calculateEffects.S1Extra1()).multiply(radiation);\n        } else { dischargeInfo.tritium.setValue('0'); }\n\n        const listForMult4 = [buildings[1][b4].current];\n        let prod4Number = (vacuum ? 0.4 : 0.6) * totalMultiplier;\n        if (vacuum) {\n            if (upgrades[1][3] === 1) { prod4Number *= 5; }\n        } else if (upgrades[1][4] === 1) { prod4Number *= 5; }\n        if (upgrades[1][7] === 1) { listForMult4.push(new Overlimit(selfBoost).power(buildings[1][b4].true)); }\n        producing[1][b4].setValue(prod4Number).multiply(...listForMult4);\n\n        const listForMult3 = [buildings[1][b3].current];\n        let prod3Number = (vacuum ? 0.2 : 0.4) * totalMultiplier;\n        if (upgrades[1][0] === 1) { prod3Number *= 5; }\n        if (!vacuum && upgrades[1][3] === 1) { prod3Number *= 5; }\n        if (upgrades[1][7] === 1) { listForMult3.push(new Overlimit(selfBoost).power(buildings[1][b3].true)); }\n        producing[1][b3].setValue(prod3Number).multiply(...listForMult3);\n\n        if (vacuum) {\n            const listForMult2 = [buildings[1][2].current];\n            if (upgrades[1][7] === 1) { listForMult2.push(new Overlimit(selfBoost).power(buildings[1][2].true)); }\n            producing[1][2].setValue(0.3 * totalMultiplier).multiply(...listForMult2);\n\n            const listForMult1 = [];\n            const preonsExcess = new Overlimit(buildings[1][1].current).minus(buildings[1][1].true);\n            if (preonsExcess.moreThan('1')) {\n                listForMult1.push(preonsExcess.power(0.1).plus(buildings[1][1].true));\n            } else { listForMult1.push(buildings[1][1].current); }\n            if (upgrades[1][7] === 1) { listForMult1.push(new Overlimit(selfBoost).power(buildings[1][1].true)); }\n            producing[1][1].setValue(4e-4 * (totalMultiplier ** 0.8)).multiply(...listForMult1);\n        }\n    }\n    if (activeAll.includes(2)) {\n        const { vaporizationInfo } = global;\n        const rain = calculateEffects.S2Extra1_2();\n        vaporizationInfo.strength = calculateEffects.clouds();\n\n        producing[2][6].setValue('1.08').power(buildings[2][6].true);\n\n        producing[2][5].setValue(2 * rain[1]).multiply(buildings[2][5].current, producing[2][6]).max('1');\n\n        producing[2][4].setValue('2').multiply(buildings[2][4].current, producing[2][5]).max('1');\n\n        producing[2][3].setValue('2').multiply(buildings[2][3].current, producing[2][4]).max('1');\n\n        const listForMult2 = [buildings[2][2].current, producing[2][3], vaporizationInfo.strength];\n        let prod2Number = (inVoid ? 0.01 : 2) * tension * stress * rain[0] * (1.8 ** strangeness[2][1]);\n        if (upgrades[2][1] === 1) { listForMult2.push(calculateEffects.S2Upgrade1()); }\n        if (researches[2][1] >= 1) {\n            if (vaporizationInfo.research1 !== researches[2][1]) { vaporizationInfo.research1 = Math.min(researches[2][1], Math.max(Math.floor(new Overlimit(buildings[2][1].total).divide('1e2').plus('1').log(5).toNumber()), 0)); }\n            prod2Number *= 2 ** vaporizationInfo.research1;\n        }\n        if (vacuum) { prod2Number *= calculateEffects.S3Extra4() * milestonesInfo[2].reward[1]; }\n        if (strangeness[2][6] >= 1) { prod2Number *= stageBoost[2]; }\n        producing[2][2].setValue(prod2Number).multiply(...listForMult2);\n\n        const dropsEffective = new Overlimit(buildings[2][1].current);\n        if (inVoid) {\n            if (dropsEffective.moreThan('1')) { dropsEffective.power(0.1); }\n        } else if (vacuum) {\n            const excess = new Overlimit(dropsEffective).minus(buildings[2][1].true);\n            if (excess.moreThan('1')) { dropsEffective.setValue(excess.power(0.2).plus(buildings[2][1].true)); }\n        }\n        const listForMult1 = [dropsEffective];\n        if (upgrades[2][0] === 1) { listForMult1.push(new Overlimit(vacuum ? '1.02' : '1.04').power(buildings[2][1].true)); }\n        let prod1Number = (vacuum ? 2 : 2e-4) * (2 ** strangeness[2][0]);\n        if (researches[2][0] >= 1) {\n            if (vaporizationInfo.research0 !== researches[2][0]) { vaporizationInfo.research0 = Math.min(researches[2][0], Math.max(Math.floor(new Overlimit(buildings[2][1].total).divide('1e1').log(1.36).toNumber() + 1), 0)); }\n            prod1Number *= 3 ** vaporizationInfo.research0;\n        }\n        producing[2][1].setValue(prod1Number).multiply(...listForMult1);\n    } else if (vacuum) { producing[2][1].setValue('1'); }\n    if (activeAll.includes(3)) {\n        producing[3][5].setValue('1.1').power(buildings[3][5].true);\n\n        producing[3][4].setValue(upgrades[3][12] === 1 ? '1.14' : '1.1').power(buildings[3][4].true).multiply(producing[3][5]);\n        const satellitesBoost = strangeness[3][3] < 1 ? new Overlimit('1') : new Overlimit(producing[3][4]).power(vacuum ? 0.2 : 0.3);\n\n        const listForMult3 = [buildings[3][3].current, producing[3][4]];\n        let prod3Number = 0.2 * (1.8 ** strangeness[3][1]);\n        if (researchesExtra[3][2] >= 1) { prod3Number *= 2; }\n        if (upgrades[3][7] === 1) { listForMult3.push(new Overlimit('1.02').power(buildings[3][3].true)); }\n        producing[3][3].setValue(prod3Number).multiply(...listForMult3);\n\n        const listForMult2 = [buildings[3][2].current, satellitesBoost];\n        let prod2Number = (3 ** researches[3][2]) * (1.8 ** strangeness[3][1]);\n        if (upgrades[3][3] === 1) { listForMult2.push(new Overlimit(calculateEffects.S3Upgrade3()).power(buildings[3][2].true)); }\n        if (upgrades[3][4] === 1) { prod2Number *= 3; }\n        if (researches[3][6] >= 1) { listForMult2.push(new Overlimit(buildings[3][0].current).max('1').power(calculateEffects.S3Research6())); }\n        producing[3][2].setValue(prod2Number).multiply(...listForMult2);\n\n        const listForMult1 = [buildings[3][1].current, satellitesBoost];\n        let prod1Number = (vacuum ? 2 : 8e-20) * (3 ** researches[3][0]) * (2 ** researches[3][3]) * (3 ** researches[3][5]) * (1.1 ** researchesExtra[3][0]) * (2 ** strangeness[3][0]);\n        if (vacuum) { prod1Number *= calculateEffects.submersion() * milestonesInfo[3].reward[0]; }\n        if (upgrades[3][0] === 1) { listForMult1.push(new Overlimit(calculateEffects.S3Upgrade0()).power(buildings[3][1].true)); }\n        if (upgrades[3][1] === 1) { prod1Number *= new Overlimit(buildings[3][1].current).power(calculateEffects.S3Upgrade1()).toNumber(); }\n        if (upgrades[3][2] === 1) { prod1Number *= 2; }\n        if (upgrades[3][5] === 1) { prod1Number *= 3; }\n        if (upgrades[3][6] === 1) { prod1Number *= 2 * 1.5 ** researches[3][7]; }\n        if (upgrades[3][9] === 1) { prod1Number *= 2; }\n        if (upgrades[3][10] === 1) { prod1Number *= 8 * 2 ** researches[3][8]; }\n        if (researchesExtra[3][1] >= 1) { prod1Number *= calculateEffects.S3Extra1(); }\n        producing[3][1].setValue(prod1Number).multiply(...listForMult1);\n        if (vacuum) {\n            if (inVoid) {\n                producing[3][1].power(player.accretion.rank >= 5 ? 0.84 : 0.92);\n            } else if (player.accretion.rank >= 5) { producing[3][1].power(0.92); }\n        } else if (player.accretion.rank >= 5) { producing[3][1].power(producing[3][1].lessThan('1') ? 1.1 : 0.9); }\n    } else if (vacuum) { producing[3][1].setValue('1'); }\n    if (activeAll.includes(4)) {\n        collapseInfo.massEffect = calculateEffects.mass();\n        collapseInfo.starEffect = [calculateEffects.star[0](), calculateEffects.star[1](), calculateEffects.star[2]()];\n        const listForTotal = [new Overlimit(calculateEffects.S4Research1()).power(global.collapseInfo.trueStars)];\n        let totalNumber = (calculateEffects.S4Research0() ** researches[4][0]) * collapseInfo.massEffect * collapseInfo.starEffect[1] * (1.2 ** researches[4][3]) * calculateEffects.S4Research4() * (1.8 ** strangeness[4][0]);\n        if (elements[4] === 1) { totalNumber *= 1.2; }\n        if (elements[14] === 1) { totalNumber *= 1.4; }\n        if (elements[19] === 1) { totalNumber *= 2; }\n        if (elements[24] === 1) { totalNumber *= new Overlimit(buildings[4][0].current).max('1').power(calculateEffects.element24()).toNumber(); }\n        if (elements[27] === 1) { totalNumber *= 3; }\n        if (vacuum) {\n            if (researchesExtra[1][4] >= 1) { totalNumber *= calculateEffects.S1Extra4() ** dischargeInfo.total; }\n            if (researchesExtra[2][3] >= 1) { totalNumber *= tension; }\n            if (researchesExtra[2][3] >= 3) {\n                totalNumber *= stress;\n            } else if (researchesExtra[2][3] >= 2) { totalNumber *= stress ** 0.5; }\n            totalNumber *= milestonesInfo[4].reward[0];\n        }\n        if (strangeness[4][7] >= 1) { totalNumber *= stageBoost[4]; }\n        const totalMultiplier = new Overlimit(totalNumber).multiply(...listForTotal);\n\n        producing[4][5].setValue('1e11').multiply(buildings[4][5].current, totalMultiplier);\n\n        producing[4][4].setValue('2e9').multiply(buildings[4][4].current, totalMultiplier);\n\n        producing[4][3].setValue('3e7').multiply(buildings[4][3].current, totalMultiplier);\n\n        producing[4][2].setValue(400 * collapseInfo.starEffect[0] * (2 ** researches[4][3])).multiply(buildings[4][2].current, totalMultiplier);\n\n        let prod1Number = 50;\n        if (elements[1] === 1) { prod1Number *= 2; }\n        producing[4][1].setValue(prod1Number).multiply(buildings[4][1].current, totalMultiplier);\n    } else { collapseInfo.starEffect[2] = 1; }\n    if (activeAll.includes(5)) {\n        let prod3Number = vacuum ? 2 : 6;\n        if (upgrades[5][2] === 1) { prod3Number += calculateEffects.S5Upgrade2(); }\n        if (vacuum) { prod3Number += milestonesInfo[5].reward[1]; }\n        producing[5][3].setValue(prod3Number).power(buildings[5][3].true);\n\n        const listForMult2 = [buildings[5][2].current, producing[5][3]];\n        let prod2Number = 1.5 * (3 ** researches[5][1]);\n        if (upgrades[5][1] === 1) { prod2Number *= calculateEffects.S5Upgrade1(); }\n        producing[5][2].setValue(prod2Number).multiply(...listForMult2).max('1');\n        if (inVoid) { producing[5][2].power(0.8); }\n\n        const listForMult1 = [buildings[5][1].current, producing[5][3]];\n        let prod1Number = 4 ** researches[5][0];\n        if (upgrades[5][0] === 1) { prod1Number *= calculateEffects.S5Upgrade0(); }\n        //if (researchesExtra[2][4] >= 1) { prod1Number *= tension * stress; }\n        producing[5][1].setValue(prod1Number).multiply(...listForMult1);\n        if (inVoid) { producing[5][1].power(0.8); }\n\n        producing[4][4].multiply(producing[5][2]);\n        if (researches[5][1] >= 1) { producing[4][3].multiply(producing[5][2]).divide('2'); }\n        if (researches[5][1] >= 2) { producing[4][2].multiply(producing[5][2]).divide('4'); }\n        if (researches[5][1] >= 3) { producing[4][1].multiply(producing[5][2]).divide('8'); }\n    }\n    if (vacuum) {\n        const inflationInfo = global.inflationInfo;\n        inflationInfo.preonTrue.setValue(producing[1][1]);\n        inflationInfo.dustTrue.setValue(producing[3][1].max('1'));\n        dischargeInfo.tritium.multiply(producing[2][1].max('1'));\n\n        const accretionMass = calculateMassGain();\n        inflationInfo.dustCap.setValue(1e48 * accretionMass);\n        if (producing[3][1].moreThan(inflationInfo.dustCap)) { producing[3][1].setValue(inflationInfo.dustCap); }\n\n        let microworldMass = collapseInfo.starEffect[2];\n        if (elements[10] === 1) { microworldMass *= 2; }\n        if (researchesExtra[4][1] >= 1) { microworldMass *= calculateEffects.S4Extra1(); }\n        inflationInfo.preonCap.setValue(1e14 * (energy ** calculateEffects.S1Extra3()) * milestonesInfo[4].reward[1] * microworldMass).multiply(producing[3][1]);\n        if (producing[1][1].moreThan(inflationInfo.preonCap)) { producing[1][1].setValue(inflationInfo.preonCap); }\n\n        inflationInfo.massCap = 0.01235 * accretionMass * microworldMass;\n        if (strangeness[5][7] >= 1) { inflationInfo.massCap *= stageBoost[5]; }\n    }\n};\n\nexport const buyBuilding = (index: number, stageIndex = player.stage.active, howMany: number | null = null, auto = false) => {\n    if (!checkBuilding(index, stageIndex)) { return; }\n    const building = player.buildings[stageIndex][index as 1];\n\n    let pointer; //For cost\n    let currency;\n    let free = false;\n    let special = '' as '' | 'Moles' | 'Mass' | 'Galaxy';\n    if (stageIndex === 1) {\n        pointer = player.buildings[1][index - 1];\n        if (index === 1) { free = player.inflation.vacuum && player.strangeness[1][8] >= 1; }\n    } else if (stageIndex === 2) {\n        if (index === 1 && player.inflation.vacuum) {\n            special = 'Moles';\n            pointer = player.buildings[1][5];\n            currency = new Overlimit(pointer.current).divide('6.02214076e23');\n        } else { pointer = player.buildings[2][index === 1 ? 0 : 1]; }\n    } else if (stageIndex === 3) {\n        if (player.inflation.vacuum) {\n            special = 'Mass';\n            pointer = player.buildings[1][0];\n            currency = new Overlimit(pointer.current).multiply('1.78266192e-33');\n        } else { pointer = player.buildings[3][0]; }\n    } else /*if (stageIndex >= 4)*/ {\n        pointer = player.buildings[4][0];\n        if (stageIndex === 5 && index === 3) {\n            special = 'Galaxy';\n            currency = new Overlimit(player.collapse.mass);\n        }\n    }\n    if (currency === undefined) { currency = new Overlimit(pointer.current); }\n\n    const budget = new Overlimit(currency);\n    if (auto && building.true > 0 && !free && special !== 'Galaxy') {\n        if (special === 'Mass' && player.strangeness[3][4] >= 2 && global.inflationInfo.dustTrue.moreOrEqual(global.inflationInfo.dustCap)) {\n            budget.minus(global.inflationInfo.massCap * 1.98847e33);\n        } else {\n            budget.divide(player.stage.true >= 3 ? player.toggles.shop.wait[stageIndex] : '2');\n        }\n    }\n\n    const total = calculateBuildingsCost(index, stageIndex);\n    if (total.moreThan(budget)) { return; }\n\n    let afford = 1;\n    if (howMany === null) { howMany = global.hotkeys.shift ? 1 : global.hotkeys.ctrl ? 10 : player.toggles.shop.input; }\n    if (howMany !== 1 && special !== 'Galaxy') {\n        const scaling = global.buildingsInfo.increase[stageIndex][index]; //Must be >1\n        if (free) {\n            afford = Math.floor(budget.divide(total).log(scaling).toNumber()) + 1;\n\n            if (howMany > 0) {\n                if (afford < howMany) { return; }\n                afford = howMany;\n            }\n        } else {\n            afford = Math.floor(budget.multiply(scaling - 1).divide(total).plus('1').log(scaling).toNumber());\n\n            if (howMany > 0) {\n                if (afford < howMany) { return; }\n                afford = howMany;\n            }\n            if (afford > 1) { total.multiply(new Overlimit(scaling).power(afford).minus('1').divide(scaling - 1)); }\n        }\n    }\n\n    building.true += afford;\n    building.current.plus(afford);\n    building.total.plus(afford);\n    building.trueTotal.plus(afford);\n    if (building.highest.lessThan(building.current)) { building.highest.setValue(building.current); }\n\n    if (special === 'Galaxy') {\n        //if (canReset) {\n        /**/reset('galaxy', player.inflation.vacuum ? [1, 2, 3, 4, 5] : [4, 5]);\n        /**/calculateMaxLevel(0, 4, 'researches');\n        /**/calculateMaxLevel(1, 4, 'researches');\n        /**/calculateMaxLevel(2, 4, 'researches');\n        /**/calculateMaxLevel(3, 4, 'researches');\n        /**/if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `Reseted progress for ${format(afford)} 'Galaxies'`; }\n        /*} else {\n            player.collapse.mass = currency.minus(total).toNumber();\n\n            if (player.inflation.vacuum) {\n                assignEnergy(global.dischargeInfo.getEnergy(3, 5) * afford);\n                awardMilestone(1, 1);\n            }\n\n            assignBuildingInformation();\n            if (!auto) {\n                numbersUpdate();\n                if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Made ${format(afford)} 'Galaxies'`; }\n            }\n        }*/\n        awardVoidReward(5);\n        awardMilestone(1, 5);\n    } else {\n        if (!free) {\n            currency.minus(total);\n\n            if (special === 'Moles') {\n                pointer.current = currency.multiply('6.02214076e23');\n                player.buildings[2][0].current.setValue(pointer.current).divide('6.02214076e23');\n            } else if (special === 'Mass') {\n                pointer.current = currency.divide('1.78266192e-33');\n                player.buildings[3][0].current.setValue(pointer.current).multiply('1.78266192e-33');\n            } else {\n                pointer.current = currency;\n            }\n        }\n\n        if (player.inflation.vacuum || stageIndex === 1) {\n            assignEnergy(global.dischargeInfo.getEnergy(index, stageIndex) * afford);\n            awardMilestone(1, 1);\n        }\n\n        if (stageIndex === 1) {\n            if (index === 5 && player.upgrades[1][8] < 1 && player.inflation.vacuum) { player.buildings[2][0].current.setValue(building.current).divide('6.02214076e23'); }\n        } else if (stageIndex === 2) {\n            if (index !== 1) { assignPuddles(); }\n        } else if (stageIndex === 3) {\n            if (index >= 4) { awardMilestone(1, 3); }\n        } else if (stageIndex === 4) {\n            global.collapseInfo.trueStars += afford;\n            awardMilestone(0, 5);\n        }\n\n        assignBuildingInformation();\n        if (!auto) {\n            numbersUpdate();\n            if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Made ${format(afford)} '${global.buildingsInfo.name[stageIndex][index]}'`; }\n        }\n    }\n};\n\nexport const assignEnergy = (add = null as number | null) => {\n    if (add === null) {\n        const { getEnergy, energyType } = global.dischargeInfo;\n\n        add = 0;\n        for (let s = 1; s < (player.inflation.vacuum ? energyType.length : 2); s++) {\n            const buildings = player.buildings[s];\n            for (let i = 1; i < energyType[s].length; i++) {\n                add += getEnergy(i, s) * buildings[i as 1].true;\n            }\n        }\n\n        global.dischargeInfo.energyTrue = add;\n        if (player.strangeness[1][9] >= 1) { player.discharge.energy = add; }\n    } else {\n        const { discharge } = player;\n\n        global.dischargeInfo.energyTrue += add;\n        discharge.energy += add;\n        if (discharge.energyMax < discharge.energy) { discharge.energyMax = discharge.energy; }\n    }\n};\n\nexport const calculateBuildingsCost = (index: number, stageIndex: number): Overlimit => {\n    const buildingsInfo = global.buildingsInfo;\n\n    let firstCost = buildingsInfo.startCost[stageIndex][index];\n    if (stageIndex === 1) {\n        let increase = 140;\n        if (player.upgrades[1][6] === 1) { increase -= calculateEffects.S1Upgrade6(); }\n        buildingsInfo.increase[1][index] = increase / 100;\n\n        if (index === 1) {\n            if (!player.inflation.vacuum && player.upgrades[1][2] === 1) { firstCost /= 10; }\n        } else if (index === 3) {\n            if (player.upgrades[1][1] === 1) { firstCost /= 10; }\n        } else if (index === 4) {\n            if (player.inflation.vacuum) {\n                if (player.upgrades[1][2] === 1) { firstCost /= 10; }\n                if (player.researchesExtra[1][0] >= 1) { firstCost /= 10; }\n            }\n        }\n    } else if (stageIndex === 3) {\n        if (player.strangeness[3][7] >= 1) { firstCost /= global.strangeInfo.stageBoost[3]; }\n        if (index === 4) {\n            buildingsInfo.increase[3][4] = player.upgrades[3][11] === 1 ? 5 : 10;\n        }\n    } else if (stageIndex === 4) {\n        let increase = 125 + 15 * index;\n        if (player.elements[2] === 1) { increase -= 10; }\n        if (player.elements[8] === 1) { increase -= 5; }\n        buildingsInfo.increase[4][index] = increase / 100;\n\n        firstCost /= 2 ** player.strangeness[4][1];\n        if (player.inflation.vacuum) { firstCost /= global.milestonesInfo[5].reward[0]; }\n        if (player.elements[13] === 1) { firstCost /= 1e3; }\n    }\n\n    return new Overlimit(buildingsInfo.increase[stageIndex][index]).power(player.buildings[stageIndex][index as 1].true).multiply(firstCost);\n};\n\nexport const assignPuddles = (reload = false) => {\n    const buildings = player.buildings[2];\n    const upgrades = player.upgrades[2];\n\n    let water5 = buildings[5].true;\n    let water4 = buildings[4].true;\n    let water3 = buildings[3].true;\n    let water2 = buildings[2].true;\n    if (upgrades[8] === 1) { water5 += buildings[6].true; }\n    if (upgrades[7] === 1) { water4 += water5; }\n    if (upgrades[6] === 1) { water3 += water4 * calculateEffects.S2Upgrade6(); }\n    if (upgrades[5] === 1) { water2 += water3 * calculateEffects.S2Upgrade5(); }\n    buildings[5].current.setValue(water5);\n    buildings[4].current.setValue(water4);\n    buildings[3].current.setValue(water3);\n    buildings[2].current.setValue(water2);\n    if (!reload) { awardMilestone(1, 2); }\n};\n\nexport const gainBuildings = (get: number, stageIndex: number, time: number) => {\n    let add: Overlimit;\n    let stageGet = stageIndex;\n    if (stageIndex === 1 && get === 5) {\n        add = new Overlimit(global.dischargeInfo.tritium).multiply(time);\n        if (!player.inflation.vacuum) { get = 3; }\n    } else if (stageIndex === 5) {\n        add = new Overlimit(global.buildingsInfo.producing[5][1]).multiply(time).divide(3 ** get);\n        stageGet = 4;\n        get++;\n    } else {\n        add = new Overlimit(global.buildingsInfo.producing[stageIndex][get + 1]).multiply(time);\n\n        if (stageIndex === 4) {\n            get = 0;\n        } else if (stageIndex === 2 && get === 1 && player.buildings[2][2].current.lessOrEqual('0') && player.researchesExtra[2][1] >= 1) {\n            add.plus(time * (calculateEffects.S2Extra1_2()[0] - 1));\n        }\n    }\n    if (add[0] === 0) { return; }\n    if (!add.isFinite()) {\n        if (global.debug.errorGain) {\n            global.debug.errorGain = false;\n            Notify(`Error while gaining ${add.toString()} '${global.buildingsInfo.name[stageGet][get]}'`);\n            setTimeout(() => { global.debug.errorGain = true; }, 6e4);\n        }\n        return;\n    }\n\n    const building = player.buildings[stageGet][get];\n    building.current.plus(add);\n    building.total.plus(add);\n    building.trueTotal.plus(add);\n    if (building.highest.lessThan(building.current)) { building.highest.setValue(building.current); }\n\n    if (stageIndex === 1) {\n        if (player.inflation.vacuum) {\n            if (get === 0) {\n                player.buildings[3][0].current.setValue(building.current).multiply('1.78266192e-33');\n                awardMilestone(0, 3);\n            } else if (get === 1) {\n                awardMilestone(0, 1);\n            } else if (get === 5) {\n                player.buildings[2][0].current.setValue(building.current).divide('6.02214076e23');\n            }\n        } else if (get === 0) { awardMilestone(0, 1); }\n    } else if (stageIndex === 3) {\n        if (get === 0) { //Never 0 for true vacuum\n            if (player.accretion.rank < 5 && building.current.moreThan('1e30')) { building.current.setValue('1e30'); }\n            awardMilestone(0, 3);\n        }\n    }\n};\n\nexport const assignStrangeBoost = () => {\n    const stageBoost = global.strangeInfo.stageBoost;\n    const strangeQuarks = player.strange[0].current + 1;\n\n    stageBoost[1] = strangeQuarks ** 0.16;\n    stageBoost[2] = strangeQuarks ** 0.22;\n    stageBoost[3] = strangeQuarks ** 0.44;\n    stageBoost[4] = strangeQuarks ** 0.28;\n    stageBoost[5] = strangeQuarks ** 0.06;\n};\n\nexport const gainStrange = (get: number, time: number) => {\n    const strange = player.strange[get];\n    const max = Math.floor(player.strange[get + 1].current * 1e12);\n    if (strange.current >= max) { return; }\n\n    const add = max * time / 600;\n    strange.current += add;\n    strange.total += add;\n    if (strange.current > max) {\n        const old = strange.current;\n        strange.current = max;\n        strange.total = Math.round(strange.total - (old - strange.current));\n    }\n\n    if (get === 0) { assignStrangeBoost(); }\n};\n\nexport const buyUpgrades = (upgrade: number, stageIndex: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements', auto = false): boolean => {\n    if (!auto && !checkUpgrade(upgrade, stageIndex, type)) { return false; } //Auto should already checked if allowed, also allows for delayed purchase of Elements\n\n    let free = false;\n    let currency: Overlimit;\n    if (stageIndex === 1) {\n        currency = new Overlimit(player.discharge.energy);\n        free = player.inflation.vacuum && player.strangeness[1][9] >= 1;\n    } else if (stageIndex === 2) {\n        currency = new Overlimit(player.buildings[2][1].current);\n    } else if (stageIndex === 3) {\n        currency = player.inflation.vacuum ? new Overlimit(player.buildings[1][0].current).multiply('1.78266192e-33') : new Overlimit(player.buildings[3][0].current);\n    } else /* if (stageIndex === 4 || stageIndex === 5) */ {\n        currency = new Overlimit(player.buildings[4][0].current);\n    }\n\n    if (type === 'upgrades') {\n        if (player.upgrades[stageIndex][upgrade] >= 1) { return false; }\n\n        const pointer = global.upgradesInfo[stageIndex];\n        if (currency.lessThan(pointer.startCost[upgrade])) { return false; }\n\n        player.upgrades[stageIndex][upgrade]++;\n        if (!free) { currency.minus(pointer.startCost[upgrade]); }\n\n        /* Special cases */\n        if (stageIndex === 2) {\n            if (upgrade >= 5 /*&& upgrade < 9*/) { assignPuddles(); }\n        } else if (stageIndex === 4 && upgrade === 1 && global.tab === 'upgrade') { switchTab('upgrade'); }\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `New upgrade '${pointer.name[upgrade]}', has been created`; }\n    } else if (type === 'researches' || type === 'researchesExtra') {\n        const pointer = global[`${type}Info`][stageIndex];\n        const level = player[type][stageIndex];\n\n        if (level[upgrade] >= pointer.max[upgrade]) { return false; }\n        let cost = pointer.cost[upgrade];\n        if (currency.lessThan(cost)) { return false; }\n\n        let newLevels = 1;\n        if ((auto || (player.toggles.max[0] && player.stage.true >= 2)) && pointer.max[upgrade] > 1) {\n            const scaling = pointer.scaling[upgrade]; //Must be >1 (>0 for Stage 1)\n            if (stageIndex === 1) {\n                if (free) {\n                    newLevels = Math.min(Math.floor((currency.toNumber() - cost) / scaling + 1), pointer.max[upgrade] - level[upgrade]);\n                } else {\n                    const simplify = cost - scaling / 2;\n                    newLevels = Math.min(Math.floor(((simplify ** 2 + 2 * scaling * currency.toNumber()) ** 0.5 - simplify) / scaling), pointer.max[upgrade] - level[upgrade]);\n                    if (newLevels > 1) { cost = newLevels * (newLevels * scaling / 2 + simplify); }\n                }\n            } else {\n                newLevels = Math.min(Math.floor(new Overlimit(currency).multiply(scaling - 1).divide(cost).plus('1').log(scaling).toNumber()), pointer.max[upgrade] - level[upgrade]);\n                if (newLevels > 1) { cost = new Overlimit(scaling).power(newLevels).minus('1').divide(scaling - 1).multiply(cost).toNumber(); }\n            }\n        }\n\n        level[upgrade] += newLevels;\n        if (!free) { currency.minus(cost); }\n\n        /* Special cases */\n        if (type === 'researches') {\n            if (stageIndex === 2) {\n                if (upgrade >= 4 /*&& upgrade < 6*/) {\n                    assignPuddles();\n                }\n            } else if (stageIndex === 4) {\n                if (upgrade === 2 || upgrade === 3) {\n                    calculateMaxLevel(0, 4, 'researches', true);\n                }\n            }\n        } else if (type === 'researchesExtra') {\n            if (stageIndex === 1) {\n                if (upgrade === 2) {\n                    if (player.stage.current < 4) { player.stage.current = player.researchesExtra[1][2] > 1 ? 2 : 3; }\n                    stageUpdate('soft');\n                    awardVoidReward(1);\n                }\n            } else if (stageIndex === 4) {\n                if (upgrade === 2) {\n                    calculateMaxLevel(1, 4, 'researches', true);\n                }\n            } else if (stageIndex === 5) {\n                if (upgrade === 0) {\n                    calculateMaxLevel(0, 5, 'ASR', true);\n                }\n            }\n        }\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `Research '${pointer.name[upgrade]}' level increased, it is now ${level[upgrade]} ${level[upgrade] >= pointer.max[upgrade] ? 'maxed' : ''}`; }\n    } else if (type === 'researchesAuto' || type === 'ASR') {\n        if (type === 'ASR') { upgrade = stageIndex; }\n        const pointer = global[`${type}Info`];\n        const level = player[type];\n\n        if (level[upgrade] >= pointer.max[upgrade]) { return false; }\n        const cost = pointer.costRange[upgrade][level[upgrade]];\n        if (currency.lessThan(cost)) { return false; }\n\n        level[upgrade]++;\n        if (!free) { currency.minus(cost); }\n\n        /* Special cases */\n        if (type === 'ASR') {\n            if (player.maxASR[upgrade] < level[upgrade]) { player.maxASR[upgrade] = level[upgrade]; }\n        }\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `Research '${type === 'ASR' ? pointer.name : pointer.name[upgrade]}' level increased, it is now ${level[upgrade]} ${level[upgrade] >= pointer.max[upgrade] ? 'maxed' : ''}`; }\n    } else if (type === 'elements') {\n        let level = player.elements[upgrade];\n        if (level >= 1) { return false; }\n\n        if (level === 0) {\n            const startCost = global.elementsInfo.startCost[upgrade];\n            if (currency.lessThan(startCost)) { return false; }\n            currency.minus(startCost);\n        } else if (!auto) { return false; }\n        level = player.strangeness[4][6] >= 1 || level === 0.5 ? 1 : 0.5;\n        player.elements[upgrade] = level;\n\n        /* Special cases */\n        if (player.collapse.show < upgrade) { player.collapse.show = upgrade; }\n        if (level === 1) {\n            if (upgrade === 7 || upgrade === 16 || upgrade === 20 || upgrade === 25) {\n                calculateMaxLevel(1, 4, 'researches', true);\n            } else if (upgrade === 9 || upgrade === 17) {\n                calculateMaxLevel(0, 4, 'researches', true);\n            } else if (upgrade === 11) {\n                calculateMaxLevel(2, 4, 'researches', true);\n            } else if (upgrade === 26) {\n                player.stage.current = 5;\n                if (player.stage.true < 5) {\n                    player.stage.true = 5;\n                    player.events[0] = false;\n                }\n                stageUpdate('soft');\n                awardVoidReward(5);\n            }\n        }\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `New Element '${global.elementsInfo.name[upgrade]}' ${player.elements[upgrade] >= 1 ? 'obtained' : 'awaiting activation'}`; }\n    }\n\n    if (stageIndex === 1) {\n        if (!free) { player.discharge.energy = currency.toNumber(); }\n    } else if (stageIndex === 2) {\n        player.buildings[2][1].current = currency;\n\n        if (player.buildings[2][2].current.lessOrEqual('0') && player.buildings[2][1].current.lessThan(player.buildings[2][1].true)) {\n            const old = player.buildings[2][1].true;\n            player.buildings[2][1].true = Math.floor(player.buildings[2][1].current.toNumber());\n            if (player.inflation.vacuum) {\n                const decreased = (old - player.buildings[2][1].true) * global.dischargeInfo.getEnergy(1, 2);\n                global.dischargeInfo.energyTrue -= decreased;\n                player.discharge.energy -= decreased;\n            } else if (player.buildings[2][1].current.lessOrEqual('0') && player.buildings[2][0].current.lessThan('2.8e-3')) {\n                player.buildings[2][0].current.setValue('2.8e-3');\n            }\n        }\n    } else if (stageIndex === 3) {\n        if (player.inflation.vacuum) {\n            player.buildings[1][0].current = currency.divide('1.78266192e-33');\n            player.buildings[3][0].current.setValue(player.buildings[1][0].current).multiply('1.78266192e-33');\n        } else { player.buildings[3][0].current = currency; }\n    } else /*if (stageIndex === 4 || stageIndex === 5)*/ {\n        player.buildings[4][0].current = currency;\n    }\n\n    assignBuildingInformation();\n    if (type === 'upgrades' || type === 'elements') {\n        visualUpdateUpgrades(upgrade, stageIndex, type);\n    } else {\n        if (type !== 'researchesAuto' && type !== 'ASR') { calculateResearchCost(upgrade, stageIndex, type); }\n        visualUpdateResearches(upgrade, stageIndex, type);\n    }\n    if (!auto) { numbersUpdate(); }\n    return true;\n};\n\nexport const buyStrangeness = (upgrade: number, stageIndex: number, type: 'strangeness', auto = false): boolean => {\n    if (!auto && !checkUpgrade(upgrade, stageIndex, type)) { return false; }\n\n    if (type === 'strangeness') {\n        const pointer = global.strangenessInfo[stageIndex];\n\n        if (player.strangeness[stageIndex][upgrade] >= pointer.max[upgrade]) { return false; }\n        if (player.strange[0].current < global.strangenessInfo[stageIndex].cost[upgrade]) { return false; }\n\n        player.strangeness[stageIndex][upgrade]++;\n        player.strange[0].current -= pointer.cost[upgrade];\n\n        /* Special cases */\n        if (stageIndex === 1) {\n            if (upgrade === 5) {\n                if (player.ASR[1] < player.maxASR[1]) {\n                    player.ASR[1] = player.maxASR[1];\n                    visualUpdateResearches(0, 1, 'ASR');\n                }\n            } else if (upgrade === 7) {\n                assignEnergy();\n            } else if (upgrade === 9) {\n                assignEnergy();\n                calculateMaxLevel(4, 2, 'strangeness', true);\n                calculateMaxLevel(4, 3, 'strangeness', true);\n                calculateMaxLevel(4, 4, 'strangeness', true);\n            }\n        } else if (stageIndex === 2) {\n            if (upgrade === 2) {\n                calculateMaxLevel(4, 2, 'researches', true);\n                calculateMaxLevel(5, 2, 'researches', true);\n            } else if (upgrade === 5) {\n                if (player.ASR[2] < player.maxASR[2]) {\n                    player.ASR[2] = player.maxASR[2];\n                    visualUpdateResearches(0, 2, 'ASR');\n                }\n            } else if (upgrade === 8) {\n                calculateMaxLevel(2, 2, 'researches', true);\n                calculateMaxLevel(3, 2, 'researches', true);\n            }\n        } else if (stageIndex === 3) {\n            if (upgrade === 2) {\n                calculateMaxLevel(0, 3, 'researchesExtra', true);\n                calculateMaxLevel(1, 3, 'researchesExtra', true);\n            } else if (upgrade === 5) {\n                if (player.ASR[3] < player.maxASR[3]) {\n                    player.ASR[3] = player.maxASR[3];\n                    visualUpdateResearches(0, 3, 'ASR');\n                }\n            } else if (upgrade === 6) {\n                if (player.researchesAuto[0] < player.strangeness[3][6]) {\n                    player.researchesAuto[0] = player.strangeness[3][6];\n                    visualUpdateResearches(0, 0, 'researchesAuto');\n                }\n            } /*else if (upgrade === 9) {\n                global.debug.rankUpdated = -1;\n                assignMaxRank();\n            }*/\n        } else if (stageIndex === 4) {\n            if (upgrade === 5) {\n                if (player.ASR[4] < player.maxASR[4]) {\n                    player.ASR[4] = player.maxASR[4];\n                    visualUpdateResearches(0, 4, 'ASR');\n                }\n            } else if (upgrade === 6) {\n                for (let i = 1; i < player.elements.length; i++) {\n                    i = player.elements.indexOf(0.5, i);\n                    if (i < 1) { break; }\n                    buyUpgrades(i, 4, 'elements', true);\n                }\n            } else if (upgrade === 8) {\n                if (player.elements[0] < 1) {\n                    player.elements[0] = 1;\n                    visualUpdateUpgrades(0, 4, 'elements');\n                }\n            }\n        } else if (stageIndex === 5) {\n            if (upgrade === 0) {\n                if (player.inflation.vacuum) {\n                    if (global.tab === 'strangeness') { switchTab('strangeness'); }\n                } else if (player.stage.current === player.strangeness[5][0]) {\n                    player.stage.current++;\n                    player.time.stage = 0;\n                    player.stage.time = 0;\n                    player.stage.peak = 0;\n                    if (player.stage.active === player.stage.current - 1) {\n                        setActiveStage(player.stage.current);\n                        stageUpdate();\n                    }\n                } else { stageUpdate('soft'); }\n            } else if (upgrade === 5) {\n                if (player.inflation.vacuum) { stageUpdate('soft'); }\n            } else if (upgrade === 6) {\n                if (player.ASR[5] < player.maxASR[5]) {\n                    player.ASR[5] = player.maxASR[5];\n                    visualUpdateResearches(0, 5, 'ASR');\n                }\n            } else if (upgrade === 8) {\n                const strange = player.strange;\n                const level = player.strangeness[5][8];\n                strange[level - 1].total -= strange[level - 1].current;\n                strange[level].current = strange[level - 1].current / 1e12;\n                strange[level].total = strange[level].current;\n                strange[level - 1].current = 0;\n            }\n        }\n        assignStrangeBoost();\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `Strangeness of '${pointer.name[upgrade]}' for ${global.stageInfo.word[stageIndex]} Stage is increased, level is now ${player.strangeness[stageIndex][upgrade]}${player.strangeness[stageIndex][upgrade] >= pointer.max[upgrade] ? 'maxed' : ''}`; }\n    }\n\n    assignBuildingInformation();\n    calculateResearchCost(upgrade, stageIndex, type);\n    visualUpdateResearches(upgrade, stageIndex, type);\n    if (!auto) { numbersUpdate(); }\n    return true;\n};\n\n//Currently can't allow price to be more than 2**1024. Because missing sorting function for numbers that big\nexport const calculateResearchCost = (research: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'strangeness') => {\n    if (type === 'researches' || type === 'researchesExtra') {\n        const pointer = global[`${type}Info`][stageIndex];\n\n        pointer.cost[research] = stageIndex === 1 ?\n            pointer.startCost[research] + pointer.scaling[research] * player[type][stageIndex][research] :\n            pointer.startCost[research] * pointer.scaling[research] ** player[type][stageIndex][research];\n    } else if (type === 'strangeness') {\n        global.strangenessInfo[stageIndex].cost[research] = player.inflation.vacuum ?\n            Math.floor(Math.round((global.strangenessInfo[stageIndex].startCost[research] * global.strangenessInfo[stageIndex].scaling[research] ** player.strangeness[stageIndex][research]) * 100) / 100) :\n            Math.floor(Math.round((global.strangenessInfo[stageIndex].startCost[research] + global.strangenessInfo[stageIndex].scaling[research] * player.strangeness[stageIndex][research]) * 100) / 100);\n    }\n};\n\nexport const calculateMaxLevel = (research: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'strangeness', addAuto = false) => {\n    let max = null;\n    if (type === 'ASR') {\n        if (stageIndex === 1) {\n            max = player.inflation.vacuum ? 5 : 3;\n        } else if (stageIndex === 2) {\n            max = player.inflation.vacuum ? 6 : 5;\n        } else if (stageIndex === 3) {\n            max = player.inflation.vacuum ? 5 : 4;\n        } else if (stageIndex === 4) {\n            max = player.inflation.vacuum ? 5 : 4;\n        } else if (stageIndex === 5) {\n            max = player.inflation.vacuum || player.milestones[5][0] >= 8 ? 3 : 2;\n        }\n    } else if (type === 'researches') {\n        if (stageIndex === 2) {\n            if (research === 2) {\n                max = 4;\n                if (player.strangeness[2][8] >= 1) { max += 4; }\n            } else if (research === 3) {\n                max = 4;\n                if (player.strangeness[2][8] >= 2) { max += 2; }\n            } else if (research === 4) {\n                max = 2;\n                if (player.strangeness[2][2] >= 1) { max++; }\n            } else if (research === 5) {\n                max = 1;\n                if (player.strangeness[2][2] >= 2) { max++; }\n            }\n        } else if (stageIndex === 4) {\n            if (research === 0) {\n                max = 3 + (3 * player.researches[4][2]) + (3 * player.researches[4][3]);\n                if (player.elements[9] === 1) { max += 12; }\n                if (player.elements[17] === 1) { max += 24; }\n            } else if (research === 1) {\n                max = 2 + player.researchesExtra[4][2];\n                if (player.elements[7] === 1) { max += 2; }\n                if (player.elements[16] === 1) { max++; }\n                if (player.elements[20] === 1) { max++; }\n                if (player.elements[25] === 1) { max++; }\n            } else if (research === 2) {\n                max = 1;\n                if (player.elements[11] === 1) { max++; }\n            }\n        }\n    } else if (type === 'researchesExtra') {\n        if (stageIndex === 3) {\n            if (research === 0) {\n                max = 12;\n                if (player.accretion.rank >= 3) { max += 17; }\n                if (player.strangeness[3][2] >= 1) { max += 9; }\n            } else if (research === 1) {\n                max = 5;\n                if (player.strangeness[3][2] >= 2) { max += 3; }\n            } else if (research === 4) {\n                max = player.accretion.rank - 2;\n            }\n        }\n    } else if (type === 'strangeness') {\n        if (stageIndex === 1) {\n            if (research === 0) {\n                max = 6 + Math.min(player.challenges.void[3], 4);\n            } else if (research === 3) {\n                max = 2 + Math.min(Math.floor(player.challenges.void[3] / 2), 2);\n            }\n        } else if (stageIndex === 2) {\n            if (research === 1) {\n                max = 8 + Math.min(player.challenges.void[3], 4);\n            } else if (research === 3) {\n                max = 2 + Math.min(Math.floor(player.challenges.void[3] / 2), 2);\n            } else if (research === 4) {\n                max = player.strangeness[1][9] >= 1 ? 2 : 1;\n            }\n        } else if (stageIndex === 3) {\n            if (research === 0) {\n                max = 8 + Math.min(player.challenges.void[3], 4);\n            } else if (research === 1) {\n                max = 4 + Math.min(Math.floor(player.challenges.void[3] / 2), 2);\n            } else if (research === 4) {\n                max = player.strangeness[1][9] >= 1 ? 2 : 1;\n            }\n        } else if (stageIndex === 4) {\n            if (research === 0) {\n                max = 8 + Math.min(player.challenges.void[3], 4);\n            } else if (research === 1) {\n                max = 4 + Math.min(Math.floor(player.challenges.void[3] / 2), 2);\n            } else if (research === 4) {\n                max = player.strangeness[1][9] >= 1 ? 2 : 1;\n            } else if (research === 6) {\n                max = player.inflation.vacuum || player.milestones[5][0] >= 8 ? 2 : 1;\n            }\n        } else if (stageIndex === 5) {\n            if (research === 0) {\n                max = player.inflation.vacuum ? 1 : 3;\n            } else if (research === 1) {\n                max = 1 + Math.min(Math.floor(player.challenges.void[3] / 2), 2);\n            }\n        }\n    }\n    if (max !== null) {\n        if (max < 0) { max = 0; }\n        if (type === 'ASR') {\n            global.ASRInfo.max[stageIndex] = max;\n        } else if (type !== 'researchesAuto') {\n            global[`${type}Info`][stageIndex].max[research] = max;\n        }\n    }\n\n    if (type !== 'researchesAuto' && type !== 'ASR') { calculateResearchCost(research, stageIndex, type); }\n    visualUpdateResearches(research, stageIndex, type);\n    if (addAuto && (type === 'researches' || type === 'researchesExtra')) { autoResearchesSet(type, [stageIndex, research]); }\n};\n\nexport const autoUpgradesSet = (which: 'all' | number) => {\n    if (!player.toggles.auto[5]) { return; }\n    const auto = global.automatization.autoU;\n    const level = player.upgrades;\n    const pointer = global.upgradesInfo;\n\n    if (which === 'all') {\n        for (let s = 1; s <= 5; s++) {\n            auto[s] = [];\n            for (let i = 0; i < pointer[s].maxActive; i++) {\n                if (level[s][i] < 1) {\n                    auto[s].push(i);\n                }\n            }\n            const startCost = pointer[s].startCost;\n            auto[s].sort((a, b) => startCost[a] - startCost[b]);\n        }\n    } else if (typeof which === 'number') {\n        auto[which] = [];\n        for (let i = 0; i < pointer[which].maxActive; i++) {\n            if (level[which][i] < 1) {\n                auto[which].push(i);\n            }\n        }\n        const startCost = pointer[which].startCost;\n        auto[which].sort((a, b) => startCost[a] - startCost[b]);\n    }\n};\n\nexport const autoUpgradesBuy = (stageIndex: number) => {\n    if (!player.toggles.auto[5] || player.researchesAuto[0] < 1) { return; }\n    const auto = global.automatization.autoU[stageIndex];\n\n    for (let i = 0; i < auto.length; i++) {\n        const index = auto[i];\n\n        if (!checkUpgrade(index, stageIndex, 'upgrades')) { continue; }\n        buyUpgrades(index, stageIndex, 'upgrades', true);\n\n        if (player.upgrades[stageIndex][index] >= 1) {\n            auto.splice(i, 1);\n            i--;\n        } else { break; }\n    }\n};\n\n//All = reset all of current active stages; As number means reset that stage only; As array means add [1] into stage [0] if it's not already inside\nexport const autoResearchesSet = (type: 'researches' | 'researchesExtra', which: 'all' | number | number[]) => {\n    if (!player.toggles.auto[type === 'researches' ? 6 : 7]) { return; }\n    const auto = global.automatization[type === 'researches' ? 'autoR' : 'autoE'];\n    const level = player[type];\n    const pointer = global[`${type}Info`];\n\n    if (which === 'all') {\n        for (let s = 1; s <= 5; s++) {\n            auto[s] = [];\n            const { max, cost } = pointer[s];\n            for (let i = 0; i < pointer[s].maxActive; i++) {\n                if (level[s][i] < max[i]) {\n                    auto[s].push(i);\n                }\n            }\n            auto[s].sort((a, b) => cost[a] - cost[b]);\n        }\n    } else if (typeof which === 'number') {\n        auto[which] = [];\n        const { max, cost } = pointer[which];\n        for (let i = 0; i < pointer[which].maxActive; i++) {\n            if (level[which][i] < max[i]) {\n                auto[which].push(i);\n            }\n        }\n        auto[which].sort((a, b) => cost[a] - cost[b]);\n    } else {\n        const [s, a] = which;\n        if (pointer[s].max[a] > level[s][a]) {\n            const { cost } = pointer[s];\n            let newIndex;\n            for (let i = 0; i < auto[s].length; i++) {\n                if (auto[s][i] === a) { return; }\n                if (newIndex === undefined && cost[a] < cost[auto[s][i]]) {\n                    newIndex = i;\n                }\n            }\n            if (newIndex !== undefined) {\n                auto[s].splice(newIndex, 0, a);\n            } else { auto[s].push(a); }\n        }\n    }\n};\n\nexport const autoResearchesBuy = (type: 'researches' | 'researchesExtra', stageIndex: number) => {\n    if (type === 'researches') {\n        if (!player.toggles.auto[6] || player.researchesAuto[0] < 2) { return; }\n    } else /*if (type === 'researchesExtra')*/ {\n        if (!player.toggles.auto[7] || player.researchesAuto[0] < 3) { return; }\n    }\n    const auto = global.automatization[type === 'researches' ? 'autoR' : 'autoE'][stageIndex];\n    const pointer = global[`${type}Info`][stageIndex];\n\n    let sort = false;\n    for (let i = 0; i < auto.length; i++) {\n        if (!checkUpgrade(auto[i], stageIndex, type)) { continue; }\n        const bought = buyUpgrades(auto[i], stageIndex, type, true);\n\n        if (player[type][stageIndex][auto[i]] >= pointer.max[auto[i]]) {\n            auto.splice(i, 1);\n            i--;\n        } else if (!bought) {\n            if (pointer.cost[auto[i]] > pointer.cost[auto[i + 1]]) {\n                sort = true;\n                continue;\n            }\n            break;\n        }\n    }\n    if (sort) { auto.sort((a, b) => pointer.cost[a] - pointer.cost[b]); }\n};\n\nexport const autoElementsSet = () => {\n    if (!player.toggles.auto[8]) { return; }\n    const auto = global.automatization.elements;\n    const startCost = global.elementsInfo.startCost;\n    const elements = player.elements;\n\n    for (let i = 1; i < (player.inflation.vacuum ? startCost.length : 29); i++) {\n        if (elements[i] === 0) { auto.push(i); }\n    }\n\n    auto.sort((a, b) => startCost[a] - startCost[b]);\n};\n\nexport const autoElementsBuy = () => {\n    if (!player.toggles.auto[8] || player.strangeness[4][6] < 2) { return; }\n    const auto = global.automatization.elements;\n    const elements = player.elements;\n\n    for (let i = 0; i < auto.length; i++) {\n        const index = auto[i];\n\n        if (!checkUpgrade(index, 4, 'elements')) { break; }\n        buyUpgrades(index, 4, 'elements', true);\n\n        if (elements[index] === 1) {\n            auto.splice(i, 1);\n            i--;\n        } else { break; }\n    }\n};\n\nexport const toggleSwap = (number: number, type: 'buildings' | 'hover' | 'max' | 'auto', change = false) => {\n    const toggles = type === 'buildings' ? player.toggles.buildings[player.stage.active] : player.toggles[type];\n\n    if (change) {\n        if (type === 'buildings') {\n            if (number === 0) {\n                toggles[0] = !toggles[0];\n                for (let i = 1; i < toggles.length; i++) {\n                    toggles[i] = toggles[0];\n                    toggleSwap(i, 'buildings');\n                }\n            } else {\n                const buildings = player.buildings[player.stage.active];\n                if (number >= buildings.length) { return; }\n\n                let anyOn = false;\n                toggles[number] = !toggles[number];\n                for (let i = 1; i < global.buildingsInfo.maxActive[player.stage.active]; i++) {\n                    if (toggles[i] && buildings[i].highest.moreThan('0')) {\n                        anyOn = true;\n                        break;\n                    }\n                }\n                if (toggles[0] !== anyOn) {\n                    toggles[0] = anyOn;\n                    toggleSwap(0, 'buildings');\n                }\n            }\n        } else { toggles[number] = !toggles[number]; }\n    }\n\n    let extraText;\n    let toggleHTML;\n    if (type === 'buildings') {\n        toggleHTML = getId(`toggleBuilding${number}`);\n        extraText = number === 0 ? 'All ' : 'Auto ';\n    } else if (type === 'hover') {\n        toggleHTML = getId(`toggleHover${number}`);\n        extraText = 'Hover to create ';\n    } else if (type === 'max') {\n        toggleHTML = getId(`toggleMax${number}`);\n        extraText = 'Max create ';\n    } else {\n        toggleHTML = getId(`toggleAuto${number}`);\n        extraText = 'Auto ';\n    }\n\n    if (!toggles[number]) {\n        toggleHTML.style.color = 'var(--red-text)';\n        toggleHTML.style.borderColor = 'crimson';\n        toggleHTML.textContent = `${extraText}OFF`;\n    } else {\n        toggleHTML.style.color = '';\n        toggleHTML.style.borderColor = '';\n        toggleHTML.textContent = `${extraText}ON`;\n    }\n};\n\nexport const toggleConfirm = (number: number, change = false) => {\n    const toggles = player.toggles.confirm;\n    if (change) { toggles[number] = toggles[number] === 'All' ? 'Safe' : toggles[number] === 'Safe' ? 'None' : 'All'; }\n\n    const toggleHTML = getId(`toggleConfirm${number}`);\n    toggleHTML.textContent = toggles[number];\n    if (toggles[number] === 'All' || toggles[number] === 'Safe') {\n        toggleHTML.style.color = '';\n        toggleHTML.style.borderColor = '';\n    } else {\n        toggleHTML.style.color = 'var(--red-text)';\n        toggleHTML.style.borderColor = 'crimson';\n    }\n};\n\nexport const stageResetCheck = (stageIndex: number, auto = false): boolean => {\n    let allowed = false;\n    if (stageIndex >= 5) {\n        allowed = player.elements[26] === 1;\n    } else if (stageIndex === 4) {\n        return false;\n    } else if (stageIndex === 3) {\n        allowed = player.buildings[3][0].current.moreOrEqual('2.45576045e31');\n    } else if (stageIndex === 2) {\n        allowed = player.buildings[2][1].current.moreOrEqual('1.19444e29');\n    } else if (stageIndex === 1) {\n        allowed = player.buildings[1][3].current.moreOrEqual('1.67133125e21');\n    }\n\n    if (auto && allowed) {\n        if (player.strangeness[5][2] < 1 || (stageIndex >= 4 && global.strangeInfo.gain(stageIndex) / 1e12 ** player.strangeness[5][8] < player.stage.input)) { return false; }\n        stageResetReward(stageIndex);\n    }\n    return allowed;\n};\n\nexport const stageAsyncReset = async() => {\n    const stage = player.stage;\n    const active = player.inflation.vacuum || (stage.active >= 4 && player.events[0]) ? 5 : stage.active;\n\n    if (!stageResetCheck(active)) {\n        if (player.toggles.confirm[0] === 'None' || (stage.true < 2 && player.upgrades[1][9] < 1)) { return; }\n        if (active >= 5) { return void Alert('Awaiting \"[26] Iron\" Element'); }\n        if (active === 4) { return void Alert('Enter Intergalactic space first'); }\n        if (active === 3) { return void Alert(`Self sustaining is not yet possible, obtain at least ${format(2.45576045e31)} Mass`); }\n        if (active === 2) { return void Alert(`Look's like more Mass expected, need even more Drops, around ${format(1.19444e29)} in total`); }\n        if (active === 1) { return void Alert(`Not enough to form a single Drop of water, need at least ${format(1.67133125e21)} Molecules`); }\n    } else {\n        if (player.toggles.confirm[0] !== 'None') {\n            const challenge = player.challenges.active;\n            if (player.toggles.confirm[0] !== 'Safe' || challenge !== -1) {\n                let text;\n                if (active >= 5) {\n                    text = !player.inflation.vacuum ? `Return back to Microworld for ${format(global.strangeInfo.gain(5))} Strange quarks?` :\n                        `Ready to reset progress for ${format(global.strangeInfo.gain(5) / 1e12 ** player.strangeness[5][8])} ${global.strangeInfo.name[player.strangeness[5][8]]}?`;\n                    if (challenge !== -1) { text += `\\n(${global.challengesInfo.name[challenge]} is active)`; }\n                } else if (active !== stage.current) {\n                    text = `Reset this Stage for ${format(global.strangeInfo.gain(active))} Strange quarks?`;\n                } else {\n                    text = 'Ready to enter next Stage? Next one will be harder than current';\n                }\n                if (!await Confirm(text)) { return; }\n                if (!stageResetCheck(active)) { return Notify('Stage reset canceled, requirements are no longer met'); }\n            }\n        }\n        stageResetReward(active);\n    }\n};\n\nconst stageResetReward = (stageIndex: number) => {\n    const { stage } = player;\n    const time = player.time.stage;\n\n    stage.resets++;\n    let update: false | 'normal' | 'soft' = 'normal';\n    const resetThese = player.inflation.vacuum ? [1, 2, 3, 4, 5] : [stageIndex];\n    if (player.inflation.vacuum) {\n        setActiveStage(1);\n        player.time.stage = 0;\n        stage.time = 0;\n        stage.peak = 0;\n        stage.current = 1;\n    } else if (stageIndex === stage.current) {\n        player.time.stage = 0;\n        stage.time = 0;\n        stage.peak = 0;\n        if (stageIndex < 5) {\n            stage.current++;\n            if (stage.active === stage.current - 1) {\n                setActiveStage(stage.current);\n            } else { update = 'soft'; }\n            if (stage.current > stage.true) {\n                stage.true = stage.current;\n                player.events[0] = false;\n            }\n        } else {\n            stage.current = 1 + player.strangeness[5][0];\n            if ((stage.active === 4 && stage.current !== 4) || stage.active === 5) {\n                setActiveStage(stage.current);\n            } else { update = 'soft'; }\n            resetThese.unshift(4);\n        }\n    } else { update = stageIndex === stage.active ? 'soft' : false; }\n\n    if (stage.true >= 5) {\n        const trueGain = global.strangeInfo.gain(stageIndex);\n        if (trueGain > stage.best) { stage.best = trueGain; }\n\n        const resetType = player.strangeness[5][8];\n        const postGain = trueGain / 1e12 ** resetType;\n        player.strange[resetType].current += postGain;\n        player.strange[resetType].total += postGain;\n        assignStrangeBoost();\n\n        if (stageIndex >= 4) {\n            const storage = global.historyStorage.stage;\n            const history = player.history.stage;\n            storage.unshift([trueGain, time, resetType]);\n            if (storage.length > 100) { storage.length = 100; }\n            if (trueGain / time > history.best[0] / history.best[1]) { history.best = [trueGain, time, resetType]; }\n        }\n    }\n\n    resetStage(resetThese, update);\n};\nconst stageResetNoReward = () => {\n    setActiveStage(1);\n    player.time.stage = 0;\n    player.stage.time = 0;\n    player.stage.peak = 0;\n    player.stage.current = 1;\n    resetStage([1, 2, 3, 4, 5]);\n};\n\nexport const switchStage = (stage: number) => {\n    if (!global.stageInfo.activeAll.includes(stage)) { return; }\n    if (player.stage.active === stage) {\n        if (global.trueActive !== stage) {\n            global.trueActive = stage;\n            getId(`${global.stageInfo.word[stage]}Switch`).style.textDecoration = 'underline';\n        }\n        return;\n    }\n\n    if (stage !== 4 && stage !== 5 && ((global.tab === 'upgrade' && global.subtab.upgradeCurrent === 'Elements') || global.tab === 'Elements')) {\n        switchTab('upgrade', global.tab === 'upgrade' ? 'Upgrades' : null);\n    }\n    setActiveStage(stage);\n    stageUpdate();\n};\n\nexport const setActiveStage = (stage: number, active = stage) => {\n    getId(`${global.stageInfo.word[player.stage.active]}Switch`).style.textDecoration = '';\n    player.stage.active = stage;\n    global.trueActive = active;\n    getId(`${global.stageInfo.word[stage]}Switch`).style.textDecoration = 'underline' + (global.trueActive !== stage ? ' dashed' : '');\n};\n\nexport const getDischargeScale = (): number => (20 - (4 * player.researches[1][3]) - player.strangeness[1][2]) / 2;\nexport const assignDischargeCost = () => {\n    global.dischargeInfo.next = Math.round(getDischargeScale() ** player.discharge.current);\n};\n\nexport const dischargeResetCheck = (auto = false): boolean => {\n    if (player.upgrades[1][5] < 1) { return false; }\n    assignDischargeCost();\n    const info = global.dischargeInfo;\n    const energy = player.discharge.energy;\n\n    if (auto) {\n        if (player.strangeness[1][4] < 1) { return false; }\n        if (energy >= info.next) {\n            dischargeReset();\n            return true;\n        }\n\n        if (player.strangeness[1][9] >= 1 || energy >= info.energyTrue) { return false; }\n        dischargeReset();\n        return true;\n    }\n    return energy < info.energyTrue || energy >= info.next;\n};\n\nexport const dischargeAsyncReset = async() => {\n    if (!dischargeResetCheck()) { return; }\n    const info = global.dischargeInfo;\n    const energy = player.discharge.energy;\n\n    if (player.toggles.confirm[1] !== 'None') {\n        if (player.toggles.confirm[1] !== 'Safe' || player.stage.active !== 1) {\n            if (!await Confirm(`Reset Structures and Energy to ${energy >= info.next ? 'gain boost from a new goal' : `regain ${format(info.energyTrue - energy)} spent Energy`}?`)) { return; }\n            if (!dischargeResetCheck()) { return Notify('Discharge canceled, requirements are no longer met'); }\n        }\n    }\n\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Structures and Energy were reset${energy >= info.next ? ', also gained boost from reaching new goal' : ''}`; }\n    dischargeReset();\n};\n\nconst dischargeReset = () => {\n    if (player.discharge.energy >= global.dischargeInfo.next) {\n        player.discharge.current++;\n    }\n    awardVoidReward(1);\n    reset('discharge', player.inflation.vacuum ? [1, 2, 3, 4, 5] : [1]);\n};\n\nexport const assignNewClouds = () => {\n    const get = new Overlimit(player.buildings[2][1][player.researchesExtra[2][0] >= 1 ? 'total' : 'current']).divide(calculateEffects.S2Upgrade2());\n\n    if (get.moreOrEqual('1')) {\n        if (player.inflation.vacuum) {\n            global.vaporizationInfo.get.setValue(player.vaporization.clouds).power(2).plus(get).power(0.5).minus(player.vaporization.clouds).multiply(global.milestonesInfo[2].reward[0]);\n        } else { global.vaporizationInfo.get.setValue(player.vaporization.clouds).power(1 / 0.6).plus(get).power(0.6).minus(player.vaporization.clouds); }\n    } else { global.vaporizationInfo.get.setValue('0'); }\n};\n\nexport const vaporizationResetCheck = (auto = false, clouds = null as number | null): boolean => {\n    assignNewClouds();\n    const info = global.vaporizationInfo;\n    if (player.upgrades[2][2] < 1 || info.get.lessOrEqual('0')) { return false; }\n\n    if (clouds !== null) {\n        if (player.strangeness[2][4] >= 2) {\n            vaporizationReset(clouds);\n            if (!auto) { return true; }\n            assignNewClouds();\n            if (info.get.lessOrEqual('0')) { return false; }\n        } else if (!auto) { return false; }\n    }\n    if (auto) {\n        if (player.strangeness[2][4] < 1) { return false; }\n        const rainPost = calculateEffects.S2Extra1_2(true);\n        const rainNow = calculateEffects.S2Extra1_2();\n        if (calculateEffects.clouds(true).divide(info.strength).multiply((rainPost[0] / rainNow[0]) * (rainPost[1] / rainNow[1])).lessThan(player.vaporization.input)) { return false; }\n        vaporizationReset();\n    }\n    return true;\n};\n\nexport const vaporizationAsyncReset = async() => {\n    if (!vaporizationResetCheck()) { return; }\n    const info = global.vaporizationInfo;\n    const increase = player.vaporization.clouds.moreThan('0') ? new Overlimit(info.get).divide(player.vaporization.clouds).multiply('1e2') : 100;\n\n    if (player.toggles.confirm[2] !== 'None') {\n        const rainPost = calculateEffects.S2Extra1_2(true);\n        const rainNow = calculateEffects.S2Extra1_2();\n        if (player.toggles.confirm[2] !== 'Safe' || player.stage.active !== 2 || calculateEffects.clouds(true).divide(info.strength).multiply((rainPost[0] / rainNow[0]) * (rainPost[1] / rainNow[1])).lessThan('2')) {\n            if (!await Confirm(`Reset Structures and Upgrades for ${format(info.get)} (+${format(increase)}%) Clouds?`)) { return; }\n            if (!vaporizationResetCheck()) { return Notify('Vaporization canceled, requirements are no longer met'); }\n        }\n    }\n\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Progress were reset for ${format(info.get)} (+${format(increase)}%) Clouds`; }\n    vaporizationReset();\n};\n\nconst vaporizationReset = (autoClouds = null as number | null) => {\n    const vaporization = player.vaporization;\n\n    if (autoClouds !== null) {\n        vaporization.clouds.plus(new Overlimit(global.vaporizationInfo.get).multiply(autoClouds / 5));\n    } else { vaporization.clouds.plus(global.vaporizationInfo.get); }\n    if (vaporization.cloudsMax.lessThan(vaporization.clouds)) { vaporization.cloudsMax.setValue(vaporization.clouds); }\n    awardMilestone(0, 2);\n    awardVoidReward(2);\n    if (autoClouds === null) { reset('vaporization', player.inflation.vacuum ? [1, 2, 3, 4, 5] : [2]); }\n};\n\nexport const assignMaxRank = () => {\n    if (player.inflation.vacuum) {\n        global.accretionInfo.maxRank = /*player.strangeness[3][9] >= 1 ? 7 :*/ 6;\n    } else {\n        global.accretionInfo.maxRank = player.stage.true >= 4 || (player.stage.true === 3 && player.events[0]) ? 5 : 4;\n    }\n};\n\nexport const rankResetCheck = (auto = false): boolean => {\n    const rank = player.accretion.rank;\n    if (rank >= global.accretionInfo.maxRank) { return false; }\n\n    if (player.inflation.vacuum) {\n        if (new Overlimit(player.buildings[1][0].current).multiply('1.78266192e-33').lessThan(global.accretionInfo.rankCost[rank])) { return false; }\n    } else if (player.buildings[3][0].current.lessThan(global.accretionInfo.rankCost[rank])) { return false; }\n\n    if (auto) {\n        if (player.strangeness[3][4] < 1) { return false; }\n        rankReset();\n    }\n    return true;\n};\n\nexport const rankAsyncReset = async() => {\n    if (!rankResetCheck()) { return; }\n\n    if (player.toggles.confirm[3] !== 'None' && player.accretion.rank !== 0) {\n        if (player.toggles.confirm[3] !== 'Safe' || player.stage.active !== 3) {\n            if (!await Confirm('Reset Structures, Upgrades and Stage Researches to increase current Rank?')) { return; }\n            if (!rankResetCheck()) { return Notify('Rank increase canceled, requirements are no longer met'); }\n        }\n    }\n\n    rankReset();\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Rank is now '${global.accretionInfo.rankName[player.accretion.rank]}'`; }\n};\n\nconst rankReset = () => {\n    player.accretion.rank++;\n    if (player.accretion.rank === 6) {\n        player.stage.current = 4;\n        stageUpdate('soft');\n    }\n    awardVoidReward(3);\n    reset('rank', player.inflation.vacuum ? [1, 2, 3, 4, 5] : [3]);\n    calculateMaxLevel(0, 3, 'researchesExtra', true);\n    calculateMaxLevel(4, 3, 'researchesExtra', true);\n};\n\nconst calculateMassGain = (): number => {\n    const elements = player.elements;\n\n    let massGain = 0.004;\n    if (elements[3] === 1) { massGain += 0.002; }\n    if (elements[5] === 1) { massGain += 0.0002 * player.buildings[4][1].true; }\n    massGain *= elements[15] === 1 ? global.collapseInfo.trueStars : player.buildings[4][1].true;\n    if (player.inflation.vacuum) {\n        massGain = (massGain * 96) + 1;\n    } else {\n        if (elements[10] === 1) { massGain *= 2; }\n        if (player.researchesExtra[4][1] >= 1) { massGain *= calculateEffects.S4Extra1(); }\n        massGain *= global.collapseInfo.starEffect[2];\n        if (player.strangeness[5][7] >= 1) { massGain *= global.strangeInfo.stageBoost[5]; }\n    }\n    return massGain;\n};\n\nexport const assignNewMass = () => {\n    global.collapseInfo.newMass = !player.inflation.vacuum ? calculateMassGain() :\n        Math.min(new Overlimit(player.buildings[1][0].current).multiply('8.96499278339628e-67').toNumber(), global.inflationInfo.massCap); //1.78266192e-33 / 1.98847e33\n};\nexport const assignNewRemnants = () => {\n    const building = player.buildings[4];\n    const starCheck = global.collapseInfo.starCheck;\n    const stars = player.collapse.stars;\n    starCheck[0] = building[2].true > 0 ? Math.max(building[2].true + Math.floor(building[1].true * player.strangeness[4][3] / 10) - stars[0], 0) : 0;\n    starCheck[1] = Math.max(building[3].true - stars[1], 0);\n    starCheck[2] = Math.max(building[4].true - stars[2], 0);\n};\n\nexport const collapseResetCheck = (auto = false, remnants = false): boolean => {\n    if (player.upgrades[4][0] < 1) { return false; }\n    assignNewRemnants();\n    const info = global.collapseInfo;\n\n    if (remnants) {\n        if (player.strangeness[4][4] >= 2 && (info.starCheck[0] > 0 || info.starCheck[1] > 0 || info.starCheck[2] > 0)) {\n            collapseReset(true);\n            if (!auto) { return true; }\n            assignNewRemnants();\n        } else if (!auto) { return false; }\n    }\n    assignNewMass();\n\n    if (auto) {\n        if (player.strangeness[4][4] < 1) { return false; }\n        const massBoostBase = (calculateEffects.mass(true) / info.massEffect) * (calculateEffects.S4Research4(true) / calculateEffects.S4Research4());\n        if (massBoostBase >= player.collapse.input) {\n            collapseReset();\n            return true;\n        }\n        /*if (player.toggles.buildings[5][3] && calculateBuildingsCost(3, 5).lessOrEqual(info.newMass)) {\n            collapseReset();\n            return true;\n        }*/\n        if (player.strangeness[4][4] >= 2 || (massBoostBase * (calculateEffects.star[0](true) / info.starEffect[0]) * (calculateEffects.star[1](true) / info.starEffect[1]) * (calculateEffects.star[2](true) / info.starEffect[2]) < player.collapse.input)) { return false; }\n        collapseReset();\n        return true;\n    }\n\n    return info.newMass > player.collapse.mass || info.starCheck[0] > 0 || info.starCheck[1] > 0 || info.starCheck[2] > 0 || player.elements.includes(0.5, 1);\n};\n\nexport const collapseAsyncReset = async() => {\n    if (!collapseResetCheck()) { return; }\n    const { newMass, starCheck: newStars } = global.collapseInfo;\n    const mass = player.collapse.mass;\n\n    if (player.toggles.confirm[4] !== 'None') {\n        const unlockedG = player.researchesExtra[5][0] >= 1;\n        const cantAffordG = calculateBuildingsCost(3, 5).moreThan(newMass);\n        const notMaxed = player.inflation.vacuum && new Overlimit(player.buildings[1][0].current).multiply('8.96499278339628e-67').toNumber() < global.inflationInfo.massCap;\n        if (player.toggles.confirm[4] !== 'Safe' || (player.stage.active !== 4 && player.stage.active !== 5) || (newMass > mass && notMaxed && (!unlockedG || cantAffordG))) {\n            let message = 'This will reset all special and Stage Researches, Upgrades and Structures';\n            if (newMass > mass) {\n                message += `\\nSolar mass will increase to ${format(newMass)}`;\n                if (notMaxed) { message += '\\n(Hardcap is not reached)'; }\n                if (unlockedG && cantAffordG) { message += '\\n(Not enough for a new Galaxy)'; }\n            } else { message += \"\\nSolar mass won't change\"; }\n            if (newStars[0] > 0 || newStars[1] > 0 || newStars[2] > 0) {\n                message += '\\nAlso will gain new Star remnants:';\n                if (newStars[0] > 0) { message += `\\n'Red giants' - ${format(newStars[0])}`; }\n                if (newStars[1] > 0) { message += `\\n'Neutron stars' - ${format(newStars[1])}`; }\n                if (newStars[2] > 0) { message += `\\n'Black holes' - ${format(newStars[2])}`; }\n            }\n\n            let count = 0;\n            for (let i = 1; i < player.elements.length; i++) {\n                i = player.elements.indexOf(0.5, i);\n                if (i < 1) { break; }\n                count++;\n            }\n            if (count > 0) { message += `\\n${format(count)} new Elements will activate`; }\n\n            if (!await Confirm(message + '\\nContinue?')) { return; }\n            if (!collapseResetCheck()) { return Notify('Collapse canceled, requirements are no longer met'); }\n        }\n    }\n\n    if (globalSave.SRSettings[0]) {\n        let message = `Solar mass ${newMass > mass ? `is now ${format(newMass)}` : \"haven't changed\"}`;\n        if (newStars[0] > 0 || newStars[1] > 0 || newStars[2] > 0) {\n            message += ', also gained';\n            if (newStars[0] > 0) { message += ` ${format(newStars[0])} Red giants`; }\n            if (newStars[1] > 0) { message += `, ${format(newStars[1])} Neutron stars`; }\n            if (newStars[2] > 0) { message += `, ${format(newStars[2])} Black holes`; }\n        }\n        getId('SRMain').textContent = message;\n    }\n    collapseReset();\n};\n\nconst collapseReset = (noReset = false) => {\n    const collapseInfo = global.collapseInfo;\n    const collapse = player.collapse;\n\n    collapse.stars[0] += collapseInfo.starCheck[0];\n    collapse.stars[1] += collapseInfo.starCheck[1];\n    collapse.stars[2] += collapseInfo.starCheck[2];\n    awardMilestone(1, 4);\n    if (!noReset) {\n        for (let i = 1; i < player.elements.length; i++) {\n            i = player.elements.indexOf(0.5, i);\n            if (i < 1) { break; }\n            buyUpgrades(i, 4, 'elements', true);\n        }\n        if (collapseInfo.newMass > collapse.mass) {\n            collapse.mass = collapseInfo.newMass;\n            if (collapse.massMax < collapse.mass) { collapse.massMax = collapse.mass; }\n        }\n\n        awardMilestone(0, 4);\n        reset('collapse', player.inflation.vacuum ? [1, 2, 3, 4, 5] : (player.strangeness[5][5] < 1 ? [4, 5] : [4]));\n        calculateMaxLevel(0, 4, 'researches');\n        calculateMaxLevel(3, 4, 'researches');\n    }\n    awardVoidReward(4);\n};\n\nexport const calculateInstability = () => {\n    const milestones = player.milestones;\n    let value = 0;\n    if (milestones[1][0] >= 6) { value++; }\n    if (milestones[2][1] >= 7) { value++; }\n    if (milestones[3][1] >= 7) { value++; }\n    if (milestones[4][1] >= 8) { value++; }\n    if (milestones[5][1] >= 8) { value++; }\n    global.strangeInfo.instability = value;\n};\n\nexport const calculateMilestoneInformation = (index: number, stageIndex: number) => {\n    const { need, reward } = global.milestonesInfo[stageIndex];\n    const level = player.milestones[stageIndex][index];\n    if (!player.inflation.vacuum) {\n        const scaling = global.milestonesInfo[stageIndex].scalingOld[index];\n        need[index].setValue(level < scaling.length ? scaling[level] : '0');\n    } else {\n        if (stageIndex === 1) {\n            if (index === 0) {\n                need[0].setValue('1e80').power(level).multiply('1e80');\n                reward[0] = 1.04 ** level;\n            } else if (index === 1) {\n                need[1].setValue(4e4 + 4e4 * level);\n                reward[1] = 2 * level;\n            }\n        } else if (stageIndex === 2) {\n            if (index === 0) {\n                need[0].setValue('1e1').power(level).multiply('1e1');\n                reward[0] = 1.02 ** level;\n            } else if (index === 1) {\n                need[1].setValue(80 + (80 + 8 * level) * level);\n                reward[1] = 1.04 ** level;\n            }\n        } else if (stageIndex === 3) {\n            if (index === 0) {\n                need[0].setValue('1e3').power(level).multiply('1e-15');\n                reward[0] = 1.03 ** level;\n            } else if (index === 1) {\n                need[1].setValue(4 + 4 * level);\n                reward[1] = level / 400;\n            }\n        } else if (stageIndex === 4) {\n            if (index === 0) {\n                need[0].setValue('1e4').power(level).multiply('1e4');\n                reward[0] = 1.05 ** level;\n            } else if (index === 1) {\n                need[1].setValue(40 + 40 * level);\n                reward[1] = 1.03 ** level;\n            }\n        } else if (stageIndex === 5) {\n            if (index === 0) {\n                need[0].setValue(160 + 160 * level);\n                reward[0] = 1.14 ** level;\n            } else if (index === 1) {\n                need[1].setValue(1 + 2 * level);\n                reward[1] = level / 40;\n            }\n        }\n    }\n};\n\nconst awardMilestone = (index: number, stageIndex: number, count = 0) => {\n    if (!milestoneCheck(index, stageIndex)) {\n        if (count > 0) {\n            Notify(`Milestone '${global.milestonesInfo[stageIndex].name[index]}' ${count > 1 ? `${format(count)} new tiers` : 'new tier'} reached\\nTotal is now: ${format(player.milestones[stageIndex][index])}`);\n            if (player.inflation.vacuum) {\n                if (stageIndex === 1 && index === 1) { assignEnergy(); }\n            } else {\n                if (stageIndex === 5 && index === 0 && player.milestones[5][0] >= 8) {\n                    calculateMaxLevel(6, 4, 'strangeness', true);\n                    calculateMaxLevel(0, 5, 'ASR', true);\n                }\n                player.strange[0].current += count;\n                player.strange[0].total += count;\n                calculateInstability();\n                assignStrangeBoost();\n            }\n            if (global.lastMilestone[1] === stageIndex && global.lastMilestone[0] === index) {\n                getStrangenessDescription(index, stageIndex, 'milestones');\n            }\n        }\n        return;\n    }\n\n    player.milestones[stageIndex][index]++;\n    calculateMilestoneInformation(index, stageIndex);\n    awardMilestone(index, stageIndex, count + 1);\n};\n\nconst awardVoidReward = (index: number) => {\n    if (player.challenges.active !== 0) { return; }\n    const old = player.challenges.void[index];\n\n    let progress = 1;\n    if (index === 1) {\n        progress += player.researchesExtra[1][2];\n    } else if (index === 2) {\n        if (player.vaporization.clouds.moreThan('1e4')) { progress++; }\n    } else if (index === 3) {\n        progress = player.accretion.rank - 1;\n    } else if (index === 4) {\n        if (player.collapse.stars[0] > 1) { progress++; }\n        if (player.collapse.stars[1] > 1) { progress++; }\n        if (player.collapse.stars[2] > 1) { progress++; }\n    } else if (index === 5) {\n        if (player.buildings[5][3].true >= 1) { progress++; }\n    }\n    if (old >= progress) { return; }\n\n    player.challenges.void[index] = progress;\n    for (let i = old; i < progress; i++) {\n        Notify(`New Void reward achieved\\nReward: ${global.challengesInfo.rewardText[0][index][i]}`);\n    }\n    if (index === 3 && old < 4) {\n        calculateMaxLevel(0, 1, 'strangeness', true);\n        calculateMaxLevel(3, 1, 'strangeness', true);\n        calculateMaxLevel(1, 2, 'strangeness', true);\n        calculateMaxLevel(3, 2, 'strangeness', true);\n        calculateMaxLevel(0, 3, 'strangeness', true);\n        calculateMaxLevel(1, 3, 'strangeness', true);\n        calculateMaxLevel(0, 4, 'strangeness', true);\n        calculateMaxLevel(1, 4, 'strangeness', true);\n        calculateMaxLevel(1, 5, 'strangeness', true);\n    }\n    if (global.lastChallenge[0] === 0) {\n        getChallengeDescription(0);\n        if (global.lastChallenge[1] === index) { getChallengeReward(index); }\n    }\n};\n\nexport const enterExitChallenge = async(index: number) => {\n    if (player.challenges.active === index) {\n        if (!await Confirm(`Leave the '${global.challengesInfo.name[index]}'?`)) { return; }\n        index = -1;\n    } else {\n        if (!player.inflation.vacuum) { return; }\n        if (index === 0 && player.strangeness[5][0] < 1) { return; }\n        if (!await Confirm(`Enter the '${global.challengesInfo.name[index]}'?`)) { return; }\n    }\n\n    const reward = stageResetCheck(5);\n    player.challenges.active = index;\n    if (!reward) {\n        stageResetNoReward();\n    } else { stageResetReward(5); }\n\n    getChallengeDescription(index);\n    if (globalSave.SRSettings[0]) { getId('SRStage').textContent = index === -1 ? 'Challenge is no longer active' : `'${global.challengesInfo.name[index]}' is now active`; }\n};\n", "import { changeIntervals, getId, getQuery } from './Main';\nimport { global, player } from './Player';\nimport { assignMaxRank } from './Stage';\nimport { numbersUpdate, visualUpdate } from './Update';\n\nexport const globalSave = {\n    intervals: {\n        main: 20,\n        numbers: 80,\n        visual: 1000,\n        autoSave: 20000\n    },\n    toggles: [false, false], //Hotkeys type[0]; Elements as tab[1]\n    format: ['.', ''], //Point[0]; Separator[1]\n    theme: null as null | number,\n    fontSize: 16,\n    MDSettings: [false, false], //Status[0]; Mouse events[1]\n    SRSettings: [false, false, false], //Status[0]; Tabindex Upgrades[1]; Tabindex primary[2]\n    developerMode: false\n};\n\nexport const saveGlobalSettings = () => localStorage.setItem('fundamentalSettings', btoa(JSON.stringify(globalSave)));\n\nexport const toggleSpecial = (number: number, type: 'normal' | 'mobile' | 'reader', change = false, reload = false) => {\n    let toggles: boolean[];\n    if (type === 'mobile') {\n        toggles = globalSave.MDSettings;\n    } else if (type === 'reader') {\n        toggles = globalSave.SRSettings;\n    } else {\n        toggles = globalSave.toggles;\n    }\n\n    if (change) {\n        if (reload) {\n            return void (async() => {\n                if (!await Confirm('Changing this setting will reload game, confirm?\\n(Game will not autosave)')) { return; }\n                toggles[number] = !toggles[number];\n                saveGlobalSettings();\n                window.location.reload();\n                global.paused = true;\n                changeIntervals();\n                return void Alert('Awaiting game reload');\n            })();\n        } else {\n            toggles[number] = !toggles[number];\n            saveGlobalSettings();\n        }\n    }\n\n    let toggleHTML;\n    if (type === 'mobile') {\n        toggleHTML = getId(`MDToggle${number}`);\n    } else if (type === 'reader') {\n        toggleHTML = getId(`SRToggle${number}`);\n    } else {\n        toggleHTML = getId(`toggleNormal${number}`);\n    }\n\n    if (!toggles[number]) {\n        toggleHTML.style.color = '';\n        toggleHTML.style.borderColor = '';\n        toggleHTML.textContent = 'OFF';\n    } else {\n        toggleHTML.style.color = 'var(--red-text)';\n        toggleHTML.style.borderColor = 'crimson';\n        toggleHTML.textContent = 'ON';\n    }\n};\n\nexport const specialHTML = { //Images here are from true vacuum for easier cache\n    resetHTML: ['', 'Discharge', 'Vaporization', 'Rank', 'Collapse', 'Merge'], //[0] === textContent\n    longestBuilding: 7, //+1\n    buildingHTML: [ //outerHTML is slow\n        [],\n        ['Preon.png', 'Quarks.png', 'Particle.png', 'Atom.png', 'Molecule.png'], //[0] === src\n        ['Drop.png', 'Puddle.png', 'Pond.png', 'Lake.png', 'Sea.png', 'Ocean.png'],\n        ['Cosmic%20dust.png', 'Planetesimal.png', 'Protoplanet.png', 'Natural%20satellite.png', 'Subsatellite.png'],\n        ['Brown%20dwarf.png', 'Orange%20dwarf.png', 'Red%20supergiant.png', 'Blue%20hypergiant.png', 'Quasi%20star.png'],\n        ['Nebula.png', 'Star%20cluster.png', 'Galaxy.png']\n    ],\n    longestUpgrade: 13,\n    upgradeHTML: [\n        [],\n        [\n            'UpgradeQ1.png',\n            'UpgradeQ2.png',\n            'UpgradeQ3.png',\n            'UpgradeQ4.png',\n            'UpgradeQ5.png',\n            'UpgradeQ6.png',\n            'UpgradeQ7.png',\n            'UpgradeQ8.png',\n            'UpgradeQ9.png',\n            'UpgradeQ10.png'\n        ],\n        [\n            'UpgradeW1.png',\n            'UpgradeW2.png',\n            'UpgradeW3.png',\n            'UpgradeW4.png',\n            'UpgradeW5.png',\n            'UpgradeW6.png',\n            'UpgradeW7.png',\n            'UpgradeW8.png',\n            'UpgradeW9.png'\n        ],\n        [\n            'UpgradeA1.png',\n            'UpgradeA2.png',\n            'UpgradeA3.png',\n            'UpgradeA4.png',\n            'UpgradeA5.png',\n            'UpgradeA6.png',\n            'UpgradeA7.png',\n            'UpgradeA8.png',\n            'UpgradeA9.png',\n            'UpgradeA10.png',\n            'UpgradeA11.png',\n            'UpgradeA12.png',\n            'UpgradeA13.png'\n        ],\n        [\n            'UpgradeS1.png',\n            'UpgradeS2.png',\n            'UpgradeS3.png',\n            'UpgradeS4.png',\n            'UpgradeS5.png'\n        ],\n        [\n            'UpgradeG1.png',\n            'UpgradeG2.png',\n            'UpgradeG3.png'\n        ]\n    ],\n    longestResearch: 9,\n    researchHTML: [\n        [],\n        [\n            ['ResearchQ1.png', 'stage1borderImage'], //[1] === className\n            ['ResearchQ2.png', 'stage1borderImage'],\n            ['ResearchQ3.png', 'stage1borderImage'],\n            ['ResearchQ4.png', 'stage4borderImage'],\n            ['ResearchQ5.png', 'stage4borderImage'],\n            ['ResearchQ6.png', 'stage4borderImage']\n        ],\n        [\n            ['ResearchW1.png', 'stage2borderImage'],\n            ['ResearchW2.png', 'stage2borderImage'],\n            ['ResearchW3.png', 'stage2borderImage'],\n            ['ResearchW4.png', 'stage2borderImage'],\n            ['ResearchW5.png', 'stage2borderImage'],\n            ['ResearchW6.png', 'stage2borderImage']\n        ],\n        [\n            ['ResearchA1.png', 'stage3borderImage'],\n            ['ResearchA2.png', 'stage2borderImage'],\n            ['ResearchA3.png', 'stage3borderImage'],\n            ['ResearchA4.png', 'stage3borderImage'],\n            ['ResearchA5.png', 'stage3borderImage'],\n            ['ResearchA6.png', 'stage3borderImage'],\n            ['ResearchA7.png', 'stage1borderImage'],\n            ['ResearchA8.png', 'stage7borderImage'],\n            ['ResearchA9.png', 'stage1borderImage']\n        ],\n        [\n            ['ResearchS1.png', 'stage5borderImage'],\n            ['ResearchS2.png', 'stage5borderImage'],\n            ['ResearchS3.png', 'stage7borderImage'],\n            ['ResearchS4.png', 'stage5borderImage'],\n            ['ResearchS5.png', 'stage6borderImage']\n        ],\n        [\n            ['ResearchG1.png', 'stage1borderImage'],\n            ['ResearchG2.png', 'stage6borderImage']\n        ]\n    ],\n    longestResearchExtra: 5,\n    researchExtraDivHTML: [\n        [],\n        ['Energy%20Researches.png', 'stage4borderImage'],\n        ['Cloud%20Researches.png', 'stage2borderImage'],\n        ['Rank%20Researches.png', 'stage6borderImage'],\n        ['Collapse%20Researches.png', 'stage6borderImage'],\n        ['Galaxy%20Researches.png', 'stage7borderImage']\n    ],\n    researchExtraHTML: [\n        [],\n        [\n            ['ResearchEnergy1.png', 'stage1borderImage'],\n            ['ResearchEnergy2.png', 'stage5borderImage'],\n            ['ResearchEnergy3.png', 'stage3borderImage'],\n            ['ResearchEnergy4.png', 'stage1borderImage'],\n            ['ResearchEnergy5.png', 'stage6borderImage']\n        ],\n        [\n            ['ResearchClouds1.png', 'stage3borderImage'],\n            ['ResearchClouds2.png', 'stage2borderImage'],\n            ['ResearchClouds3.png', 'stage4borderImage'],\n            ['ResearchClouds4.png', 'stage2borderImage']\n            //['ResearchClouds5.png', 'stage2borderImage']\n        ],\n        [\n            ['ResearchRank1.png', 'stage3borderImage'],\n            ['ResearchRank2.png', 'stage3borderImage'],\n            ['ResearchRank3.png', 'stage3borderImage'],\n            ['ResearchRank4.png', 'stage2borderImage'],\n            ['ResearchRank5.png', 'stage2borderImage']\n        ],\n        [\n            ['ResearchCollapse1.png', 'stage6borderImage'],\n            ['ResearchCollapse2.png', 'stage7borderImage'],\n            ['ResearchCollapse3.png', 'stage1borderImage']\n        ],\n        [\n            ['ResearchGalaxy1.png', 'stage3borderImage']\n        ]\n    ],\n    longestFooterStats: 3,\n    footerStatsHTML: [\n        [],\n        [\n            ['Energy%20mass.png', 'stage1borderImage cyanText', 'Mass'], //[2] === textcontent\n            ['Energy.png', 'stage4borderImage orangeText', 'Energy']\n        ],\n        [\n            ['Clouds.png', 'stage3borderImage grayText', 'Clouds'],\n            ['Water.png', 'stage2borderImage blueText', 'Moles'],\n            ['Drop.png', 'stage2borderImage blueText', 'Drops']\n        ],\n        [\n            ['Mass.png', 'stage3borderImage grayText', 'Mass']\n        ],\n        [\n            ['Main_sequence%20mass.png', 'stage1borderImage cyanText', 'Mass'],\n            ['Elements.png', 'stage4borderImage orangeText', 'Elements']\n        ],\n        [\n            ['Main_sequence%20mass.png', 'stage1borderImage cyanText', 'Mass'],\n            ['Elements.png', 'stage4borderImage orangeText', 'Elements'],\n            ['Stars.png', 'stage7borderImage redText', 'Stars']\n        ]\n    ],\n    cache: {\n        imagesDiv: document.createElement('div'),\n        idMap: new Map<string, HTMLElement>(),\n        classMap: new Map<string, HTMLCollectionOf<HTMLElement>>(),\n        queryMap: new Map<string, HTMLElement>()\n    },\n    notifications: [] as Array<[string, () => void]>,\n    styleSheet: document.createElement('style') //Secondary\n};\n\nexport const preventImageUnload = () => {\n    const { footerStatsHTML: footer, buildingHTML: build, upgradeHTML: upgrade, researchHTML: research, researchExtraHTML: extra, researchExtraDivHTML: extraDiv } = specialHTML;\n    //Duplicates are ignored, unless they are from Strangeness, because duplicates from there could become unique in future\n\n    let images = '';\n    for (let s = 1; s <= 5; s++) {\n        for (let i = 0; i < footer[s].length; i++) {\n            if (s === 2) {\n                if (i === 2) { continue; } //Drops\n            } else if (s === 5 && i < 2) { continue; } //Solar mass and Elements\n            images += `<img src=\"Used_art/${footer[s][i][0]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < build[s].length; i++) {\n            images += `<img src=\"Used_art/${build[s][i]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < upgrade[s].length; i++) {\n            images += `<img src=\"Used_art/${upgrade[s][i]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < research[s].length; i++) {\n            images += `<img src=\"Used_art/${research[s][i][0]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < extra[s].length; i++) {\n            images += `<img src=\"Used_art/${extra[s][i][0]}\" loading=\"lazy\">`;\n        }\n        if (extraDiv[s].length > 0) { images += `<img src=\"Used_art/${extraDiv[s][0]}\" loading=\"lazy\">`; }\n        images += `<img src=\"Used_art/Stage${s}%20border.png\" loading=\"lazy\">`;\n    }\n    specialHTML.cache.imagesDiv.innerHTML = images; //Saved just in case\n};\n\nexport const setTheme = (theme: number | null, reload = false) => {\n    if (theme !== null) {\n        if (player.stage.true < theme) { theme = null; }\n        if (theme === 6 && player.stage.true < 7) { theme = null; }\n        if (reload && theme !== null) { return; }\n    }\n\n    globalSave.theme = theme;\n    saveGlobalSettings();\n    switchTheme();\n};\n\nexport const switchTheme = () => {\n    const body = document.body.style;\n    const theme = globalSave.theme ?? player.stage.active;\n    getId('currentTheme').textContent = globalSave.theme === null ? 'Default' : global.stageInfo.word[theme];\n\n    let dropStatColor = '';\n    let waterStatColor = '';\n    body.setProperty('--transition-all', '1s');\n    body.setProperty('--transition-buttons', '700ms');\n\n    /* Full reset, because better response from CSS (also easier) */\n    body.removeProperty('--background-color');\n    body.removeProperty('--window-color');\n    body.removeProperty('--window-border');\n    body.removeProperty('--footer-color');\n    body.removeProperty('--button-color');\n    body.removeProperty('--button-border');\n    body.removeProperty('--button-hover');\n    body.removeProperty('--building-afford');\n    body.removeProperty('--tab-active');\n    body.removeProperty('--tab-elements');\n    body.removeProperty('--tab-strangeness');\n    body.removeProperty('--hollow-hover');\n    body.removeProperty('--footerButton-hover');\n    body.removeProperty('--input-border');\n    body.removeProperty('--input-text');\n    body.removeProperty('--button-text');\n    body.removeProperty('--main-text');\n    body.removeProperty('--white-text');\n    //body.removeProperty('--cyan-text');\n    body.removeProperty('--blue-text');\n    body.removeProperty('--orange-text');\n    body.removeProperty('--gray-text');\n    body.removeProperty('--orchid-text');\n    body.removeProperty('--darkorchid-text');\n    body.removeProperty('--darkviolet-text');\n    body.removeProperty('--red-text');\n    body.removeProperty('--green-text');\n    body.removeProperty('--yellow-text');\n    /* These colors will need to be changed in other places as well: (not just 2)\n        --window-color > '.stage2windowBackground';\n        --button-border > '.stage2borderButton' and 'global.stageInfo.buttonBorder[2]'; */\n    switch (theme) {\n        case 1:\n            for (const text of ['upgrade', 'element']) {\n                getId(`${text}Text`).style.color = '';\n                getId(`${text}Effect`).style.color = '';\n                getId(`${text}Cost`).style.color = '';\n            }\n            break;\n        case 2:\n            for (const text of ['upgrade', 'element']) {\n                getId(`${text}Text`).style.color = 'var(--white-text)';\n                getId(`${text}Effect`).style.color = 'var(--green-text)';\n                getId(`${text}Cost`).style.color = 'var(--cyan-text)';\n            }\n            body.setProperty('--background-color', '#070026');\n            body.setProperty('--window-color', '#000052');\n            body.setProperty('--window-border', 'blue');\n            body.setProperty('--footer-color', '#0000db');\n            body.setProperty('--button-color', '#0000eb');\n            body.setProperty('--button-border', '#386cc7');\n            body.setProperty('--button-hover', '#2929ff');\n            body.setProperty('--building-afford', '#b30000');\n            body.setProperty('--tab-active', '#990000');\n            body.setProperty('--hollow-hover', '#2400d7');\n            body.setProperty('--input-border', '#4747ff');\n            body.setProperty('--input-text', 'dodgerblue');\n            body.setProperty('--main-text', 'var(--blue-text)');\n            body.setProperty('--gray-text', '#9b9b9b');\n            body.setProperty('--darkorchid-text', '#c71bff');\n            body.setProperty('--darkviolet-text', '#8b6bff');\n            body.setProperty('--green-text', '#82cb3b');\n            body.setProperty('--red-text', '#f70000');\n            if (player.stage.active === 2) {\n                dropStatColor = '#3099ff';\n                waterStatColor = '#3099ff';\n            }\n            break;\n        case 3:\n            for (const text of ['upgrade', 'element']) {\n                getId(`${text}Text`).style.color = 'var(--orange-text)';\n                getId(`${text}Effect`).style.color = '';\n                getId(`${text}Cost`).style.color = 'var(--green-text)';\n            }\n            body.setProperty('--background-color', '#000804');\n            body.setProperty('--window-color', '#2e1200');\n            body.setProperty('--window-border', '#31373e');\n            body.setProperty('--footer-color', '#221a00');\n            body.setProperty('--button-color', '#291344');\n            body.setProperty('--button-border', '#424242');\n            body.setProperty('--button-hover', '#382055');\n            body.setProperty('--building-afford', '#9e0000');\n            body.setProperty('--tab-active', '#8d4c00');\n            body.setProperty('--tab-elements', 'var(--tab-active)');\n            body.setProperty('--hollow-hover', '#5a2100');\n            body.setProperty('--footerButton-hover', '#1a1a1a');\n            body.setProperty('--input-border', '#8b4a00');\n            body.setProperty('--input-text', '#e77e00');\n            body.setProperty('--main-text', 'var(--gray-text)');\n            body.setProperty('--white-text', '#dfdfdf');\n            body.setProperty('--orange-text', '#f58600');\n            body.setProperty('--green-text', '#00db00');\n            if (player.stage.active === 2) {\n                dropStatColor = '#3099ff';\n                waterStatColor = '#3099ff';\n            }\n            break;\n        case 4:\n            for (const text of ['upgrade', 'element']) {\n                getId(`${text}Text`).style.color = 'var(--blue-text)';\n                getId(`${text}Effect`).style.color = 'var(--green-text)';\n                getId(`${text}Cost`).style.color = 'var(--cyan-text)';\n            }\n            body.setProperty('--background-color', '#140e04');\n            body.setProperty('--window-color', '#4e0000');\n            body.setProperty('--window-border', '#894800');\n            body.setProperty('--footer-color', '#4e0505');\n            body.setProperty('--button-color', '#6a3700');\n            body.setProperty('--button-border', '#a35700');\n            body.setProperty('--button-hover', '#8a4700');\n            body.setProperty('--building-afford', '#007f95');\n            body.setProperty('--tab-active', '#008297');\n            body.setProperty('--tab-elements', 'var(--tab-active)');\n            body.setProperty('--tab-strangeness', '#00a500');\n            body.setProperty('--hollow-hover', '#605100');\n            body.setProperty('--footerButton-hover', '#212121');\n            body.setProperty('--input-border', '#008399');\n            body.setProperty('--input-text', '#05c3c3');\n            body.setProperty('--button-text', '#d9d900');\n            body.setProperty('--main-text', 'var(--orange-text)');\n            body.setProperty('--white-text', '#e5e500');\n            body.setProperty('--blue-text', '#2e96ff');\n            body.setProperty('--gray-text', '#8b8b8b');\n            body.setProperty('--darkorchid-text', '#c71bff');\n            body.setProperty('--darkviolet-text', '#9457ff');\n            body.setProperty('--red-text', 'red');\n            body.setProperty('--green-text', '#00e600');\n            body.setProperty('--yellow-text', 'var(--green-text)');\n            break;\n        case 5:\n            for (const text of ['upgrade', 'element']) {\n                getId(`${text}Text`).style.color = 'var(--orange-text)';\n                getId(`${text}Effect`).style.color = 'var(--green-text)';\n                getId(`${text}Cost`).style.color = 'var(--red-text)';\n            }\n            body.setProperty('--background-color', '#060010');\n            body.setProperty('--window-color', '#001d42');\n            body.setProperty('--window-border', '#35466e');\n            body.setProperty('--footer-color', '#2f005c');\n            body.setProperty('--button-color', '#4a008f');\n            body.setProperty('--button-border', '#8f004c');\n            body.setProperty('--button-hover', '#6800d6');\n            body.setProperty('--building-afford', '#8603ff');\n            body.setProperty('--tab-active', '#8500ff');\n            body.setProperty('--hollow-hover', '#3b0080');\n            body.setProperty('--footerButton-hover', '#1a1a1a');\n            body.setProperty('--input-border', '#3656a1');\n            body.setProperty('--input-text', '#6a88cd');\n            body.setProperty('--button-text', '#fc9cfc');\n            body.setProperty('--main-text', 'var(--darkorchid-text)');\n            body.setProperty('--white-text', '#ff79ff');\n            body.setProperty('--orchid-text', '#ff00f4');\n            body.setProperty('--darkorchid-text', '#c000ff');\n            body.setProperty('--darkviolet-text', '#9f52ff');\n            body.setProperty('--yellow-text', 'var(--darkviolet-text)');\n            break;\n        case 6:\n            for (const text of ['upgrade', 'element']) {\n                getId(`${text}Text`).style.color = 'var(--orchid-text)';\n                getId(`${text}Effect`).style.color = 'var(--red-text)';\n                getId(`${text}Cost`).style.color = '';\n            }\n            body.setProperty('--background-color', 'black');\n            body.setProperty('--window-color', '#01003c');\n            body.setProperty('--window-border', '#7100ff');\n            body.setProperty('--footer-color', '#00007a');\n            body.setProperty('--button-color', '#2b0095');\n            body.setProperty('--button-border', '#6c1ad1');\n            body.setProperty('--button-hover', '#3d00d6');\n            body.setProperty('--building-afford', '#b30000');\n            body.setProperty('--tab-active', '#8d0000');\n            body.setProperty('--hollow-hover', '#490070');\n            body.setProperty('--input-border', '#a50000');\n            body.setProperty('--input-text', 'red');\n            body.setProperty('--button-text', '#efe0ff');\n            body.setProperty('--main-text', 'var(--darkviolet-text)');\n            body.setProperty('--gray-text', '#9b9b9b');\n            body.setProperty('--darkviolet-text', '#8157ff');\n            body.setProperty('--white-text', '#f9f5ff');\n            body.setProperty('--red-text', 'red');\n            body.setProperty('--yellow-text', 'var(--red-text)');\n    }\n    getQuery('#footerStat2 > p').style.color = dropStatColor;\n    getQuery('#footerStat3 > p').style.color = waterStatColor;\n\n    setTimeout(() => {\n        body.removeProperty('--transition-all');\n        body.removeProperty('--transition-buttons');\n    }, 1000);\n};\n\nexport const Alert = async(text: string): Promise<void> => {\n    return await new Promise((resolve) => {\n        const blocker = getId('blocker');\n        if (blocker.style.display !== 'none') {\n            resolve();\n            Notify('Another Alert is already active');\n            return;\n        }\n\n        getId('alertText').textContent = text;\n        const body = document.body;\n        const confirm = getId('alertConfirm');\n        blocker.style.display = '';\n        confirm.focus();\n\n        const key = async(button: KeyboardEvent) => {\n            if (button.key === 'Escape' || button.key === 'Enter' || button.key === ' ') {\n                button.preventDefault();\n                close();\n            }\n        };\n        const close = () => {\n            blocker.style.display = 'none';\n            body.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', close);\n            resolve();\n        };\n        body.addEventListener('keydown', key);\n        confirm.addEventListener('click', close);\n    });\n};\n\nexport const Confirm = async(text: string): Promise<boolean> => {\n    return await new Promise((resolve) => {\n        const blocker = getId('blocker');\n        if (blocker.style.display !== 'none') {\n            resolve(false);\n            Notify('Another Alert is already active');\n            return;\n        }\n\n        getId('alertText').textContent = text;\n        const body = document.body;\n        const cancel = getId('alertCancel');\n        const confirm = getId('alertConfirm');\n        blocker.style.display = '';\n        cancel.style.display = '';\n        confirm.focus();\n\n        const yes = () => { close(true); };\n        const no = () => { close(false); };\n        const key = (button: KeyboardEvent) => {\n            if (button.key === 'Escape') {\n                button.preventDefault();\n                no();\n            } else if (button.key === 'Enter' || button.key === ' ') {\n                if (document.activeElement === cancel) { return; }\n                button.preventDefault();\n                yes();\n            }\n        };\n        const close = (result: boolean) => {\n            blocker.style.display = 'none';\n            cancel.style.display = 'none';\n            body.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', yes);\n            cancel.removeEventListener('click', no);\n            resolve(result);\n        };\n        body.addEventListener('keydown', key);\n        confirm.addEventListener('click', yes);\n        cancel.addEventListener('click', no);\n    });\n};\n\nexport const Prompt = async(text: string, placeholder = ''): Promise<string | null> => {\n    return await new Promise((resolve) => {\n        const blocker = getId('blocker');\n        if (blocker.style.display !== 'none') {\n            resolve(null);\n            Notify('Another Alert is already active');\n            return;\n        }\n\n        getId('alertText').textContent = text;\n        const body = document.body;\n        const input = getId('alertInput') as HTMLInputElement;\n        const cancel = getId('alertCancel');\n        const confirm = getId('alertConfirm');\n        blocker.style.display = '';\n        cancel.style.display = '';\n        input.style.display = '';\n        input.placeholder = placeholder;\n        input.value = '';\n        input.focus();\n\n        const yes = () => { close(input.value === '' ? input.placeholder : input.value); };\n        const no = () => { close(null); };\n        const key = (button: KeyboardEvent) => {\n            if (button.key === 'Escape') {\n                button.preventDefault();\n                no();\n            } else if (document.activeElement !== cancel) {\n                if (button.key === 'Enter') {\n                    button.preventDefault();\n                    yes();\n                } else if (button.key === ' ') {\n                    if (document.activeElement === input) { return; }\n                    button.preventDefault();\n                    yes();\n                }\n            }\n        };\n        const close = (result: string | null) => {\n            blocker.style.display = 'none';\n            cancel.style.display = 'none';\n            input.style.display = 'none';\n            body.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', yes);\n            cancel.removeEventListener('click', no);\n            resolve(result);\n        };\n        body.addEventListener('keydown', key);\n        confirm.addEventListener('click', yes);\n        cancel.addEventListener('click', no);\n    });\n};\n\nexport const Notify = (text: string) => {\n    /* [0] is for identification; [1] is for html manipulation */\n    const { notifications } = specialHTML;\n\n    let index;\n    for (let i = 0; i < notifications.length; i++) {\n        if (notifications[i][0] === text) {\n            index = i;\n            break;\n        }\n    }\n\n    if (index === undefined) {\n        let count = 1;\n        let timeout: number;\n\n        const html = document.createElement('p');\n        html.textContent = text;\n        html.style.animation = 'hideX 800ms ease-in-out reverse';\n        html.style.pointerEvents = 'none';\n        if (globalSave.SRSettings[0]) { html.setAttribute('role', 'alert'); } //Firefox only recently added support for .role (in version 119)\n        getId('notifications').append(html);\n\n        const pointer = notifications[notifications.push([text, () => {\n            html.textContent = `${text} | x${++count}`;\n            clearTimeout(timeout);\n            timeout = setTimeout(remove, 7200);\n        }]) - 1];\n        const remove = () => {\n            notifications.splice(notifications.indexOf(pointer), 1);\n            html.removeEventListener('click', remove);\n            html.style.animation = 'hideX 800ms ease-in-out forwards';\n            html.style.pointerEvents = 'none';\n            setTimeout(() => html.remove(), 800);\n            clearTimeout(timeout);\n        };\n        setTimeout(() => {\n            html.style.animation = '';\n            html.style.pointerEvents = '';\n            timeout = setTimeout(remove, 7200);\n            html.addEventListener('click', remove);\n        }, 800);\n    } else { notifications[index][1](); }\n};\n\nexport const hideFooter = () => {\n    const toggleData = getId('hideToggle').dataset;\n    if (toggleData.disabled === 'true') { return; }\n    const footer = getId('footer');\n    const footerArea = getId('footerMain');\n    const arrow = getId('hideArrow');\n\n    const animationReset = () => {\n        footer.style.animation = '';\n        arrow.style.animation = '';\n        toggleData.disabled = '';\n    };\n\n    global.footer = !global.footer;\n    toggleData.disabled = 'true';\n    if (global.footer) {\n        footerArea.style.display = '';\n        arrow.style.transform = '';\n        footer.style.animation = 'hideY 800ms reverse';\n        arrow.style.animation = 'rotate 800ms reverse';\n        getId('hideText').textContent = 'Hide';\n        getId('stageSelect').classList.add('active');\n        setTimeout(animationReset, 800);\n\n        numbersUpdate();\n        visualUpdate();\n    } else {\n        footer.style.animation = 'hideY 800ms backwards';\n        arrow.style.animation = 'rotate 800ms backwards';\n        getId('hideText').textContent = 'Show';\n        getId('stageSelect').classList.remove('active');\n        setTimeout(() => {\n            footerArea.style.display = 'none';\n            arrow.style.transform = 'rotate(180deg)';\n            animationReset();\n        }, 800);\n    }\n};\n\nexport const changeFontSize = (change = false) => {\n    const input = getId('customFontSize') as HTMLInputElement;\n    const size = Math.min(Math.max(change ? (input.value === '' ? 16 : Math.floor(Number(input.value) * 100) / 100) : globalSave.fontSize, 12), 24);\n    if (change) {\n        globalSave.fontSize = size;\n        saveGlobalSettings();\n    }\n\n    document.documentElement.style.fontSize = size === 16 ? '' : `${size}px`;\n    input.value = `${size}`;\n};\n\nexport const changeFormat = (point: boolean) => {\n    const htmlInput = (point ? getId('decimalPoint') : getId('thousandSeparator')) as HTMLInputElement;\n    const allowed = ['.', '\u00B7', ',', ' ', '_', \"'\", '\"', '`', '|'].includes(htmlInput.value);\n    if (!allowed || globalSave.format[point ? 1 : 0] === htmlInput.value) {\n        if (point && globalSave.format[1] === '.') {\n            (getId('thousandSeparator') as HTMLInputElement).value = '';\n            globalSave.format[1] = '';\n        }\n        htmlInput.value = point ? '.' : '';\n    }\n    globalSave.format[point ? 0 : 1] = htmlInput.value;\n    saveGlobalSettings();\n};\n\nexport const MDStrangenessPage = (stageIndex: number) => {\n    for (let s = 1; s <= 5; s++) { getId(`strangenessSection${s}`).style.display = 'none'; }\n    getId(`strangenessSection${stageIndex}`).style.display = '';\n};\n\nexport const replayEvent = async() => {\n    if (getId('blocker').style.display !== 'none') { return; }\n\n    let last;\n    if (player.stage.true >= 6) {\n        last = 6;\n    } else {\n        last = player.stage.true - (player.events[0] ? 0 : 1);\n        if (last < 1) { return void Alert('There are no unlocked events'); }\n    }\n\n    let text = 'Which event do you want to see again?\\nEvent 1: Discharge requirement';\n    if (last >= 2) { text += '\\nEvent 2: Clouds softcap'; }\n    if (last >= 3) { text += '\\nEvent 3: New Rank'; }\n    if (last >= 4) { text += '\\nEvent 4: Element activation'; }\n    if (last >= 5) { text += '\\nEvent 5: Intergalactic space'; }\n    if (last >= 6) { text += '\\nEvent 6: True Vacuum'; }\n\n    const event = Number(await Prompt(text, `${last}`));\n    if (event > last) { return; }\n\n    void playEvent(event, -1);\n};\n\nexport const playEvent = async(event: number, index: number) => {\n    if (getId('blocker').style.display !== 'none') { return; }\n    if (index >= 0) { player.events[index] = true; }\n\n    switch (event) {\n        case 1:\n            return void Alert(\"Spent Energy can be regained only with Discharge, reaching new goal isn't required\");\n        case 2:\n            return void Alert('Cloud density is too high... Strength of new Clouds will be weaker');\n        case 3:\n            if (index >= 0) {\n                global.debug.rankUpdated = -1;\n                assignMaxRank();\n            }\n            return void Alert(\"Accretion can't continue without a new Rank. Next Rank is going to be softcapped\");\n        case 4:\n            return void Alert(\"Elements require Collapse to be activated. Solar mass won't decrease from Collapse\");\n        case 5:\n            return void Alert('Intergalactic space is currently empty, but completing different Milestones from previous Stages will allow creation of new Structures');\n        case 6:\n            await Alert('Vacuum is too unstable. Vacuum instability is imminent');\n            return void Alert('False Vacuum decayed, new Forces and Structures are expected');\n    }\n};\n", "import { globalSave } from './Special';\n\n/* This is version has all settings (and other stuff) removed (for better speed) */\n/** To test number for being Overlimit can use: typeof number === 'object'; Array.isArray(number); number instanceof Overlimit */\nexport default class Overlimit extends Array<number> {\n    constructor(number: string | number | [number, number] | Overlimit) {\n        const post = technical.convert(number);\n        super(post[0], post[1]);\n    }\n    get mantissa() { return this[0]; }\n    get exponent() { return this[1]; }\n\n    /** Creates new Overlimit */\n    clone(): Overlimit { return new Overlimit(this); }\n    setValue(newValue: string | number | [number, number] | Overlimit) { return this.#privateSet(technical.convert(newValue)); }\n    #privateSet(newValue: [number, number] | Overlimit) {\n        this[0] = newValue[0];\n        this[1] = newValue[1];\n        return this;\n    }\n\n    /** Can take any amount of arquments */\n    plus(...numbers: Array<string | number | [number, number] | Overlimit>) {\n        let result: [number, number] | Overlimit = this;\n        for (let i = 0; i < numbers.length; i++) {\n            result = technical.add(result, technical.convert(numbers[i]));\n        }\n\n        return this.#privateSet(result);\n    }\n    /** Can take any amount of arquments */\n    minus(...numbers: Array<string | number | [number, number] | Overlimit>) {\n        let result: [number, number] | Overlimit = this;\n        for (let i = 0; i < numbers.length; i++) {\n            result = technical.sub(result, technical.convert(numbers[i]));\n        }\n\n        return this.#privateSet(result);\n    }\n    /** Can take any amount of arquments */\n    multiply(...numbers: Array<string | number | [number, number] | Overlimit>) {\n        let result: [number, number] | Overlimit = this;\n        for (let i = 0; i < numbers.length; i++) {\n            result = technical.mult(result, technical.convert(numbers[i]));\n        }\n\n        return this.#privateSet(result);\n    }\n    /** Can take any amount of arquments */\n    divide(...numbers: Array<string | number | [number, number] | Overlimit>) {\n        let result: [number, number] | Overlimit = this;\n        for (let i = 0; i < numbers.length; i++) {\n            result = technical.div(result, technical.convert(numbers[i]));\n        }\n\n        return this.#privateSet(result);\n    }\n    /** Power must be a number */\n    power(power: number) { return this.#privateSet(technical.pow(this, power)); }\n    /** Root must be a number, default value is 2 */\n    //root(root = 2) { return this.#privateSet(technical.pow(this, 1 / root)); }\n    /** Base must be a number, default value is Math.E */\n    log(base = 2.718281828459045) { return this.#privateSet(technical.log(this, base)); }\n\n    abs() {\n        this[0] = Math.abs(this[0]);\n        return this;\n    }\n\n    trunc() { return this.#privateSet(technical.trunc(this)); }\n    floor() { return this.#privateSet(technical.floor(this)); }\n    ceil() { return this.#privateSet(technical.ceil(this)); }\n    round() { return this.#privateSet(technical.round(this)); }\n\n    /* Doesn't check exponent, since exponent being NaN while mantissa isn't would be a bug */\n    isNaN(): boolean { return isNaN(this[0])/* || isNaN(this[1])*/; }\n    /* Doesn't check exponent, since exponent being Infinity while mantissa isn't would be a bug */\n    isFinite(): boolean { return isFinite(this[0])/* && isFinite(this[1])*/; }\n\n    lessThan(compare: string | number | [number, number] | Overlimit): boolean { return technical.less(this, technical.convert(compare)); }\n    lessOrEqual(compare: string | number | [number, number] | Overlimit): boolean { return technical.lessOrEqual(this, technical.convert(compare)); }\n    moreThan(compare: string | number | [number, number] | Overlimit): boolean { return technical.more(this, technical.convert(compare)); }\n    moreOrEqual(compare: string | number | [number, number] | Overlimit): boolean { return technical.moreOrEqual(this, technical.convert(compare)); }\n    notEqual(compare: string | number | [number, number] | Overlimit): boolean { return technical.notEqual(this, technical.convert(compare)); }\n    /** Can take any amount of arquments; Returns true if no arquments provided */\n    allEqual(...compare: Array<string | number | [number, number] | Overlimit>): boolean {\n        let previous: [number, number] | Overlimit = this;\n        for (let i = 0; i < compare.length; i++) {\n            const next = technical.convert(compare[i]);\n            if (technical.notEqual(previous, next)) { return false; }\n            previous = next;\n        }\n\n        return true;\n    }\n\n    /** Set original number to biggest of provided arguments */\n    max(...compare: Array<string | number | [number, number] | Overlimit>) {\n        let result: [number, number] | Overlimit = this;\n\n        for (let i = 0; i < compare.length; i++) {\n            const after = technical.convert(compare[i]);\n            if (isNaN(after[0])) { return this.#privateSet([NaN, NaN]); }\n\n            if (technical.less(result, after)) { result = after; }\n        }\n\n        return this.#privateSet(result);\n    }\n    /** Set original number to smallest of provided arguments */\n    min(...compare: Array<string | number | [number, number] | Overlimit>) {\n        let result: [number, number] | Overlimit = this;\n\n        for (let i = 0; i < compare.length; i++) {\n            const after = technical.convert(compare[i]);\n            if (isNaN(after[0])) { return this.#privateSet([NaN, NaN]); }\n\n            if (technical.more(result, after)) { result = after; }\n        }\n\n        return this.#privateSet(result);\n    }\n\n    /** Returns formatted string, takes object as arqument (some default values are from limitSettings)\n     * @param type \"number\" is default, \"input\" will make formatted number to be usable in Overlimit\n     * @param digits max digits past point\n     * @param padding should zeros be added past point, if bellow max digits\n     */\n    format(settings = {} as { digits?: number, type?: 'number' | 'input', padding?: boolean }): string { return technical.format(this, settings); }\n    /** Returns value as Number, doesn't change original number */\n    toNumber(): number { return Number(technical.turnString(this)); }\n    /** Returns value as String, doesn't change original number */\n    toString(): string { return technical.turnString(this); }\n    /** Returns value as Array, not recommended, also manual modification of returned Array can cause bugs. doesn't change original number */\n    //toArray(): [number, number] { return [this[0], this[1]]; }\n}\n\nconst technical = {\n    convert: (number: string | number | [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (typeof number === 'object' && number !== null) { return number; } //Readonly Array\n        if (typeof number !== 'string') { number = `${number}`; } //Using log10 could cause floating point error\n        const index = number.indexOf('e');\n        const result: [number, number] = index === -1 ? [Number(number), 0] : [Number(number.slice(0, index)), Number(number.slice(index + 1))];\n\n        if (!isFinite(result[0]) || !isFinite(result[1])) {\n            if (result[0] === 0 || result[1] === -Infinity) { return [0, 0]; }\n            if (isNaN(result[0]) || isNaN(result[1])) { return [NaN, NaN]; }\n            return [result[0] < 0 ? -Infinity : Infinity, Infinity];\n        }\n\n        const after = Math.abs(result[0]);\n        if (after === 0) {\n            return [0, 0];\n        } else if (after < 1 || after >= 10) {\n            const digits = Math.floor(Math.log10(after));\n            result[0] /= 10 ** digits;\n            result[1] += digits;\n\n            if (Math.abs(result[0]) < 1) { //Important\n                result[0] *= 10;\n                result[1]--;\n            }\n        }\n\n        //Float fix always done after exponent, because (11.1 / 10 !== 1.11)\n        result[0] = Math.round(result[0] * 1e14) / 1e14;\n        if (Math.abs(result[0]) === 10) {\n            result[0] /= 10;\n            result[1]++;\n        }\n\n        return result;\n    },\n    /* Number is readonly */\n    turnString: (number: [number, number] | Overlimit): string => number[1] === 0 || !isFinite(number[0]) ? `${number[0]}` : `${number[0]}e${number[1]}`,\n    /* Right is readonly */\n    add: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (right[0] === 0) { return left; }\n        if (left[0] === 0) { return [right[0], right[1]]; }\n        if (!isFinite(left[0]) || !isFinite(right[0])) {\n            const check = left[0] + right[0]; //Infinity + -Infinity === NaN\n            return isNaN(check) ? [NaN, NaN] : [check, Infinity];\n        }\n\n        const difference = left[1] - right[1];\n        if (Math.abs(difference) > 15) { return difference > 0 ? left : [right[0], right[1]]; }\n\n        if (difference === 0) {\n            left[0] += right[0];\n        } else if (difference > 0) {\n            left[0] += right[0] / 10 ** difference;\n        } else {\n            left[0] = right[0] + (left[0] * 10 ** difference);\n            left[1] = right[1];\n        }\n\n        const after = Math.abs(left[0]);\n        if (after === 0) {\n            return [0, 0];\n        } else if (after >= 10) {\n            left[0] /= 10;\n            left[1]++;\n        } else if (after < 1) {\n            const digits = -Math.floor(Math.log10(after));\n            left[0] *= 10 ** digits;\n            left[1] -= digits;\n        }\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n\n        return left;\n    },\n    /* Right is readonly, its quite a lazy function... */\n    sub: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): [number, number] | Overlimit => technical.add(left, [-right[0], right[1]]),\n    /* Right is readonly */\n    mult: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (left[0] === 0 || right[0] === 0) { return [0, 0]; }\n\n        left[1] += right[1];\n        left[0] *= right[0];\n\n        if (!isFinite(left[1])) {\n            if (left[1] === -Infinity) { return [0, 0]; }\n            return isNaN(left[1]) ? [NaN, NaN] : [Infinity, Infinity];\n        }\n\n        if (Math.abs(left[0]) >= 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n\n        return left;\n    },\n    /* Right is readonly */\n    div: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (right[0] === 0) { return [NaN, NaN]; }\n        if (left[0] === 0) { return [0, 0]; }\n\n        left[1] -= right[1];\n        left[0] /= right[0];\n\n        if (!isFinite(left[1])) {\n            if (left[1] === -Infinity) { return [0, 0]; }\n            return isNaN(left[1]) ? [NaN, NaN] : [Infinity, Infinity];\n        }\n\n        if (Math.abs(left[0]) < 1) {\n            left[0] *= 10;\n            left[1]--;\n        }\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n\n        return left;\n    },\n    pow: (left: [number, number] | Overlimit, power: number): [number, number] | Overlimit => {\n        if (power === 0) { return left[0] === 0 || isNaN(left[0]) ? [NaN, NaN] : [1, 0]; }\n        if (left[0] === 0) { return power < 0 ? [NaN, NaN] : [0, 0]; }\n        if (!isFinite(power)) {\n            if ((left[1] === 0 && left[0] === 1) || left[0] < 0) { return left[0] === 1 ? [1, 0] : [NaN, NaN]; }\n            if ((power === -Infinity && left[1] >= 0) || (power === Infinity && left[1] < 0)) { return [0, 0]; }\n            return isNaN(power) || isNaN(left[0]) ? [NaN, NaN] : [Infinity, Infinity];\n        }\n\n        const negative = left[0] < 0 ? Math.abs(power) % 2 : null;\n        if (negative !== null) { //Complex numbers are not supported\n            if (Math.floor(power) !== power) { return [NaN, NaN]; }\n            left[0] *= -1;\n        }\n\n        const base10 = power * (Math.log10(left[0]) + left[1]);\n        if (!isFinite(base10)) {\n            if (base10 === -Infinity) { return [0, 0]; }\n            if (isNaN(left[0])) { return [NaN, NaN]; }\n            return [negative === 1 ? -Infinity : Infinity, Infinity];\n        }\n\n        const target = Math.floor(base10);\n        left[0] = 10 ** (base10 - target);\n        left[1] = target;\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (left[0] === 10) {\n            left[0] = 1;\n            left[1]++;\n        }\n\n        if (negative === 1) { left[0] *= -1; }\n        return left;\n    },\n    log: (left: [number, number] | Overlimit, base: number): [number, number] | Overlimit => {\n        if (Math.abs(base) === 1 || (left[0] === -1 && left[1] === 0)) { return [NaN, NaN]; }\n        if (left[0] === 1 && left[1] === 0) { return [0, 0]; }\n        if (base === 0) { return [NaN, NaN]; } //Order matters (0 ** 0 === 1)\n        if (left[0] === 0) { return isNaN(base) ? [NaN, NaN] : [Math.abs(base) > 1 ? -Infinity : Infinity, Infinity]; }\n        if (!isFinite(base)) { return [NaN, NaN]; } //Order matters (Infinity ** 0 === 1 || Infinity ** -Infinity === 0)\n        if (!isFinite(left[0])) {\n            if (isNaN(left[0]) || left[0] === -Infinity) { return [NaN, NaN]; }\n            return [Math.abs(base) < 1 ? -Infinity : Infinity, Infinity];\n        }\n\n        const negative = left[0] < 0;\n        if (negative) { //Complex numbers are not supported\n            if (base > 0) { return [NaN, NaN]; }\n            left[0] *= -1;\n        }\n\n        const tooSmall = left[1] < 0; //Minor issue with negative power\n        const base10 = Math.log10(Math.abs(Math.log10(left[0]) + left[1]));\n        const target = Math.floor(base10);\n        left[0] = 10 ** (base10 - target);\n        left[1] = target;\n\n        if (tooSmall) { left[0] *= -1; } //Already can be negative\n        if (base !== 10) {\n            left[0] /= Math.log10(Math.abs(base));\n\n            const after = Math.abs(left[0]);\n            if (after < 1 || after >= 10) {\n                const digits = Math.floor(Math.log10(after));\n                left[0] /= 10 ** digits;\n                left[1] += digits;\n            }\n        }\n\n        if (base < 0 || negative) { //Special test for negative numbers\n            if (left[1] < 0) { return [NaN, NaN]; }\n            //Due to floats (1.1 * 100 !== 110), test is done in this way\n            const test = left[1] < 16 ? Math.abs(Math.round(left[0] * 1e14) / 10 ** (14 - left[1])) % 2 : 0;\n            if (base < 0 && !negative) {\n                if (test !== 0) { return [NaN, NaN]; } //Result must be even\n            } else { //base < 0 && negative\n                if (test !== 1) { return [NaN, NaN]; } //Result must be uneven\n            }\n        }\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n\n        return left;\n    },\n    /* Left and right are readonly */\n    less: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] < right[0]; }\n        if (left[0] > 0 && right[0] > 0) { return left[1] < right[1]; }\n        if (left[0] < 0 && right[0] > 0) { return true; }\n        if (right[0] < 0 && left[0] > 0) { return false; }\n        return left[1] > right[1];\n    },\n    /* Left and right are readonly */\n    lessOrEqual: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] <= right[0]; }\n        if (left[0] > 0 && right[0] > 0) { return left[1] < right[1]; }\n        if (left[0] < 0 && right[0] > 0) { return true; }\n        if (right[0] < 0 && left[0] > 0) { return false; }\n        return left[1] > right[1];\n    },\n    /* Left and right are readonly */\n    more: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] > right[0]; }\n        if (left[0] > 0 && right[0] > 0) { return left[1] > right[1]; }\n        if (left[0] < 0 && right[0] > 0) { return false; }\n        if (right[0] < 0 && left[0] > 0) { return true; }\n        return left[1] < right[1];\n    },\n    /* Left and right are readonly */\n    moreOrEqual: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] >= right[0]; }\n        if (left[0] > 0 && right[0] > 0) { return left[1] > right[1]; }\n        if (left[0] < 0 && right[0] > 0) { return false; }\n        if (right[0] < 0 && left[0] > 0) { return true; }\n        return left[1] < right[1];\n    },\n    /* Left and right are readonly */\n    notEqual: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        return left[1] !== right[1] || left[0] !== right[0];\n    },\n    trunc: (left: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (left[1] < 0) {\n            return [0, 0];\n        } else if (left[1] === 0) {\n            left[0] = Math.trunc(left[0]);\n        } else if (left[1] <= 14) {\n            left[0] = Math.trunc(left[0] * 10 ** left[1]) / 10 ** left[1];\n        }\n\n        return left;\n    },\n    floor: (left: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (left[1] < 0) {\n            return [left[0] < 0 ? -1 : 0, 0];\n        } else if (left[1] === 0) {\n            left[0] = Math.floor(left[0]);\n        } else if (left[1] <= 14) {\n            left[0] = Math.floor(left[0] * 10 ** left[1]) / 10 ** left[1];\n        }\n\n        if (left[0] === -10) {\n            left[0] = -1;\n            left[1]++;\n        }\n        return left;\n    },\n    ceil: (left: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (left[1] < 0) {\n            return [left[0] < 0 ? 0 : 1, 0];\n        } else if (left[1] === 0) {\n            left[0] = Math.ceil(left[0]);\n        } else if (left[1] <= 14) {\n            left[0] = Math.ceil(left[0] * 10 ** left[1]) / 10 ** left[1];\n        }\n\n        if (left[0] === 10) {\n            left[0] = 1;\n            left[1]++;\n        }\n        return left;\n    },\n    round: (left: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (left[1] < 0) {\n            return [left[1] === -1 ? Math.round(left[0] / 10) : 0, 0];\n        } else if (left[1] === 0) {\n            left[0] = Math.round(left[0]);\n        } else if (left[1] <= 14) {\n            left[0] = Math.round(left[0] * 10 ** left[1]) / 10 ** left[1];\n        }\n\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n        return left;\n    },\n    /* Left is readonly */\n    format: (left: [number, number] | Overlimit, settings: { digits?: number, type?: 'number' | 'input', padding?: boolean }): string => {\n        const [base, power] = left;\n        if (!isFinite(base)) { return `${base}`; }\n\n        //1.23e1.23e123\n        if (power >= 1e4 || power <= -1e4) {\n            const digits = settings.digits ?? 2;\n            let exponent = power;\n            let mantissa = Math.round(base * 10 ** digits) / 10 ** digits;\n            if (Math.abs(mantissa) === 10) {\n                mantissa /= 10;\n                exponent++; //Mantissa in short version kept only for this\n            }\n\n            exponent = Math.floor(Math.log10(Math.abs(exponent)));\n            let powerMantissa = Math.round(power / 10 ** (exponent - digits)) / 10 ** digits;\n            if (Math.abs(powerMantissa) === 10) {\n                powerMantissa /= 10;\n                exponent++;\n            }\n\n            const formatedPower = settings.padding ? powerMantissa.toFixed(digits) : `${powerMantissa}`;\n            if (settings.type !== 'input') { //1.23ee123 (-1.23e-e123)\n                powerMantissa = Math.abs(powerMantissa);\n                if (base < 0) { powerMantissa *= -1; }\n                return `${formatedPower.replace('.', globalSave.format[0])}e${power < 0 ? '-' : ''}e${exponent}`;\n            }\n\n            const formatedBase = settings.padding ? mantissa.toFixed(digits) : `${mantissa}`;\n            return settings.type === 'input' ? `${formatedBase}e${formatedPower}e${exponent}` : `${formatedBase.replace('.', globalSave.format[0])}e${formatedPower.replace('.', globalSave.format[0])}e${exponent}`;\n        }\n\n        //1.23e123\n        if (power >= 6 || power < -3) {\n            const digits = settings.digits ?? 2;\n            let exponent = power;\n            let mantissa = Math.round(base * 10 ** digits) / 10 ** digits;\n            if (Math.abs(mantissa) === 10) {\n                mantissa /= 10;\n                exponent++;\n            }\n            const formated = settings.padding ? mantissa.toFixed(digits) : `${mantissa}`;\n            return settings.type === 'input' ? `${formated}e${exponent}` : `${formated.replace('.', globalSave.format[0])}e${exponent}`;\n        }\n\n        //12345\n        const digits = settings.digits ?? Math.max(4 - Math.max(power, 0), 0);\n        const mantissa = Math.round(base * 10 ** (digits + power)) / 10 ** digits;\n        const formated = settings.padding ? mantissa.toFixed(digits) : `${mantissa}`;\n        return settings.type === 'input' ? formated : mantissa >= 1e3 ? formated.replace('.', globalSave.format[0]).replace(/\\B(?=(\\d{3})+(?!\\d))/, globalSave.format[1]) : formated.replace('.', globalSave.format[0]);\n    }\n};\n", "import Overlimit from './Limit';\nimport { getId } from './Main';\nimport { specialHTML } from './Special';\nimport { assignEnergy, assignStrangeBoost, calculateInstability, calculateMaxLevel, calculateMilestoneInformation, assignPuddles, toggleConfirm, toggleSwap, calculateEffects, getDischargeScale } from './Stage';\nimport type { globalType, playerType } from './Types';\nimport { format, visualUpdateResearches } from './Update';\nimport { prepareVacuum } from './Vacuum';\n\nexport const player: playerType = { //Only for information that need to be saved (cannot be calculated)\n    version: 'v0.2.0',\n    fileName: 'Fundamental, [dateD.M.Y] [timeH-M-S], [stage]',\n    stage: {\n        true: 1,\n        current: 1,\n        active: 1,\n        resets: 0,\n        export: 86400,\n        best: 0,\n        time: 0,\n        peak: 0,\n        input: 20\n    },\n    discharge: { //Stage 1\n        energy: 0,\n        energyMax: 0,\n        current: 0\n    },\n    vaporization: { //Stage 2\n        clouds: new Overlimit('0'),\n        cloudsMax: new Overlimit('0'),\n        input: 3\n    },\n    accretion: { //Stage 3\n        rank: 0\n    },\n    collapse: { //Stage 4, 5\n        mass: 0.01235,\n        massMax: 0.01235,\n        stars: [0, 0, 0],\n        show: 0,\n        input: 2\n    },\n    inflation: { //Stage 6\n        vacuum: false,\n        age: 0\n    },\n    time: {\n        updated: Date.now(),\n        started: Date.now(),\n        offline: 0,\n        online: 0,\n        stage: 0,\n        universe: 0\n    },\n    buildings: [\n        [] as unknown as playerType['buildings'][0], [ //Stage 1\n            {\n                current: new Overlimit('3'),\n                total: new Overlimit('3'),\n                trueTotal: new Overlimit('3'),\n                highest: new Overlimit('3')\n            }, {\n                true: 0, //Bought\n                current: new Overlimit('0'), //On hands\n                total: new Overlimit('0'), //This reset\n                trueTotal: new Overlimit('0'), //This stage\n                highest: new Overlimit('0') //Highest 'current' in any stage\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }\n        ], [ //Stage 2\n            { //Should be instead '2.77675342812811e-3'\n                current: new Overlimit('2.8e-3'),\n                total: new Overlimit('2.8e-3'),\n                trueTotal: new Overlimit('2.8e-3'),\n                highest: new Overlimit('2.8e-3')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }\n        ], [ //Stage 3\n            {\n                current: new Overlimit('1e-19'),\n                total: new Overlimit('1e-19'),\n                trueTotal: new Overlimit('1e-19'),\n                highest: new Overlimit('1e-19')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }\n        ], [ //Stage 4\n            {\n                current: new Overlimit('1'),\n                total: new Overlimit('1'),\n                trueTotal: new Overlimit('1'),\n                highest: new Overlimit('1')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }\n        ], [ //Stage 5\n            {\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0'),\n                highest: new Overlimit('0')\n            }\n        ]\n    ],\n    strange: [ //Stage 5\n        {\n            current: 0,\n            total: 0\n        }, {\n            current: 0,\n            total: 0\n        }\n    ],\n    /* Because I'm lazy to write 50+ 0's, all empty [] auto added */\n    upgrades: [],\n    researches: [],\n    researchesExtra: [],\n    researchesAuto: [],\n    ASR: [], //Auto Structures Research\n    maxASR: [], //Highest reached\n    elements: [],\n    strangeness: [],\n    milestones: [],\n    challenges: {\n        active: -1,\n        void: [0, 0, 0, 0, 0, 0]\n    },\n    toggles: {\n        confirm: [], //Class 'toggleConfirm'\n        /* Stage[0]; Discharge[1]; Vaporization[2]; Rank[3]; Collapse[4] */\n        buildings: [], //Class 'toggleBuilding' ([0] everywhere, is toggle all)\n        hover: [], //Class 'toggleHover'\n        /* Upgrades/Researches/Elements[0] */\n        max: [], //Class 'toggleMax'\n        /* Researches[0] */\n        auto: [], //Class 'toggleAuto'\n        /* Stage[0], Discharge[1], Vaporization[2], Rank[3], Collapse[4],\n           Upgrades[5], Researches[6], ResearchesExtra[7], Elements[8] */\n        shop: {\n            input: 1,\n            wait: [2]\n        }\n    },\n    history: {\n        stage: {\n            best: [0, 1, 0],\n            list: [],\n            input: [5, 10]\n        }\n    },\n    events: [false] //Used as progress check\n    /* Intergalactic Stage reset[0] */\n};\n\nexport const global: globalType = { //For information that doesn't need to be saved\n    tab: 'stage',\n    subtab: {\n        stageCurrent: 'Structures',\n        settingsCurrent: 'Settings',\n        upgradeCurrent: 'Upgrades',\n        strangenessCurrent: 'Matter'\n    },\n    tabList: { //Order comes from footer\n        tabs: ['stage', 'upgrade', 'strangeness', 'settings'],\n        stageSubtabs: ['Structures', 'Advanced'],\n        settingsSubtabs: ['Settings', 'History', 'Stats'],\n        upgradeSubtabs: ['Upgrades', 'Elements'],\n        strangenessSubtabs: ['Matter', 'Milestones']\n    },\n    debug: {\n        errorID: true, //Notify about missing ID\n        errorQuery: true, //About incorect Query\n        errorGain: true, //About NaN or Infinity\n        rankUpdated: -1, //Rank number\n        historyStage: -1 //Stage resets\n    },\n    trueActive: 1,\n    lastSave: 0,\n    paused: true,\n    footer: true,\n    hotkeys: {\n        shift: false,\n        ctrl: false\n    },\n    automatization: { //Sorted cheapest first\n        autoU: [ //Upgrades\n            [],\n            [],\n            [],\n            [],\n            [],\n            []\n        ],\n        autoR: [ //Researches\n            [],\n            [],\n            [],\n            [],\n            [],\n            []\n        ],\n        autoE: [ //Researches Extra\n            [],\n            [],\n            [],\n            [],\n            [],\n            []\n        ],\n        elements: []\n    },\n    dischargeInfo: {\n        getEnergy: (index: number, stageIndex: number) => {\n            let value = global.dischargeInfo.energyType[stageIndex][index];\n            if (stageIndex === 1 && index === 1) { value += player.strangeness[1][7]; }\n            if (player.inflation.vacuum) {\n                value += Math.floor(value / 100 * global.milestonesInfo[1].reward[1]);\n                if (player.challenges.active === 0) { value -= Math.ceil(value / 5); }\n            }\n            return value;\n        },\n        energyType: [\n            [],\n            [0, 1, 3, 5, 10, 20],\n            [0, 20, 30, 40, 50, 60, 100],\n            [0, 20, 40, 60, 100, 120],\n            [0, 80, 160, 240, 320, 400],\n            [0, 400, 400, 1000]\n        ],\n        energyTrue: 0,\n        tritium: new Overlimit('0'),\n        base: 4,\n        total: 0,\n        next: 1\n    },\n    vaporizationInfo: {\n        strength: new Overlimit('1'),\n        research0: 0,\n        research1: 0,\n        get: new Overlimit('0')\n    },\n    accretionInfo: {\n        rankU: [1, 1, 2, 2, 3, 3, 4, 4, 4, 4, 5, 5, 5], //Upgrades\n        rankR: [1, 1, 2, 2, 3, 3, 3, 4, 5], //Researches\n        rankE: [2, 3, 4, 5, 3], //Researches Extra\n        maxRank: 4,\n        rankCost: [5.9722e27, 1e-7, 1e10, 1e24, 5e29, 2.45576045e31], //1.98847e40\n        rankColor: ['blue', 'cyan', 'gray', 'gray', 'gray', 'darkviolet', 'orange'], //'orchid'\n        rankName: ['Ocean world', 'Cosmic dust', 'Meteoroid', 'Asteroid', 'Planet', 'Jovian planet', 'Protostar'], //'Protogalaxy'\n        rankImage: ['Ocean%20world.png', 'Dust.png', 'Meteoroids.png', 'Asteroid.png', 'Planet.png', 'Giant.png', 'Protostar.png'] //'Protogalaxy.png'\n    },\n    collapseInfo: {\n        massEffect: 1,\n        starEffect: [1, 1, 1],\n        unlockB: [0, 0.01235, 0.23, 10, 40, 1000], //Buildings\n        unlockU: [0.01235, 0.076, 1.3, 10, 40], //Upgrades\n        unlockR: [0.18, 0.3, 0.8, 1.3], //Researches\n        newMass: 0,\n        starCheck: [0, 0, 0],\n        trueStars: 0\n    },\n    inflationInfo: {\n        globalSpeed: 1,\n        preonCap: new Overlimit('1e14'),\n        dustCap: new Overlimit('1e48'),\n        massCap: 0.01235,\n        preonTrue: new Overlimit('0'),\n        dustTrue: new Overlimit('0')\n    },\n    intervalsId: {\n        main: undefined,\n        numbers: undefined,\n        visual: undefined,\n        autoSave: undefined,\n        mouseRepeat: undefined\n    },\n    stageInfo: {\n        word: ['', 'Microworld', 'Submerged', 'Accretion', 'Interstellar', 'Intergalactic', 'Void'],\n        textColor: ['', 'cyan', 'blue', 'gray', 'orange', 'darkorchid', 'darkviolet'],\n        buttonBorder: ['', 'darkcyan', '#386cc7', '#424242', '#a35700', '#8f004c', '#6c1ad1'],\n        imageBorderColor: ['', '#008b8b', '#1460a8', '#5b5b75', '#e87400', '#b324e2', '#5300c1'],\n        activeAll: [1]\n    },\n    buildingsInfo: {\n        maxActive: [0, 4, 6, 5, 5, 4], //Pre vacuum ([1] > [5])\n        name: [\n            [],\n            ['Mass', 'Preons', 'Quarks', 'Particles', 'Atoms', 'Molecules'], //[0] Must be 'Mass'\n            ['Moles', 'Drops', 'Puddles', 'Ponds', 'Lakes', 'Seas', 'Oceans'],\n            ['Mass', 'Cosmic dust', 'Planetesimals', 'Protoplanets', 'Satellites', 'Subsatellites'],\n            ['Elements', 'Brown dwarfs', 'Main sequence', 'Red supergiants', 'Blue hypergiants', 'Quasi stars'],\n            ['Stars', 'Nebulas', 'Star clusters', 'Galaxies']\n        ],\n        hoverText: [\n            [],\n            ['Mass', 'Preons', 'Quarks', 'Particles', 'Atoms'],\n            ['Tritium', 'Drops', 'Puddles', 'Ponds', 'Lakes', 'Seas'],\n            ['Preons hardcap', 'Cosmic dust', 'Planetesimals', 'Protoplanets', 'Satellites'],\n            ['Elements', 'Elements', 'Elements', 'Elements', 'Elements'],\n            ['Interstellar Stars', 'Interstellar Stars', 'Nebulas and Star clusters']\n        ],\n        type: [\n            [] as unknown as [''],\n            ['', 'producing', 'producing', 'producing', 'producing', 'producing'], //Index 6 must not be 'producing'\n            ['', 'producing', 'producing', 'improving', 'improving', 'improving', 'improving'],\n            ['', 'producing', 'producing', 'producing', 'improving', 'improving'],\n            ['', 'producing', 'producing', 'producing', 'producing', 'producing'],\n            ['', 'producing', 'improving', 'improving'] //Index 2, 3, 4 must not be 'producing'\n        ],\n        startCost: [\n            [],\n            [0, 0.005476, 6, 3, 24, 3],\n            [0, 0.0028, 100, 1e7, 1e18, 1e23, 2.676e25],\n            [0, 1e-19, 1e-9, 1e21, 1e17, 1e22],\n            [0, 1, 1e5, 1e15, 1e28, 1e50],\n            [0, 1e50, 1e54, 1e5]\n        ],\n        increase: [\n            [],\n            [0, 1.4, 1.4, 1.4, 1.4, 1.4],\n            [0, 1.15, 1.2, 1.25, 1.35, 1.4, 4],\n            [0, 1.15, 1.25, 1.35, 10, 10],\n            [0, 1.4, 1.55, 1.70, 1.85, 2],\n            [0, 4, 4, 1.11]\n        ],\n        producing: []\n    },\n    strangeInfo: {\n        gain: (stage: number) => {\n            const interstellar = stage >= 4 || player.inflation.vacuum;\n\n            let gain = interstellar ? calculateEffects.element26() : 1;\n            if (player.inflation.vacuum) {\n                gain += player.strangeness[5][5] >= 1 ? 4 : 3;\n                if (player.strangeness[2][7] >= 1) { gain *= calculateEffects.S2Strange7(); }\n            } else { gain += global.strangeInfo.instability; }\n            if (interstellar) { gain *= (player.buildings[5][3].true + 1) * (2 ** player.strangeness[5][1]); }\n            return Math.floor(gain);\n        },\n        name: ['Strange quarks', 'Strangelets'],\n        stageBoost: [1, 1, 1, 1, 1, 1],\n        instability: 0\n    },\n    upgradesInfo: [\n        {} as globalType['upgradesInfo'][0], { //Stage 1\n            name: [\n                'Weak force',\n                'Strong force',\n                'Bigger electrons',\n                'Stronger protons',\n                'More neutrons',\n                'Superposition',\n                'Protium',\n                'Deuterium',\n                'Tritium',\n                'Nuclear fusion'\n            ],\n            effectText: [\n                () => 'Particles will produce 5 times more Quarks.',\n                () => 'Gluons will now bind Quarks into Particles, which will make Particles 10 times cheaper.',\n                () => `${player.inflation.vacuum ? 'Atoms' : 'Particles'} will be 10 times cheaper.`,\n                () => `${player.inflation.vacuum ? 'Atoms' : 'Particles'} will produce 5 times more ${player.inflation.vacuum ? 'Particles' : 'Quarks'}.`,\n                () => `${player.inflation.vacuum ? 'Molecules' : 'Atoms'} will produce 5 times more ${player.inflation.vacuum ? 'Atoms' : 'Particles'}.`,\n                () => `Ability to regain spent Energy and if had enough Energy will also boost production for all Structures by ${format(global.dischargeInfo.base)}.`,\n                () => `Decrease Structures cost scaling by -${format(calculateEffects.S1Upgrade6() / 100)}.`,\n                () => `Make self-made Structures boost themselves by ${format(calculateEffects.S1Upgrade7())}.`,\n                () => 'Molecules will produce Molecules. At a reduced rate.',\n                () => `Unspent Energy${player.inflation.vacuum ? ` ^${format(0.5)}` : ''} will boost 'Tritium' production of Molecules${player.inflation.vacuum ? '' : ' 1 to 1'}.\\n(Boost: ${format(Math.max(player.discharge.energy, 1) ** (player.inflation.vacuum ? 0.5 : 1), { padding: true })})`\n            ],\n            startCost: [40, 60, 120, 140, 200, 400, 2000, 4000, 16000, 84000],\n            maxActive: 10\n        }, { //Stage 2\n            name: [\n                'Molecules to Moles',\n                'Water spread',\n                'Vaporization',\n                'Surface tension',\n                'Surface stress',\n                'Stream',\n                'River',\n                'Tsunami',\n                'Tide'\n            ],\n            effectText: [\n                () => `Drops will ${player.inflation.vacuum ? 'improve Tritium' : 'produce Moles'} ${format(player.inflation.vacuum ? 1.02 : 1.04)} times ${player.inflation.vacuum ? 'more' : 'faster'} for every self-made Drop.`,\n                () => `Spread water faster with every Puddle, weaker for non self-made ones.\\n(Total effect: ${format(calculateEffects.S2Upgrade1(), { padding: true })})`,\n                () => `Gain ability to convert Drops into Clouds. (Boost after Vaporization can be seen in Stats subtab)\\nCurrent Cloud gain is (Drops / ${format(calculateEffects.S2Upgrade2())}) ^${format(player.inflation.vacuum ? 0.5 : 0.6)}.`,\n                () => { //[3]\n                    const power = calculateEffects.S2Upgrade3();\n                    return `Puddles will get a boost based on Moles ^${format(power)}.\\n(Boost: ${format(new Overlimit(player.buildings[2][0].current).max('1').power(power), { padding: true })})`;\n                },\n                () => { //[4]\n                    const power = calculateEffects.S2Upgrade4();\n                    return `Puddles will get a boost based on Drops ^${format(power)}.\\n(Boost: ${format(new Overlimit(player.buildings[2][1].current).max('1').power(power), { padding: true })})`;\n                },\n                () => `Ponds will now create extra Puddles. (${format(calculateEffects.S2Upgrade5())} extra Puddles per Pond)`,\n                () => `Lakes will now create extra Ponds. (${format(calculateEffects.S2Upgrade6())} extra Ponds per Lake)`,\n                () => 'Spreads enough water to make each Sea create 1 extra Lake.',\n                () => 'Spreads water too fast. 1 extra Sea per Ocean.'\n            ],\n            startCost: [10, 1e6, 1e10, 1e3, 1e4, 2e9, 5e20, 1e28, 4e40],\n            maxActive: 8\n        }, { //Stage 3\n            name: [\n                'Brownian motion',\n                'Gas',\n                'Micrometeoroid',\n                'Streaming instability',\n                'Gravitational field',\n                'Rubble pile',\n                'Magma ocean',\n                'Hydrostatic equilibrium',\n                'Satellite system',\n                'Atmosphere',\n                'Pebble accretion',\n                'Tidal force',\n                'Ring system'\n            ],\n            effectText: [\n                () => `Through random collisions every self-made Cosmic dust will ${player.inflation.vacuum ? 'delay Preons hardcap even more' : 'produce even more Mass'}.\\n(By ${format(calculateEffects.S3Upgrade0())} per self-made Cosmic dust)`,\n                () => { //[1]\n                    const power = calculateEffects.S3Upgrade1();\n                    return `New substance for Accretion, will provide boost to Cosmic dust based on its current quantity ^${format(power)}.\\n(Boost: ${format(new Overlimit(player.buildings[3][1].current).power(power), { padding: true })})`;\n                },\n                () => 'Just a small meteoroid, but it will be a good base for what to come.\\n(Unlock a new Structure and get 2x boost to Cosmic dust)',\n                () => `Small bodies will spontaneously concentrate into clumps.\\n(Self-made Planetesimals will boost each other by ${format(calculateEffects.S3Upgrade3())})`,\n                () => 'Bodies will now be massive enough to affect each other with gravity.\\n(Unlock a new Structure and get 3x boost to Planetesimals)',\n                () => `Shattered pieces will fall back together. ${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be increased by 3.`,\n                () => `Melt the core to increase Accretion speed.\\n(Cosmic dust strength will be increased by ${format(2 * 1.5 ** player.researches[3][7])})`,\n                () => `After reaching equilibrium self-made Protoplanets will boost each other by ${format(1.02)}.`,\n                () => 'Unlock yet another Structure.',\n                () => `${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be increased again (because of drag and escape velocity), by 2.`,\n                () => `${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be greatly increased by ${8 * 2 ** player.researches[3][8]}.`,\n                () => `Satellites cost scaling will now be 2 times smaller.${player.inflation.vacuum ? '\\nAlso unlock a new Structure.' : ''}`,\n                () => 'Satellites effect will scale better.'\n            ],\n            startCost: [1e-16, 1e-13, 1e-13, 1, 1e14, 1e17, 1e10, 1e22, 1e22, 1e23, 1e9, 1e26, 1e29],\n            maxActive: 13\n        }, { //Stage 4\n            name: [\n                'Gravitational Collapse',\n                'Proton-proton chain',\n                'Carbon-Nitrogen-Oxygen cycle',\n                'Helium fusion',\n                'Nucleosynthesis'\n            ],\n            effectText: [\n                () => `As fuel runs out, every Star will boost production in its own special way. (Hover over effect to see what it boosts)\\n(Boost after Collapse can be seen in Stats subtab${player.inflation.vacuum ? ', also Solar mass gain is based on Mass from other Stages' : ''})`,\n                () => 'Fuse with Protium instead of Deuterium. Unlock 5 first Elements (Elements subtab).',\n                () => 'Unlock CNO cycle which is a better source of Helium and Energy. Unlock 5 more Elements.',\n                () => 'Through Triple-alpha and then Alpha process unlock 2 more Elements.',\n                () => 'Create new Atomic nuclei with Neutron capture (s-process and p-process).\\nUnlock 1 more Element and +1 extra for every (unknown) reset.'\n            ],\n            startCost: [100, 1000, 1e9, 1e48, 1e96],\n            maxActive: 4\n        }, { //Stage 5\n            name: [\n                'Jeans instability',\n                'Super Star cluster',\n                'Quasar'\n                //'Globular cluster' //Denser Star cluster than super star cluster\n                //'Dark Nebula' //Dense enough Nebula to block light\n\n                //'Interacting galaxy' //Maybe as Strangeness to unlock new Stuff bellow\n                //'Galactic merger' //Maybe as Special research\n                //'Stardust region' //Research to make 'Globular cluster' and 'Dark Nebula' stronger\n\n                //'Star formation' //Something to make Nebulas boost Star clusters (maybe as Submerged special research)\n                //'Minimum Mass' //Collapse no longer negativly affects Nebulas (3e6 Mass), maybe as Accretion special research\n                //'Wormhole' //To start Inflation after first Merge\n                //Add new event for Merge (and maybe for entering vacuum, or Stage reset)\n            ],\n            effectText: [\n                () => `Gravitational Collapse within Nebulas will increase speed for production of Stars by ${format(calculateEffects.S5Upgrade0())} times.`,\n                () => `A very massive Star clusters, that will boost Stars by ${format(calculateEffects.S5Upgrade1())}.`,\n                () => `Boost per Galaxy will be increased by +${format(calculateEffects.S5Upgrade2(), { padding: true })}.\\n(Effect will be stronger with more Solar mass past ${format(1e5)}, maxed at +1)`\n                //() => `Spheroidal conglomeration of Stars that is bound together by gravity. Oldest Star clusters that will boost each-other by ${format(1.02)}, only for self-made ones.`\n                //() => `Nebula so dense that it obscures the visible light. Perfect to make self-made Nebulas boost each other by ${format(1.02)}.`\n                //() => 'Unlock a new reset type to Merge all Galaxies together.'\n            ],\n            startCost: [1e56, 1e60, 1e120, 1e140], //1e160, 1e200\n            maxActive: 3\n        }\n    ],\n    researchesInfo: [\n        {} as globalType['researchesInfo'][0], { //Stage 1\n            name: [\n                'Stronger Protium',\n                'Better Deuterium',\n                'Improved Tritium',\n                'Requirement decrease',\n                'Discharge improvement',\n                'Radioactive Discharge'\n            ],\n            effectText: [\n                () => `Cost scaling will be -${format(0.03)} smaller with each level.`,\n                () => `Self-made Structures will boost each other by additional +${format(0.01)}.`,\n                () => `Molecules will produce themselves ${format(calculateEffects.S1Research2())} times quicker.`,\n                () => `Next goal for Discharge bonus will scale by -2 less.\\n(Creating this Research will make next Discarge goal to be ${format((getDischargeScale() - 2) ** player.discharge.current)} Energy)`,\n                () => { //[4]\n                    const newBase = calculateEffects.dischargeBase(player.researches[1][4] + 1);\n                    return `Discharge production boost from reached goals will now be +${format(newBase - global.dischargeInfo.base)}.\\n(Boost increase: ${format((newBase / global.dischargeInfo.base) ** global.dischargeInfo.total, { padding: true })})`;\n                },\n                () => `Discharge goals will now be able to boost 'Tritium'.\\n(Current effect: ${player.inflation.vacuum ? `${format(calculateEffects.S1Research5())} ^ level` : `${player.researches[1][5] >= 1 ? format(global.dischargeInfo.total ** calculateEffects.S1Research5()) : 1} \u27F6 ${format(global.dischargeInfo.total ** calculateEffects.S1Research5(1))}`})`\n            ],\n            cost: [],\n            startCost: [2400, 6000, 20000, 36000, 20000, 28000],\n            scaling: [400, 2000, 8000, 48000, 16000, 16000],\n            max: [5, 4, 8, 2, 4, 3],\n            maxActive: 6\n        }, { //Stage 2\n            name: [\n                'Better Mole production',\n                'Better Drop production',\n                'Stronger surface tension',\n                'Stronger surface stress',\n                'More streams',\n                'Distributary channel'\n            ],\n            effectText: [\n                () => `Drops will ${player.inflation.vacuum ? 'improve Tritium' : 'produce Moles'} 3 times more.${global.vaporizationInfo.research0 !== player.researches[2][0] ? `\\nWeakened by recent ${player.inflation.vacuum ? 'reset' : 'Vaporization'}, effective level is ${format(global.vaporizationInfo.research0)} (will be increased after ${format(new Overlimit(10 * 1.36 ** global.vaporizationInfo.research0).minus(player.buildings[2][1].total), { padding: true })} more Drops).` : ''}`,\n                () => `Puddles will produce Drops 2 times more.${global.vaporizationInfo.research1 !== player.researches[2][1] ? `\\nWeakened by recent ${player.inflation.vacuum ? 'reset' : 'Vaporization'}, effective level is ${format(global.vaporizationInfo.research1)} (will be increased after ${format(new Overlimit((5 ** (global.vaporizationInfo.research1 + 1) - 1) * 100).minus(player.buildings[2][1].total), { padding: true })} more Drops).` : ''}`,\n                () => `'Surface tension' base will be +${format(0.005)} stronger.\\n(Effect increase: ${format(new Overlimit(player.buildings[2][0].current).max('1').power(calculateEffects.S2Upgrade3(player.researches[2][2] + 1) - calculateEffects.S2Upgrade3()).toNumber(), { padding: true })})`,\n                () => `'Surface stress' base will be +${format(0.005)} stronger.\\n(Effect increase: ${format(new Overlimit(player.buildings[2][1].current).max('1').power(calculateEffects.S2Upgrade4(player.researches[2][3] + 1) - calculateEffects.S2Upgrade4()).toNumber(), { padding: true })})`,\n                () => 'With more streams, will be able to have even more extra Puddles. (+1 extra Puddles per Pond)',\n                () => 'Rivers will be able to split now, which will allow even more Ponds per Lake. (+1 per)'\n            ],\n            cost: [],\n            startCost: [10, 400, 1e4, 1e5, 1e14, 1e22],\n            scaling: [1.36, 5, 1e3, 1e2, 1e3, 1e4],\n            max: [8, 8, 4, 4, 2, 1],\n            maxActive: 6\n        }, { //Stage 3\n            name: [\n                'More massive bodies',\n                'Adhesion',\n                'Space weathering',\n                'Inelastic collisions',\n                'Destructive collisions',\n                'Contact binary',\n                'Gravity',\n                'Planetary differentiation',\n                'Aerodynamic drag'\n            ],\n            effectText: [\n                () => 'Increase strength of Cosmic dust by 3.',\n                () => `Cosmic dust particles will cling to each other. (+${format(0.01)} to 'Brownian motion')`,\n                () => 'Planetesimals will produce more Cosmic dust. (3 times more)',\n                () => `Slow encounter velocities will result in a more efficient growth.\\n${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be increased by 2.`,\n                () => `Planetesimals when shatter will replenish small grains quantity.\\n'Streaming instability' effect will be increased by +${format(0.005)}.`,\n                () => `Some Planetesimals instead of shattering will form a contact binary or even trinary.\\n${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be increased by 3.`,\n                () => { //[6]\n                    const power = calculateEffects.S3Research6();\n                    const mass = new Overlimit(player.buildings[3][0].current).max('1');\n                    return `Planetesimals will attract other bodies and get a boost to own production based on unspent Mass ^${format(power)}.\\n(Boost: ${format(new Overlimit(mass).power(power), { padding: true })} \u27F6 ${format(mass.power(calculateEffects.S3Research6(player.researches[3][6] + 1)), { padding: true })})`;\n                },\n                () => `'Magma Ocean' will become stronger, by ${format(1.5)}.`,\n                () => `Improve 'Pebble accretion' Accretion speed even more.\\n${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will increased by 2.`\n            ],\n            cost: [],\n            startCost: [1e-16, 1e-15, 1e-5, 1e2, 1e10, 1e11, 1e15, 1e14, 1e12],\n            scaling: [11, 111, 22, 10, 100, 100, 10, 1e4, 1e3],\n            max: [9, 3, 8, 8, 2, 2, 5, 4, 4],\n            maxActive: 9\n        }, { //Stage 4\n            name: [\n                'Planetary system',\n                'Star system',\n                'Protoplanetary disk',\n                'Planetary nebula',\n                'Gamma-ray burst'\n            ],\n            effectText: [\n                () => { //[0]\n                    const base = calculateEffects.S4Research0();\n                    return `From Planetesimals to Planets, will get ${format(base)}x boost to all Stars per level.\\n(Total boost: ${format(base ** player.researches[4][0], { padding: true })})`;\n                },\n                () => { //[1]\n                    const base = calculateEffects.S4Research1();\n                    return `All Stars will boost each other by ${format(base)}.\\n(Total boost: ${format(new Overlimit(base).power(global.collapseInfo.trueStars), { padding: true })} \u27F6 ${format(new Overlimit(calculateEffects.S4Research1(player.researches[4][1] + 1)).power(global.collapseInfo.trueStars), { padding: true })})`;\n                },\n                () => `Improve effect scaling of 'Planetary system', as well increase its max level by +3.\\n(Total boost from 'Planetary system' will be increased by ${format((calculateEffects.S4Research0(player.researches[4][2] + 1) / calculateEffects.S4Research0()) ** player.researches[4][0], { padding: true })})`,\n                () => \"Matter expelled from Red giants, this will boost Main-sequence stars by 2, as well increase 'Planetary system' max level by +3.\",\n                () => `An immensely energetic explosion that will boost all Stars by ${format(calculateEffects.S4Research4(), { padding: true })}${player.researches[4][4] < 2 ? ` \u27F6 ${format(calculateEffects.S4Research4(false, player.researches[4][4] + 1), { padding: true })}` : ''}.\\n(Effect will be stronger with more Black holes${player.elements[23] === 1 ? ' and Solar mass' : ''})`\n            ],\n            cost: [],\n            startCost: [1e3, 5e4, 1e8, 1e11, 1e28],\n            scaling: [10, 200, 1e12, 1, 2e8],\n            max: [3, 2, 1, 1, 2],\n            maxActive: 5\n        }, { //Stage 5\n            name: [\n                'Higher density',\n                'Type frequency'\n            ],\n            effectText: [\n                () => `Higher density of Nebulas, will allow them to produce higher tier of Stars, but each tier is 3 times slower than previous one. Also will boost Nebulas by 3.\\nNext tier will be ${global.buildingsInfo.name[4][Math.min(player.researches[5][0] + 2, 4)]}.`,\n                () => `More of same Star type will be found within Star cluster. Will increase effect by 2 and also boost lower tier of Stars. (2 times less than higher one)\\nNext tier will be ${global.buildingsInfo.name[4][Math.max(3 - player.researches[5][1], 1)]}.`\n            ],\n            cost: [],\n            startCost: [1e54, 1e58],\n            scaling: [1e8, 1e8],\n            max: [3, 3],\n            maxActive: 2\n        }\n    ],\n    researchesExtraInfo: [\n        {} as globalType['researchesExtraInfo'][0], { //Stage 1\n            name: [\n                'Extra strong force',\n                'Improved formula',\n                'Accretion',\n                'Later Preons',\n                'Impulse'\n            ],\n            effectText: [\n                () => \"Mesons will now bind Particles to form Atoms, which will make Atoms to be affected by 'Strong force'.\\n(Atoms will be 10 times cheaper)\",\n                () => `Improve scaling for 'Tritium' formula, current formula is log${format(calculateEffects.S1Extra1())}${player.researchesExtra[1][1] < 4 ? ` \u27F6 log${format(calculateEffects.S1Extra1(player.researchesExtra[1][1] + 1))}` : ''}.`,\n                () => 'First level is to begin the Accretion, second level is to Submerge it.\\nAll Structures produce Energy on creation, as well Mass from all Stages is connected.',\n                () => { //[3]\n                    const power = calculateEffects.S1Extra3();\n                    return `Delay Preons hardcap by current Energy ^${format(power)}.\\n(Effect: ${format(Math.max(player.discharge.energy, 1) ** power, { padding: true })} \u27F6 ${format(Math.max(player.discharge.energy, 1) ** calculateEffects.S1Extra3(player.researchesExtra[1][3] + 1), { padding: true })})`;\n                },\n                () => { //[4]\n                    const base = calculateEffects.S1Extra4();\n                    return `Discharge goals will now be able to boost all Interstellar Stars, but at reduced base.\\nCurrent base is ${format(base)}, total boost is ${format(new Overlimit(base).power(global.dischargeInfo.total))}.`;\n                }\n            ],\n            cost: [],\n            startCost: [8000, 76000, 16000, 20000, 140000],\n            scaling: [0, 16000, 76000, 16000, 0],\n            max: [1, 4, 2, 4, 1],\n            maxActive: 0\n        }, { //Stage 2\n            name: [\n                'Natural Vaporization',\n                'Rain Clouds',\n                'Storm Clouds',\n                'Water Accretion'\n                //'Jeans Mass'\n            ],\n            effectText: [\n                () => 'When formed Clouds will use Drops produced this reset instead of current ones.',\n                () => `Some Clouds will start pouring Drops themselves. This will produce Drops until a Puddle, afterwards it will boost Puddles.\\n(Effect: ${format(calculateEffects.S2Extra1_2(false, 1)[0] - (player.buildings[2][2].current.lessOrEqual('0') ? 1 : 0), { padding: true })})`,\n                () => `Improve 'Rain Clouds', and also boost Seas at a reduced rate.\\n(Boost to Seas: ${format(calculateEffects.S2Extra1_2(false, undefined, 1)[1], { padding: true })})`,\n                () => { //[3]\n                    const level = player.researchesExtra[2][3];\n                    const tension = player.upgrades[2][3] === 1 ? new Overlimit(player.buildings[2][0].current).max('1').power(calculateEffects.S2Upgrade3()).toNumber() : 1;\n                    const stress = player.upgrades[2][4] === 1 ? new Overlimit(player.buildings[2][1].current).max('1').power(calculateEffects.S2Upgrade4()).toNumber() : 1;\n                    return `Submerge and boost Stars with 'Surface tension'. Also with 'Surface stress' ^${format(0.5)} at level 2, full power at level 3.\\n(Boost to Stars: ${level < 3 ? `${format(level < 1 ? 1 : tension * (level > 1 ? stress ** 0.5 : 1), { padding: true })} \u27F6 ` : ''}${format(tension * (level < 1 ? 1 : stress ** (level > 1 ? 1 : 0.5)), { padding: true })})`;\n                }\n                //() => \"High density of Drops will end up resulting in gravitational Collapse. 'Surface tension' and 'Surface stress' now will also be able to boost Nebulas.\"\n            ],\n            cost: [],\n            startCost: [1e18, 1e13, 1e28, 1e14],\n            scaling: [1, 1, 1, 1e8],\n            max: [1, 1, 1, 3],\n            maxActive: 3\n        }, { //Stage 3\n            name: [\n                'Rank boost',\n                'Efficient growth',\n                'Weight',\n                'Viscosity',\n                'Efficient submersion'\n            ],\n            effectText: [\n                () => `Increase strength of Cosmic dust by another ${format(1.1)}x per level.\\n(Total increase: ${format(1.1 ** player.researchesExtra[3][0], { padding: true })})`,\n                () => `${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will now be even bigger, improved by current Rank.\\n(Total boost: ${format(calculateEffects.S3Extra1())} \u27F6 ${format(calculateEffects.S3Extra1(player.researchesExtra[3][1] + 1))})`,\n                () => \"'Gravitational field' will now be able to boost Protoplanets, but at reduced strength. (2x boost)\",\n                () => `'Gas' will be a little stronger.\\n(Boost: ${format(new Overlimit(player.buildings[3][1].current).power(calculateEffects.S3Upgrade1(player.researchesExtra[3][3] + 1) - calculateEffects.S3Upgrade1()).toNumber(), { padding: true })})`,\n                () => `Submerge quicker by boosting Puddles, improved by current Rank.\\n(Current boost: ${format(calculateEffects.S3Extra4())} \u27F6 ${format(calculateEffects.S3Extra4(player.researchesExtra[3][4] + 1))})`\n            ],\n            cost: [],\n            startCost: [1e-18, 1e-16, 1e26, 1e-6, 1e-10],\n            scaling: [10, 100, 1, 1e5, 1e12],\n            max: [12, 5, 1, 8, 1],\n            maxActive: 4\n        }, { //Stage 4\n            name: [\n                'Nova',\n                'Mass transfer',\n                'White dwarfs'\n            ],\n            effectText: [\n                () => 'This violent stellar explosion is main source of Elements, but will also start new Star formation.\\nUnlock new Structure and even more, after Collapse of that Structure.',\n                () => `Star material will transfer from one Star to another, improving Solar mass gain${player.inflation.vacuum ? ' (also delaying Preons hardcap)' : ''} by ${format(calculateEffects.S4Extra1())}.\\nImproved by 'Star system' levels and also improves its scaling (effect increase for 'Star system' is ${format(new Overlimit(calculateEffects.S4Research1(undefined, 1) / calculateEffects.S4Research1(undefined, 0)).power(global.collapseInfo.trueStars), { padding: true })}).`,\n                () => `After matter were dispeled from Red giant, White dwarf was all that remained. Will improve effect of '[6] Carbon' by +${format(0.5)} and increase max level of 'Star system' by +1.`\n            ],\n            cost: [],\n            startCost: [4e4, 2e9, 1e54],\n            scaling: [1e10, 1, 1],\n            max: [3, 1, 1],\n            maxActive: 3\n        }, { //Stage 5\n            name: [\n                'Hypercompact stellar system'\n            ],\n            effectText: [\n                () => `Super dense core which will allow creation of a new Structure. That Structure will increase Stage reset reward, boost Nebulas and Star clusters, but creating it fully resets ${player.inflation.vacuum ? 'all' : 'Interstellar and Intergalactic'} Stages.`\n            ],\n            cost: [],\n            startCost: [1e80],\n            scaling: [1],\n            max: [1],\n            maxActive: 1\n        }\n    ],\n    researchesAutoInfo: { //Auto Researches Research\n        name: [\n            'Upgrade automatization'\n        ],\n        effectText: [\n            () => `Automatically create all ${['Upgrades', 'Stage Researches', 'Special Researches'][Math.min(player.researchesAuto[0], 2)]} from any Stage. (Need to be enabled in Settings)`\n        ],\n        costRange: [ //Random scaling\n            [1e13, 8e34, 1e30]\n        ],\n        autoStage: [ //Stage to buy from (1 per level)\n            [2, 3, 4]\n        ],\n        max: [3]\n    },\n    ASRInfo: { //Auto Structures Research\n        name: 'Auto Structures',\n        effectText: () => {\n            const stageIndex = player.stage.active;\n            const autoIndex = Math.min(player.ASR[stageIndex] + 1, global.ASRInfo.max[stageIndex]);\n            return `Automatically make ${player.buildings[stageIndex][autoIndex].highest.moreThan('0') ? global.buildingsInfo.name[stageIndex][autoIndex] : '(unknown)'} (counts as self-made).\\n(Auto will wait until ${format(player.stage.true >= 3 ? player.toggles.shop.wait[stageIndex] : 2)} times of the Structure cost)`;\n        },\n        costRange: [ //Random scaling\n            [],\n            [4000, 12000, 20000, 36000, 60000],\n            [1e10, 1e14, 1e18, 1e23, 1e28, 1e32],\n            [1e-7, 1e10, 5e29, 2e30, 2e36],\n            [1e6, 1e17, 1e28, 1e39, 1e56],\n            [1e62, 1e66, 1e100]\n        ],\n        max: [0, 3, 5, 4, 4, 2]\n    },\n    elementsInfo: {\n        name: [\n            '[0] Neutronium',\n            '[1] Hydrogen',\n            '[2] Helium',\n            '[3] Lithium',\n            '[4] Beryllium',\n            '[5] Boron',\n            '[6] Carbon',\n            '[7] Nitrogen',\n            '[8] Oxygen',\n            '[9] Fluorine',\n            '[10] Neon',\n            '[11] Sodium',\n            '[12] Magnesium',\n            '[13] Aluminium',\n            '[14] Silicon',\n            '[15] Phosphorus',\n            '[16] Sulfur',\n            '[17] Chlorine',\n            '[18] Argon',\n            '[19] Potassium',\n            '[20] Calcium',\n            '[21] Scandium',\n            '[22] Titanium',\n            '[23] Vanadium',\n            '[24] Chromium',\n            '[25] Manganese',\n            '[26] Iron',\n            '[27] Cobalt',\n            '[28] Nickel',\n            '[29] Copper'\n        ],\n        effectText: [\n            () => `Element with no protons, true head of this table.\\nThis one is ${Math.random() < 0.1 ? (Math.random() < 0.1 ? 'an illusive Tetraneutron, or maybe even Pentaneutron, wait where did it go? Was it even there?' : 'a rare Dineutron, but it is already gone...') : 'a simple Mononeutron, it will stay with you for as long as it can.'}`,\n            () => 'Most basic Element, increases Brown dwarf production by 2.',\n            () => `Fusion reaction by product, makes Interstellar Stars cost scale -${format(0.1)} less.`,\n            () => `First metal, Solar mass gain${player.inflation.vacuum ? ' (and hardcap for Cosmic dust)' : ''} per Brown dwarf will be lightly increased.`,\n            () => `Brittle earth metal, so is brittle increase to production. (${format(1.2)}x to all Stars)`,\n            () => `A new color, and a new boost to Solar mass gain${player.inflation.vacuum ? ' (and delay to Cosmic dust hardcap)' : ''} that is based on current Dwarf Stars.`,\n            () => `Base for organics, boost from Red giants will now be increased by ^${format(calculateEffects.element6())}.`,\n            () => \"Most abundant uncombined Element in atmosphere of some Planets that allows to have 2 extra levels of 'Star system'.\",\n            () => `An oxidizing agent that will make Interstellar Stars cost scale even slower. (-${format(0.05)} less)`,\n            () => \"Highly toxic and reactive, +12 to max level of 'Planetary system'.\",\n            () => `A noble 2x boost to Solar mass gain${player.inflation.vacuum ? ' and delay to Preons hardcap' : ''}.`,\n            () => \"Through leaching will get 1 extra level of 'Protoplanetary disk'.\",\n            () => `Stars are inside you, as well Neutrons stars strength will be increased by log${format(calculateEffects.element12())}.`,\n            () => `Has a great affinity towards Oxygen and to decrease cost for all Stars by ${format(1e3)}.`,\n            () => `Just another tetravalent metalloid, and so is another ${format(1.4)}x boost to all Stars.`,\n            () => `One of the Fundamentals of Life and to make all Stars boost Solar mass gain${player.inflation.vacuum ? ' and also delay Cosmic dust hardcap' : ''}.`,\n            () => \"From hot area to increase max level of 'Star system' by 1.\",\n            () => \"Extremely reactive to extend max level of 'Planetary system', by another 24 levels.\",\n            () => 'Less noble, but Black holes effect will scale better.',\n            () => \"Don't forget about it and will get a 2x boost to all Stars.\",\n            () => \"Get stronger with 1 extra level of 'Star system'.\",\n            () => `A new color and a rare bonus of +^${format(0.1)} to Solar mass effect.`,\n            () => 'New alloy that allows Red giants to be added into effective amount of Neutron stars.',\n            () => `Catalyst for production of Elements. 'Gamma-ray burst' effect will be increased by Solar mass ^${format(0.1)}.\\n(Effect increase: ${format(player.collapse.mass ** 0.1, { padding: true })})`,\n            () => { //[24]\n                const power = calculateEffects.element24();\n                return `No corrosion, only boost to all Stars that is based on unspent Elements ^${format(power)}.\\n(Boost to Stars: ${format(new Overlimit(player.buildings[4][0].current).power(power), { padding: true })})`;\n            },\n            () => \"Brittle Element, but not the bonus - 1 more level in 'Star system'.\",\n            () => `Any further fusion will be an endothermic process. ${player.inflation.vacuum ? `Unlock a Stage reset${player.strangeness[5][5] >= 1 ? ' and Intergalactic Stage' : ''}` : 'Enter Intergalactic space'}.\\n(${player.inflation.vacuum || player.strange[0].total >= 1 ? `More ${global.strangeInfo.name[player.strangeness[5][8]]} with every new digit of Elements produced this Stage` : 'Can change active Stage from footer'})`,\n            () => 'Combined and ready to make all self-made Red supergiants count as Red giants, and boost all Stars by 3.',\n            () => `Slow to react, but will improve '[24] Chromium' Element by +${player.inflation.vacuum || player.milestones[1][1] >= 6 ? format(0.2) : `${format(0.05)}, not yet at full power, requires more Energy`}.`,\n            () => 'Does not need to be prepared to inscrease Stage reset reward, effect is stronger with more Elements produced this Stage.'\n        ],\n        startCost: [\n            0, 1000, 4000, 2e4, 1e5, 1e8, 1e10, 4e11, 8e12, 6e13,\n            1e15, 1e20, 1e22, 1e24, 1.4e26, 1e28, 1e30, 1e32, 1e35, 2e36,\n            1e39, 1e41, 2e42, 3e43, 4e44, 5e45, 1e48, 1e50, 1e52, 1e100\n        ]\n    },\n    strangenessInfo: [\n        {} as globalType['strangenessInfo'][0], { //Stage 1\n            name: [\n                'Fundamental boost',\n                'Better improvement',\n                'Cheaper Discharge',\n                'Free Discharge',\n                'Automatic Discharge',\n                'Auto Structures',\n                'Strange boost',\n                'Energy increase',\n                'Conservation of Mass',\n                'Conservation of Energy'\n            ],\n            effectText: [\n                () => 'Boost all Microworld Structures by 2.',\n                () => \"Base for 'Improved Tritium' Research will be bigger by +2.\",\n                () => `Discharge goals requirement will scale slower. (-${format(0.5)})`,\n                () => `Obtain +${format(0.5)} bonus Discharge goals.`,\n                () => 'Automatically Discharge upon reaching next goal or spending Energy. (Need to be enabled in Settings)',\n                () => `Make Microworld 'Auto Structures' Research immune to Stage reset.\\n(And restore level to highest reached, which is ${player.maxASR[1]})`,\n                () => `Unspent Strange quarks will boost Microworld by improving its Structures.\\n(Current effect: ${format(global.strangeInfo.stageBoost[1], { padding: true })})`,\n                () => 'Gain more Energy from creating Preons, +1',\n                () => 'No Mass will be lost when creating Preons.',\n                () => 'Energy will now be directly based on current self-made amount of Structures.\\nThis will also increase max levels for Reset automatization.'\n            ],\n            cost: [],\n            startCost: [1, 1, 1, 4, 20, 5, 40, 1, 16, 4000],\n            scaling: [2.2, 2, 4, 6, 1, 1, 1, 3, 1, 1],\n            max: [6, 2, 4, 2, 1, 1, 1, 4, 1, 1],\n            maxActive: 7\n        }, { //Stage 2\n            name: [\n                'More Moles',\n                'Bigger Puddles',\n                'More spread',\n                'Cloud density',\n                'Automatic Vaporization',\n                'Auto Structures',\n                'Strange boost',\n                'Ocean world',\n                'Mechanical spread'\n            ],\n            effectText: [\n                () => `Moles will ${player.inflation.vacuum ? 'improve' : 'produce'} 2 times more.`,\n                () => `Puddles will produce ${format(1.8)} times more.`,\n                () => { //[2]\n                    let extraText = 'none';\n                    if (player.strangeness[2][2] >= 1) { extraText = \"max level increased for 'More streams' (+1)\"; }\n                    if (player.strangeness[2][2] >= 2) { extraText += \" and 'Distributary channel' (+1)\"; }\n                    if (player.strangeness[2][2] >= 3) { extraText += \", a new Upgrade - 'Tsunami'\"; }\n                    return `Increase max level for one of Researches.\\nFinal level will instead unlock a new Upgrade.\\n(Current effect: ${extraText})`;\n                },\n                () => 'Decrease required Drops quantity for a Cloud by 2 times.',\n                () => `Automatically Vaporize when reached enough boost from new Clouds. (Need to be enabled in Settings)${global.strangenessInfo[2].max[4] > 1 ? '\\nSecond level - Automatically gain 20% of Clouds per second. (Not affected by global speed)' : ''}`,\n                () => `Make Submerged 'Auto Structures' Research immune to Stage reset.\\n(And restore level to highest reached, which is ${player.maxASR[2]})`,\n                () => `Unspent Strange quarks will boost Submerged by improving Puddles.\\n(Current effect: ${format(global.strangeInfo.stageBoost[2], { padding: true })})`,\n                () => `Increase Stage reset reward based on current Cloud amount.\\n(Current effect: ${format(calculateEffects.S2Strange7(), { padding: true })})`,\n                () => { //[8]\n                    let extraText = 'none';\n                    if (player.strangeness[2][8] >= 1) { extraText = \"max level increased for 'Stronger surface tension' (+4)\"; }\n                    if (player.strangeness[2][8] >= 2) { extraText += \" and 'Stronger surface stress' (+2)\"; }\n                    if (player.strangeness[2][8] >= 3) { extraText += \", a new Upgrade - 'Tide'\"; }\n                    return `Increase max level for one of Researches.\\nFinal level will instead unlock an even better new Upgrade.\\n(Current effect: ${extraText})`;\n                }\n            ],\n            cost: [],\n            startCost: [1, 1, 16, 4, 20, 12, 20, 800, 6000],\n            scaling: [2.2, 1.8, 2, 4, 800, 1, 1, 1, 2],\n            max: [6, 8, 3, 2, 1, 1, 1, 1, 3],\n            maxActive: 7\n        }, { //Stage 3\n            name: [\n                'Faster Accretion',\n                'Intense weathering',\n                'More levels',\n                'Improved Satellites',\n                'Automatic Rank',\n                'Auto Structures',\n                'Upgrade automatization',\n                'Strange boost',\n                'Mass shift', //All effects are removed\n                'Rank raise' //All effects are removed\n            ],\n            effectText: [\n                () => 'Increase strength of Cosmic dust by 2.',\n                () => `Accretion Structures that produce other Structures now do it ${format(1.8)} times faster.`,\n                () => { //[2]\n                    let extraText = 'none';\n                    if (player.strangeness[3][2] >= 1) { extraText = \"max level increased for 'Rank boost' (+9)\"; }\n                    if (player.strangeness[3][2] >= 2) { extraText += \" and 'Efficient growth' (+3)\"; }\n                    if (player.strangeness[3][2] >= 3) { extraText += \", a new Upgrade - 'Hydrostatic equilibrium'\"; }\n                    return `Increase max level for one of the Rank Researches.\\nFinal level will instead unlock a new Upgrade.\\n(Current effect: ${extraText})`;\n                },\n                () => `Satellites will now be able to improve all${player.inflation.vacuum ? ' lower tier' : ''} Accretion Structures with reduced strength (^${format(player.inflation.vacuum ? 0.2 : 0.3)}).`,\n                () => `Automatically increase Rank when possible. (Need to be enabled in Settings)${global.strangenessInfo[3].max[4] > 1 ? '\\nSecond level - Accretion auto Structures will always keep enough Mass for highest Solar mass gain on Collapse (if Cosmic dust is hardcapped).' : ''}`,\n                () => `Make Accretion 'Auto Structures' Research immune to Stage reset.\\n(And restore level to highest reached, which is ${player.maxASR[3]})`,\n                () => `Always automatically create all ${['Upgrades', 'Stage Researches', 'Special Researches'][Math.min(player.strangeness[3][6], 2)]} from any Stage. (Need to be enabled in Settings)`,\n                () => `Unspent Strange quarks will boost Accretion by making its Structures cheaper.\\n(Current effect: ${format(global.strangeInfo.stageBoost[3], { padding: true })})`,\n                () => `Reduce amount of time required to reach Solar mass hardcap by shifting Cosmic dust and Solar mass hardcaps.\\nEach level allows for ${format(1.4)} times bigger shift. (Automatic)`,\n                () => 'Unlock a new Accretion Rank to achieve. (Not yet in game)'\n            ],\n            cost: [],\n            startCost: [1, 2, 3, 9, 20, 9, 9, 40, 2400, 0],\n            scaling: [1.8, 2.8, 2, 1, 500, 1, 1.5, 1, 2, 1],\n            max: [8, 4, 3, 1, 1, 1, 3, 1, 4, 1],\n            maxActive: 8\n        }, { //Stage 4\n            name: [\n                'Hotter Stars',\n                'Cheaper Stars',\n                'New Upgrade',\n                'Main giants',\n                'Automatic Collapse',\n                'Auto Structures',\n                'Element automatization',\n                'Strange boost',\n                'Neutronium',\n                'Newer Upgrade'\n            ],\n            effectText: [\n                () => `All Stars will produce ${format(1.8)} times more Elements.`,\n                () => 'Stars will be 2 times cheaper.',\n                () => { //[2]\n                    let extraText = 'none';\n                    if (player.strangeness[4][2] >= 1) { extraText = \"'Planetary nebula' (Stage Research)\"; }\n                    if (player.strangeness[4][2] >= 2) { extraText += \", 'Helium fusion' (Upgrade)\"; }\n                    if (player.strangeness[4][2] >= 3) { extraText += \", 'White dwarfs' (Collapse Research)\"; }\n                    return `Unlock a new Upgrade.\\n(Current unlocks: ${extraText})`;\n                },\n                () => '10% of Brown dwarfs will turn into Red giants.',\n                () => `Automatically Collapse once reached enough boost. (Need to be enabled in Settings)${global.strangenessInfo[4].max[4] > 1 ? '\\nSecond level - Star remnants will now be gained automatically.' : ''}`,\n                () => `Make Interstellar 'Auto Structures' Research immune to Stage reset.\\n(And restore level to highest reached, which is ${player.maxASR[4]})`,\n                () => `Elements will not require Collapse for activation.\\nSecond level will unlock auto creation of Elements. (${global.strangenessInfo[4].max[6] > 1 ? 'Need to be enabled in settings' : 'Not yet unlocked for Interstellar space'})`,\n                () => `Unspent Strange quarks will boost Interstellar by improving all Stars.\\n(Current effect: ${format(global.strangeInfo.stageBoost[4], { padding: true })})`,\n                () => \"Improve Neutron Stars strength and improve scaling of '[12] Magnesium' effect.\",\n                () => `Unlock yet another new Upgrade.\\n(Current unlocks: ${player.strangeness[4][9] >= 1 ? \"'Nucleosynthesis' (Upgrade)\" : 'none'})`\n            ],\n            cost: [],\n            startCost: [1, 3, 5, 5, 20, 9, 5, 40, 1600, 22000],\n            scaling: [1.8, 2.8, 2.4, 4, 300, 1, 4, 1, 1.4, 2.4],\n            max: [8, 4, 3, 2, 1, 1, 1, 1, 8, 1],\n            maxActive: 8\n        }, { //Stage 5\n            name: [\n                'Omnipresent reality',\n                'Strange gain',\n                'Automatic Stage',\n                'Bigger Nebulas',\n                'Denser Clusters',\n                'Gravitational bound',\n                'Auto Structures',\n                'Strange boost',\n                'Strange growth'\n            ],\n            effectText: [\n                () => player.inflation.vacuum ? 'Unlock the Void (advanced subtab) and Milestones.\\nAlso 20% global speed bonus while outside of Void.' : `${global.stageInfo.word[player.strangeness[5][0] + 1]} will now be permanent and removed from Stage reset cycle.\\nPermanent Stages do not affect Stage time.`,\n                () => `Gain 2 times more ${global.strangeInfo.name[player.strangeness[5][8]]} from${player.inflation.vacuum ? '' : ' Interstellar'} Stage resets.`,\n                () => 'Automatically trigger Stage reset. (Need to be enabled in Settings)',\n                () => \"Bigger Nebulas, more matter for Accretion. (Flavor text)\\n'Jeans instability' will be 2 times stronger.\",\n                () => \"'Super star cluster' will be even bigger. Increase effect by 3.\",\n                () => player.inflation.vacuum ? 'Unlock Intergalactic Stage.' : 'Intergalactic Stage will no longer be affected by Collapse reset.\\nAlso unlock first Intergalactic Milestone.',\n                () => `Make Intergalactic 'Auto Structures' Research immune to Stage reset.\\n(And restore level to highest reached, which is ${player.maxASR[5]})`,\n                () => `Unspent Strange quarks will boost Intergalactic by increasing Solar mass gain.\\n(Current effect: ${format(global.strangeInfo.stageBoost[5], { padding: true })})`,\n                () => `Unlock a new Strange Structure that will replace current Stage reset reward, also convert all ${global.strangeInfo.name[Math.min(player.strangeness[5][8], global.strangenessInfo[5].max[10] - 1)]} and then produce them, but hardcaps quickly.\\n(Hardcap delayed by quantity of a higher tier Structure, production speed not affected by global speed)`\n            ],\n            cost: [],\n            startCost: [4, 16, 2400, 8, 10, 64, 40, 200, 800],\n            scaling: [1, 5, 1, 1.8, 1.8, 1, 1, 1, 1],\n            max: [3, 1, 1, 8, 8, 1, 1, 1, 1],\n            maxActive: 8\n        }\n    ],\n    lastUpgrade: [[-1, 'upgrades'], [-1, 'upgrades'], [-1, 'upgrades'], [-1, 'upgrades'], [-1, 'upgrades'], [-1, 'researches']],\n    lastElement: -1,\n    lastStrangeness: [-1, -1],\n    lastMilestone: [-1, -1],\n    lastChallenge: [-1, -1],\n    milestonesInfo: [\n        {} as globalType['milestonesInfo'][0], { //Stage 1\n            name: [\n                'Fundamental Matter',\n                'Energized'\n            ],\n            needText: [\n                () => `Produce at least ${format(global.milestonesInfo[1].need[0])} ${player.inflation.vacuum ? 'Preons' : 'Quarks'} this reset.`,\n                () => `Have current Energy reach ${format(global.milestonesInfo[1].need[1])}.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `All Microworld Structures receive ${format(global.milestonesInfo[1].reward[0], { padding: true })}x boost.` : \"Unknown Structure, it doesn't belong to this Universe.\\nVacuum instability increased.\",\n                () => player.inflation.vacuum ? `Energy from creating Structures increased by ${format(global.milestonesInfo[1].reward[1])}%. (Rounds down)` : \"Unlock full strength of '[28] Nickel'.\"\n            ],\n            need: [new Overlimit('1e160'), new Overlimit('2.4e4')],\n            reward: [1, 1],\n            scalingOld: [\n                [1e160, 1e170, 1e180, 1e190, 1e205, 1e220],\n                [24000, 25000, 26000, 27000, 28500, 30000]\n            ]\n        }, { //Stage 2\n            name: [\n                'A Nebula of Drops',\n                'Just a bigger Puddle'\n            ],\n            needText: [\n                () => `Vaporize ${player.inflation.vacuum ? 'to' : 'with'} at least ${format(global.milestonesInfo[2].need[0])} ${player.inflation.vacuum ? 'Clouds' : 'Drops this reset'}.`,\n                () => `Have at least ${format(global.milestonesInfo[2].need[1])} Puddles at same time.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Clouds gain increased by ${format(global.milestonesInfo[2].reward[0], { padding: true })}.` : 'A new Intergalactic Structure. (Nebula)',\n                () => player.inflation.vacuum ? `Puddles are now stronger by ${format(global.milestonesInfo[2].reward[1], { padding: true })}.` : \"Unknown Structure, it doesn't belong to this Universe.\\nVacuum instability increased.\"\n            ],\n            need: [new Overlimit('1e30'), new Overlimit('1.5e3')],\n            reward: [1, 1],\n            scalingOld: [\n                [1e30, 1e34, 1e38, 1e42, 1e47, 1e52, 1e58],\n                [1500, 2500, 3500, 5000, 6500, 8000, 10000]\n            ]\n        }, { //Stage 3\n            name: [\n                'Cluster of Mass',\n                'Satellites of Satellites'\n            ],\n            needText: [\n                () => `Produce at least ${format(global.milestonesInfo[3].need[0])} Mass this reset.`,\n                () => `Have more or equal to ${format(global.milestonesInfo[3].need[1])} Satellites${player.inflation.vacuum ? ' and Subsatellites' : ''}.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Cosmic dust strength increased by ${format(global.milestonesInfo[3].reward[0], { padding: true })}.` : 'A new Intergalactic Structure. (Star cluster)',\n                () => player.inflation.vacuum ? `Improve effect of 'Planetary system' base by +${format(global.milestonesInfo[3].reward[1])}.` : \"Unknown Structure, it doesn't belong to this Universe.\\nVacuum instability increased.\"\n            ],\n            need: [new Overlimit('1e32'), new Overlimit('24')],\n            reward: [1, 1],\n            scalingOld: [\n                [1e32, 1e35, 1e38, 1e41, 1e44, 1e47, 1e50],\n                [24, 28, 32, 36, 42, 48, 54]\n            ]\n        }, { //Stage 4\n            name: [\n                'Supermassive',\n                'Biggest of all'\n            ],\n            needText: [\n                () => `Collapse ${player.inflation.vacuum ? 'with' : 'to'} at least ${format(global.milestonesInfo[4].need[0])} ${player.inflation.vacuum ? 'Elements this reset' : 'Solar mass'}.`,\n                () => `Collapse to ${format(global.milestonesInfo[4].need[1])} Black holes or more.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Stars produce ${format(global.milestonesInfo[4].reward[0], { padding: true })} times more Elements.` : 'New Intergalactic themed Strangeness.',\n                () => player.inflation.vacuum ? `Preons hardcap delayed by ${format(global.milestonesInfo[4].reward[1], { padding: true })}.` : \"Unknown Structure, it doesn't belong to this Universe.\\nVacuum instability increased.\"\n            ],\n            need: [new Overlimit('9e3'), new Overlimit('1e2')],\n            reward: [1, 1],\n            scalingOld: [\n                [9000, 11000, 13000, 15000, 17000, 19000, 21500, 24000],\n                [100, 115, 130, 145, 160, 180, 200, 220]\n            ]\n        }, { //Stage 5\n            name: [\n                'Light in the dark',\n                'End of Greatness'\n            ],\n            needText: [\n                () => `Have self-made Stars count reach at least ${format(global.milestonesInfo[5].need[0])}.`,\n                () => `Have ${format(global.milestonesInfo[5].need[1])} self-made Galaxies or more.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Decrease cost for all Stars by ${format(global.milestonesInfo[5].reward[0], { padding: true })}.` : \"Unlock last Milestone and new Intergalactic Research.\\nAlso increase max level of 'Element automatization'.\",\n                () => player.inflation.vacuum ? `Boost per Galaxy is now +${format(global.milestonesInfo[5].reward[1])} bigger.` : 'Unknown Structure, it cannot exist in false Vacuum.\\nVacuum instability increased.'\n            ],\n            need: [new Overlimit('1.5e3'), new Overlimit('2')],\n            reward: [1, 1],\n            scalingOld: [\n                [1600, 1650, 1700, 1750, 1800, 1900, 2000, 2200],\n                [2, 4, 6, 8, 10, 13, 16, 20]\n            ]\n        }\n    ],\n    challengesInfo: {\n        name: [\n            'Void'\n        ],\n        description: [\n            'Result of Vacuum Instabillity, investigate at your own will\\n(Entering will force a Stage reset)'\n        ],\n        effectText: [\n            () => {\n                const progress = player.challenges.void;\n                if (progress[1] < 1) { return '<span class=\"orangeText\">- Unknown, but maybe with more Energy</span>'; }\n                let text = '<span class=\"orangeText\">- Energy gain is decreased by 20%\\n- Discharge base reduced</span>';\n                if (progress[1] >= 3) { text += `\\n\\n<span class=\"blueText\">- ${progress[2] >= 1 ? `Effective Drops softcap is stronger (^${format(0.2)} \u27F6 ^${format(0.1)})\\n- Self-made Drops are no longer immune to effective Drops softcap\\n- Puddles are 200 times weaker\\n- 'Water spread' scales slower` : 'Unknown, but maybe if deeper'}</span>`; }\n                if (progress[1] >= 2) { text += `\\n\\n<span class=\"grayText\">- ${progress[3] >= 1 ? `'Jovian planet' Rank softcap starts immediately (^${format(0.9)})\\n- Softcap is stronger after reaching that Rank (^${format(0.8)})` : 'Unknown, but maybe if more Mass'}</span>`; }\n                if (progress[3] >= 5) { text += `\\n\\n<span class=\"darkorchidText\">- ${progress[4] >= 1 ? `Solar mass is 40 times weaker\\n- Solar mass effect scales slower (-^${format(0.2)})\\n- 'Star system' is weaker` : 'Unknown, but maybe if long enough'}</span>`; }\n                if (progress[5] >= 1) { text += `\\n\\n<span class=\"cyanText\">- ${progress[5] >= 2 ? `- First 2 Intergalactic Structures are softcapped ^${format(0.8)}\\n- First 2 Intergalactic Upgrades are weaker` : 'Unknown, but maybe if far enough'}</span>`; }\n                return text;\n            }\n        ],\n        needText: [\n            [\n                [],\n                ['Perform Discharge', \"Get first level of 'Accretion'\", \"Get second level of 'Accretion'\"],\n                ['Have more than 1 Cloud', 'Have more than 1e4 Clouds'],\n                [\"Reach 'Meteoroid' Rank\", \"Reach 'Asteroid' Rank\", \"Reach 'Planet' Rank\", \"Reach 'Jovian planet' Rank\", \"Reach 'Protostar' Rank\"], //\"Reach 'Protogalaxy' Rank\"\n                ['Cause the Collapse', 'Get first Red giant', 'Get first Neutron star', 'Get first Black hole'],\n                ['Unlock Intergalactic', 'Create a Galaxy']\n            ]\n        ],\n        rewardText: [\n            [\n                [],\n                [\"'Energy increase' (Microworld)\", \"'Conservation of Mass' (Microworld)\", \"'--removed--' (Submerged)\"],\n                [\"'Ocean world' (Submerged)\", \"'Mechanical spread' (Submerged)\"],\n                ['Multiple max level increases', 'Multiple max level increases', 'Multiple max level increases', 'Multiple max level increases', \"'Strange growth' (Intergalactic)\"], //\"'Galaxy merger' (Intergalactic)\"\n                ['--removed--', \"'Conservation of Energy' (Microworld)\", \"'Neutronium' (Interstellar)\", \"'Mass shift' (Accretion)\"],\n                [\"'Newer Upgrade' (Interstellar)\", \"'Rank raise' (Accretion)\"]\n            ]\n        ],\n        color: [\n            'darkviolet'\n        ]\n    },\n    historyStorage: {\n        stage: []\n    }\n};\n\n//Math.log extension for any base\nexport const logAny = (number: number, base: number) => Math.log(number) / Math.log(base);\n\n/** Not for deep copy, works on Overlimit, but not prefered */\nexport const cloneArray = <ArrayClone extends Array<number | string | boolean | null | undefined>>(array: ArrayClone) => array.slice(0) as ArrayClone;\n//Actual type is any[], it's because TS is dumb; [...array] will be better after ~>10000 keys\n\n/** For non deep clone use { ...object } or cloneArray when possible */\nexport const deepClone = <CloneType>(toClone: CloneType): CloneType => {\n    if (typeof toClone !== 'object' || toClone === null) { return toClone; }\n\n    let value: any;\n    if (Array.isArray(toClone)) {\n        if (toClone instanceof Overlimit) { return new Overlimit(toClone) as CloneType; }\n\n        value = []; //Faster this way\n        for (let i = 0; i < toClone.length; i++) { value.push(deepClone(toClone[i])); }\n    } else {\n        value = {};\n        for (const check in toClone) { value[check] = deepClone(toClone[check]); }\n    }\n    return value;\n};\n\n/** Does not clone given value */\nexport const createArray = <startValue extends number | string | boolean | null | undefined>(length: number, value: startValue) => {\n    const array = [];\n    for (let i = 0; i < length; i++) {\n        array.push(value);\n    }\n    return array;\n};\n\nfor (let s = 0; s < global.buildingsInfo.startCost.length; s++) {\n    global.buildingsInfo.producing[s] = [];\n    for (let i = 0; i < global.buildingsInfo.startCost[s].length; i++) {\n        global.buildingsInfo.producing[s].push(new Overlimit('0'));\n    }\n}\nfor (const upgradeType of ['researches', 'researchesExtra', 'strangeness'] as const) {\n    const pointer = global[`${upgradeType}Info`];\n    for (let s = 1; s < pointer.length; s++) {\n        pointer[s].cost = cloneArray(pointer[s].startCost);\n    }\n}\n\nObject.assign(player, {\n    upgrades: [\n        [],\n        createArray(global.upgradesInfo[1].startCost.length, 0),\n        createArray(global.upgradesInfo[2].startCost.length, 0),\n        createArray(global.upgradesInfo[3].startCost.length, 0),\n        createArray(global.upgradesInfo[4].startCost.length, 0),\n        createArray(global.upgradesInfo[5].startCost.length, 0)\n    ],\n    researches: [\n        [],\n        createArray(global.researchesInfo[1].startCost.length, 0),\n        createArray(global.researchesInfo[2].startCost.length, 0),\n        createArray(global.researchesInfo[3].startCost.length, 0),\n        createArray(global.researchesInfo[4].startCost.length, 0),\n        createArray(global.researchesInfo[5].startCost.length, 0)\n    ],\n    researchesExtra: [\n        [],\n        createArray(global.researchesExtraInfo[1].startCost.length, 0),\n        createArray(global.researchesExtraInfo[2].startCost.length, 0),\n        createArray(global.researchesExtraInfo[3].startCost.length, 0),\n        createArray(global.researchesExtraInfo[4].startCost.length, 0),\n        createArray(global.researchesExtraInfo[5].startCost.length, 0)\n    ],\n    researchesAuto: createArray(global.researchesAutoInfo.costRange.length, 0),\n    ASR: createArray(global.ASRInfo.costRange.length, 0),\n    maxASR: createArray(global.ASRInfo.costRange.length, 0),\n    elements: createArray(global.elementsInfo.startCost.length, 0),\n    strangeness: [\n        [],\n        createArray(global.strangenessInfo[1].startCost.length, 0),\n        createArray(global.strangenessInfo[2].startCost.length, 0),\n        createArray(global.strangenessInfo[3].startCost.length, 0),\n        createArray(global.strangenessInfo[4].startCost.length, 0),\n        createArray(global.strangenessInfo[5].startCost.length, 0)\n    ],\n    milestones: [\n        [],\n        createArray(global.milestonesInfo[1].need.length, 0),\n        createArray(global.milestonesInfo[2].need.length, 0),\n        createArray(global.milestonesInfo[3].need.length, 0),\n        createArray(global.milestonesInfo[4].need.length, 0),\n        createArray(global.milestonesInfo[5].need.length, 0)\n    ]\n});\nObject.assign(player.toggles, {\n    confirm: createArray(document.getElementsByClassName('toggleConfirm').length, 'All'),\n    buildings: [\n        [],\n        createArray(player.buildings[1].length, false),\n        createArray(player.buildings[2].length, false),\n        createArray(player.buildings[3].length, false),\n        createArray(player.buildings[4].length, false),\n        createArray(player.buildings[5].length, false)\n    ],\n    hover: createArray(document.getElementsByClassName('toggleHover').length, false),\n    max: createArray(document.getElementsByClassName('toggleMax').length, false),\n    auto: createArray(document.getElementsByClassName('toggleAuto').length, false)\n});\n\n//player.example = playerStart.example; Is not allowed (if example is an array or object), instead iterate or create clone\nexport const playerStart = deepClone(player);\n\nexport const updatePlayer = (load: playerType): string => {\n    if (load['player' as keyof unknown] !== undefined) { load = load['player' as keyof unknown]; }\n    if (load.vaporization === undefined) { throw new ReferenceError('This save file is not from this game or too old'); }\n    if (load.version === undefined) { load.version = '0.0.0'; }\n    prepareVacuum(Boolean(load.inflation?.vacuum)); //Only to set starting buildings values\n\n    const oldVersion = load.version;\n    if (oldVersion !== playerStart.version) {\n        if (load.version === '0.0.0') {\n            load.version = 'v0.0.1';\n            load.researchesExtra = []; //Required for v0.0.9\n        }\n        if (load.version === 'v0.0.1') {\n            load.version = 'v0.0.2';\n            load.stage.resets = load.stage.current - 1;\n        }\n        if (load.version === 'v0.0.2') {\n            load.version = 'v0.0.3';\n            load.accretion = deepClone(playerStart.accretion);\n        }\n        if (load.version === 'v0.0.3') {\n            load.version = 'v0.0.4';\n            delete load['energy' as keyof unknown];\n            delete load['buyToggle' as keyof unknown];\n        }\n        if (load.version === 'v0.0.4') {\n            load.version = 'v0.0.5';\n            load.elements = cloneArray(playerStart.elements);\n            load.collapse = deepClone(playerStart.collapse);\n        }\n        if (load.version === 'v0.0.5' || load.version === 'v0.0.6') {\n            load.version = 'v0.0.7';\n            load.fileName = playerStart.fileName; //Can be moved into v0.2.0 eventually\n            load.strange = deepClone(playerStart.strange);\n            load.strangeness = deepClone(playerStart.strangeness);\n            load.vaporization.input = 3;\n            load.stage.input = 20;\n        }\n        if (load.version === 'v0.0.7' || load.version === 'v0.0.8') {\n            load.version = 'v0.0.9';\n            load.stage.export = 86400;\n            load.stage.active = Math.min(load.stage.current, 4);\n            const a = load.stage.active;\n            const oldB = load.buildings as unknown as playerType['buildings'][0];\n            load.buildings = deepClone(playerStart.buildings);\n            load.buildings[a] = oldB;\n            const oldU = load.upgrades as unknown as playerType['upgrades'][0];\n            load.upgrades = deepClone(playerStart.upgrades);\n            load.upgrades[a] = oldU;\n            const oldR = load.researches as unknown as playerType['researches'][0];\n            load.researches = deepClone(playerStart.researches);\n            load.researches[a] = oldR;\n            const oldE = load.researchesExtra as unknown as playerType['researchesExtra'][0];\n            load.researchesExtra = deepClone(playerStart.researchesExtra);\n            load.researchesExtra[a] = oldE;\n            if (load.strangeness.length < 5) { load.strangeness.unshift([]); }\n            load.ASR = cloneArray(playerStart.ASR);\n            load.milestones = deepClone(playerStart.milestones);\n        }\n        if (load.version === 'v0.0.9' || load.version === 'v0.1.0') {\n            load.version = 'v0.1.1';\n            load.discharge.energy = 0;\n            load.collapse.massMax = load.collapse.mass;\n            delete load.discharge['energyCur' as keyof unknown];\n        }\n        if (load.version === 'v0.1.1') {\n            load.version = 'v0.1.2';\n            for (let s = 1; s < load.buildings.length; s++) {\n                for (let i = 0; i < load.buildings[s].length; i++) {\n                    const building = load.buildings[s][i];\n                    building.current = new Overlimit(building.current);\n                    building.total = new Overlimit(building.total);\n                    building.trueTotal = new Overlimit(building.total); //Intentional\n                    building.highest = new Overlimit(building.current);\n                }\n            }\n            if (load.strange[0]['true' as keyof unknown] !== undefined) { load.strange[0].current = load.strange[0]['true' as 'current']; }\n            load.strange[0].total = load.strange[0].current;\n            load.inflation = deepClone(playerStart.inflation);\n            delete load.vaporization['current' as keyof unknown];\n            delete load.strange[0]['true' as keyof unknown];\n            load.time.offline = 0;\n        }\n        if (load.version === 'v0.1.2') {\n            load.version = 'v0.1.3';\n            load.stage.best = 0;\n            load.stage.time = 0;\n            load.inflation.age = 0;\n            load.discharge.energyMax = load.discharge.energy;\n            load.vaporization.cloudsMax = new Overlimit(load.vaporization.clouds);\n        }\n        if (load.version === 'v0.1.3') {\n            load.version = 'v0.1.4';\n            delete load.collapse['disabled' as keyof unknown];\n            delete load.collapse['inputM' as keyof unknown];\n            delete load.collapse['inputS' as keyof unknown];\n        }\n        if (load.version === 'v0.1.4' || load.version === 'v0.1.5') {\n            load.version = 'v0.1.6';\n            load.collapse.show = 0;\n            load.collapse.input = 2;\n            load.history = deepClone(playerStart.history);\n            load.challenges = deepClone(playerStart.challenges);\n            delete load.time['disabled' as keyof unknown];\n            delete load.discharge['unlock' as keyof unknown];\n        }\n        if (load.version === 'v0.1.6') {\n            load.version = 'v0.1.7';\n            if (load.buildings[5].length > 4) { load.buildings[5].length = 4; }\n            delete load['saveUpdate016' as keyof unknown];\n            delete load.accretion['input' as keyof unknown];\n            delete load.collapse['elementsMax' as keyof unknown];\n        }\n        if (load.version === 'v0.1.7') {\n            load.version = 'v0.1.8';\n            load.time.online = load.inflation.age;\n            load.time.universe = load.inflation.age;\n            load.time.stage = load.stage.time;\n        }\n        if (load.version === 'v0.1.8') {\n            load.version = 'v0.1.9';\n            load.toggles = deepClone(playerStart.toggles);\n            load.researchesAuto = cloneArray(playerStart.researchesAuto);\n            delete load.discharge['bonus' as keyof unknown];\n        }\n        if (load.version === 'v0.1.9') {\n            load.version = 'v0.2.0';\n            load.stage.peak = 0;\n            load.maxASR = cloneArray(load.ASR);\n            load.events = cloneArray(playerStart.events);\n            delete load['event' as keyof unknown];\n            delete load['separator' as keyof unknown];\n            delete load['intervals' as keyof unknown];\n            delete load.toggles['normal' as keyof unknown];\n            delete load.toggles.shop['howMany' as keyof unknown];\n\n            /* Can be removed eventually */\n            load.researchesAuto[1] = 0;\n            load.strangeness[1].splice(1, 0, load.strangeness[1].splice(5, 1)[0]);\n            load.strangeness[1].splice(7, 1);\n            load.strangeness[1].splice(4, 1);\n            load.strangeness[2].splice(8, 1);\n            load.strangeness[2].splice(6, 1);\n            load.strangeness[3].splice(10, 1);\n            load.strangeness[3].splice(8, 1);\n            load.strangeness[4].splice(6, 0, load.strangeness[4].splice(4, 1)[0]);\n            load.strangeness[4].splice(9, 1);\n            load.strangeness[4].splice(7, 1);\n            load.strangeness[5].splice(8, 1);\n            load.strangeness[5].splice(6, 1);\n            load.fileName = load.fileName.replace('[date]', '[dateD.M.Y]');\n            load.fileName = load.fileName.replace('[time]', '[timeH-M-S]');\n        }\n\n        if (load.version !== playerStart.version) {\n            throw new ReferenceError('Save file version is higher than game version');\n        }\n    }\n\n    for (let s = 1; s <= 5; s++) {\n        for (let i = load.buildings[s].length; i < playerStart.buildings[s].length; i++) {\n            load.buildings[s][i] = deepClone(playerStart.buildings[s][i]);\n        }\n        if (load.toggles.buildings[s].length !== playerStart.toggles.buildings[s].length) {\n            load.toggles.buildings[s].length = playerStart.toggles.buildings[s].length;\n        }\n        if (isNaN(load.toggles.shop.wait[s])) { load.toggles.shop.wait[s] = 2; }\n\n        for (let i = load.upgrades[s].length; i < playerStart.upgrades[s].length; i++) {\n            load.upgrades[s][i] = 0;\n        }\n        for (let i = load.researches[s].length; i < playerStart.researches[s].length; i++) {\n            load.researches[s][i] = 0;\n        }\n        for (let i = load.researchesExtra[s].length; i < playerStart.researchesExtra[s].length; i++) {\n            load.researchesExtra[s][i] = 0;\n        }\n        if (load.ASR[s] === undefined) {\n            load.ASR[s] = 0;\n            load.maxASR[s] = 0;\n        }\n\n        for (let i = load.strangeness[s].length; i < playerStart.strangeness[s].length; i++) {\n            load.strangeness[s][i] = 0;\n        }\n        for (let i = load.milestones[s].length; i < playerStart.milestones[s].length; i++) {\n            load.milestones[s][i] = 0;\n        }\n    }\n    for (let i = load.strange.length; i < playerStart.strange.length; i++) {\n        load.strange[i] = deepClone(playerStart.strange[i]);\n    }\n\n    for (let i = load.researchesAuto.length; i < playerStart.researchesAuto.length; i++) {\n        load.researchesAuto[i] = 0;\n    }\n    for (let i = load.elements.length; i < playerStart.elements.length; i++) {\n        load.elements[i] = 0;\n    }\n\n    for (let i = load.toggles.confirm.length; i < playerStart.toggles.confirm.length; i++) {\n        load.toggles.confirm[i] = 'All';\n    }\n    if (load.toggles.hover.length !== playerStart.toggles.hover.length) {\n        load.toggles.hover.length = playerStart.toggles.hover.length;\n    }\n    if (load.toggles.max.length !== playerStart.toggles.max.length) {\n        load.toggles.max.length = playerStart.toggles.max.length;\n    }\n    if (load.toggles.auto.length !== playerStart.toggles.auto.length) {\n        load.toggles.auto.length = playerStart.toggles.auto.length;\n    }\n\n    if (load.events.length !== playerStart.events.length) { load.events.length = playerStart.events.length; }\n\n    /* Restore Classes post JSON parse */\n    load.vaporization.clouds = new Overlimit(load.vaporization.clouds);\n    load.vaporization.cloudsMax = new Overlimit(load.vaporization.cloudsMax);\n    for (let s = 1; s < load.buildings.length; s++) {\n        for (let i = 0; i < load.buildings[s].length; i++) {\n            const building = load.buildings[s][i];\n            building.current = new Overlimit(building.current);\n            building.total = new Overlimit(building.total);\n            building.trueTotal = new Overlimit(building.trueTotal);\n            building.highest = new Overlimit(building.highest);\n        }\n    }\n\n    Object.assign(player, load);\n\n    /* Final preparations and fixes */\n    global.debug.errorID = true;\n    global.debug.errorQuery = true;\n    global.debug.errorGain = true;\n\n    global.vaporizationInfo.research0 = 0;\n    global.vaporizationInfo.research1 = 0;\n    const stars = player.buildings[4];\n    global.collapseInfo.trueStars = stars[1].true + stars[2].true + stars[3].true + stars[4].true + stars[5].true;\n    global.historyStorage.stage = player.history.stage.list;\n    if (player.inflation.vacuum) {\n        player.buildings[2][0].current.setValue(player.buildings[1][5].current).divide('6.02214076e23');\n        player.buildings[3][0].current.setValue(player.buildings[1][0].current).multiply('1.78266192e-33');\n        player.events[0] = true;\n    } else {\n        player.researchesAuto[0] = player.strangeness[3][6];\n        if (player.accretion.rank === 0) { player.buildings[3][0].current.setValue('5.9722e27'); }\n        calculateInstability();\n    }\n    if (player.stage.current < 5 && player.elements[26] === 1) { player.elements[26] = 0; }\n\n    for (let s = 1; s <= 5; s++) {\n        const strangeness = player.strangeness[s];\n        const strangenessMax = global.strangenessInfo[s].max;\n        for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'strangeness');\n            if (strangeness[i] > strangenessMax[i]) {\n                strangeness[i] = strangenessMax[i];\n                visualUpdateResearches(i, s, 'strangeness');\n            }\n        }\n        for (let i = 0; i < playerStart.milestones[s].length; i++) {\n            calculateMilestoneInformation(i, s);\n        }\n\n        const extra = player.researchesExtra[s];\n        const extraMax = global.researchesExtraInfo[s].max;\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'researchesExtra');\n            if (extra[i] > extraMax[i]) {\n                extra[i] = extraMax[i];\n            }\n        }\n        const researches = player.researches[s];\n        const researchesMax = global.researchesInfo[s].max;\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'researches');\n            if (researches[i] > researchesMax[i]) {\n                researches[i] = researchesMax[i];\n            }\n        }\n        calculateMaxLevel(0, s, 'ASR');\n    }\n    for (let i = 0; i < playerStart.researchesAuto.length; i++) {\n        calculateMaxLevel(i, 0, 'researchesAuto');\n    }\n\n    assignStrangeBoost();\n    assignPuddles(true);\n    assignEnergy();\n\n    /* Finish visuals */\n    (getId('saveFileNameInput') as HTMLInputElement).value = player.fileName;\n    (getId('stageInput') as HTMLInputElement).value = format(player.stage.input, { type: 'input' });\n    (getId('vaporizationInput') as HTMLInputElement).value = format(player.vaporization.input, { type: 'input' });\n    (getId('collapseStarsInput') as HTMLInputElement).value = format(player.collapse.input, { type: 'input' });\n    (getId('stageResetsSave') as HTMLInputElement).value = `${player.history.stage.input[0]}`;\n    (getId('stageResetsShow') as HTMLInputElement).value = `${player.history.stage.input[1]}`;\n    for (let i = 0; i < playerStart.toggles.confirm.length; i++) { toggleConfirm(i); }\n    for (let i = 0; i < playerStart.toggles.hover.length; i++) { toggleSwap(i, 'hover'); }\n    for (let i = 0; i < playerStart.toggles.max.length; i++) { toggleSwap(i, 'max'); }\n    for (let i = 0; i < playerStart.toggles.auto.length; i++) { toggleSwap(i, 'auto'); }\n    (getId('buyAnyInput') as HTMLInputElement).value = format(player.toggles.shop.input, { type: 'input' });\n\n    return oldVersion;\n};\n\nexport const buildVersionInfo = () => {\n    if (getId('closeVersionInfo', true) !== null) { return; }\n\n    getId('versionInfo').innerHTML = `<div>\n        <div id=\"versionText\">\n            <label>v0.2.0</label><p>- Will be added later</p>\n            <label>v0.1.9</label><p>- More true Vacuum balance\\n- Reworked time related formats\\n- Warp and Offline time usage reworked</p>\n            <label>v0.1.8</label><p>- True Vacuum small balance changes\\n- Upgrades and Researches merged\\n- Added copy to clipboard, load from string save file options</p>\n            <label>v0.1.7</label><p>- New content (Void)\\n- Further balance changes</p>\n            <label>v0.1.6</label><p>- Massive rebalance and reworks for all Stages</p>\n            <label>v0.1.5</label><p>- True Vacuum minor balance\\n- Images no longer unload\\n- Screen reader support reworked</p>\n            <label>v0.1.4</label><p>- Custom scrolls\\n- Notifications</p>\n            <label>v0.1.3</label><p>- True Vacuum balance changes\\n- Submerged Stage minor balance\\n- Replay event button\\n\\n- History for Stage resets</p>\n            <label>v0.1.2</label><p>- New content (Vacuum)\\n- Offline time reworked\\n- Added version window (removed change log on game load)\\n- Permanently removed text movement</p>\n            <label>v0.1.1</label><p>- More balance changes for late game</p>\n            <label>v0.1.0</label><p>- New content (Intergalactic)\\n- Balance changes for late game</p>\n            <label>v0.0.9</label><p>- New content (Milestones)\\n- More Interstellar and late game balance</p>\n            <label>v0.0.8</label><p>- Minor speed up to all Stages past Microworld</p>\n            <label>v0.0.7</label><p>- New content (Strangeness)\\n- Microworld Stage rework\\n\\n- Added stats for Save file name</p>\n            <label>v0.0.6</label><p>- Added hotkeys list\\n\\n- Option to remove text movement\\n- Ability to rename save file</p>\n            <label>v0.0.5</label><p>- New content (Interstellar)\\n- Basic loading screen\\n\\n- Added hotkeys</p>\n            <label>v0.0.4</label><p>- Speed up to all Stages\\n- Added events\\n\\n- Added numbers format</p>\n            <label>v0.0.3</label><p>- New content (Accretion)\\n- Submerged Stage extended\\n- Offline time calculated better</p>\n            <label>v0.0.2</label><p>- Stats subtab</p>\n            <label>v0.0.1</label><p>- Submerged Stage rework\\n- Added change log on game load\\n\\n- Mobile device support</p>\n            <label>v0.0.0</label><p>- First published version\\n\\n- Submerged Stage placeholder</p>\n        </div>\n        <button type=\"button\" id=\"closeVersionInfo\">Close</button>\n    </div>`;\n\n    specialHTML.styleSheet.textContent += '#versionInfo > div { display: flex; flex-direction: column; justify-content: space-between; align-items: center; width: clamp(42vw, 36em, 80vw); height: clamp(26vh, 36em, 90vh); background-color: var(--window-color); border: 3px solid var(--window-border); border-radius: 12px; padding: 1em 1em 0.8em; row-gap: 1em; } #versionInfo button { flex-shrink: 0; width: 6em; border-radius: 4px; font-size: 0.92em; } #versionText { width: 100%; overflow-y: auto; } #versionText label { font-size: 1.18em; } #versionText p { line-height: 1.3em; white-space: pre-line; color: var(--white-text); margin-top: 0.2em; margin-bottom: 1.4em; } #versionText p:last-of-type { margin-bottom: 0; }';\n    getId('closeVersionInfo').addEventListener('click', () => { getId('versionInfo').style.display = 'none'; });\n};\n", "import { global, player } from './Player';\nimport { checkTab } from './Check';\nimport { switchTab } from './Update';\nimport { buyBuilding, collapseAsyncReset, dischargeAsyncReset, rankAsyncReset, stageAsyncReset, switchStage, toggleSwap, vaporizationAsyncReset } from './Stage';\nimport { buyAll, timeWarp } from './Main';\nimport { globalSave } from './Special';\n\nexport const detectHotkey = (check: KeyboardEvent) => {\n    if (check.code === 'Tab') {\n        document.body.classList.add('outlineOnFocus');\n        return;\n    } else {\n        const activeType = (document.activeElement as HTMLInputElement)?.type;\n        if (activeType === 'text' || activeType === 'number') { return; }\n        document.body.classList.remove('outlineOnFocus');\n    }\n    if (global.paused) { return; }\n    const { key, code } = check;\n    let { shiftKey } = check;\n\n    if (shiftKey) { global.hotkeys.shift = true; } //Can be undefined on Safari\n    if (check.ctrlKey) {\n        global.hotkeys.ctrl = true;\n        return;\n    }\n    if (check.altKey) { return; }\n\n    const numberKey = Number(code.slice(-1));\n    if (!isNaN(numberKey)) {\n        if (isNaN(Number(key))) {\n            if (code === '' || code[0] === 'F') { return; }\n            if (!shiftKey) { //Numpad\n                shiftKey = true;\n                check.preventDefault();\n            }\n        }\n\n        if (shiftKey) {\n            if (check.repeat) { return; }\n            toggleSwap(numberKey, 'buildings', true);\n        } else { buyBuilding(numberKey); }\n    } else if (key.length === 1) {\n        const stringKey = (globalSave.toggles[0] ? key : code.replace('Key', '')).toLowerCase();\n        if (shiftKey) {\n            if (stringKey === 'a') {\n                toggleSwap(0, 'buildings', true);\n            }\n        } else {\n            if (stringKey === 'm') {\n                buyAll();\n            } else if (stringKey === 'w') {\n                check.preventDefault();\n                void timeWarp();\n            } else if (stringKey === 's') {\n                void stageAsyncReset();\n            } else if (stringKey === 'd') {\n                if (global.stageInfo.activeAll.includes(1)) { void dischargeAsyncReset(); }\n            } else if (stringKey === 'v') {\n                if (global.stageInfo.activeAll.includes(2)) { void vaporizationAsyncReset(); }\n            } else if (stringKey === 'r') {\n                if (global.stageInfo.activeAll.includes(3)) { void rankAsyncReset(); }\n            } else if (stringKey === 'c') {\n                if (global.stageInfo.activeAll.includes(4)) { void collapseAsyncReset(); }\n            }\n        }\n    } else if (key === 'ArrowLeft' || key === 'ArrowRight') {\n        if (check.repeat) { return; }\n        if (shiftKey) {\n            const activeAll = global.stageInfo.activeAll;\n            if (activeAll.length === 1) { return; }\n            let index = activeAll.indexOf(player.stage.active);\n\n            if (key === 'ArrowLeft') {\n                if (index <= 0) {\n                    index = activeAll.length - 1;\n                } else { index--; }\n                switchStage(activeAll[index]);\n            } else {\n                if (index >= activeAll.length - 1) {\n                    index = 0;\n                } else { index++; }\n                switchStage(activeAll[index]);\n            }\n        } else {\n            const tabs = global.tabList.tabs;\n            let index = tabs.indexOf(global.tab);\n\n            if (key === 'ArrowLeft') {\n                do {\n                    if (index <= 0) {\n                        index = tabs.length - 1;\n                    } else { index--; }\n                } while (!checkTab(tabs[index]));\n                switchTab(tabs[index]);\n            } else {\n                do {\n                    if (index >= tabs.length - 1) {\n                        index = 0;\n                    } else { index++; }\n                } while (!checkTab(tabs[index]));\n                switchTab(tabs[index]);\n            }\n        }\n    } else if (key === 'ArrowDown' || key === 'ArrowUp') {\n        const subtab = global.subtab[`${global.tab}Current` as keyof unknown] as string | undefined;\n        if (shiftKey || check.repeat || subtab === undefined) { return; }\n        const subtabs = global.tabList[`${global.tab as 'stage'}Subtabs`];\n        let index = subtabs.indexOf(subtab);\n\n        if (key === 'ArrowDown') {\n            do {\n                if (index <= 0) {\n                    index = subtabs.length - 1;\n                } else { index--; }\n            } while (!checkTab(global.tab, subtabs[index]));\n            switchTab(global.tab, subtabs[index]);\n        } else {\n            do {\n                if (index >= subtabs.length - 1) {\n                    index = 0;\n                } else { index++; }\n            } while (!checkTab(global.tab, subtabs[index]));\n            switchTab(global.tab, subtabs[index]);\n        }\n    }\n};\n", "import { player, global, playerStart, updatePlayer, buildVersionInfo, deepClone } from './Player';\nimport { getUpgradeDescription, timeUpdate, switchTab, numbersUpdate, visualUpdate, format, maxOfflineTime, exportMultiplier, getChallengeDescription, getChallengeReward, stageUpdate, getStrangenessDescription, visualUpdateResearches } from './Update';\nimport { assignStrangeBoost, autoElementsSet, autoResearchesSet, autoUpgradesSet, buyBuilding, buyStrangeness, buyUpgrades, collapseAsyncReset, dischargeAsyncReset, enterExitChallenge, rankAsyncReset, stageAsyncReset, switchStage, toggleConfirm, toggleSwap, vaporizationAsyncReset } from './Stage';\nimport { Alert, hideFooter, Prompt, setTheme, changeFontSize, changeFormat, specialHTML, replayEvent, Confirm, preventImageUnload, Notify, MDStrangenessPage, globalSave, toggleSpecial, saveGlobalSettings } from './Special';\nimport { detectHotkey } from './Hotkeys';\nimport { prepareVacuum, switchVacuum } from './Vacuum';\n\n/** Only for static HTML, by default (false) throws error if id is null */\nexport const getId = (id: string, noError = false): HTMLElement => {\n    const test = specialHTML.cache.idMap.get(id);\n    if (test !== undefined) { return test; }\n\n    const store = document.getElementById(id);\n    if (store !== null) {\n        specialHTML.cache.idMap.set(id, store);\n        return store;\n    }\n\n    if (noError) { return null as unknown as HTMLElement; }\n    if (global.debug.errorID) {\n        global.debug.errorID = false;\n        Notify(`Error encountered, ID - '${id}' doesn't exist`);\n        setTimeout(() => { global.debug.errorID = true; }, 6e4);\n    }\n    throw new ReferenceError(`ID - '${id}' doesn't exist`);\n};\n/** From cache, not document */\nexport const removeId = (id: string) => { specialHTML.cache.classMap.delete(id); };\n\n/** Adding any new HTML to existing class will require reseting it */\nexport const getClass = (idCollection: string): HTMLCollectionOf<HTMLElement> => {\n    const test = specialHTML.cache.classMap.get(idCollection);\n    if (test !== undefined) { return test; }\n\n    const store = document.getElementsByClassName(idCollection) as HTMLCollectionOf<HTMLElement>;\n    specialHTML.cache.classMap.set(idCollection, store);\n    return store;\n};\n//export const getRemoveClass = (idCollection: string) => { specialHTML.cache.classMap.delete(idCollection); };\n\n/** Only for static HTML */\nexport const getQuery = (query: string): HTMLElement => {\n    const test = specialHTML.cache.queryMap.get(query);\n    if (test !== undefined) { return test; }\n\n    const store = document.querySelector(query) as HTMLElement; //Can't add null type due to eslint being buggy\n    if (store !== null) {\n        specialHTML.cache.queryMap.set(query, store);\n        return store;\n    }\n\n    if (global.debug.errorQuery) {\n        global.debug.errorQuery = false;\n        Notify(`Error encountered, Query - '${query}' failed to find anything`);\n        setTimeout(() => { global.debug.errorQuery = true; }, 6e4);\n    }\n    throw new ReferenceError(`Query - '${query}' failed`);\n};\n\nconst handleOfflineTime = (): number => {\n    const time = player.time;\n    const timeNow = Date.now();\n    const offlineTime = (timeNow - time.updated) / 1000;\n    time.updated = timeNow;\n    time.offline = Math.min(time.offline + offlineTime, maxOfflineTime());\n    player.stage.export = Math.min(player.stage.export + offlineTime, 86400);\n    return offlineTime;\n};\n\nexport const changeIntervals = () => {\n    const intervalsId = global.intervalsId;\n    const intervals = globalSave.intervals;\n    const paused = global.paused;\n\n    clearInterval(intervalsId.main);\n    clearInterval(intervalsId.numbers);\n    clearInterval(intervalsId.visual);\n    clearInterval(intervalsId.autoSave);\n    intervalsId.main = paused ? undefined : setInterval(timeUpdate, intervals.main);\n    intervalsId.numbers = paused ? undefined : setInterval(numbersUpdate, intervals.numbers);\n    intervalsId.visual = paused ? undefined : setInterval(visualUpdate, intervals.visual);\n    intervalsId.autoSave = paused ? undefined : setInterval(saveGame, intervals.autoSave);\n};\n\nconst saveGame = async(returnOnly = false): Promise<string | null> => {\n    if (global.paused) {\n        Notify('No saving while game is paused');\n        return null;\n    }\n    try {\n        player.history.stage.list = global.historyStorage.stage.slice(0, player.history.stage.input[0]);\n\n        const save = btoa(JSON.stringify(player));\n        if (!returnOnly) {\n            localStorage.setItem('save', save);\n            clearInterval(global.intervalsId.autoSave);\n            global.intervalsId.autoSave = setInterval(saveGame, globalSave.intervals.autoSave);\n            getId('isSaved').textContent = 'Saved';\n            global.lastSave = 0;\n        }\n        return save;\n    } catch (error) { void Alert(`Failed to save game\\nFull error: '${error}'`); }\n    return null;\n};\nconst loadGame = (save: string) => {\n    if (global.paused) { return Notify('No loading while game is paused'); }\n    global.paused = true;\n    changeIntervals();\n    try {\n        const versionCheck = updatePlayer(JSON.parse(atob(save)));\n\n        global.lastSave = handleOfflineTime();\n        Notify(`This save is ${format(global.lastSave, { type: 'time', padding: false })} old. Save file version is ${versionCheck}`);\n        stageUpdate('reload');\n    } catch (error) { void Alert(`Incorrect save file format\\nFull error: '${error}'`); }\n    global.paused = false;\n    changeIntervals();\n};\nconst exportFileGame = async() => {\n    if (player.stage.resets >= (player.inflation.vacuum ? 1 : 4) && player.stage.export > 0) {\n        const rewardType = player.strangeness[5][8];\n        const multiplier = exportMultiplier();\n\n        let strangeGain;\n        if (rewardType >= 1) {\n            strangeGain = player.stage.export * multiplier / 86400 / 1e12 ** rewardType;\n            player.stage.export = 0;\n        } else {\n            strangeGain = Math.floor(player.stage.export * multiplier / 86400);\n            player.stage.export -= strangeGain * 86400 / multiplier;\n        }\n        player.strange[rewardType].current += strangeGain;\n        player.strange[rewardType].total += strangeGain;\n        if (rewardType === 0) { assignStrangeBoost(); }\n    }\n\n    const save = await saveGame(true);\n    if (save === null) { return; }\n    const a = document.createElement('a');\n    a.href = `data:text/plain,${save}`;\n    a.download = replaceSaveFileSpecials();\n    a.click();\n};\nconst saveConsole = async() => {\n    const value = await Prompt(\"Available options:\\n'Copy' - copy save file to clipboard\\n'Delete' - delete your save file\\n'Reset' - reset game global settings\\n'Clear' - clear all domain data\\nOr insert save file string here to load it\");\n    if (value === null || value === '') { return; }\n    const lower = value.toLowerCase();\n\n    if (lower === 'copy') {\n        const save = await saveGame(true);\n        if (save !== null) { void navigator.clipboard.writeText(save); }\n    } else if (lower === 'delete' || lower === 'reset' || lower === 'clear') {\n        if (lower === 'delete') {\n            localStorage.removeItem('save');\n        } else if (lower === 'reset') {\n            localStorage.removeItem('fundamentalSettings');\n        } else { localStorage.clear(); }\n        window.location.reload();\n        void Alert('Awaiting game reload');\n    } else if (value === 'devMode') {\n        globalSave.developerMode = !globalSave.developerMode;\n        Notify(`Developer mode is ${globalSave.developerMode ? 'now' : 'no longer'} active`);\n        saveGlobalSettings();\n    } else if (lower === 'achievement') {\n        Notify('Unlocked a new Achievement');\n    } else if (lower === 'slow' || lower === 'free') {\n        Notify('Game speed was increased by 1x');\n    } else if (lower === 'neutronium' || lower === 'element0') {\n        Notify(`${global.elementsInfo.effectText[0]().replace('this', 'Elements')}`);\n    } else {\n        if (value.length < 20) { return void Alert(`Input '${value}' doesn't match anything`); }\n        if (!await Confirm(\"Press 'Confirm' to load input as a save file\\n(Input is too long to be displayed)\")) { return; }\n        loadGame(value);\n    }\n};\n\nconst changeSaveFileName = () => {\n    const input = getId('saveFileNameInput') as HTMLInputElement;\n    const newValue = input.value.length === 0 ? playerStart.fileName : input.value.replaceAll(/[\\\\/:*?\"<>|]/g, '_');\n\n    try {\n        btoa(newValue); //Test for any illegal characters\n        player.fileName = newValue;\n        input.value = newValue;\n    } catch (error) {\n        void Alert(`Save file name is not allowed\\nFull error: '${error}'`);\n    }\n};\nconst replaceSaveFileSpecials = (): string => {\n    let realName = player.fileName;\n\n    const date = new Date();\n    const dateIndex = realName.indexOf('[date');\n    if (dateIndex >= 0) {\n        const endIndex = realName.indexOf(']', dateIndex + 5);\n        if (endIndex >= 0) {\n            let replaced = realName.substring(dateIndex + 5, endIndex);\n            const special = [\n                'Y',\n                'M',\n                'D'\n            ];\n            const replaceWith = [\n                `${date.getFullYear()}`,\n                `${date.getMonth() + 1}`.padStart(2, '0'),\n                `${date.getDate()}`.padStart(2, '0')\n            ];\n            for (let i = 0; i < special.length; i++) {\n                replaced = replaced.replace(special[i], replaceWith[i]);\n            }\n            realName = realName.replace(realName.substring(dateIndex, endIndex + 1), replaced);\n        }\n    }\n    const timeIndex = realName.indexOf('[time');\n    if (timeIndex >= 0) {\n        const endIndex = realName.indexOf(']', timeIndex + 5);\n        if (endIndex >= 0) {\n            let replaced = realName.substring(timeIndex + 5, endIndex);\n            const special = [\n                'H',\n                'M',\n                'S'\n            ];\n            const replaceWith = [\n                `${date.getHours()}`.padStart(2, '0'),\n                `${date.getMinutes()}`.padStart(2, '0'),\n                `${date.getSeconds()}`.padStart(2, '0')\n            ];\n            for (let i = 0; i < special.length; i++) {\n                replaced = replaced.replace(special[i], replaceWith[i]);\n            }\n            realName = realName.replace(realName.substring(timeIndex, endIndex + 1), replaced);\n        }\n    }\n\n    const special = [\n        '[stage]',\n        '[true]',\n        '[strange]',\n        '[matter]',\n        '[vacuum]'\n    ];\n    const replaceWith = [\n        global.stageInfo.word[player.stage.active],\n        global.stageInfo.word[player.stage.true],\n        `${global.strangeInfo.gain(player.stage.active)}`,\n        `${global.strangeInfo.name[player.strangeness[5][8]]}`,\n        `${player.inflation.vacuum}`\n    ];\n    for (let i = 0; i < special.length; i++) {\n        realName = realName.replace(special[i], replaceWith[i]);\n    }\n    return `${realName}.txt`;\n};\n\n/* Arguments are not done as '(...data: any) => any, ...data: any' because TS wont do type safety */\nconst repeatFunction = (repeat: () => any) => {\n    if (global.intervalsId.mouseRepeat !== undefined) { return; }\n    global.intervalsId.mouseRepeat = setTimeout(() => {\n        global.intervalsId.mouseRepeat = setInterval(repeat, 50);\n    }, 200);\n};\nconst cancelRepeat = () => {\n    clearInterval(global.intervalsId.mouseRepeat);\n    global.intervalsId.mouseRepeat = undefined;\n};\n\nconst hoverUpgrades = (index: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements') => {\n    if (player.toggles.hover[0] && player.stage.true >= 4) { buyUpgrades(index, player.stage.active, type); }\n    if (type === 'elements') {\n        global.lastElement = index;\n    } else { global.lastUpgrade[player.stage.active] = [index, type]; }\n    getUpgradeDescription(index, type);\n};\nconst hoverStrangeness = (index: number, stageIndex: number, type: 'strangeness' | 'milestones') => {\n    if (type === 'strangeness') {\n        global.lastStrangeness = [index, stageIndex];\n    } else { global.lastMilestone = [index, stageIndex]; }\n    getStrangenessDescription(index, stageIndex, type);\n};\nconst hoverChallenge = (index: number, type: 'challenge' | 'reward') => {\n    if (type === 'challenge') {\n        global.lastChallenge[0] = index;\n        getChallengeDescription(index);\n    } else {\n        global.lastChallenge[1] = index;\n        getChallengeReward(index);\n    }\n};\n\nexport const buyAll = () => {\n    const active = player.stage.active;\n    for (let i = 1; i < specialHTML.longestBuilding; i++) {\n        buyBuilding(i, active, 0);\n    }\n};\n\nexport const timeWarp = async() => {\n    if (global.paused) { return Notify('No warping while game is paused'); }\n    const offline = player.time.offline;\n    if (offline < 60) { return void Alert('Need at least 1 minute in Offline storage to Warp'); }\n    let warpTime: number = player.stage.true < 5 ? (await Confirm(`Ready to use Offline?\\n(Offline storage is ${format(offline, { type: 'time', padding: false })})`) ? offline : 0) :\n        Math.min(Number(await Prompt(`How many seconds to Warp?\\n(Offline storage is ${format(offline, { digits: 0 })} seconds)\\nNot using entire Offline storage will remove additional time from storage without using it (from half an hour up to same amount as Warp time)`, '1800')), offline);\n    if (warpTime < 60 || !isFinite(warpTime)) { return warpTime > 0 ? void Alert('Warp has to be at least 1 minute') : undefined; }\n    if (warpTime < offline) {\n        const remove = Math.max(warpTime, 1800);\n        if (warpTime + remove >= offline) {\n            warpTime = offline;\n        } else { player.time.offline -= remove; }\n    }\n\n    global.paused = true;\n    changeIntervals();\n    getId('alertMain').style.display = 'none';\n    getId('warpMain').style.display = '';\n    getId('blocker').style.display = '';\n    warpMain(warpTime);\n    player.time.offline -= warpTime;\n};\nconst warpMain = (warpTime: number, start = warpTime) => {\n    const time = Math.min(600, warpTime);\n    warpTime -= time;\n    try {\n        timeUpdate(time);\n    } catch (error) {\n        warpEnd();\n        return void Alert(`Warp failed due to Error:\\n${error}`);\n    }\n    if (warpTime > 0) {\n        setTimeout(warpMain, 0, warpTime, start);\n        getId('warpRemains').textContent = format(warpTime, { type: 'time' });\n        getId('warpPercentage').textContent = format(100 - warpTime / start * 100, { padding: true });\n        if (globalSave.SRSettings[0]) { getId('warpMain').setAttribute('aria-valuetext', `${format(100 - warpTime / start * 100)}% done`); }\n    } else { warpEnd(); }\n    numbersUpdate();\n    visualUpdate();\n};\nconst warpEnd = () => {\n    Notify(`Warp ended after ${format(handleOfflineTime(), { type: 'time', padding: false })}`);\n    global.paused = false;\n    changeIntervals();\n    getId('blocker').style.display = 'none';\n    getId('warpMain').style.display = 'none';\n    getId('alertMain').style.display = '';\n};\n\nconst pauseGame = async() => {\n    if (global.paused) { return Notify('Game is already paused'); }\n    global.paused = true;\n    changeIntervals();\n    await Alert(\"Game is currently paused. Press 'confirm' to unpause it. Time spent here will be moved into Offline storage\");\n\n    const offline = handleOfflineTime();\n    Notify(`Game was paused for ${format(offline, { type: 'time', padding: false })}`);\n    global.lastSave += offline;\n    global.paused = false;\n    changeIntervals();\n    numbersUpdate();\n    visualUpdate();\n};\n\ntry { //Start everything\n    preventImageUnload();\n\n    const globalSettings = localStorage.getItem('fundamentalSettings');\n    if (globalSettings !== null) {\n        Object.assign(globalSave, JSON.parse(atob(globalSettings)));\n        (getId('decimalPoint') as HTMLInputElement).value = globalSave.format[0];\n        (getId('thousandSeparator') as HTMLInputElement).value = globalSave.format[1];\n        (getId('mainInterval') as HTMLInputElement).value = `${globalSave.intervals.main}`;\n        (getId('numbersInterval') as HTMLInputElement).value = `${globalSave.intervals.numbers}`;\n        (getId('visualInterval') as HTMLInputElement).value = `${globalSave.intervals.visual / 1000}`;\n        (getId('autoSaveInterval') as HTMLInputElement).value = `${globalSave.intervals.autoSave / 1000}`;\n        for (let i = 0; i < globalSave.toggles.length; i++) { toggleSpecial(i, 'normal'); }\n        changeFontSize();\n\n        if (globalSave.MDSettings[0]) {\n            (document.getElementById('MDMessage1') as HTMLElement).remove();\n            specialHTML.styleSheet.textContent += 'input[type = \"image\"], img { -webkit-touch-callout: none; }'; //Safari junk to disable image hold menu\n            specialHTML.styleSheet.textContent += '#themeArea.windowOpen > div > div { display: flex; } #themeArea.windowOpen > div > button { clip-path: circle(0); }'; //More Safari junk to make windows work without focus\n            (getId('file') as HTMLInputElement).accept = ''; //Accept for unknown reason not properly supported on phones\n\n            const stageButton = document.createElement('button');\n            stageButton.textContent = 'Stage';\n            stageButton.id = 'stageFooter';\n            stageButton.type = 'button';\n            const reset1Button = document.createElement('button');\n            reset1Button.id = 'reset1Footer';\n            reset1Button.type = 'button';\n            getId('phoneHotkeys').prepend(reset1Button, stageButton);\n\n            const createUpgButton = document.createElement('button');\n            createUpgButton.classList.add('hollowButton');\n            createUpgButton.textContent = 'Create';\n            createUpgButton.id = 'upgradeCreate';\n            createUpgButton.type = 'button';\n            specialHTML.styleSheet.textContent += '#upgradeCreate { height: 1.76em; padding: 0 0.44em; border-radius: 2px; font-size: 0.92em; }';\n            getId('toggleHover0').after(createUpgButton);\n\n            const pages = document.createElement('div');\n            pages.id = 'strangenessPages';\n            pages.innerHTML = '<button type=\"button\" id=\"strangenessPage1\" class=\"stage1borderImage hollowButton\">1</button><button type=\"button\" id=\"strangenessPage2\" class=\"stage2borderImage hollowButton\">2</button><button type=\"button\" id=\"strangenessPage3\" class=\"stage3borderImage hollowButton\">3</button><button type=\"button\" id=\"strangenessPage4\" class=\"stage4borderImage hollowButton\">4</button><button type=\"button\" id=\"strangenessPage5\" class=\"stage5borderImage hollowButton\">5</button><button type=\"button\" id=\"strangenessCreate\" class=\"hollowButton\">Create</button>';\n            specialHTML.styleSheet.textContent += '#strangenessPages { display: flex; justify-content: center; column-gap: 0.3em; } #strangenessPages button { width: 2.08em; height: calc(2.08em - 2px); border-top: none; border-radius: 0 0 4px 4px; } #strangenessCreate { width: unset !important; padding: 0 0.4em; }';\n            getId('strangenessResearch').append(pages);\n\n            const MDToggle1 = document.createElement('li');\n            MDToggle1.innerHTML = '<label>Keep mouse events<button type=\"button\" id=\"MDToggle1\" class=\"specialToggle\">OFF</button></label>';\n            getId('MDLi').after(MDToggle1);\n\n            getId('MDToggle1').addEventListener('click', () => toggleSpecial(1, 'mobile', true, true));\n            for (let i = 0; i < globalSave.MDSettings.length; i++) { toggleSpecial(i, 'mobile'); }\n        }\n        if (globalSave.SRSettings[0]) {\n            (document.getElementById('SRMessage1') as HTMLElement).remove();\n            for (let i = 0; i < 3; i++) {\n                const effectID = getId(i === 0 ? 'solarMassExplanation' : `star${i}Explanation`);\n                effectID.textContent = ` (${effectID.textContent})`;\n            }\n\n            const SRMainDiv = document.createElement('article');\n            SRMainDiv.innerHTML = '<h3>Information for Screen reader</h3><p id=\"SRTab\" aria-live=\"polite\"></p><p id=\"SRStage\" aria-live=\"polite\"></p><p id=\"SRMain\" aria-live=\"assertive\"></p>';\n            SRMainDiv.className = 'reader';\n            getId('fakeFooter').before(SRMainDiv);\n\n            const SRToggle1 = document.createElement('li');\n            SRToggle1.innerHTML = '<label>Keep tab index on created Upgrades<button type=\"button\" id=\"SRToggle1\" class=\"specialToggle\">OFF</button></label>';\n            const SRToggle2 = document.createElement('li');\n            SRToggle2.innerHTML = '<label>Keep tab index on primary buttons<button type=\"button\" id=\"SRToggle2\" class=\"specialToggle\">OFF</button></label>';\n            getId('SRLi').after(SRToggle1, SRToggle2);\n\n            getId('SRToggle1').addEventListener('click', () => {\n                toggleSpecial(1, 'reader', true);\n                stageUpdate('reload');\n                for (let s = 1; s < player.strangeness.length; s++) {\n                    for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) {\n                        visualUpdateResearches(i, s, 'strangeness');\n                    }\n                }\n            });\n\n            const primaryIndex = (reload = false) => {\n                if (!reload) { toggleSpecial(2, 'reader', true); }\n                const newTab = globalSave.SRSettings[2] ? 0 : -1;\n                getId('stageReset').tabIndex = newTab;\n                getId('reset1Button').tabIndex = newTab;\n                for (let i = 1; i < specialHTML.longestBuilding; i++) {\n                    getId(`building${i}Btn`).tabIndex = newTab;\n                    getId(`toggleBuilding${i}`).tabIndex = newTab;\n                }\n                getId('toggleBuilding0').tabIndex = newTab;\n                for (const tabText of global.tabList.tabs) {\n                    getId(`${tabText}TabBtn`).tabIndex = newTab;\n                    const tabList = global.tabList[`${tabText as 'stage'}Subtabs`] as string[] | undefined;\n                    if (tabList === undefined) { continue; }\n                    for (const subtabText of tabList) {\n                        getId(`${tabText}SubtabBtn${subtabText}`).tabIndex = newTab;\n                    }\n                }\n                for (let i = 1; i < global.stageInfo.word.length; i++) {\n                    getId(`${global.stageInfo.word[i]}Switch`).tabIndex = newTab;\n                }\n            };\n            getId('SRToggle2').addEventListener('click', () => { primaryIndex(); });\n\n            if (globalSave.SRSettings[2]) { primaryIndex(true); }\n            for (let i = 0; i < globalSave.SRSettings.length; i++) { toggleSpecial(i, 'reader'); }\n            specialHTML.styleSheet.textContent += '#starEffects > p > span { display: unset !important; }';\n        }\n    }\n\n    let alertText;\n    const save = localStorage.getItem('save');\n    if (save !== null) {\n        const versionCheck = updatePlayer(JSON.parse(atob(save)));\n        global.lastSave = handleOfflineTime();\n        alertText = `Welcome back, you were away for ${format(global.lastSave, { type: 'time', padding: false })}\\n${versionCheck !== player.version ? `Game have been updated from ${versionCheck} to ${player.version}` : `Current version is ${player.version}`}`;\n    } else {\n        prepareVacuum(false); //Set buildings values\n        updatePlayer(deepClone(playerStart));\n        alertText = `Welcome to 'Fundamental' ${player.version}, a test-project created by awWhy\\n(This idle game is not meant to be fast)`;\n    }\n\n    if (globalSave.toggles[1]) {\n        const elementsArea = getId('upgradeSubtabElements');\n        elementsArea.id = 'ElementsTab';\n        getId('upgradeTab').after(elementsArea);\n        removeId('upgradeSubtabElements');\n\n        const elementsButton = getId('upgradeSubtabBtnElements');\n        elementsButton.id = 'ElementsTabBtn';\n        elementsButton.classList.add('stage4Include');\n        getId('upgradeTabBtn').after(elementsButton);\n        removeId('upgradeSubtabBtnElements');\n\n        const tabList = global.tabList;\n        tabList.upgradeSubtabs.splice(tabList.upgradeSubtabs.indexOf('Elements'), 1);\n        tabList.tabs.splice(tabList.tabs.indexOf('upgrade') + 1, 0, 'Elements');\n    }\n\n    /* Global */\n    const MD = globalSave.MDSettings[0];\n    const SR = globalSave.SRSettings[0];\n    const PC = !MD || globalSave.MDSettings[1];\n    const body = document.body;\n    body.addEventListener('keydown', (key: KeyboardEvent) => detectHotkey(key));\n    const releaseHotkey = (event: KeyboardEvent | MouseEvent) => {\n        if (global.hotkeys.shift && !event.shiftKey) { global.hotkeys.shift = false; }\n        if (global.hotkeys.ctrl && !event.ctrlKey) { global.hotkeys.ctrl = false; }\n    };\n    body.addEventListener('keyup', releaseHotkey);\n    body.addEventListener('contextmenu', (event) => {\n        if (!globalSave.developerMode) { event.preventDefault(); }\n    });\n    if (PC) {\n        body.addEventListener('mouseup', (event) => {\n            cancelRepeat();\n            releaseHotkey(event);\n        });\n        body.addEventListener('mouseleave', cancelRepeat);\n    }\n    if (MD) {\n        body.addEventListener('touchend', cancelRepeat);\n        body.addEventListener('touchcancel', cancelRepeat);\n    }\n\n    /* Toggles */\n    for (let i = 0; i < globalSave.toggles.length; i++) {\n        getId(`toggleNormal${i}`).addEventListener('click', () => toggleSpecial(i, 'normal', true, i === 1));\n    }\n    for (let i = 0; i < playerStart.toggles.confirm.length; i++) {\n        getId(`toggleConfirm${i}`).addEventListener('click', () => toggleConfirm(i, true));\n    }\n    for (let i = 0; i < specialHTML.longestBuilding; i++) {\n        getId(`toggleBuilding${i}`).addEventListener('click', () => toggleSwap(i, 'buildings', true));\n    }\n    for (let i = 0; i < playerStart.toggles.hover.length; i++) {\n        getId(`toggleHover${i}`).addEventListener('click', () => toggleSwap(i, 'hover', true));\n    }\n    for (let i = 0; i < playerStart.toggles.max.length; i++) {\n        getId(`toggleMax${i}`).addEventListener('click', () => toggleSwap(i, 'max', true));\n    }\n    for (let i = 0; i < playerStart.toggles.auto.length; i++) {\n        getId(`toggleAuto${i}`).addEventListener('click', () => toggleSwap(i, 'auto', true));\n    }\n\n    /* Stage tab */\n    getId('stageReset').addEventListener('click', stageAsyncReset);\n    if (MD) { getId('stageFooter').addEventListener('click', stageAsyncReset); }\n    {\n        const clickFunc = () => {\n            const active = player.stage.active;\n            if (active === 1) {\n                void dischargeAsyncReset();\n            } else if (active === 2) {\n                void vaporizationAsyncReset();\n            } else if (active === 3) {\n                void rankAsyncReset();\n            } else if (active === 4) {\n                void collapseAsyncReset();\n            }\n        };\n        getId('reset1Button').addEventListener('click', clickFunc);\n        if (MD) { getId('reset1Footer').addEventListener('click', clickFunc); }\n    }\n    for (let i = 1; i < specialHTML.longestBuilding; i++) {\n        const button = getId(`building${i}Btn`);\n        const clickFunc = () => buyBuilding(i);\n        button.addEventListener('click', clickFunc);\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n        if (MD) { button.addEventListener('touchstart', () => repeatFunction(clickFunc)); }\n    }\n    {\n        const button = getId('makeAllStructures');\n        button.addEventListener('click', buyAll);\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(buyAll)); }\n        if (MD) { button.addEventListener('touchstart', () => repeatFunction(buyAll)); }\n    }\n    getId('buyAnyInput').addEventListener('change', () => {\n        const input = getId('buyAnyInput') as HTMLInputElement;\n        player.toggles.shop.input = Math.max(Math.trunc(Number(input.value)), 0);\n        input.value = format(player.toggles.shop.input, { type: 'input' });\n        numbersUpdate();\n    });\n    getId('autoWaitInput').addEventListener('change', () => {\n        const input = getId('autoWaitInput') as HTMLInputElement;\n        let value = Math.max(Number(input.value), 1);\n        if (isNaN(value)) { value = 2; }\n        player.toggles.shop.wait[player.stage.active] = value;\n        input.value = format(value, { type: 'input' });\n    });\n\n    for (let i = -1; i < global.challengesInfo.name.length; i++) {\n        const image = getId(`challenge${i + 1}`);\n        if (PC) { image.addEventListener('mouseover', () => hoverChallenge(i, 'challenge')); }\n        if (MD) { image.addEventListener('touchstart', () => hoverChallenge(i, 'challenge')); }\n        if (SR) { image.addEventListener('focus', () => hoverChallenge(i, 'challenge')); }\n        image.addEventListener('click', i === -1 ? switchVacuum : () => { void enterExitChallenge(i); });\n    }\n    for (let i = 1; i < global.challengesInfo.rewardText[0].length; i++) {\n        const image = getId(`voidReward${global.stageInfo.word[i]}`);\n        image.addEventListener('click', () => hoverChallenge(i, 'reward'));\n        if (MD) { image.addEventListener('click', () => (getId('voidRewardsDiv').style.display = 'block')); } //Safari bugs with no focus events\n    }\n    if (MD) { getId('voidRewardsDiv').addEventListener('click', () => (getId('voidRewardsDiv').style.display = '')); }\n\n    /* Upgrade tab */\n    for (let i = 0; i < specialHTML.longestUpgrade; i++) {\n        const image = getId(`upgrade${i + 1}`);\n        const hoverFunc = () => hoverUpgrades(i, 'upgrades');\n        if (PC) { image.addEventListener('mouseover', hoverFunc); }\n        if (MD) {\n            image.addEventListener('touchstart', () => {\n                hoverUpgrades(i, 'upgrades');\n                repeatFunction(hoverFunc);\n            });\n        } else {\n            const clickFunc = () => buyUpgrades(i, player.stage.active, 'upgrades');\n            image.addEventListener('click', clickFunc);\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (SR) { image.addEventListener('focus', hoverFunc); }\n    }\n    for (let i = 0; i < specialHTML.longestResearch; i++) {\n        const image = getId(`research${i + 1}Image`);\n        const hoverFunc = () => hoverUpgrades(i, 'researches');\n        if (PC) { image.addEventListener('mouseover', hoverFunc); }\n        if (MD) {\n            image.addEventListener('touchstart', () => {\n                hoverUpgrades(i, 'researches');\n                repeatFunction(hoverFunc);\n            });\n        } else {\n            const clickFunc = () => buyUpgrades(i, player.stage.active, 'researches');\n            image.addEventListener('click', clickFunc);\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (SR) { image.addEventListener('focus', hoverFunc); }\n    }\n    for (let i = 0; i < specialHTML.longestResearchExtra; i++) {\n        const image = getId(`researchExtra${i + 1}Image`);\n        const hoverFunc = () => hoverUpgrades(i, 'researchesExtra');\n        if (PC) { image.addEventListener('mouseover', hoverFunc); }\n        if (MD) {\n            image.addEventListener('touchstart', () => {\n                hoverUpgrades(i, 'researchesExtra');\n                repeatFunction(hoverFunc);\n            });\n        } else {\n            const clickFunc = () => buyUpgrades(i, player.stage.active, 'researchesExtra');\n            image.addEventListener('click', clickFunc);\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (SR) { image.addEventListener('focus', hoverFunc); }\n    }\n    for (let i = 0; i < global.researchesAutoInfo.costRange.length; i++) {\n        const image = getId(`researchAuto${i + 1}Image`);\n        const hoverFunc = () => hoverUpgrades(i, 'researchesAuto');\n        if (PC) { image.addEventListener('mouseover', hoverFunc); }\n        if (MD) {\n            image.addEventListener('touchstart', () => {\n                hoverUpgrades(i, 'researchesAuto');\n                repeatFunction(hoverFunc);\n            });\n        } else {\n            const clickFunc = () => buyUpgrades(i, player.stage.active, 'researchesAuto');\n            image.addEventListener('click', clickFunc);\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (SR) { image.addEventListener('focus', hoverFunc); }\n    }\n    {\n        const image = getId('ASRImage');\n        const hoverFunc = () => hoverUpgrades(0, 'ASR');\n        if (PC) { image.addEventListener('mouseover', hoverFunc); }\n        if (MD) {\n            image.addEventListener('touchstart', () => {\n                hoverUpgrades(0, 'ASR');\n                repeatFunction(hoverFunc);\n            });\n        } else {\n            const clickFunc = () => buyUpgrades(0, player.stage.active, 'ASR');\n            image.addEventListener('click', clickFunc);\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (SR) { image.addEventListener('focus', hoverFunc); }\n    }\n    if (MD) {\n        const button = getId('upgradeCreate');\n        const clickFunc = () => {\n            const active = player.stage.active;\n            buyUpgrades(global.lastUpgrade[active][0], active, global.lastUpgrade[active][1]);\n        };\n        button.addEventListener('click', clickFunc);\n        button.addEventListener('touchstart', () => repeatFunction(clickFunc));\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n    }\n\n    if (PC) {\n        getId('element0').addEventListener('dblclick', () => {\n            global.lastElement = 0;\n            getUpgradeDescription(0, 'elements');\n        });\n    }\n    for (let i = 1; i < global.elementsInfo.startCost.length; i++) {\n        const image = getId(`element${i}`);\n        const clickFunc = () => buyUpgrades(i, 4, 'elements');\n        if (PC) {\n            image.addEventListener('mouseover', () => hoverUpgrades(i, 'elements'));\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (MD) {\n            image.addEventListener('touchstart', () => {\n                hoverUpgrades(i, 'elements');\n                repeatFunction(clickFunc);\n            });\n        }\n        if (SR) { image.addEventListener('focus', () => hoverUpgrades(i, 'elements')); }\n        if (PC || SR) { image.addEventListener('click', clickFunc); }\n    }\n\n    /* Strangeness tab */\n    for (let s = 1; s < global.strangenessInfo.length; s++) {\n        if (MD) { getId(`strangenessPage${s}`).addEventListener('click', () => MDStrangenessPage(s)); }\n        for (let i = 0; i < global.strangenessInfo[s].startCost.length; i++) {\n            const image = getId(`strange${i + 1}Stage${s}Image`);\n            const hoverFunc = () => hoverStrangeness(i, s, 'strangeness');\n            if (PC) { image.addEventListener('mouseover', hoverFunc); }\n            if (MD) {\n                image.addEventListener('touchstart', () => {\n                    hoverStrangeness(i, s, 'strangeness');\n                    //repeatFunction(hoverFunc);\n                });\n            } else {\n                const clickFunc = () => buyStrangeness(i, s, 'strangeness');\n                image.addEventListener('click', clickFunc);\n                image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n            }\n            if (SR) { image.addEventListener('focus', hoverFunc); }\n        }\n    }\n    if (MD) {\n        const button = getId('strangenessCreate');\n        const clickFunc = () => buyStrangeness(global.lastStrangeness[0], global.lastStrangeness[1], 'strangeness');\n        button.addEventListener('click', clickFunc);\n        button.addEventListener('touchstart', () => repeatFunction(clickFunc));\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n    }\n    for (let s = 1; s < global.milestonesInfo.length; s++) {\n        for (let i = 0; i < global.milestonesInfo[s].need.length; i++) {\n            const image = getQuery(`#milestone${i + 1}Stage${s}Div > img`);\n            if (PC) { image.addEventListener('mouseover', () => hoverStrangeness(i, s, 'milestones')); }\n            if (MD) { image.addEventListener('touchstart', () => hoverStrangeness(i, s, 'milestones')); }\n            if (SR) { image.addEventListener('focus', () => hoverStrangeness(i, s, 'milestones')); }\n        }\n    }\n\n    /* Settings tab */\n    getId('vaporizationInput').addEventListener('change', () => {\n        const input = getId('vaporizationInput') as HTMLInputElement;\n        player.vaporization.input = Math.max(Number(input.value), 0);\n        input.value = format(player.vaporization.input, { type: 'input' });\n    });\n    getId('collapseStarsInput').addEventListener('change', () => {\n        const input = getId('collapseStarsInput') as HTMLInputElement;\n        player.collapse.input = Math.max(Number(input.value), 1);\n        input.value = format(player.collapse.input, { type: 'input' });\n    });\n    getId('stageInput').addEventListener('change', () => {\n        const input = getId('stageInput') as HTMLInputElement;\n        player.stage.input = Math.max(Number(input.value), 0);\n        input.value = format(player.stage.input, { type: 'input' });\n    });\n    getId('versionButton').addEventListener('click', () => {\n        buildVersionInfo();\n        getId('versionInfo').style.display = '';\n    });\n    getId('save').addEventListener('click', () => { void saveGame(); });\n    getId('file').addEventListener('change', async() => {\n        const id = getId('file') as HTMLInputElement;\n        loadGame(await (id.files as FileList)[0].text());\n        id.value = '';\n    });\n    getId('export').addEventListener('click', exportFileGame);\n    getId('saveConsole').addEventListener('click', saveConsole);\n    if (MD) {\n        getId('currentTheme').addEventListener('click', () => getId('themeArea').classList.add('windowOpen'));\n        getId('themeArea').addEventListener('mouseleave', () => getId('themeArea').classList.remove('windowOpen'));\n    }\n    getId('switchTheme0').addEventListener('click', () => setTheme(null));\n    for (let i = 1; i < global.stageInfo.word.length; i++) {\n        getId(`switchTheme${i}`).addEventListener('click', () => setTheme(i));\n    }\n    getId('toggleAuto8').addEventListener('click', autoElementsSet);\n    getId('toggleAuto5').addEventListener('click', () => autoUpgradesSet('all'));\n    getId('toggleAuto6').addEventListener('click', () => autoResearchesSet('researches', 'all'));\n    getId('toggleAuto7').addEventListener('click', () => autoResearchesSet('researchesExtra', 'all'));\n    getId('saveFileNameInput').addEventListener('change', changeSaveFileName);\n    {\n        const button = getId('saveFileHoverButton');\n        const hoverFunc = () => (getId('saveFileNamePreview').textContent = replaceSaveFileSpecials());\n        button.addEventListener('mouseover', hoverFunc);\n        if (SR) { button.addEventListener('focus', hoverFunc); }\n    }\n    getId('mainInterval').addEventListener('change', () => {\n        const mainInput = getId('mainInterval') as HTMLInputElement;\n        globalSave.intervals.main = Math.min(Math.max(Math.trunc(Number(mainInput.value)), 20), 100);\n        mainInput.value = `${globalSave.intervals.main}`;\n        saveGlobalSettings();\n        changeIntervals();\n    });\n    getId('numbersInterval').addEventListener('change', () => {\n        const numberInput = getId('numbersInterval') as HTMLInputElement;\n        globalSave.intervals.numbers = Math.min(Math.max(Math.trunc(Number(numberInput.value)), 40), 200);\n        numberInput.value = `${globalSave.intervals.numbers}`;\n        saveGlobalSettings();\n        changeIntervals();\n    });\n    getId('visualInterval').addEventListener('change', () => {\n        const visualInput = getId('visualInterval') as HTMLInputElement;\n        globalSave.intervals.visual = Math.min(Math.max(Math.trunc(Number(visualInput.value) * 100), 20), 400) * 10;\n        visualInput.value = `${globalSave.intervals.visual / 1000}`;\n        saveGlobalSettings();\n        changeIntervals();\n    });\n    getId('autoSaveInterval').addEventListener('change', () => {\n        const autoSaveInput = getId('autoSaveInterval') as HTMLInputElement;\n        globalSave.intervals.autoSave = Math.min(Math.max(Math.trunc(Number(autoSaveInput.value)), 4), 1800) * 1000;\n        autoSaveInput.value = `${globalSave.intervals.autoSave / 1000}`;\n        saveGlobalSettings();\n        changeIntervals();\n    });\n    getId('thousandSeparator').addEventListener('change', () => changeFormat(false));\n    getId('decimalPoint').addEventListener('change', () => changeFormat(true));\n    getId('MDToggle0').addEventListener('click', () => toggleSpecial(0, 'mobile', true, true));\n    getId('SRToggle0').addEventListener('click', () => toggleSpecial(0, 'reader', true, true));\n    getId('pauseGame').addEventListener('click', pauseGame);\n    getId('reviewEvents').addEventListener('click', replayEvent);\n    getId('offlineWarp').addEventListener('click', timeWarp);\n    getId('customFontSize').addEventListener('change', () => changeFontSize(true));\n\n    getId('stageResetsSave').addEventListener('change', () => {\n        const inputID = getId('stageResetsSave') as HTMLInputElement;\n        player.history.stage.input[0] = Math.min(Math.max(Math.trunc(Number(inputID.value)), 0), 20);\n        inputID.value = `${player.history.stage.input[0]}`;\n    });\n    getId('stageResetsShow').addEventListener('change', () => {\n        const input = getId('stageResetsShow') as HTMLInputElement;\n        player.history.stage.input[1] = Math.min(Math.max(Math.trunc(Number(input.value)), 4), 100);\n        input.value = `${player.history.stage.input[1]}`;\n        global.debug.historyStage = -1;\n        visualUpdate();\n    });\n\n    /* Footer */\n    {\n        const toggle = getId('hideToggle');\n        if (MD) {\n            const timeoutFunc = () => {\n                if (!global.footer) { return hideFooter(); }\n                if (global.intervalsId.mouseRepeat !== undefined) { return; }\n                global.intervalsId.mouseRepeat = setTimeout(hideFooter, 400);\n            };\n            toggle.addEventListener('touchstart', timeoutFunc);\n            if (PC) { toggle.addEventListener('mousedown', timeoutFunc); }\n        } else { toggle.addEventListener('click', hideFooter); }\n    }\n    for (const tabText of global.tabList.tabs) {\n        getId(`${tabText}TabBtn`).addEventListener('click', () => switchTab(tabText));\n        const tabList = global.tabList[`${tabText as 'stage'}Subtabs`] as string[] | undefined;\n        if (tabList === undefined) { continue; }\n        for (const subtabText of tabList) {\n            getId(`${tabText}SubtabBtn${subtabText}`).addEventListener('click', () => switchTab(tabText, subtabText));\n        }\n    }\n    for (let i = 1; i < global.stageInfo.word.length; i++) {\n        getId(`${global.stageInfo.word[i]}Switch`).addEventListener('click', () => switchStage(i));\n    }\n\n    /* Post */\n    stageUpdate('reload');\n    document.head.append(document.createComment(' Rarely used CSS rules '), specialHTML.styleSheet);\n    getId('body').style.display = '';\n    getId('loading').style.display = 'none';\n    global.paused = false;\n    changeIntervals();\n    document.title = `Fundamental ${playerStart.version}`;\n    if (globalSave.theme !== null) { setTheme(globalSave.theme, true); }\n    void Alert(alertText + `\\n(Game loaded after ${format((Date.now() - playerStart.time.started) / 1000, { type: 'time', padding: false })})`);\n} catch (error) {\n    const stack = (error as { stack: string }).stack;\n    void Alert(`Game failed to load\\nFull error:\\n${typeof stack === 'string' ? stack.replaceAll(`at ${window.location.origin}/`, '') : error}`);\n    const buttonDiv = document.createElement('div');\n    buttonDiv.innerHTML = '<button type=\"button\" id=\"exportError\" style=\"width: 7em;\">Export save</button><button type=\"button\" id=\"deleteError\" style=\"width: 7em;\">Delete save</button>';\n    buttonDiv.style.cssText = 'display: flex; column-gap: 0.6em; margin-top: 0.4em;';\n    getId('loading').append(buttonDiv);\n    let exported = false;\n    getId('exportError').addEventListener('click', () => {\n        exported = true;\n        const save = localStorage.getItem('save');\n        if (save === null) { return void Alert('No save file detected'); }\n        const a = document.createElement('a');\n        a.href = `data:text/plain,${save}`;\n        a.download = 'Fundamental post error export';\n        a.click();\n    });\n    getId('deleteError').addEventListener('click', async() => {\n        if (!exported && !await Confirm(\"Recommended to export save file first\\nPress 'Confirm' to confirm and delete your save file\")) { return; }\n        localStorage.removeItem('save');\n        window.location.reload();\n        void Alert('Awaiting game reload');\n    });\n}\n"],
  "mappings": "mBAGO,IAAMA,GAAW,CAACC,EAAaC,EAAS,OAAmC,CAC9E,OAAQD,EAAK,CACT,IAAK,QACD,OAAIC,IAAW,WAAqBC,EAAO,MAAM,MAAQ,GAAKC,EAAO,YAAY,YAAc,EACxFF,IAAW,cAAgBA,IAAW,KACjD,IAAK,WACL,IAAK,UACD,OAAIC,EAAO,MAAM,KAAO,GAAKA,EAAO,UAAU,UAAY,EAAY,GAClED,IAAW,YAAcD,IAAQ,WAAqBG,EAAO,UAAU,UAAU,SAAS,CAAC,GAAKD,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EACvHD,IAAW,YAAcA,IAAW,KAC/C,IAAK,cACD,OAAIC,EAAO,QAAQ,CAAC,EAAE,OAAS,IAAM,CAACA,EAAO,UAAU,QAAUA,EAAO,MAAM,QAAU,GAAa,GACjGD,IAAW,aAAuBC,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAK,CAACA,EAAO,UAAU,OAClFD,IAAW,UAAYA,IAAW,KAC7C,IAAK,WACD,OAAIA,IAAW,UAAoBC,EAAO,QAAQ,CAAC,EAAE,MAAQ,EACtDD,IAAW,YAAcA,IAAW,SAAWA,IAAW,IACzE,CAEA,MAAO,EACX,EAEaG,GAAgB,CAACC,EAAeC,IAAgC,CACzE,GAAID,EAAQ,GAAKF,EAAO,cAAc,UAAUG,CAAU,EAAID,EAAQ,EAAK,MAAO,GAElF,GAAIC,IAAe,EACf,MAAO,GACJ,GAAIA,IAAe,EACtB,MAAO,GACJ,GAAIA,IAAe,EAAG,CACzB,GAAIJ,EAAO,UAAU,OAAS,EAAK,MAAO,GAC1C,GAAIG,IAAU,EAAK,MAAO,GAC1B,GAAIA,IAAU,EAAK,OAAOH,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EACpD,GAAIG,IAAU,EAAK,OAAOH,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EACpD,GAAIG,IAAU,EAAK,OAAOH,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EACpD,GAAIG,IAAU,EAAK,OAAOH,EAAO,SAAS,CAAC,EAAE,EAAE,IAAM,CACzD,SAAWI,IAAe,EAAG,CACzB,GAAIJ,EAAO,SAAS,KAAOC,EAAO,aAAa,QAAQE,CAAK,GAAKH,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAAO,EAAK,MAAO,GAC3G,GAAIG,IAAU,EAAK,MAAO,GAC1B,GAAIA,IAAU,EAAK,OAAOH,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAC1D,GAAIG,IAAU,EAAK,OAAOH,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAC1D,GAAIG,IAAU,EAAK,OAAOH,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAC1D,GAAIG,IAAU,EAAK,OAAOH,EAAO,SAAS,MAAM,CAAC,EAAI,GAAKA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQ,CAC7F,SAAWI,IAAe,EAAG,CACzB,GAAID,IAAU,EAAK,OAAOH,EAAO,UAAU,QAAUA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAChF,GAAIG,IAAU,EAAK,OAAOH,EAAO,UAAU,QAAUA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAChF,GAAIG,IAAU,EAAK,OAAOH,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,CAC9D,CAEA,MAAO,EACX,EAEaK,GAAe,CAACC,EAAiBF,EAAoBG,IAAyH,CACvL,GAAID,EAAU,EAAK,MAAO,GAC1B,OAAQC,EAAM,CACV,IAAK,WACD,GAAIN,EAAO,aAAaG,CAAU,EAAE,UAAYE,EAAU,EAAK,MAAO,GACtE,GAAIF,IAAe,EACf,OAAIE,IAAY,GAAKA,IAAY,EAAYN,EAAO,UAAU,OAC1DM,EAAU,EAAYN,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAC7C,GACJ,GAAII,IAAe,EACtB,OAAIE,IAAY,EAAYN,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EACpDM,IAAY,EAAYN,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EACjD,GACJ,GAAII,IAAe,EACtB,OAAIJ,EAAO,UAAU,KAAOC,EAAO,cAAc,MAAMK,CAAO,GAAKN,EAAO,UAAU,OAAS,EAAY,GACrGM,IAAY,EAAYN,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EACjD,GACJ,GAAII,IAAe,EACtB,OAAIJ,EAAO,SAAS,KAAOC,EAAO,aAAa,QAAQK,CAAO,GAAKN,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAAO,EAAY,GACzGM,IAAY,EAAYN,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAClDM,IAAY,EAAYN,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAKA,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,GAAKA,EAAO,SAAS,MAAM,CAAC,EAAI,EACnHM,IAAY,EAAYN,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAKA,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAChF,GACJ,GAAII,IAAe,EAAG,CACzB,GAAIE,IAAY,EAAK,OAAON,EAAO,UAAU,QAAUA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAClF,GAAIM,IAAY,EAAK,OAAON,EAAO,UAAU,QAAUA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAClF,GAAIM,IAAY,EAAK,OAAON,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQ,CAC/D,CACA,MACJ,IAAK,aACD,GAAIC,EAAO,eAAeG,CAAU,EAAE,UAAYE,EAAU,EAAK,MAAO,GACxE,GAAIF,IAAe,EACf,OAAOJ,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAC9B,GAAII,IAAe,EACtB,MAAO,GACJ,GAAIA,IAAe,EACtB,OAAOJ,EAAO,UAAU,MAAQC,EAAO,cAAc,MAAMK,CAAO,GAAKN,EAAO,UAAU,OAAS,EAC9F,GAAII,IAAe,EACtB,OAAIJ,EAAO,SAAS,KAAOC,EAAO,aAAa,QAAQK,CAAO,GAAKN,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAAO,EAAY,GACzGM,IAAY,GAAaN,EAAO,SAAS,MAAM,CAAC,EAAI,GAAKA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQ,IAAMA,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAC1HM,IAAY,EAAYN,EAAO,SAAS,MAAM,CAAC,EAAI,GAAKA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQ,EACpF,GACJ,GAAII,IAAe,EAAG,CACzB,GAAIE,IAAY,EAAK,OAAON,EAAO,UAAU,QAAUA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAClF,GAAIM,IAAY,EAAK,OAAON,EAAO,UAAU,QAAUA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,CACtF,CACA,MACJ,IAAK,kBACD,GAAIC,EAAO,oBAAoBG,CAAU,EAAE,UAAYE,EAAU,EAAK,MAAO,GAC7E,GAAIF,IAAe,EACf,OAAIE,IAAY,EAAYN,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EACxDM,IAAY,EAAYN,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EACxDM,IAAY,EAAYN,EAAO,UAAU,MAAQ,EAC9CA,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAC9B,GAAII,IAAe,EACtB,OAAIE,IAAY,EAAYN,EAAO,UAAU,MAAQ,EAE9CA,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAC9B,GAAII,IAAe,EACtB,OAAIJ,EAAO,UAAU,KAAOC,EAAO,cAAc,MAAMK,CAAO,GAAKN,EAAO,UAAU,OAAS,EAAY,GACrGM,IAAY,EAAYN,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EACrD,GACJ,GAAII,IAAe,EACtB,OAAIE,IAAY,EAAYN,EAAO,SAAS,MAAM,CAAC,EAAI,GAAKA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQ,EACvFM,IAAY,GAAaN,EAAO,SAAS,MAAM,CAAC,EAAI,GAAKA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQ,IAAMA,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EACvH,GACJ,GAAII,IAAe,GAClBE,IAAY,EAAK,OAAON,EAAO,UAAU,QAAUA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAEtF,MACJ,IAAK,iBAAkB,CACnB,GAAI,CAACA,EAAO,UAAU,OAAU,MAAO,GACvC,IAAMQ,EAAYP,EAAO,mBAAmB,UAAUK,CAAO,EAAEN,EAAO,eAAeM,CAAO,CAAC,EAC7F,OAAOE,IAAcJ,GAAeA,IAAe,GAAKI,IAAc,CAC1E,CACA,IAAK,MACD,OAAIJ,IAAe,EAAYJ,EAAO,SAAS,CAAC,EAAE,CAAC,GAAK,EACpDI,IAAe,EAAYJ,EAAO,UAAU,OAAS,EAClD,GACX,IAAK,WACD,OAAIM,GAAW,GAAaN,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAClDM,GAAW,GAAaN,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAClDM,GAAW,GAAaN,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,IAAMA,EAAO,SAAS,MAAM,CAAC,EAAI,GAAKA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQ,GACvHM,GAAW,EAAYN,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAC9CA,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EACrC,IAAK,cACD,GAAIC,EAAO,gBAAgBG,CAAU,EAAE,UAAYE,EAAU,EAAK,MAAO,GACzE,GAAIN,EAAO,UAAU,OAAQ,CACzB,GAAII,IAAe,EAAG,CAClB,GAAIE,IAAY,EAAK,OAAON,EAAO,WAAW,KAAK,CAAC,GAAK,EACzD,GAAIM,IAAY,EAAK,OAAON,EAAO,WAAW,KAAK,CAAC,GAAK,EACzD,GAAIM,IAAY,EAAK,OAAON,EAAO,WAAW,KAAK,CAAC,GAAK,CAC7D,SAAWI,IAAe,EAAG,CACzB,GAAIE,IAAY,EAAK,OAAON,EAAO,WAAW,KAAK,CAAC,GAAK,EACzD,GAAIM,IAAY,EAAK,OAAON,EAAO,WAAW,KAAK,CAAC,GAAK,CAE7D,SAAWI,IAAe,GACtB,GAAIE,IAAY,EAAK,OAAON,EAAO,WAAW,KAAK,CAAC,GAAK,UAElDI,IAAe,EAAG,CACzB,GAAIE,IAAY,EAAK,OAAON,EAAO,WAAW,KAAK,CAAC,GAAK,EACzD,GAAIM,IAAY,EAAK,OAAON,EAAO,WAAW,KAAK,CAAC,GAAK,CAC7D,SAAWI,IAAe,EAAG,CAEzB,GAAIE,IAAY,EAAK,OAAON,EAAO,WAAW,KAAK,CAAC,GAAK,EACzD,GAAI,CAAC,EAAG,EAAG,EAAG,CAAC,EAAE,SAASM,CAAO,EAAK,OAAON,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,CAC7E,CACA,MAAO,EACX,CACA,IAAMI,IAAe,GAAKA,IAAe,IAAME,EAAU,IAAQF,IAAe,GAAKA,IAAe,IAAME,EAAU,EAAM,MAAO,GACjI,GAAIN,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI,EAAK,MAAO,GAC1C,GAAII,IAAe,EAAG,CAClB,GAAIE,IAAY,EAAK,OAAON,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EACvD,GAAIM,IAAY,EAAK,OAAON,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EACvD,GAAIM,IAAY,GAAKA,IAAY,EAAK,OAAON,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,GAAKA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,CAC5G,CACA,MAAO,EACf,CAEA,MAAO,EACX,EAEaS,GAAmB,CAACC,EAAeN,EAAoBG,IAA6F,CAC7J,OAAQA,EAAM,CACV,IAAK,aACD,GAAIH,IAAe,GAAKM,IAAU,EAAK,MAAO,GAC9C,MACJ,IAAK,WACD,GAAIN,IAAe,EACf,OAAOM,IAAU,EACd,GAAIN,IAAe,EACtB,OAAOM,IAAU,EACd,GAAIN,IAAe,EACtB,MAAO,GAEX,MACJ,IAAK,aACD,GAAIA,IAAe,EACf,OAAOM,IAAU,EAErB,MACJ,IAAK,kBACD,GAAIN,IAAe,EACf,OAAOM,IAAU,EACd,GAAIN,IAAe,EACtB,OAAOM,EAAQ,EACZ,GAAIN,IAAe,EACtB,OAAOM,IAAU,EACd,GAAIN,IAAe,EACtB,OAAOM,IAAU,EAErB,MACJ,IAAK,WACD,OAAOA,IAAU,EACzB,CAEA,MAAO,EACX,EAEaC,GAAoB,CAACR,EAAeC,IAA2C,CACxF,GAAIA,IAAe,EAAG,CAClB,GAAID,IAAU,EAAK,OAAOH,EAAO,UAAU,CAAC,EAAEA,EAAO,UAAU,OAAS,EAAI,CAAC,EAAE,MAC/E,GAAIG,IAAU,EAAK,OAAOH,EAAO,UAAU,MAC/C,SAAWI,IAAe,EAAG,CACzB,GAAID,IAAU,EAAK,OAAOH,EAAO,UAAU,OAASA,EAAO,aAAa,OAASA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MACxG,GAAIG,IAAU,EAAK,OAAOH,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OACrD,SAAWI,IAAe,EAAG,CACzB,GAAID,IAAU,EAAK,OAAOH,EAAO,UAAU,OAAS,IAAIY,EAAUZ,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,SAAS,gBAAgB,EAAIA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MACpJ,GAAIG,IAAU,EAAK,OAAOH,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAAOA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,IACnF,SAAWI,IAAe,EAAG,CACzB,GAAID,IAAU,EAAK,OAAOH,EAAO,UAAU,OAASA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQA,EAAO,SAAS,KACnG,GAAIG,IAAU,EAAK,OAAOH,EAAO,SAAS,MAAM,CAAC,CACrD,SAAWI,IAAe,EAAG,CACzB,GAAID,IAAU,EAAK,OAAOF,EAAO,aAAa,UAC9C,GAAIE,IAAU,EAAK,OAAOH,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,IACrD,CACA,MAAM,IAAI,UAAU,cAAcI,CAAU,KAAKD,CAAK,gBAAgB,CAC1E,EACaU,GAAiB,CAACV,EAAeC,IAAgC,CAC1E,GAAIJ,EAAO,UAAU,QACjB,GAAIA,EAAO,WAAW,SAAW,EAAK,MAAO,WACtCA,EAAO,MAAM,OAAS,GAAMI,IAAe,GAAKJ,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,EAAM,MAAO,GACnG,IAAMc,EAAOb,EAAO,eAAeG,CAAU,EAAE,KAAKD,CAAK,EACzD,OAAKW,EAAK,SAAS,GAAG,EAEfA,EAAK,YAAYH,GAAkBR,EAAOC,CAAU,CAAC,EAF1B,EAGtC,EC5OO,IAAMW,GAAiBC,GAAmB,CAC7C,GAAM,CAAE,UAAAC,CAAU,EAAIC,EAChB,CAAE,cAAAC,EAAe,aAAAC,EAAc,eAAAC,EAAgB,oBAAAC,EAAqB,gBAAAC,CAAgB,EAAIC,EACxFC,EAAaC,EAAM,kBAAkB,EAE3C,GAAIV,EAAO,CACPW,EAAY,gBAAgB,CAAC,EAAE,CAAC,EAAI,CAAC,oBAAqB,6BAA8B,MAAM,EAC9FR,EAAc,UAAU,CAAC,EAAE,CAAC,EAAI,UAChCA,EAAc,UAAU,CAAC,EAAE,CAAC,EAAI,iBAChCF,EAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS,UAAU,EAC3CA,EAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS,GAAG,EACpCA,EAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS,mBAAmB,EACpD,IAAMW,EAAe,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EACnCT,EAAc,UAAU,OAAO,EAAGS,EAAa,OAAQ,GAAGA,CAAY,EAClET,EAAc,KAAK,CAAC,EAAE,CAAC,IAAM,SAC7BQ,EAAY,aAAa,CAAC,EAAE,QAAQ,YAAa,YAAY,EAC7DR,EAAc,KAAK,CAAC,EAAE,QAAQ,OAAQ,QAAQ,EAC9CA,EAAc,UAAU,CAAC,EAAE,QAAQ,OAAQ,QAAQ,GAEvDA,EAAc,UAAU,CAAC,EAAI,CAAC,EAAG,QAAU,EAAG,EAAG,GAAI,CAAC,EACtDK,EAAO,cAAc,WAAW,CAAC,EAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,EAAE,EACxDL,EAAc,KAAK,CAAC,EAAE,CAAC,EAAI,YAC3BA,EAAc,KAAK,CAAC,EAAE,CAAC,EAAI,WAC3BA,EAAc,SAAS,CAAC,EAAE,CAAC,EAAI,EAC/BA,EAAc,SAAS,CAAC,EAAE,CAAC,EAAI,EAC/BM,EAAW,YAAc,uDAEzB,IAAMI,EAAgB,CAAC,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAM,IAAM,KAAO,IAAK,EAC3ET,EAAa,CAAC,EAAE,UAAU,OAAO,EAAGS,EAAc,OAAQ,GAAGA,CAAa,EAC1ET,EAAa,CAAC,EAAE,UAAU,CAAC,EAAI,GAE/BA,EAAa,CAAC,EAAE,UAAY,EAE5BA,EAAa,CAAC,EAAE,UAAY,EAG5B,IAAMU,EAAkB,CAAC,KAAM,IAAM,IAAO,KAAO,IAAO,IAAK,EACzDC,EAAqB,CAAC,IAAK,IAAM,IAAM,KAAO,KAAO,IAAK,EAChEV,EAAe,CAAC,EAAE,UAAU,OAAO,EAAGS,EAAgB,OAAQ,GAAGA,CAAe,EAChFT,EAAe,CAAC,EAAE,QAAQ,OAAO,EAAGU,EAAmB,OAAQ,GAAGA,CAAkB,EACpFV,EAAe,CAAC,EAAE,QAAQ,CAAC,EAAI,IAC/BA,EAAe,CAAC,EAAE,QAAQ,CAAC,EAAI,IAO/BC,EAAoB,CAAC,EAAE,UAAU,CAAC,EAAI,KACtCA,EAAoB,CAAC,EAAE,UAAY,EACnCA,EAAoB,CAAC,EAAE,UAAY,EACnCA,EAAoB,CAAC,EAAE,UAAY,EAInCE,EAAO,QAAQ,UAAU,CAAC,EAAI,CAAC,IAAM,KAAO,IAAO,KAAO,GAAK,EAC/DA,EAAO,QAAQ,UAAU,CAAC,EAAE,CAAC,EAAI,aAEjC,IAAMQ,EAAmB,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAE,EACzCC,EAAsB,CAAC,KAAM,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACnDV,EAAgB,CAAC,EAAE,UAAU,OAAO,EAAGS,EAAiB,OAAQ,GAAGA,CAAgB,EACnFT,EAAgB,CAAC,EAAE,QAAQ,OAAO,EAAGU,EAAoB,OAAQ,GAAGA,CAAmB,EACvF,IAAMC,EAAmB,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAE,EACzCC,EAAsB,CAAC,KAAM,EAAG,EAAG,EAAG,IAAK,EAAG,CAAC,EACrDZ,EAAgB,CAAC,EAAE,UAAU,OAAO,EAAGW,EAAiB,OAAQ,GAAGA,CAAgB,EACnFX,EAAgB,CAAC,EAAE,QAAQ,OAAO,EAAGY,EAAoB,OAAQ,GAAGA,CAAmB,EACvF,IAAMC,EAAmB,CAAC,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAE,EAC7CC,EAAsB,CAAC,EAAG,IAAK,EAAG,EAAG,IAAK,EAAG,IAAK,CAAC,EACzDd,EAAgB,CAAC,EAAE,UAAU,OAAO,EAAGa,EAAiB,OAAQ,GAAGA,CAAgB,EACnFb,EAAgB,CAAC,EAAE,QAAQ,OAAO,EAAGc,EAAoB,OAAQ,GAAGA,CAAmB,EACvF,IAAMC,EAAmB,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAE,EAC5CC,EAAsB,CAAC,EAAG,IAAK,EAAG,EAAG,IAAK,EAAG,KAAM,CAAC,EAC1DhB,EAAgB,CAAC,EAAE,UAAU,OAAO,EAAGe,EAAiB,OAAQ,GAAGA,CAAgB,EACnFf,EAAgB,CAAC,EAAE,QAAQ,OAAO,EAAGgB,EAAoB,OAAQ,GAAGA,CAAmB,EACvF,IAAMC,EAAmB,CAAC,EAAG,GAAI,KAAM,GAAI,GAAI,GAAI,GAAI,GAAG,EACpDC,EAAsB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACnDlB,EAAgB,CAAC,EAAE,UAAU,OAAO,EAAGiB,EAAiB,OAAQ,GAAGA,CAAgB,EACnFjB,EAAgB,CAAC,EAAE,QAAQ,OAAO,EAAGkB,EAAoB,OAAQ,GAAGA,CAAmB,EACvFlB,EAAgB,CAAC,EAAE,UAAY,GAC/BA,EAAgB,CAAC,EAAE,UAAY,EAC/BA,EAAgB,CAAC,EAAE,UAAY,GAC/BA,EAAgB,CAAC,EAAE,UAAY,GAC/BA,EAAgB,CAAC,EAAE,UAAY,EAE/BG,EAAM,mBAAmB,EAAE,UAAY,wFACvC,IAAMgB,EAAeC,EAAS,4BAA4B,EAC1DD,EAAa,IAAMA,EAAa,IAAI,QAAQ,aAAc,WAAW,EACrE,IAAME,EAAeD,EAAS,4BAA4B,EAC1DnB,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,EAAI,iBACnCE,EAAM,sBAAsB,EAAE,YAAc,iBAC5CkB,EAAa,IAAMA,EAAa,IAAI,QAAQ,WAAY,YAAY,EACpEA,EAAa,IAAM,iBAClBD,EAAS,4BAA4B,EAAuB,IAAM,oBACnEnB,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,EAAI,oBACnCE,EAAM,sBAAsB,EAAE,YAAc,oBAC5CiB,EAAS,oBAAoB,EAAE,YAAc,gBAE7CjB,EAAM,UAAU,EAAE,MAAM,QAAU,GAClCA,EAAM,iBAAiB,EAAE,MAAM,QAAU,GAGzCA,EAAM,SAAS,EAAE,MAAM,QAAU,GACjCA,EAAM,gBAAgB,EAAE,MAAM,QAAU,GACxCA,EAAM,gBAAgB,EAAE,MAAM,QAAU,GACxCA,EAAM,gBAAgB,EAAE,MAAM,QAAU,GACxCA,EAAM,gBAAgB,EAAE,MAAM,QAAU,GACxCA,EAAM,gBAAgB,EAAE,MAAM,QAAU,GACxC,QAASmB,EAAI,EAAGA,GAAK,EAAGA,IACpBnB,EAAM,cAAcoB,EAAW,WAAW,CAAC,EAAI,OAAS,SAAS,GAAGD,CAAC,EAAE,EAAE,MAAM,QAAU,GACzFnB,EAAM,kBAAkBmB,CAAC,KAAK,EAAE,MAAM,QAAU,GAChDnB,EAAM,kBAAkBmB,CAAC,KAAK,EAAE,MAAM,QAAU,GAEpDnB,EAAM,aAAa,EAAE,MAAM,QAAU,OACrCA,EAAM,cAAc,EAAE,MAAM,QAAU,OACtCA,EAAM,mBAAmB,EAAE,MAAM,QAAU,MAC/C,KAAO,CACHC,EAAY,gBAAgB,CAAC,EAAE,CAAC,EAAI,CAAC,aAAc,6BAA8B,QAAQ,EACzFR,EAAc,UAAU,CAAC,EAAE,CAAC,EAAI,QAChCA,EAAc,UAAU,CAAC,EAAE,CAAC,EAAI,OAChCF,EAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS,GAAG,EACpCA,EAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS,QAAQ,EACzCA,EAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS,OAAO,EACpCE,EAAc,KAAK,CAAC,EAAE,CAAC,IAAM,SAC7BQ,EAAY,aAAa,CAAC,EAAE,OAAO,EAAG,CAAC,EACvCR,EAAc,KAAK,CAAC,EAAE,OAAO,EAAG,CAAC,EACjCA,EAAc,UAAU,CAAC,EAAE,OAAO,EAAG,CAAC,GAE1C,IAAMS,EAAe,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EACnCT,EAAc,UAAU,OAAO,EAAGS,EAAa,OAAQ,GAAGA,CAAY,EACtET,EAAc,UAAU,CAAC,EAAI,CAAC,EAAG,EAAG,GAAI,CAAC,EACzCK,EAAO,cAAc,WAAW,CAAC,EAAI,CAAC,EAAG,EAAG,EAAG,EAAE,EACjDL,EAAc,KAAK,CAAC,EAAE,CAAC,EAAI,YAC3BA,EAAc,KAAK,CAAC,EAAE,CAAC,EAAI,YAC3BA,EAAc,SAAS,CAAC,EAAE,CAAC,EAAI,EAC/BA,EAAc,SAAS,CAAC,EAAE,CAAC,EAAI,EAC/BM,EAAW,YAAc,2BAEzB,IAAMI,EAAgB,CAAC,EAAG,EAAG,EAAG,GAAI,GAAI,IAAK,IAAK,IAAM,IAAM,IAAK,EACnET,EAAa,CAAC,EAAE,UAAU,OAAO,EAAGS,EAAc,OAAQ,GAAGA,CAAa,EAC1ET,EAAa,CAAC,EAAE,UAAU,CAAC,EAAI,IAC/BA,EAAa,CAAC,EAAE,UAAY,GAC5BA,EAAa,CAAC,EAAE,UAAY,EAC5BA,EAAa,CAAC,EAAE,UAAY,GAC5BA,EAAa,CAAC,EAAE,UAAY,EAC5BA,EAAa,CAAC,EAAE,UAAY,EAE5B,IAAMU,EAAkB,CAAC,IAAM,KAAM,IAAM,IAAM,IAAM,GAAI,EACrDC,EAAqB,CAAC,IAAK,IAAK,IAAM,IAAM,IAAM,GAAI,EAC5DV,EAAe,CAAC,EAAE,UAAU,OAAO,EAAGS,EAAgB,OAAQ,GAAGA,CAAe,EAChFT,EAAe,CAAC,EAAE,QAAQ,OAAO,EAAGU,EAAmB,OAAQ,GAAGA,CAAkB,EACpFV,EAAe,CAAC,EAAE,QAAQ,CAAC,EAAI,IAC/BA,EAAe,CAAC,EAAE,QAAQ,CAAC,EAAI,IAC/BA,EAAe,CAAC,EAAE,UAAY,EAC9BA,EAAe,CAAC,EAAE,UAAY,EAC9BA,EAAe,CAAC,EAAE,UAAY,EAC9BA,EAAe,CAAC,EAAE,UAAY,EAC9BA,EAAe,CAAC,EAAE,UAAY,EAE9BC,EAAoB,CAAC,EAAE,UAAU,CAAC,EAAI,KACtCA,EAAoB,CAAC,EAAE,UAAY,EACnCA,EAAoB,CAAC,EAAE,UAAY,EACnCA,EAAoB,CAAC,EAAE,UAAY,EACnCA,EAAoB,CAAC,EAAE,UAAY,EACnCA,EAAoB,CAAC,EAAE,UAAY,EAEnCE,EAAO,QAAQ,UAAU,CAAC,EAAI,CAAC,IAAM,KAAO,IAAK,EACjDA,EAAO,QAAQ,UAAU,CAAC,EAAE,CAAC,EAAI,KAEjC,IAAMQ,EAAmB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAE,EACxCC,EAAsB,CAAC,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,CAAC,EAClDV,EAAgB,CAAC,EAAE,UAAU,OAAO,EAAGS,EAAiB,OAAQ,GAAGA,CAAgB,EACnFT,EAAgB,CAAC,EAAE,QAAQ,OAAO,EAAGU,EAAoB,OAAQ,GAAGA,CAAmB,EACvF,IAAMC,EAAmB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAE,EACxCC,EAAsB,CAAC,GAAK,IAAM,IAAK,EAAG,EAAG,EAAG,CAAC,EACvDZ,EAAgB,CAAC,EAAE,UAAU,OAAO,EAAGW,EAAiB,OAAQ,GAAGA,CAAgB,EACnFX,EAAgB,CAAC,EAAE,QAAQ,OAAO,EAAGY,EAAoB,OAAQ,GAAGA,CAAmB,EACvF,IAAMC,EAAmB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAE,EAC3CC,EAAsB,CAAC,IAAM,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACxDd,EAAgB,CAAC,EAAE,UAAU,OAAO,EAAGa,EAAiB,OAAQ,GAAGA,CAAgB,EACnFb,EAAgB,CAAC,EAAE,QAAQ,OAAO,EAAGc,EAAoB,OAAQ,GAAGA,CAAmB,EACvF,IAAMC,EAAmB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAE,EAC3CC,EAAsB,CAAC,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,GAAI,CAAC,EACtDhB,EAAgB,CAAC,EAAE,UAAU,OAAO,EAAGe,EAAiB,OAAQ,GAAGA,CAAgB,EACnFf,EAAgB,CAAC,EAAE,QAAQ,OAAO,EAAGgB,EAAoB,OAAQ,GAAGA,CAAmB,EACvF,IAAMC,EAAmB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAG,EACnDC,EAAsB,CAAC,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,CAAC,EACtDlB,EAAgB,CAAC,EAAE,UAAU,OAAO,EAAGiB,EAAiB,OAAQ,GAAGA,CAAgB,EACnFjB,EAAgB,CAAC,EAAE,QAAQ,OAAO,EAAGkB,EAAoB,OAAQ,GAAGA,CAAmB,EACvFlB,EAAgB,CAAC,EAAE,UAAY,EAC/BA,EAAgB,CAAC,EAAE,UAAY,EAC/BA,EAAgB,CAAC,EAAE,UAAY,EAC/BA,EAAgB,CAAC,EAAE,UAAY,EAC/BA,EAAgB,CAAC,EAAE,UAAY,EAE/BG,EAAM,mBAAmB,EAAE,UAAY,kFACvC,IAAMgB,EAAeC,EAAS,4BAA4B,EAC1DD,EAAa,IAAMA,EAAa,IAAI,QAAQ,YAAa,YAAY,EACrE,IAAME,EAAeD,EAAS,4BAA4B,EAC1DnB,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,EAAI,oBACnCE,EAAM,sBAAsB,EAAE,YAAc,oBAC5CkB,EAAa,IAAMA,EAAa,IAAI,QAAQ,aAAc,UAAU,EACpEA,EAAa,IAAM,oBAClBD,EAAS,4BAA4B,EAAuB,IAAM,kBACnEnB,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,EAAI,kBACnCE,EAAM,sBAAsB,EAAE,YAAc,kBAC5CiB,EAAS,oBAAoB,EAAE,YAAc,6BAE7CjB,EAAM,aAAa,EAAE,MAAM,QAAU,GACrCA,EAAM,gBAAgB,EAAE,MAAM,QAAU,GACxCA,EAAM,wBAAwB,EAAE,MAAM,QAAU,GAChDA,EAAM,cAAc,EAAE,MAAM,QAAU,GACtCA,EAAM,WAAW,EAAE,MAAM,QAAU,GAEnCA,EAAM,UAAU,EAAE,MAAM,QAAU,OAClCA,EAAM,iBAAiB,EAAE,MAAM,QAAU,OAGzCA,EAAM,iBAAiB,EAAE,MAAM,QAAU,OACzCA,EAAM,SAAS,EAAE,MAAM,QAAU,OACjCA,EAAM,eAAe,EAAE,MAAM,QAAU,OACvC,QAASmB,EAAI,EAAGA,EAAItB,EAAgB,OAAQsB,IACxC,QAASE,GAAIxB,EAAgBsB,CAAC,EAAE,UAAY,EAAGE,IAAKxB,EAAgBsB,CAAC,EAAE,UAAU,OAAQE,KACrFrB,EAAM,UAAUqB,EAAC,QAAQF,CAAC,EAAE,EAAE,MAAM,QAAU,MAG1D,CAEIC,EAAW,WAAW,CAAC,IAAKrB,EAAW,YAAc,KAAKA,EAAW,WAAW,KACpF,QAASoB,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,IAAMG,EAAW/B,EAAU4B,CAAC,EAAE,CAAC,EAAE,QACjC5B,EAAU4B,CAAC,EAAE,CAAC,EAAE,MAAM,SAASG,CAAQ,EACvC/B,EAAU4B,CAAC,EAAE,CAAC,EAAE,UAAU,SAASG,CAAQ,EAC3C/B,EAAU4B,CAAC,EAAE,CAAC,EAAE,QAAQ,SAASG,CAAQ,CAC7C,CACJ,EAEaC,GAAe,SAAW,CACnC,GAAIC,EAAO,UAAU,OAAU,OAAO,KAAKC,EAAM,uBAAuB,EACxE,IAAMC,EAAQ5B,EAAO,YAAY,YACjC,GAAI4B,EAAQ,EAAK,OAAO,KAAKD,EAAM,oDAAoD,EAAIC,CAAK,OAAO,EAElG,MAAMC,EAAQ;AAAA,6BAA2E,IAC1FH,EAAO,MAAM,KAAO,IACpB,MAAMI,GAAU,EAAG,EAAE,EAErBJ,EAAO,MAAM,KAAO,EACpBA,EAAO,SAAS,KAAO,GAE3BA,EAAO,UAAU,OAAS,GAC1BA,EAAO,MAAM,QAAU,EACvBA,EAAO,MAAM,OAAS,EACtBnC,GAAc,EAAI,EAClBwC,GAAY,EAChB,EAEaC,GAAgB,IAAM,CAC/B,IAAMC,EAAaP,EAAO,WAEtBQ,EAAO,sDACPD,EAAW,CAAC,EAAE,CAAC,GAAK,IAAKC,GAAQ,2FACjCD,EAAW,CAAC,EAAE,CAAC,GAAK,IAAKC,GAAQ,2FACjCD,EAAW,CAAC,EAAE,CAAC,GAAK,IAAKC,GAAQ,kGACjCD,EAAW,CAAC,EAAE,CAAC,GAAK,IAAKC,GAAQ,kGAErC,IAAMC,EAAMjC,EAAM,mBAAmB,EACrCiC,EAAI,MAAM,QAAUnC,EAAO,YAAY,YAAc,EAAI,GAAK,OAC1DmC,EAAI,YAAcD,IAAQC,EAAI,UAAYD,EAClD,ECvQO,IAAME,EAAY,CAACC,EAAcC,EAAS,OAA0B,CACvE,GAAIA,IAAW,KAAM,CACjB,IAAMC,EAASC,EAAO,IACtBC,EAAM,GAAGF,CAAM,KAAK,EAAE,MAAM,QAAU,OACtCE,EAAM,GAAGF,CAAM,QAAQ,EAAE,UAAU,OAAO,WAAW,EACrD,IAAMG,EAAaF,EAAO,QAAQ,GAAGD,CAAiB,SAAS,EAC/D,GAAIG,IAAe,OACf,QAAWC,KAAUD,EACjBD,EAAM,GAAGF,CAAM,YAAYI,CAAM,EAAE,EAAE,MAAM,QAAU,OAI7DH,EAAO,IAAMH,EACb,IAAIO,EAAe,EACnBH,EAAM,GAAGJ,CAAG,KAAK,EAAE,MAAM,QAAU,GACnCI,EAAM,GAAGJ,CAAG,QAAQ,EAAE,UAAU,IAAI,WAAW,EAC/C,IAAMQ,EAAaL,EAAO,QAAQ,GAAGH,CAAc,SAAS,EAC5D,GAAIQ,IAAe,OACf,QAAWF,KAAUE,EACbC,GAAST,EAAKM,CAAM,GACpBF,EAAM,GAAGJ,CAAG,YAAYM,CAAM,EAAE,EAAE,MAAM,QAAU,GAClDC,KACOJ,EAAO,OAAO,GAAGH,CAAc,SAAS,IAAMM,GACrDP,EAAUC,EAAKQ,EAAW,CAAC,CAAC,EAIxCJ,EAAM,SAAS,EAAE,MAAM,QAAUG,EAAe,EAAI,GAAK,OACrDG,EAAW,WAAW,CAAC,IAAKN,EAAM,OAAO,EAAE,YAAc,mBAAmBJ,CAAG,IAAIO,EAAe,EAAI,mBAAmBJ,EAAO,OAAO,GAAGH,CAAc,SAAS,CAAC,IAAM,EAAE,GAClL,KAAO,CACH,IAAMW,EAAYR,EAAO,OAAO,GAAGH,CAAc,SAAS,EAC1DI,EAAM,GAAGJ,CAAG,SAASW,CAAS,EAAE,EAAE,MAAM,QAAU,OAClDP,EAAM,GAAGJ,CAAG,YAAYW,CAAS,EAAE,EAAE,UAAU,OAAO,WAAW,EAEjER,EAAO,OAAO,GAAGH,CAAc,SAAS,EAAIC,EAC5CG,EAAM,GAAGJ,CAAG,SAASC,CAAM,EAAE,EAAE,MAAM,QAAU,GAC/CG,EAAM,GAAGJ,CAAG,YAAYC,CAAM,EAAE,EAAE,UAAU,IAAI,WAAW,EACvDS,EAAW,WAAW,CAAC,IAAKN,EAAM,OAAO,EAAE,YAAc,sBAAsBH,CAAM,eAAeD,CAAG,QAC/G,CAEA,IAAMY,EAASC,EAAO,MAAM,OACxBV,EAAO,aAAeS,EACtBE,GAAYX,EAAO,UAAU,EACtBS,IAAW,GAAKA,IAAW,IAAOT,EAAO,MAAQ,WAAaA,EAAO,OAAO,iBAAmB,YAAeH,IAAQ,YACxHA,IAAQ,WAAaC,IAAW,MAAS,CAACE,EAAO,UAAU,UAAU,SAAS,CAAC,EAChFJ,EAAU,UAAW,UAAU,GAE/BgB,GAAe,EAAGH,CAAM,EACxBI,EAAY,IAGhBC,GAAa,EACbC,EAAc,EAEtB,EAqDaC,GAAiB,IAAcN,EAAO,MAAM,MAAQ,EAAI,MAAQ,KAAK,IAAI,KAAO,KAAK,IAAIA,EAAO,MAAM,KAAM,CAAC,EAAI,KAAK,IAAIA,EAAO,MAAM,OAAS,EAAG,CAAC,EAAI,KAAM,KAAK,EACnKO,GAAmB,IAAc,KAAK,IAAI,EAAGP,EAAO,MAAM,KAAO,CAAC,EAElEQ,GAAa,CAACC,EAAW,IAAM,CACxC,GAAM,CAAE,KAAAC,CAAK,EAAIV,EACX,CAAE,KAAAW,EAAM,UAAWC,CAAQ,EAAIZ,EAAO,QACtC,CAAE,UAAAa,EAAW,KAAAC,CAAK,EAAIxB,EAAO,cAC7B,CAAE,MAAAyB,EAAO,MAAAC,EAAO,MAAAC,EAAO,SAAUC,CAAa,EAAI5B,EAAO,eACzD6B,EAASnB,EAAO,UAAU,OAE5BoB,EACJ,GAAIX,EAAW,EAAG,CACd,IAAMY,EAAY,KAAK,IAAI,EAAGZ,CAAQ,EACtCW,EAAgBC,EAChBZ,GAAYY,CAChB,KAAO,CACH,IAAMC,EAAc,KAAK,IAAI,EAM7B,GALAF,GAAiBE,EAAcZ,EAAK,SAAW,IAC/CA,EAAK,QAAUY,EACfZ,EAAK,QAAUU,EACf9B,EAAO,UAAY8B,EACnBpB,EAAO,MAAM,OAAS,KAAK,IAAIA,EAAO,MAAM,OAASoB,EAAe,KAAK,EACrEA,EAAgB,EAAG,CACnBV,EAAK,SAAWU,EAChB,MACJ,MAAWA,EAAgB,KACvBV,EAAK,QAAU,KAAK,IAAIA,EAAK,QAAUU,EAAgB,GAAId,GAAe,CAAC,EAC3Ec,EAAgB,GAExB,CACA,IAAMG,EAAcH,EACpBV,EAAK,OAASa,EACdb,EAAK,UAAYa,EAEjB,IAAIC,EAAc,EACdL,GAAUnB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAKA,EAAO,WAAW,SAAW,IAAKwB,GAAe,KAChGlC,EAAO,cAAc,YAAckC,EACnCJ,GAAiBI,EAEjBxB,EAAO,MAAM,MAAQoB,EACrBpB,EAAO,UAAU,KAAOoB,EAEpBD,GAAUR,EAAK,CAAC,GAAKc,GAAgB,EAAG,EAAI,EAChD,QAASC,EAAI,EAAGA,EAAI1B,EAAO,YAAY,CAAC,EAAE,CAAC,EAAG0B,IAC1CC,GAAYD,EAAGH,CAAW,EAE9BK,GAA0B,EAC1B,QAAWC,KAAKvC,EAAO,UAAU,UAAW,CACpC,CAAC6B,GAAUR,EAAK,CAAC,GAAKc,GAAgBI,EAAG,EAAI,EAC7CA,IAAM,GACNC,GAAmB,EAAQnB,EAAK,CAAC,EAAI,EAAI,EACrCO,EAAa,SAAW,GAAKa,GAAgB,GAC1CF,IAAM,EACTlB,EAAK,CAAC,GAAKqB,GAAe,EAAI,EAC3BH,IAAM,EACbI,GAAuB,EAAQtB,EAAK,CAAC,EAAIY,CAAW,EAC7CM,IAAM,GACTlB,EAAK,CAAC,GAAKuB,GAAoB,EAAI,EAGvCnB,EAAMc,CAAC,EAAE,SAAW,GAAKM,GAAgBN,CAAC,EAC1Cb,EAAMa,CAAC,EAAE,SAAW,GAAKO,GAAkB,aAAcP,CAAC,EAC1DZ,EAAMY,CAAC,EAAE,SAAW,GAAKO,GAAkB,kBAAmBP,CAAC,EAEnE,QAASH,EAAIb,EAAUgB,CAAC,EAAI,EAAGH,GAAK,EAAGA,IAC/Bd,EAAQiB,CAAC,EAAEH,CAAC,GAAK1B,EAAO,IAAI6B,CAAC,GAAKH,GAAKW,GAAYX,EAAGG,EAAG,EAAG,EAAI,EAChEf,EAAKe,CAAC,EAAEH,CAAC,IAAM,cACfY,GAAcZ,EAAI,EAAGG,EAAGT,CAAa,EACrCQ,GAA0B,GAGlC,GAAIC,IAAM,EACNS,GAAc,EAAG,EAAGlB,CAAa,UAC1BS,IAAM,EAAG,CAChB,IAAMU,EAAWvC,EAAO,WAAW,CAAC,EAAE,CAAC,EAEnCuC,GAAY,GAAKD,GAAc,EAAG,EAAGlB,CAAa,EAClDmB,GAAY,GAAKD,GAAc,EAAG,EAAGlB,CAAa,EAClDmB,GAAY,GAAKD,GAAc,EAAG,EAAGlB,CAAa,CAC1D,CACJ,CAEIX,EAAW,GAAKD,GAAWC,CAAQ,CAC3C,EAEaJ,EAAgB,IAAM,CAC/B,GAAM,CAAE,IAAAlB,EAAK,OAAAC,CAAO,EAAIE,EAClB,CAAE,MAAAkD,CAAM,EAAIxC,EACZD,EAASyC,EAAM,OACfC,EAAYzC,EAAO,UAAUD,CAAM,EAEzC,GAAIC,EAAO,UAAU,OAASyB,GAAgB,CAAC,EAAKA,GAAgBe,EAAM,OAAO,IAAMzC,GAAU,GAAKA,IAAWyC,EAAM,SAAW,CAC9H,IAAME,EAAYpD,EAAO,YAAY,KAAKS,CAAM,EAAI,MAAQC,EAAO,YAAY,CAAC,EAAE,CAAC,EAAIA,EAAO,KAAK,MAC/FwC,EAAM,KAAOE,IAAaF,EAAM,KAAOE,EAC/C,CAEA,GAAIpD,EAAO,QACP,GAAIS,IAAW,EACXR,EAAM,iBAAiB,EAAE,YAAcoD,EAAOF,EAAU,CAAC,EAAE,QAAS,CAAE,QAAS,EAAK,CAAC,EACrFlD,EAAM,iBAAiB,EAAE,YAAcoD,EAAO3C,EAAO,UAAU,OAAQ,CAAE,QAASA,EAAO,UAAU,QAAU,GAAI,CAAC,UAC3GD,IAAW,EAClBR,EAAM,iBAAiB,EAAE,YAAcoD,EAAO3C,EAAO,aAAa,OAAQ,CAAE,QAAS,EAAK,CAAC,EAC3FT,EAAM,iBAAiB,EAAE,YAAcoD,EAAOF,EAAU,CAAC,EAAE,QAAS,CAAE,QAAS,EAAK,CAAC,EACrFlD,EAAM,iBAAiB,EAAE,YAAcoD,EAAOF,EAAU,CAAC,EAAE,QAAS,CAAE,QAASA,EAAU,CAAC,EAAE,QAAQ,SAAS,GAAG,CAAE,CAAC,UAC5G1C,IAAW,EAClBR,EAAM,iBAAiB,EAAE,YAAcoD,EAAOF,EAAU,CAAC,EAAE,QAAS,CAAE,QAAS,EAAK,CAAC,UAC9E1C,IAAW,GAAKA,IAAW,EAAG,CACrC,IAAM6C,EAAQ5C,EAAO,UAAU,CAAC,EAEhCT,EAAM,iBAAiB,EAAE,YAAcoD,EAAO3C,EAAO,SAAS,KAAM,CAAE,QAAS,EAAK,CAAC,EACrFT,EAAM,iBAAiB,EAAE,YAAcoD,EAAOC,EAAM,CAAC,EAAE,QAAS,CAAE,QAAS,EAAK,CAAC,EAC7E7C,IAAW,IACXR,EAAM,iBAAiB,EAAE,YAAcoD,EAAO,IAAIE,EAAUD,EAAM,CAAC,EAAE,OAAO,EAAE,KAAKA,EAAM,CAAC,EAAE,QAASA,EAAM,CAAC,EAAE,QAASA,EAAM,CAAC,EAAE,QAASA,EAAM,CAAC,EAAE,OAAO,EAAG,CAAE,QAAS,EAAK,CAAC,EAErL,EAEJ,GAAIzD,IAAQ,QACR,GAAIC,EAAO,eAAiB,aAAc,CACtC,GAAM,CAAE,cAAA0D,CAAc,EAAIxD,EACpByD,EAAUzD,EAAO,QAAQ,MAAQ,EAAIA,EAAO,QAAQ,KAAO,GAAKU,EAAO,QAAQ,KAAK,MAE1F,QAAS0B,EAAI,EAAGA,EAAIoB,EAAc,UAAU/C,CAAM,EAAG2B,IAAK,CACtD,IAAMsB,EAAczD,EAAM,WAAWmC,CAAC,MAAM,EAK5C,GAJAnC,EAAM,WAAWmC,CAAC,KAAK,EAAE,YAAciB,EAAOF,EAAUf,CAAC,EAAE,QAAS,CAAE,QAASsB,EAAY,MAAM,UAAY,MAAO,CAAC,EACrHzD,EAAM,WAAWmC,CAAC,MAAM,EAAE,YAAciB,EAAOG,EAAc,UAAU/C,CAAM,EAAE2B,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,EACpGsB,EAAY,YAAc,IAAIL,EAAOF,EAAUf,CAAM,EAAE,IAAI,CAAC,IAExD3B,IAAW,EAAG,CACd,IAAMkD,EAAS3D,EAAO,aAAa,QAAQoC,CAAC,EAC5C,GAAI1B,EAAO,SAAS,KAAOiD,GAAUjD,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAAO,EAAG,CAClET,EAAM,WAAWmC,CAAC,EAAE,EAAE,UAAU,OAAO,mBAAmB,EAC1DnC,EAAM,WAAWmC,CAAC,KAAK,EAAE,YAAc,eAAeiB,EAAOM,CAAM,CAAC,QACpE1D,EAAM,WAAWmC,CAAC,MAAM,EAAE,YAAc,SACxC,QACJ,CACJ,CAEA,IAAIwB,EACAC,EACAC,EAAO,GACX,GAAIrD,IAAW,GAAK2B,IAAM,EACtBwB,EAAW,OACXC,EAAWnD,EAAO,SAAS,SACxB,CACH,IAAIqD,EAAI3B,EAAI,EACR4B,EAAQvD,EACRA,IAAW,EACP2B,IAAM,GAAK1B,EAAO,UAAU,SAAUoD,EAAOpD,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GACtED,IAAW,EACd2B,IAAM,IAAK2B,EAAI,GACZtD,GAAU,IACjBsD,EAAI,EACAtD,IAAW,IAAKuD,EAAQ,IAGhCJ,EAAWJ,EAAc,KAAKQ,CAAK,EAAED,CAAC,EACtCF,EAAWnD,EAAO,UAAUsD,CAAK,EAAED,CAAC,EAAE,OAC1C,CAEA,IAAIE,EAAM,EACJC,EAAOC,GAAuB/B,EAAG3B,CAAM,EAC7C,GAAIgD,IAAY,IAAMhD,IAAW,GAAK2B,IAAM,GAAI,CAC5C,IAAMgC,EAAUZ,EAAc,SAAS/C,CAAM,EAAE2B,CAAC,EAC5C0B,GACAG,EAAMR,GAAW,EAAI,KAAK,IAAI,KAAK,MAAM,IAAIF,EAAUM,CAAQ,EAAE,OAAOK,CAAI,EAAE,IAAIE,CAAO,EAAE,SAAS,CAAC,EAAI,EAAG,CAAC,EAAIX,EAC7GQ,EAAM,GAAKC,EAAK,SAAS,IAAIX,EAAUa,CAAO,EAAE,MAAMH,EAAM,CAAC,CAAC,IAElEA,EAAMR,GAAW,EAAI,KAAK,IAAI,KAAK,MAAM,IAAIF,EAAUM,CAAQ,EAAE,SAASO,EAAU,CAAC,EAAE,OAAOF,CAAI,EAAE,KAAK,GAAG,EAAE,IAAIE,CAAO,EAAE,SAAS,CAAC,EAAG,CAAC,EAAIX,EACzIQ,EAAM,GAAKC,EAAK,SAAS,IAAIX,EAAUa,CAAO,EAAE,MAAMH,CAAG,EAAE,MAAM,GAAG,EAAE,OAAOG,EAAU,CAAC,CAAC,EAErG,CAEAnE,EAAM,WAAWmC,CAAC,EAAE,EAAE,UAAU8B,EAAK,YAAYL,CAAQ,EAAI,MAAQ,QAAQ,EAAE,mBAAmB,EAClG5D,EAAM,WAAWmC,CAAC,KAAK,EAAE,YAAc,SAASiB,EAAOa,EAAM,CAAE,QAAS,EAAK,CAAC,CAAC,IAAIN,CAAQ,GAC3F3D,EAAM,WAAWmC,CAAC,MAAM,EAAE,YAAciB,EAAOY,CAAG,CACtD,CACA,GAAIxD,IAAW,EACX4D,GAAoB,EACpBpE,EAAM,eAAe,EAAE,YAAcoD,EAAOrD,EAAO,cAAc,IAAI,EACrEC,EAAM,cAAc,EAAE,YAAc,gBAAgBoD,EAAOrD,EAAO,cAAc,IAAI,CAAC,UACrFC,EAAM,eAAe,EAAE,YAAcoD,EAAOrD,EAAO,cAAc,QAAS,CAAE,QAAS,EAAK,CAAC,EAC3FC,EAAM,qBAAqB,EAAE,YAAcoD,EAAO,IAAIE,EAAUvD,EAAO,cAAc,IAAI,EAAE,MAAMA,EAAO,cAAc,KAAK,EAAG,CAAE,QAAS,EAAK,CAAC,EAC3IU,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,IAAKT,EAAM,aAAa,EAAE,YAAcoD,EAAOrD,EAAO,cAAc,WAAaU,EAAO,UAAU,MAAM,GACnIA,EAAO,UAAU,SACjBT,EAAM,cAAc,EAAE,YAAcoD,EAAOrD,EAAO,cAAc,SAAU,CAAE,QAAS,EAAK,CAAC,EAC3FC,EAAM,eAAe,EAAE,YAAcoD,EAAO,IAAIE,EAAUvD,EAAO,cAAc,SAAS,EAAE,OAAOA,EAAO,cAAc,QAAQ,EAAG,CAAE,QAAS,EAAK,CAAC,WAE/IS,IAAW,EAClB6D,GAAgB,EAChBrE,EAAM,cAAc,EAAE,YAAcD,EAAO,iBAAiB,IAAI,SAAS,GAAG,EAAI,aAAaqD,EAAOrD,EAAO,iBAAiB,IAAK,CAAE,QAAS,EAAK,CAAC,CAAC,UAAY,eAAeqD,EAAOkB,EAAiB,WAAW,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,SACtOtE,EAAM,iBAAiB,EAAE,YAAcoD,EAAOrD,EAAO,iBAAiB,SAAU,CAAE,QAAS,EAAK,CAAC,EAC7FU,EAAO,UAAU,SACjBT,EAAM,qBAAqB,EAAE,YAAcoD,EAAO,IAAIE,EAAUvD,EAAO,cAAc,OAAO,EAAE,OAAO,eAAe,EAAG,CAAE,QAAS,EAAK,CAAC,WAErIS,IAAW,EACdC,EAAO,UAAU,SACjBT,EAAM,oBAAoB,EAAE,YAAcoD,EAAO,IAAIE,EAAUC,EAAc,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE,SAAS,gBAAgB,EAAG,CAAE,QAAS,EAAK,CAAC,EAC3IvD,EAAM,aAAa,EAAE,YAAcoD,EAAOrD,EAAO,cAAc,QAAS,CAAE,QAAS,EAAK,CAAC,EACzFC,EAAM,cAAc,EAAE,YAAcoD,EAAO,IAAIE,EAAUvD,EAAO,cAAc,QAAQ,EAAE,OAAOA,EAAO,cAAc,OAAO,EAAG,CAAE,QAAS,EAAK,CAAC,EAC/IC,EAAM,qBAAqB,EAAE,YAAcoD,EAAOkB,EAAiB,WAAW,EAAG,CAAE,QAAS,EAAK,CAAC,WAE/F9D,IAAW,EAAG,CACrB,GAAM,CAAE,SAAA+D,CAAS,EAAI9D,EACf,CAAE,aAAA+D,CAAa,EAAIzE,EACzB0E,GAAc,EACdC,GAAkB,EAElB1E,EAAM,cAAc,EAAE,YAAc,eAAeoD,EAAOoB,EAAa,QAAS,CAAE,QAAS,EAAK,CAAC,CAAC,QAClGxE,EAAM,kBAAkB,EAAE,YAAcoD,EAAOoB,EAAa,WAAY,CAAE,QAAS,EAAK,CAAC,EACzF,QAASrC,EAAI,EAAGA,GAAK,EAAGA,IACpBnC,EAAM,UAAUmC,CAAC,KAAK,EAAE,YAAciB,EAAOmB,EAAS,MAAMpC,EAAI,CAAC,CAAC,EAClEnC,EAAM,UAAUmC,CAAC,KAAK,EAAE,YAAciB,EAAOoB,EAAa,UAAUrC,EAAI,CAAC,CAAC,EAC1EnC,EAAM,OAAOmC,CAAC,SAAS,EAAE,YAAciB,EAAOoB,EAAa,WAAWrC,EAAI,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,EAE/F1B,EAAO,UAAU,SACjBT,EAAM,aAAa,EAAE,YAAcoD,EAAOrD,EAAO,cAAc,QAAS,CAAE,QAAS,EAAK,CAAC,EACzFC,EAAM,aAAa,EAAE,YAAcoD,EAAO,IAAIE,EAAUvD,EAAO,cAAc,QAAU,mBAAoB,EAAE,MAAMU,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,OAAO8C,EAAc,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE,SAAS,EAAIxD,EAAO,cAAc,YAAa,CAAE,QAAS,EAAK,CAAC,EAEjQ,MAAWS,IAAW,IAClBiE,GAAc,EACdzE,EAAM,qBAAqB,EAAE,YAAcoD,EAAOrD,EAAO,aAAa,QAAS,CAAE,QAAS,EAAK,CAAC,GAGpG,GAAI,CAACU,EAAO,UAAU,OAAQ,CAC1B,IAAMkE,EAAenE,GAAU,EAAI,uBAAyBA,IAAWyC,EAAM,QAAU,mBAAqB,mBACtG2B,GAAepE,GAAU,EAAIC,EAAO,QAAQ,CAAC,EAAE,OAAS,EAAID,IAAWyC,EAAM,SAAW,qBAAuB,sBACrHjD,EAAM,YAAY,EAAE,aAAeQ,GAAU,EAAIyC,EAAM,SAAW,GAAKxC,EAAO,OAAO,CAAC,EAAIyB,GAAgB1B,CAAM,GAAKmE,EAAeC,CACxI,CAEA5E,EAAM,WAAW,EAAE,YAAcoD,EAAOH,EAAM,KAAM,CAAE,KAAM,MAAO,CAAC,EACpEjD,EAAM,mBAAmB,EAAE,YAAcoD,EAAO3C,EAAO,KAAK,MAAO,CAAE,KAAM,MAAO,CAAC,CACvF,MAAWZ,EAAO,eAAiB,aAC1BY,EAAO,UAAU,SAAUT,EAAM,cAAc,EAAE,YAAcoD,EAAOrD,EAAO,YAAY,WAAW,GACzGC,EAAM,iBAAiB,EAAE,YAAcoD,EAAOrD,EAAO,cAAc,YAAa,CAAE,QAAS,EAAK,CAAC,EACjGC,EAAM,aAAa,EAAE,YAAcoD,EAAO3C,EAAO,UAAU,IAAK,CAAE,KAAM,MAAO,CAAC,EAChFT,EAAM,iBAAiB,EAAE,YAAcoD,EAAO3C,EAAO,KAAK,SAAU,CAAE,KAAM,MAAO,CAAC,WAEjFb,IAAQ,WAAaA,IAAQ,WAAY,CAChD,IAAMiF,EAAajF,IAAQ,WAAaA,EAAMC,EAAO,eACrD,GAAIgF,IAAe,WAAY,CAC3B,IAAMC,EAAO/E,EAAO,YAAYS,CAAM,EAClCsE,EAAK,CAAC,GAAK,GAAKC,GAAsBD,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,CAC9D,MAAWD,IAAe,YAClB9E,EAAO,aAAe,GAAKgF,GAAsBhF,EAAO,YAAa,UAAU,CAE3F,SAAWH,IAAQ,eACf,GAAIC,EAAO,qBAAuB,SAAU,CACxC,IAAMmF,EAAYjF,EAAO,YAAY,KAAKS,CAAM,EAAI,MAAQC,EAAO,YAAY,CAAC,EAAE,CAAC,EACnFT,EAAM,aAAa,EAAE,YAAcoD,EAAO4B,CAAS,EACnDhF,EAAM,aAAa,EAAE,YAAcoD,EAAO4B,EAAYvE,EAAO,KAAK,MAAO,CAAE,KAAM,SAAU,QAAS,EAAK,CAAC,EAC1GT,EAAM,aAAa,EAAE,YAAcoD,EAAOH,EAAM,KAAM,CAAE,KAAM,SAAU,QAAS,EAAK,CAAC,EACvFjD,EAAM,aAAa,EAAE,YAAcoD,EAAO3C,EAAO,QAAQ,CAAC,EAAE,OAAO,EACnET,EAAM,aAAa,EAAE,YAAcoD,EAAO3C,EAAO,QAAQ,CAAC,EAAE,OAAO,EAC/DV,EAAO,gBAAgB,CAAC,GAAK,GAAKkF,GAA0BlF,EAAO,gBAAgB,CAAC,EAAGA,EAAO,gBAAgB,CAAC,EAAG,aAAa,CACvI,SAAWF,EAAO,qBAAuB,aAAc,CACnD,IAAMqF,EAAOnF,EAAO,eACpB,QAASuC,EAAI,EAAGA,EAAI4C,EAAK,OAAQ5C,IAAK,CAClC,IAAM6C,EAAOD,EAAK5C,CAAC,EAAE,KACrB,QAASH,EAAI,EAAGA,EAAIgD,EAAK,OAAQhD,IAAK,CAClC,IAAMiD,EAAUC,GAAkBlD,EAAGG,CAAC,EACtCtC,EAAM,YAAYmC,EAAI,CAAC,QAAQG,CAAC,SAAS,EAAE,YAAcc,EAAOgC,EAAS,CAAE,QAAS,EAAK,CAAC,EAC1FpF,EAAM,YAAYmC,EAAI,CAAC,QAAQG,CAAC,UAAU,EAAE,YAAc6C,EAAKhD,CAAC,EAAE,SAAS,GAAG,EAC1EgD,EAAKhD,CAAC,EAAE,YAAYiD,CAAO,EAAI,UAC/BhC,EAAO+B,EAAKhD,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,EAAI,OAC7C,CACJ,CACJ,UACOvC,IAAQ,YACf,GAAIC,EAAO,kBAAoB,WAAY,CACvC,IAAMyF,EAAYtE,GAAiB,EAAI,MAAQ,MAAQP,EAAO,YAAY,CAAC,EAAE,CAAC,EAC9ET,EAAM,YAAY,EAAE,YAAcoD,EAAOH,EAAM,OAASqC,EAAW,CAAE,QAAS,EAAK,CAAC,EACpFtF,EAAM,eAAe,EAAE,MAAQoD,EAAOkC,EAAW,CAAE,KAAM,SAAU,QAAS,EAAK,CAAC,EAC9EvF,EAAO,UAAY,IAAKC,EAAM,SAAS,EAAE,YAAc,GAAGoD,EAAOrD,EAAO,SAAU,CAAE,KAAM,MAAO,CAAC,CAAC,OAC3G,SAAWF,EAAO,kBAAoB,QAAS,CAQ3C,GAPAG,EAAM,eAAe,EAAE,YAAc,GAAG,IAAI,KAAKS,EAAO,KAAK,OAAO,EAAE,eAAe,CAAC,KAAK2C,GAAQ,KAAK,IAAI,EAAI3C,EAAO,KAAK,SAAW,IAAM,CAAE,KAAM,MAAO,CAAC,CAAC,QAC9JT,EAAM,WAAW,EAAE,MAAQ,wBAAwBoD,EAAO3C,EAAO,KAAK,OAAQ,CAAE,KAAM,MAAO,CAAC,CAAC,GAC/FT,EAAM,kBAAkB,EAAE,YAAcoD,EAAOH,EAAM,MAAM,EAC3DjD,EAAM,kBAAkB,EAAE,YAAcoD,EAAOH,EAAM,KAAO,MAAQxC,EAAO,YAAY,CAAC,EAAE,CAAC,CAAC,EAC5FT,EAAM,aAAa,EAAE,YAAcoD,EAAO3C,EAAO,KAAK,QAAS,CAAE,KAAM,OAAQ,QAAS,EAAM,CAAC,EAC/FT,EAAM,gBAAgB,EAAE,YAAcoD,EAAOrC,GAAe,EAAG,CAAE,KAAM,OAAQ,QAAS,EAAM,CAAC,EAC/Ff,EAAM,eAAe,EAAE,YAAcoD,EAAOpC,GAAiB,EAAI,MAAQP,EAAO,YAAY,CAAC,EAAE,CAAC,CAAC,EAC7FD,IAAW,EACXR,EAAM,eAAe,EAAE,YAAcoD,EAAO3C,EAAO,UAAU,SAAS,EACtET,EAAM,eAAe,EAAE,YAAcoD,EAAOrD,EAAO,cAAc,KAAK,EACtEC,EAAM,mBAAmB,EAAE,YAAc,KAAKS,EAAO,UAAU,OAAO,YAC/DD,IAAW,EAAG,CACrB6D,GAAgB,EAEhB,IAAMkB,EAAS,IAAIjC,EAAUgB,EAAiB,OAAO,EAAI,CAAC,EAAE,OAAOvE,EAAO,iBAAiB,QAAQ,EAAE,SAAS,EAC9GC,EAAM,kBAAkB,EAAE,YAAc,IAAIoD,EAAOmC,EAAQ,CAAE,QAAS,EAAK,CAAC,CAAC,GAC7E,IAAMC,EAASlB,EAAiB,WAAW,EACrCmB,EAAQnB,EAAiB,WAAW,EAAI,EACxCoB,EAAOD,EAAM,CAAC,EAAID,EAAO,CAAC,EAC1BG,EAAQF,EAAM,CAAC,EAAID,EAAO,CAAC,EAMjC,GALAxF,EAAM,iBAAiB,EAAE,YAAc,IAAIoD,EAAOsC,EAAM,CAAE,QAAS,EAAK,CAAC,CAAC,GAC1E1F,EAAM,kBAAkB,EAAE,YAAc,IAAIoD,EAAOuC,EAAO,CAAE,QAAS,EAAK,CAAC,CAAC,GAC5E3F,EAAM,kBAAkB,EAAE,YAAc,IAAIoD,EAAOmC,EAASG,EAAOC,EAAO,CAAE,QAAS,EAAK,CAAC,CAAC,GAC5F3F,EAAM,cAAc,EAAE,YAAcoD,EAAO3C,EAAO,aAAa,SAAS,EAEpEA,EAAO,UAAU,OAAQ,CACzB,IAAMmF,EAAQnF,EAAO,UAAU,CAAC,EAAE,CAAC,EAEnCyC,EAAU,CAAC,EAAE,MAAM,SAAS0C,EAAM,KAAK,EAAE,OAAO,eAAe,EAC/D1C,EAAU,CAAC,EAAE,UAAU,SAAS0C,EAAM,SAAS,EAAE,OAAO,eAAe,EACvE1C,EAAU,CAAC,EAAE,QAAQ,SAAS0C,EAAM,OAAO,EAAE,OAAO,eAAe,CACvE,CACJ,SAAWpF,IAAW,GAElB,GADAR,EAAM,aAAa,EAAE,YAAc,GAAGS,EAAO,UAAU,IAAI,GACvDA,EAAO,UAAU,OAAQ,CACzB,IAAMoF,EAAOpF,EAAO,UAAU,CAAC,EAAE,CAAC,EAElCyC,EAAU,CAAC,EAAE,MAAM,SAAS2C,EAAK,KAAK,EAAE,SAAS,gBAAgB,EACjE3C,EAAU,CAAC,EAAE,UAAU,SAAS2C,EAAK,SAAS,EAAE,SAAS,gBAAgB,EACzE3C,EAAU,CAAC,EAAE,QAAQ,SAAS2C,EAAK,OAAO,EAAE,SAAS,gBAAgB,CACzE,UACOrF,IAAW,GAAKA,IAAW,EAAG,CACrC,IAAMgE,EAAezE,EAAO,aAG5B,GAFAC,EAAM,eAAe,EAAE,YAAcoD,EAAOoB,EAAa,SAAS,EAClExE,EAAM,kBAAkB,EAAE,YAAcoD,EAAO3C,EAAO,SAAS,OAAO,EAClED,IAAW,EAAG,CACd,IAAMsF,EAAQrF,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAC1CgE,GAAc,EACdC,GAAkB,EAElB,IAAMmB,EAAOvB,EAAiB,KAAK,EAAI,EAAIE,EAAa,WACxDxE,EAAM,iBAAiB,EAAE,YAAc,IAAIoD,EAAOyC,EAAM,CAAE,QAAS,EAAK,CAAC,CAAC,GAC1E,IAAME,EAAQD,EAAQ,EAAIxB,EAAiB,KAAK,CAAC,EAAE,EAAI,EAAIE,EAAa,WAAW,CAAC,EAC9EwB,EAAQF,EAAQ,EAAIxB,EAAiB,KAAK,CAAC,EAAE,EAAI,EAAIE,EAAa,WAAW,CAAC,EAC9EyB,EAAQH,EAAQ,EAAIxB,EAAiB,KAAK,CAAC,EAAE,EAAI,EAAIE,EAAa,WAAW,CAAC,EAC/EsB,IACD9F,EAAM,YAAY,EAAE,YAAc,IAAIoD,EAAO2C,EAAO,CAAE,QAAS,EAAK,CAAC,CAAC,GACtE/F,EAAM,YAAY,EAAE,YAAc,IAAIoD,EAAO4C,EAAO,CAAE,QAAS,EAAK,CAAC,CAAC,GACtEhG,EAAM,YAAY,EAAE,YAAc,IAAIoD,EAAO6C,EAAO,CAAE,QAAS,EAAK,CAAC,CAAC,IAE1E,IAAMC,EAAQ5B,EAAiB,YAAY,EAAI,EAAIA,EAAiB,YAAY,EAChFtE,EAAM,eAAe,EAAE,YAAc,IAAIoD,EAAO8C,EAAO,CAAE,QAAS,EAAK,CAAC,CAAC,GACzElG,EAAM,WAAW,EAAE,YAAc,IAAIoD,EAAOyC,EAAOE,EAAQC,EAAQC,EAAQC,EAAO,CAAE,QAAS,EAAK,CAAC,CAAC,EACxG,SAAW1F,IAAW,EAAG,CACrB,IAAM6C,EAAQ5C,EAAO,UAAU,CAAC,EAEhCyC,EAAU,CAAC,EAAE,QAAQ,SAASG,EAAM,CAAC,EAAE,OAAO,EAAE,KAAKA,EAAM,CAAC,EAAE,QAASA,EAAM,CAAC,EAAE,QAASA,EAAM,CAAC,EAAE,QAASA,EAAM,CAAC,EAAE,OAAO,EAC3HH,EAAU,CAAC,EAAE,MAAM,SAASG,EAAM,CAAC,EAAE,KAAK,EAAE,KAAKA,EAAM,CAAC,EAAE,MAAOA,EAAM,CAAC,EAAE,MAAOA,EAAM,CAAC,EAAE,MAAOA,EAAM,CAAC,EAAE,KAAK,EAC/GH,EAAU,CAAC,EAAE,UAAU,SAASG,EAAM,CAAC,EAAE,SAAS,EAAE,KAAKA,EAAM,CAAC,EAAE,UAAWA,EAAM,CAAC,EAAE,UAAWA,EAAM,CAAC,EAAE,UAAWA,EAAM,CAAC,EAAE,SAAS,EACvIH,EAAU,CAAC,EAAE,QAAQ,SAASG,EAAM,CAAC,EAAE,OAAO,EAAE,KAAKA,EAAM,CAAC,EAAE,QAASA,EAAM,CAAC,EAAE,QAASA,EAAM,CAAC,EAAE,QAASA,EAAM,CAAC,EAAE,OAAO,CAC/H,CACJ,CACA,QAASlB,EAAI,EAAGA,EAAIe,EAAU,OAAQf,IAClCnC,EAAM,WAAWmC,CAAC,WAAW,EAAE,YAAciB,EAAOF,EAAUf,CAAC,EAAE,MAAO,CAAE,QAAS,EAAK,CAAC,EACzFnC,EAAM,WAAWmC,CAAC,eAAe,EAAE,YAAciB,EAAOF,EAAUf,CAAC,EAAE,UAAW,CAAE,QAAS,EAAK,CAAC,EACjGnC,EAAM,WAAWmC,CAAC,aAAa,EAAE,YAAciB,EAAOF,EAAUf,CAAC,EAAE,QAAS,CAAE,QAAS,EAAK,CAAC,EAGjG,GAAM,CAAE,QAAAgE,CAAQ,EAAI1F,EACd2F,EAAa,KAAK,MAAMD,EAAQ,CAAC,EAAE,QAAU,IAAI,EACvD,QAAShE,EAAI,EAAGA,EAAIgE,EAAQ,OAAQhE,IAChCnC,EAAM,UAAUmC,CAAC,WAAW,EAAE,YAAciB,EAAO+C,EAAQhE,CAAC,EAAE,MAAO,CAAE,QAAS,EAAK,CAAC,EAE1FnC,EAAM,kBAAkB,EAAE,YAAcoD,EAAOgD,EAAY,CAAE,QAAS,EAAK,CAAC,EAC5EpG,EAAM,kBAAkB,EAAE,YAAcoD,EAAOgD,EAAa,IAAK,CAAE,QAAS,EAAK,CAAC,CACtF,EAER,EAEavF,GAAe,IAAM,CAC9B,GAAM,CAAE,IAAAjB,EAAK,OAAAC,CAAO,EAAIE,EAClBS,EAASC,EAAO,MAAM,OACtBmB,EAASnB,EAAO,UAAU,OAuChC,GArCKA,EAAO,OAAO,CAAC,IACZA,EAAO,MAAM,OAAS,EAClBD,IAAW,GAAU6F,GAAU,EAAG,CAAC,EAChC5F,EAAO,MAAM,OAAS,EACzBA,EAAO,SAAS,SAAS,GAAK,CAAC,GAAU4F,GAAU,EAAG,CAAC,EACpD5F,EAAO,MAAM,OAAS,EACzBA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,YAAY,MAAM,GAAU4F,GAAU,EAAG,CAAC,EACtE5F,EAAO,MAAM,OAAS,GAC7B4D,GAAgB,EACZ,IAAIf,EAAUvD,EAAO,iBAAiB,GAAG,EAAE,KAAKU,EAAO,aAAa,MAAM,EAAE,SAAS,KAAK,GAAU4F,GAAU,EAAG,CAAC,GAC/G5F,EAAO,MAAM,OAAS,GACzBA,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,GAAU4F,GAAU,EAAG,CAAC,GAI1DtG,EAAO,SACHO,EAAW,QAAQ,CAAC,IAAKN,EAAM,gBAAgB,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,QACpGD,IAAW,EACPC,EAAO,MAAM,KAAO,IACpBT,EAAM,aAAa,EAAE,MAAM,QAAUS,EAAO,UAAU,WAAa,EAAI,GAAK,OAC5ET,EAAM,eAAe,EAAE,MAAM,QAAUS,EAAO,UAAU,WAAa,EAAI,GAAK,QAE3ED,IAAW,IAClBR,EAAM,aAAa,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,SAG5EH,EAAW,WAAW,CAAC,IACnBE,IAAW,GACXR,EAAM,cAAc,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OACrEA,EAAO,MAAM,KAAO,IAAKT,EAAM,aAAa,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,SAC9FD,IAAW,EAClBR,EAAM,cAAc,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OAClED,IAAW,IAClBR,EAAM,cAAc,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,SAI7Eb,IAAQ,QACR,GAAIC,EAAO,eAAiB,aAAc,CACtC,IAAMqD,EAAYzC,EAAO,UAAUD,CAAM,EACnC8F,EAAM7F,EAAO,IAAID,CAAM,EAE7BR,EAAM,eAAe,EAAE,MAAM,QAAUS,EAAO,MAAM,OAASA,EAAO,KAAK,MAAQ,GAAK,OACtFT,EAAM,gBAAgB,EAAE,MAAM,QAAUS,EAAO,KAAK,QAAU,GAAKA,EAAO,KAAK,SAAWM,GAAe,EAAI,GAAK,OAC9GN,EAAO,MAAM,KAAO,IAAKT,EAAM,iBAAiB,EAAE,MAAM,QAAUsG,GAAO,EAAI,GAAK,QACtF,QAASnE,EAAI,EAAGA,EAAIpC,EAAO,cAAc,UAAUS,CAAM,EAAG2B,IACxDnC,EAAM,WAAWmC,CAAC,MAAM,EAAE,MAAM,QAAUe,EAAUf,CAAC,EAAE,QAAQ,SAASe,EAAUf,CAAM,EAAE,IAAI,EAAI,GAAK,OACvGnC,EAAM,iBAAiBmC,CAAC,EAAE,EAAE,MAAM,QAAUmE,GAAOnE,EAAI,GAAK,OAEhE,GAAI3B,IAAW,EACXR,EAAM,YAAY,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OACvET,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,YAAYtB,EAAS,IAAM,IAAI,EAAI,GAAK,OAClG5B,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,YAAY,GAAG,EAAI,GAAK,OAC9EtB,IACA5B,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,YAAY,GAAG,EAAI,GAAK,OAClFlD,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,YAAY,GAAG,EAAI,GAAK,QAEtFlD,EAAM,WAAW,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OACtET,EAAM,SAAS,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OACpET,EAAM,YAAY,EAAE,MAAM,QAAUS,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,GAAKA,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OACnGA,EAAO,MAAM,KAAO,IAAKT,EAAM,YAAY,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,QAChGA,EAAO,MAAM,KAAO,GAAKA,EAAO,MAAM,OAAS,IAAKT,EAAM,QAAQ,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,gBACpHD,IAAW,EAClBR,EAAM,YAAY,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OACvET,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,YAAY,KAAK,EAAI,GAAK,OACpFlD,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,YAAY,KAAK,EAAI,GAAK,OACpFlD,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,YAAY,MAAM,EAAI,GAAK,OACrFlD,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,YAAY,MAAM,EAAI,GAAK,OACrFlD,EAAM,aAAa,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OACpEmB,EACA5B,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,YAAY,MAAM,EAAI,GAAK,OAChFlD,EAAM,WAAW,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,eACxED,IAAW,EAAG,CACrB,IAAM+F,EAAW9F,EAAO,SAAS,CAAC,EAElCT,EAAM,WAAW,EAAE,MAAM,QAAUS,EAAO,UAAU,MAAQ,EAAI,GAAK,OACrET,EAAM,WAAW,EAAE,MAAM,QAAUuG,EAAS,CAAC,IAAM,EAAI,GAAK,OAC5DvG,EAAM,WAAW,EAAE,MAAM,QAAUuG,EAAS,CAAC,IAAM,EAAI,GAAK,OAC5DvG,EAAM,WAAW,EAAE,MAAM,QAAUuG,EAAS,CAAC,IAAM,EAAI,GAAK,OACxD3E,IACA5B,EAAM,WAAW,EAAE,MAAM,QAAUuG,EAAS,EAAE,IAAM,EAAI,GAAK,OAC7DvG,EAAM,iBAAiB,EAAE,MAAM,QAAUS,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,QAEtF+F,GAAe,CACnB,SAAWhG,IAAW,EAAG,CACrB,IAAMiG,EAAOhG,EAAO,gBAAgB,CAAC,EAAE,CAAC,EAExCT,EAAM,UAAU,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC9ElD,EAAM,UAAU,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC9ElD,EAAM,UAAU,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC9ElD,EAAM,YAAY,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OACvET,EAAM,WAAW,EAAE,MAAM,QAAUyG,GAAQ,EAAI,GAAK,OACpDzG,EAAM,WAAW,EAAE,MAAM,QAAUyG,GAAQ,EAAI,GAAK,OACpDzG,EAAM,WAAW,EAAE,MAAM,QAAUyG,GAAQ,EAAI,GAAK,OACpDzG,EAAM,aAAa,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OACjFlD,EAAM,aAAa,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OACjFlD,EAAM,aAAa,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC7EtB,IAAU5B,EAAM,WAAW,EAAE,MAAM,QAAUS,EAAO,SAAS,MAAM,CAAC,EAAI,GAAKA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQ,EAAI,GAAK,OAC7H,MAAWD,IAAW,IACboB,IACD5B,EAAM,WAAW,EAAE,MAAM,QAAUS,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,GAAKA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACvGT,EAAM,WAAW,EAAE,MAAM,QAAUS,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACvET,EAAM,WAAW,EAAE,MAAM,QAAUS,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,QAE3ET,EAAM,WAAW,EAAE,MAAM,QAAUS,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OAEpF,MAAWZ,EAAO,eAAiB,aAC/BG,EAAM,aAAa,EAAE,MAAM,QAAUD,EAAO,cAAc,cAAgB,EAAI,GAAK,OACnFC,EAAM,iBAAiB,EAAE,MAAM,QAAUS,EAAO,UAAU,MAAQA,EAAO,KAAK,SAAW,GAAK,OAC9FT,EAAM,YAAY,EAAE,MAAM,QAAU4B,GAAUnB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,gBAEhFb,IAAQ,WAAaA,IAAQ,WAAY,CAChD,IAAMiF,EAAajF,IAAQ,WAAaA,EAAMC,EAAO,eACrD,GAAIgF,IAAe,YAIf,GAHIjD,IACA5B,EAAM,eAAe,EAAE,MAAM,QAAUS,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,QAEhFD,IAAW,EAAG,CACd,IAAMkG,EAAgBjG,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAEhDT,EAAM,UAAU,EAAE,MAAM,QAAU0G,EAAgB,GAAK,OACvD1G,EAAM,UAAU,EAAE,MAAM,QAAU0G,EAAgB,GAAK,OACvD1G,EAAM,UAAU,EAAE,MAAM,QAAU0G,EAAgB,GAAK,OACvD1G,EAAM,WAAW,EAAE,MAAM,QAAU0G,EAAgB,GAAK,OACxD1G,EAAM,YAAY,EAAE,MAAM,QAAU0G,EAAgB,GAAK,OACrD9E,IACA5B,EAAM,gBAAgB,EAAE,MAAM,QAAUS,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACjFT,EAAM,gBAAgB,EAAE,MAAM,QAAUS,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACjFT,EAAM,gBAAgB,EAAE,MAAM,QAAUS,EAAO,UAAU,MAAQ,EAAI,GAAK,OAElF,SAAWD,IAAW,EAAG,CACrB,IAAM0C,EAAYzC,EAAO,UAAU,CAAC,EAEpCT,EAAM,UAAU,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC9ElD,EAAM,UAAU,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC9ElD,EAAM,UAAU,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC9ElD,EAAM,UAAU,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC9ElD,EAAM,UAAU,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC9ElD,EAAM,UAAU,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC9ElD,EAAM,UAAU,EAAE,MAAM,QAAUS,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAKyC,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC3GtB,IACA5B,EAAM,UAAU,EAAE,MAAM,QAAUS,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAKyC,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC/GlD,EAAM,gBAAgB,EAAE,MAAM,QAAUS,EAAO,UAAU,MAAQ,EAAI,GAAK,QAG9ET,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC/ElD,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC/ElD,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC/ElD,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC/ElD,EAAM,WAAW,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAC/ElD,EAAM,iBAAiB,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OAC5ET,EAAM,gBAAgB,EAAE,MAAM,QAAUkD,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,MACxF,SAAW1C,IAAW,EAAG,CACrB,IAAMmG,EAAOlG,EAAO,UAAU,KACxBmG,EAAenG,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,UAAU,SAAS,GAAG,EAElET,EAAM,UAAU,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACnD3G,EAAM,UAAU,EAAE,MAAM,QAAU4G,EAAe,GAAK,OACtD5G,EAAM,UAAU,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACnD3G,EAAM,UAAU,EAAE,MAAM,QAAU2G,GAAQ,GAAKlG,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OAClFT,EAAM,UAAU,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACnD3G,EAAM,UAAU,EAAE,MAAM,QAAU2G,GAAQ,GAAKlG,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACpFT,EAAM,UAAU,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACnD3G,EAAM,WAAW,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACpD3G,EAAM,WAAW,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACpD3G,EAAM,WAAW,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACpD3G,EAAM,WAAW,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACpD3G,EAAM,WAAW,EAAE,MAAM,QAAU4G,EAAe,GAAK,OACvD5G,EAAM,WAAW,EAAE,MAAM,QAAU4G,EAAe,GAAK,OACvD5G,EAAM,WAAW,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACpD3G,EAAM,WAAW,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACpD3G,EAAM,WAAW,EAAE,MAAM,QAAU2G,GAAQ,GAAKlG,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OACnFT,EAAM,WAAW,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACpD3G,EAAM,WAAW,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACpD3G,EAAM,iBAAiB,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OAC1D3G,EAAM,gBAAgB,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACzD3G,EAAM,gBAAgB,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACzD3G,EAAM,gBAAgB,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACrD/E,EACA5B,EAAM,gBAAgB,EAAE,MAAM,QAAU2G,GAAQ,GAAKlG,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,QAE9FT,EAAM,UAAU,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OACnD3G,EAAM,iBAAiB,EAAE,MAAM,QAAU2G,GAAQ,EAAI,GAAK,OAElE,SAAWnG,IAAW,EAAG,CACrB,IAAM6C,EAAQ5C,EAAO,SAAS,MACxBoG,EAASpG,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQ,EAE9CT,EAAM,UAAU,EAAE,MAAM,QAAUS,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACvET,EAAM,UAAU,EAAE,MAAM,QAAUS,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACvET,EAAM,WAAW,EAAE,MAAM,SAAW6G,GAAUxD,EAAM,CAAC,EAAI,IAAM5C,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACpGT,EAAM,WAAW,EAAE,MAAM,QAAU6G,GAAUxD,EAAM,CAAC,EAAI,EAAI,GAAK,OACjErD,EAAM,gBAAgB,EAAE,MAAM,QAAU6G,GAAUxD,EAAM,CAAC,EAAI,EAAI,GAAK,OACtErD,EAAM,gBAAgB,EAAE,MAAM,SAAW6G,GAAUxD,EAAM,CAAC,EAAI,IAAM5C,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,MAC7G,SAAWD,IAAW,EAAG,CACrB,GAAI,CAACoB,EAAQ,CACT,IAAMkF,EAASrG,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EACpCsG,EAAUtG,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAE3CT,EAAM,UAAU,EAAE,MAAM,QAAU8G,GAAUC,EAAU,GAAK,OAC3D/G,EAAM,UAAU,EAAE,MAAM,QAAU8G,EAAS,GAAK,OAChD9G,EAAM,UAAU,EAAE,MAAM,QAAU+G,EAAU,GAAK,OACjD/G,EAAM,iBAAiB,EAAE,MAAM,QAAU8G,GAAUC,EAAU,GAAK,OAClE/G,EAAM,WAAW,EAAE,MAAM,QAAU8G,EAAS,GAAK,OACjD9G,EAAM,WAAW,EAAE,MAAM,QAAU+G,EAAU,GAAK,OAClD/G,EAAM,iBAAiB,EAAE,MAAM,QAAUS,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,MACjF,CACAT,EAAM,UAAU,EAAE,MAAM,QAAUS,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,MAC/E,UACOoE,IAAe,WAAY,CAClC,IAAM0B,EAAW9F,EAAO,SAAS,CAAC,EAC5BuG,EAAUvG,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,IAAMA,EAAO,SAAS,MAAM,CAAC,EAAI,GAAKA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQ,GACzGwG,EAAOjH,EAAM,cAAc,EAEjCiH,EAAK,MAAM,QAAUV,EAAS,CAAC,IAAM,EAAI,GAAK,OAC9CU,EAAK,UAAU,CAACD,GAAWT,EAAS,CAAC,IAAM,EAAI,MAAQ,QAAQ,EAAE,eAAe,EAChF,QAASpE,EAAI,EAAGA,GAAK,GAAIA,IAAOnC,EAAM,UAAUmC,CAAC,EAAE,EAAE,MAAM,QAAUoE,EAAS,CAAC,IAAM,EAAI,GAAK,OAC9F,QAASpE,EAAI,GAAIA,GAAK,GAAIA,IAAOnC,EAAM,UAAUmC,CAAC,EAAE,EAAE,MAAM,QAAU6E,EAAU,GAAK,OACrFhH,EAAM,WAAW,EAAE,MAAM,QAAUuG,EAAS,CAAC,IAAM,EAAI,GAAK,OAC5DvG,EAAM,WAAW,EAAE,MAAM,QAAUuG,EAAS,CAAC,IAAM,EAAI,GAAK,OAC5DvG,EAAM,WAAW,EAAE,MAAM,QAAUuG,EAAS,CAAC,IAAM,EAAI,GAAK,MAChE,CACJ,SAAW3G,IAAQ,cACf,GAAIC,EAAO,qBAAuB,SAAU,CACxC,IAAMqH,EAAQzG,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAO1C,GALAT,EAAM,aAAa,EAAE,YAAcD,EAAO,YAAY,KAAKU,EAAO,YAAY,CAAC,EAAE,CAAC,CAAC,EACnFT,EAAM,UAAU,EAAE,MAAM,QAAUS,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACvET,EAAM,gBAAgB,EAAE,MAAM,SAAW4B,EAASsF,EAAQzG,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,GAAK,GAAK,OAC/FT,EAAM,gBAAgB,EAAE,MAAM,SAAW4B,EAASsF,EAAQzG,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,GAAK,GAAK,OAC/FT,EAAM,gBAAgB,EAAE,MAAM,SAAW4B,EAASsF,EAASzG,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,GAAKA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,GAAM,GAAK,OAC7HmB,EAAQ,CACR,IAAMuF,EAAe1G,EAAO,WAAW,KAEvCT,EAAM,gBAAgB,EAAE,MAAM,QAAUmH,EAAa,CAAC,GAAK,EAAI,GAAK,OACpEnH,EAAM,gBAAgB,EAAE,MAAM,QAAUmH,EAAa,CAAC,GAAK,EAAI,GAAK,OACpEnH,EAAM,iBAAiB,EAAE,MAAM,QAAUmH,EAAa,CAAC,GAAK,EAAI,GAAK,OACrEnH,EAAM,gBAAgB,EAAE,MAAM,QAAUmH,EAAa,CAAC,GAAK,EAAI,GAAK,OACpEnH,EAAM,gBAAgB,EAAE,MAAM,QAAUmH,EAAa,CAAC,GAAK,EAAI,GAAK,OAEpEnH,EAAM,gBAAgB,EAAE,MAAM,QAAUmH,EAAa,CAAC,GAAK,EAAI,GAAK,OACpEnH,EAAM,iBAAiB,EAAE,MAAM,QAAUmH,EAAa,CAAC,GAAK,EAAI,GAAK,OACrEnH,EAAM,gBAAgB,EAAE,MAAM,QAAUmH,EAAa,CAAC,GAAK,EAAI,GAAK,OACpEnH,EAAM,iBAAiB,EAAE,MAAM,QAAUmH,EAAa,CAAC,GAAK,EAAI,GAAK,OAErEnH,EAAM,gBAAgB,EAAE,MAAM,QAAUkH,EAAQ,GAAK,OACrDlH,EAAM,gBAAgB,EAAE,MAAM,QAAUmH,EAAa,CAAC,GAAK,EAAI,GAAK,MACxE,KAAO,CACH,IAAMC,EAAW3G,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAE5CT,EAAM,gBAAgB,EAAE,MAAM,QAAUoH,EAAW,GAAK,OACxDpH,EAAM,gBAAgB,EAAE,MAAM,QAAUoH,EAAW,GAAK,OACxDpH,EAAM,gBAAgB,EAAE,MAAM,QAAUoH,EAAW,GAAK,OACxDpH,EAAM,gBAAgB,EAAE,MAAM,QAAUoH,EAAW,GAAK,OACxDpH,EAAM,cAAcM,EAAW,WAAW,CAAC,EAAI,OAAS,SAAS,GAAG,EAAE,MAAM,QAAU8G,EAAW,GAAK,OACtGpH,EAAM,gBAAgB,EAAE,MAAM,QAAUS,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,GAAKA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,MAChH,CACJ,MAAWZ,EAAO,qBAAuB,eAChC+B,IACD5B,EAAM,qBAAqB,EAAE,MAAM,QAAUS,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OAClFT,EAAM,qBAAqB,EAAE,MAAM,QAAUS,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OAC7EV,EAAO,UAAU,UAAU,SAAS,CAAC,IAAKC,EAAM,0BAA0B,EAAE,MAAM,QAAUS,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,QACjIV,EAAO,UAAU,UAAU,SAAS,CAAC,IAAKC,EAAM,0BAA0B,EAAE,MAAM,QAAUS,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,kBAGrIb,IAAQ,YACf,GAAIC,EAAO,kBAAoB,WAAY,CACvC,GAAM,CAAE,eAAAwH,EAAgB,YAAAC,CAAY,EAAI7G,EAExCT,EAAM,aAAa,EAAE,MAAM,QAAUsH,EAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACnEtH,EAAM,iBAAiB,EAAE,MAAM,QAAUsH,EAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACvEtH,EAAM,eAAe,EAAE,MAAM,QAAUS,EAAO,MAAM,SAAWmB,EAAS,EAAI,GAAK,GAAK,OACtF5B,EAAM,YAAY,EAAE,YAAcD,EAAO,YAAY,KAAKuH,EAAY,CAAC,EAAE,CAAC,CAAC,EAC3EtH,EAAM,gBAAgB,EAAE,MAAM,QAAUsH,EAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACtEtH,EAAM,aAAa,EAAE,MAAM,QAAUqH,EAAe,CAAC,GAAK,EAAI,GAAK,OACnErH,EAAM,aAAa,EAAE,MAAM,QAAUqH,EAAe,CAAC,GAAK,EAAI,GAAK,OACnErH,EAAM,aAAa,EAAE,MAAM,QAAUqH,EAAe,CAAC,GAAK,EAAI,GAAK,OACnErH,EAAM,aAAa,EAAE,MAAM,QAAUsH,EAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACnEtH,EAAM,aAAa,EAAE,MAAM,QAAUsH,EAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACnEtH,EAAM,aAAa,EAAE,MAAM,QAAUsH,EAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACnEtH,EAAM,iBAAiB,EAAE,MAAM,QAAUsH,EAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACvEtH,EAAM,aAAa,EAAE,MAAM,QAAUsH,EAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACnEtH,EAAM,aAAa,EAAE,MAAM,QAAUsH,EAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACnEtH,EAAM,iBAAiB,EAAE,MAAM,QAAUsH,EAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OACvEtH,EAAM,aAAa,EAAE,YAAcD,EAAO,YAAY,KAAKuH,EAAY,CAAC,EAAE,CAAC,CAAC,EACxE7G,EAAO,MAAM,KAAO,IACpBT,EAAM,cAAc,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OACzET,EAAM,iBAAiB,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OAC5ET,EAAM,kBAAkB,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OAC7ET,EAAM,aAAa,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,QAExEA,EAAO,MAAM,KAAO,IACpBT,EAAM,yBAAyB,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OACpFT,EAAM,oBAAoB,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,QAE/EA,EAAO,MAAM,KAAO,IACpBT,EAAM,qBAAqB,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OAChFT,EAAM,gBAAgB,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OAC3ET,EAAM,eAAe,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OAElF,SAAWZ,EAAO,kBAAoB,UAClC0H,GAAyB,UAClB1H,EAAO,kBAAoB,QAAS,CAC3C,GAAM,CAAE,QAAAsG,EAAS,YAAAmB,CAAY,EAAI7G,EAC3ByC,EAAYzC,EAAO,UAAUD,CAAM,EAEzCR,EAAM,gBAAgB,EAAE,MAAM,QAAUS,EAAO,MAAM,SAAWmB,EAAS,EAAI,GAAK,GAAK,OACvF5B,EAAM,eAAe,EAAE,YAAcD,EAAO,YAAY,KAAKuH,EAAY,CAAC,EAAE,CAAC,CAAC,EAC9EtH,EAAM,kBAAkB,EAAE,YAAcD,EAAO,YAAY,KAAKuH,EAAY,CAAC,EAAE,CAAC,CAAC,EACjFtH,EAAM,aAAa,EAAE,MAAM,QAAUS,EAAO,MAAM,OAAS,EAAI,GAAK,OACpET,EAAM,cAAc,EAAE,MAAM,QAAUmG,EAAQ,CAAC,EAAE,MAAQ,EAAI,GAAK,OAClE,QAAShE,EAAI,EAAGA,EAAIpC,EAAO,cAAc,UAAUS,CAAM,EAAG2B,IACxDnC,EAAM,WAAWmC,CAAC,OAAO,EAAE,MAAM,QAAUe,EAAUf,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OAE3FnC,EAAM,iBAAiB,EAAE,MAAM,QAAUmG,EAAQ,CAAC,EAAE,MAAQ,EAAI,GAAK,OACrE,QAAShE,EAAI,EAAGA,EAAIgE,EAAQ,OAAQhE,IAChCnC,EAAM,UAAUmC,CAAC,OAAO,EAAE,MAAM,QAAUgE,EAAQhE,CAAC,EAAE,MAAQ,EAAI,GAAK,OAK1E,GAHAnC,EAAM,qBAAqB,EAAE,MAAM,QAAUsH,EAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OAEtE1F,GAAU4F,GAAc,EACzBhH,IAAW,EACXR,EAAM,aAAa,EAAE,MAAM,QAAUS,EAAO,UAAU,YAAcmB,EAAS,GAAK,GAAK,GAAK,OAC5F5B,EAAM,gBAAgB,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OAC3ET,EAAM,mBAAmB,EAAE,MAAM,QAAUS,EAAO,UAAU,UAAYV,EAAO,cAAc,MAAQ,GAAK,eACnGS,IAAW,EAClBR,EAAM,mBAAmB,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,OAC9ET,EAAM,YAAY,EAAE,MAAM,QAAUS,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OAC7ET,EAAM,aAAa,EAAE,MAAM,QAAUS,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,OAC9ET,EAAM,YAAY,EAAE,MAAM,QAAUS,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,GAAK,eAChED,IAAW,EAAG,CACjBoB,IACA5B,EAAM,WAAW,EAAE,MAAM,QAAUsH,EAAY,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,QAErE,QAASnF,EAAI,EAAGA,EAAIpC,EAAO,cAAc,UAAU,OAAQoC,IAAOnC,EAAM,WAAWmC,CAAC,EAAE,EAAE,MAAM,QAAU1B,EAAO,UAAU,MAAQ0B,EAAI,GAAK,MAC9I,SAAW3B,IAAW,EAAG,CACrB,IAAMsF,EAAQrF,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAC1CT,EAAM,WAAW,EAAE,MAAM,QAAU,CAAC8F,GAAS5C,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OACzFlD,EAAM,WAAW,EAAE,MAAM,QAAU,CAAC8F,GAAS5C,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OACzFlD,EAAM,WAAW,EAAE,MAAM,QAAU,CAAC8F,GAAS5C,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAAI,GAAK,OACzFlD,EAAM,cAAc,EAAE,MAAM,QAAUS,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAI,GAAK,MAC9E,CACJ,EAER,EAEasE,GAAwB,CAAC0C,EAAelG,IAAgG,CACjJ,GAAIA,IAAS,WAAY,CACrB,IAAMmG,EAAU3H,EAAO,aAEvBC,EAAM,aAAa,EAAE,YAAc,GAAG0H,EAAQ,KAAKD,CAAK,CAAC,IACzDzH,EAAM,eAAe,EAAE,YAAcS,EAAO,SAASgH,CAAK,GAAK,GAAMhH,EAAO,SAAS,MAAQgH,GAASA,IAAU,EAAKC,EAAQ,WAAWD,CAAK,EAAE,EAAI,2BACnJzH,EAAM,aAAa,EAAE,YAAcS,EAAO,SAASgH,CAAK,GAAK,EAAI,YAC7DhH,EAAO,SAASgH,CAAK,EAAI,EAAI,qBAC7BA,IAAU,EAAI,WAAa,GAAGrE,EAAOsE,EAAQ,UAAUD,CAAK,CAAC,CAAC,aAClE,MACJ,CAEA,IAAME,EAAalH,EAAO,MAAM,OAC1BkD,EAAWgE,IAAe,EAAI,SAAWA,IAAe,EAAI,QAAUA,IAAe,EAAI,OAAS,WACxG,GAAIpG,IAAS,WAAY,CACrB,IAAMmG,EAAU3H,EAAO,GAAGwB,CAAI,MAAM,EAAEoG,CAAU,EAEhD3H,EAAM,aAAa,EAAE,YAAc,GAAG0H,EAAQ,KAAKD,CAAK,CAAC,IACzDzH,EAAM,eAAe,EAAE,YAAc0H,EAAQ,WAAWD,CAAK,EAAE,EAC/DzH,EAAM,aAAa,EAAE,YAAcS,EAAO,SAASkH,CAAU,EAAEF,CAAK,IAAM,EAAI,WAC1EE,IAAe,GAAK5H,EAAO,aAAa,QAAQ0H,CAAK,EAAIhH,EAAO,SAAS,MAAQA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAAO,EAAI,eAAe2C,EAAOrD,EAAO,aAAa,QAAQ0H,CAAK,CAAC,CAAC,SAC5K,GAAGrE,EAAOsE,EAAQ,UAAUD,CAAK,CAAC,CAAC,IAAI9D,CAAQ,GACvD,SAAWpC,IAAS,cAAgBA,IAAS,kBAAmB,CAC5D,IAAMmG,EAAU3H,EAAO,GAAGwB,CAAI,MAAM,EAAEoG,CAAU,EAC1CC,EAAQnH,EAAOc,CAAI,EAAEoG,CAAU,EAAEF,CAAK,EAK5C,GAJIlG,IAAS,mBAAqBoG,IAAe,GAAKF,IAAU,IAAKC,EAAQ,KAAK,CAAC,EAAI,CAAC,OAAQ,YAAa,WAAW,EAAE,KAAK,IAAIE,EAAO,CAAC,CAAC,GAE5I5H,EAAM,aAAa,EAAE,YAAc,GAAG0H,EAAQ,KAAKD,CAAK,CAAC,IACzDzH,EAAM,eAAe,EAAE,YAAc0H,EAAQ,WAAWD,CAAK,EAAE,EAC3DG,GAASF,EAAQ,IAAID,CAAK,EAC1BzH,EAAM,aAAa,EAAE,YAAc,iBAC5B2H,IAAe,GAAKpG,IAAS,cAAgBxB,EAAO,aAAa,QAAQ0H,CAAK,EAAIhH,EAAO,SAAS,MAAQA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAAO,EAC/IT,EAAM,aAAa,EAAE,YAAc,eAAeoD,EAAOrD,EAAO,aAAa,QAAQ0H,CAAK,CAAC,CAAC,aACzF,CACH,IAAII,EAAY,EACZ5D,EAAOyD,EAAQ,KAAKD,CAAK,EAC7B,GAAIhH,EAAO,QAAQ,IAAI,CAAC,GAAKA,EAAO,MAAM,MAAQ,GAAKiH,EAAQ,IAAID,CAAK,EAAI,EAAG,CAC3E,IAAMtD,EAAUuD,EAAQ,QAAQD,CAAK,EACrC,GAAIE,IAAe,EACf,GAAIlH,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAC5BoH,EAAY,KAAK,IAAI,KAAK,IAAI,KAAK,OAAOpH,EAAO,UAAU,OAASwD,GAAQE,EAAU,CAAC,EAAG,CAAC,EAAGuD,EAAQ,IAAID,CAAK,EAAIG,CAAK,EACpHC,EAAY,IAAK5D,IAAS4D,EAAY,GAAK1D,OAC5C,CACH,IAAM2D,EAAW7D,EAAOE,EAAU,EAClC0D,EAAY,KAAK,IAAI,KAAK,IAAI,KAAK,QAAQC,GAAY,EAAI,EAAI3D,EAAU1D,EAAO,UAAU,SAAW,GAAMqH,GAAY3D,CAAO,EAAG,CAAC,EAAGuD,EAAQ,IAAID,CAAK,EAAIG,CAAK,EAC3JC,EAAY,IAAK5D,EAAO4D,GAAaA,EAAY1D,EAAU,EAAI2D,GACvE,KACG,CACH,IAAMlE,EAAW+D,IAAe,EAAIlH,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAUkH,IAAe,EAAIlH,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAUA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAChJoH,EAAY,KAAK,IAAI,KAAK,IAAI,KAAK,MAAM,IAAIvE,EAAUM,CAAQ,EAAE,SAASO,EAAU,CAAC,EAAE,OAAOF,CAAI,EAAE,KAAK,GAAG,EAAE,IAAIE,CAAO,EAAE,SAAS,CAAC,EAAG,CAAC,EAAGuD,EAAQ,IAAID,CAAK,EAAIG,CAAK,EAClKC,EAAY,IAAK5D,EAAO,IAAIX,EAAUa,CAAO,EAAE,MAAM0D,CAAS,EAAE,MAAM,GAAG,EAAE,OAAO1D,EAAU,CAAC,EAAE,SAASF,CAAI,EAAE,SAAS,EAC/H,CACJ,CAEAjE,EAAM,aAAa,EAAE,YAAc,GAAGoD,EAAOa,CAAI,CAAC,IAAIN,CAAQ,IAAIkE,EAAY,EAAI,MAAMzE,EAAOyE,CAAS,CAAC,IAAM,EAAE,EACrH,CACJ,SAAWtG,IAAS,iBAAkB,CAClC,IAAMmG,EAAU3H,EAAO,mBACjB6H,EAAQnH,EAAO,eAAegH,CAAK,EAIzC,GAFAzH,EAAM,aAAa,EAAE,YAAc,GAAG0H,EAAQ,KAAKD,CAAK,CAAC,IACzDzH,EAAM,eAAe,EAAE,YAAc0H,EAAQ,WAAWD,CAAK,EAAE,EAC3DG,GAASF,EAAQ,IAAID,CAAK,EAC1BzH,EAAM,aAAa,EAAE,YAAc,aAChC,CACH,IAAM+H,EAAYL,EAAQ,UAAUD,CAAK,EAAEG,CAAK,EAChD5H,EAAM,aAAa,EAAE,YAAgB+H,IAAcJ,GAAeA,IAAe,GAAKI,IAAc,EAChG,GAAG3E,EAAOsE,EAAQ,UAAUD,CAAK,EAAEG,CAAK,CAAC,CAAC,IAAIjE,CAAQ,IADgD,gDAAgD5D,EAAO,UAAU,KAAKgI,CAAS,CAAC,IAE9L,CACJ,SAAWxG,IAAS,MAAO,CACvB,IAAMmG,EAAU3H,EAAO,QACjB6H,EAAQnH,EAAO,IAAIkH,CAAU,EAEnC3H,EAAM,aAAa,EAAE,YAAc,GAAG0H,EAAQ,IAAI,IAClD1H,EAAM,eAAe,EAAE,YAAc0H,EAAQ,WAAW,EACxD1H,EAAM,aAAa,EAAE,YAAc4H,GAASF,EAAQ,IAAIC,CAAU,EAAI,SAClEA,IAAe,GAAKlH,EAAO,UAAU,KAAO,EAAI,2CAChD,GAAG2C,EAAOsE,EAAQ,UAAUC,CAAU,EAAEC,CAAK,CAAC,CAAC,IAAIjE,CAAQ,GACnE,CACJ,EAEasB,GAA4B,CAACwC,EAAeE,EAAoBpG,IAAuC,CAChH,IAAMyG,EAAYhI,EAAM,GAAGuB,CAAI,OAAO,EAGtC,GAFAyG,EAAU,MAAM,MAAQ,SAASjI,EAAO,UAAU,UAAU4H,CAAU,CAAC,SACvEK,EAAU,YAAc,GAAGjI,EAAO,UAAU,KAAK4H,CAAU,CAAC,KACxDpG,IAAS,cAAe,CACxB,IAAMmG,EAAU3H,EAAO,gBAAgB4H,CAAU,EAEjD3H,EAAM,iBAAiB,EAAE,YAAc,GAAG0H,EAAQ,KAAKD,CAAK,CAAC,IAC7DzH,EAAM,mBAAmB,EAAE,YAAc0H,EAAQ,WAAWD,CAAK,EAAE,EACnEzH,EAAM,iBAAiB,EAAE,YAAcS,EAAO,YAAYkH,CAAU,EAAEF,CAAK,GAAKC,EAAQ,IAAID,CAAK,EAAI,SAAW,GAAGrE,EAAOsE,EAAQ,KAAKD,CAAK,CAAC,CAAC,kBAClJ,KAAO,CACH,IAAMC,EAAU3H,EAAO,eAAe4H,CAAU,EAEhD3H,EAAM,gBAAgB,EAAE,YAAc,GAAG0H,EAAQ,KAAKD,CAAK,CAAC,MAAMrE,EAAO3C,EAAO,WAAWkH,CAAU,EAAEF,CAAK,CAAC,CAAC,IAC1GhH,EAAO,UAAU,OACjBT,EAAM,qBAAqB,EAAE,UAAY,8DAA8D0H,EAAQ,SAASD,CAAK,EAAE,CAAC;AAAA,wEACpEC,EAAQ,WAAWD,CAAK,EAAE,CAAC,cAChFC,EAAQ,KAAKD,CAAK,EAAE,SAAS,GAAG,EACvCzH,EAAM,qBAAqB,EAAE,UAAY,8DAA8D0H,EAAQ,SAASD,CAAK,EAAE,CAAC;AAAA,mGACzCC,EAAQ,WAAWD,CAAK,EAAE,OAAShH,EAAO,WAAWkH,CAAU,EAAEF,CAAK,CAAC,gCACzJzH,EAAM,qBAAqB,EAAE,UAAY,6DAA6D0H,EAAQ,WAAWD,CAAK,EAAE,CAAC,aAC9I,CACJ,EAEaQ,GAA2BR,GAAkB,CACtD,IAAIS,EACJ,GAAIT,IAAU,GACVS,EAAO,8CAA8CzH,EAAO,UAAU,OAAS,yBAA2B,uBAAuB,mBAC9H,CACH,IAAMyE,EAAOnF,EAAO,eACdoI,EAAQ,GAAGjD,EAAK,MAAMuC,CAAK,CAAC,OAClCS,EAAO,cAAcC,CAAK,aAAajD,EAAK,KAAKuC,CAAK,CAAC,GAAGhH,EAAO,WAAW,SAAWgH,EAAQ,0CAA4C,EAAE;AAAA,+BACtHvC,EAAK,YAAYuC,CAAK,CAAC;AAAA,0BAC5BU,CAAK;AAAA,aAClBjD,EAAK,WAAWuC,CAAK,EAAE,CAAC,YACjC,CAEA,GAAIA,IAAU,EAAG,CACb,IAAMW,EAAW3H,EAAO,WAAW,KAEnCT,EAAM,aAAa,EAAE,MAAM,QAAU,GACrCA,EAAM,qBAAqB,EAAE,MAAM,QAAUoI,EAAS,CAAC,GAAK,EAAI,GAAK,OACrEpI,EAAM,qBAAqB,EAAE,MAAM,QAAUoI,EAAS,CAAC,GAAK,EAAI,GAAK,OACrEpI,EAAM,wBAAwB,EAAE,MAAM,QAAUoI,EAAS,CAAC,GAAK,EAAI,GAAK,OACxEpI,EAAM,yBAAyB,EAAE,MAAM,QAAUoI,EAAS,CAAC,GAAK,EAAI,GAAK,MAC7E,MAASpI,EAAM,aAAa,EAAE,MAAM,QAAU,OAE9CA,EAAM,oBAAoB,EAAE,UAAYkI,CAC5C,EAEaG,GAAsBZ,GAAkB,CACjD,IAAMtC,EAAOpF,EAAO,eAAe,SAAS,CAAC,EAAE0H,CAAK,EAC9Ca,EAASvI,EAAO,eAAe,WAAW,CAAC,EAAE0H,CAAK,EAClDG,EAAQnH,EAAO,WAAW,KAAKgH,CAAK,EACtCS,EAAO,GACX,QAAS,EAAI,EAAG,EAAI/C,EAAK,OAAQ,IAC7B+C,GAAQ,wBAAwBN,EAAQ,EAAI,YAAc,SAAS,mBAAcH,IAAU,GAAK,IAAM,EAAItC,EAAK,CAAC,EAAE,QAAQ,MAAO/B,EAAO,GAAG,CAAC,EAAI+B,EAAK,CAAC,CAAC;AAAA,0BACrIyC,EAAQ,EAAI,YAAc,SAAS,oBAAoBA,EAAQ,EAAIU,EAAO,CAAC,EAAI,kBAAkB,aAGvHtI,EAAM,oBAAoB,EAAE,UAAYkI,CAC5C,EAEaK,GAAuB,CAACd,EAAeE,EAAoBpG,IAAkC,CACtG,GAAIA,IAAS,WAAY,CACrB,GAAIoG,IAAelH,EAAO,MAAM,OAAU,OAE1C,IAAI0H,EAAQ,GACNK,EAAQxI,EAAM,UAAUyH,EAAQ,CAAC,EAAE,EACrChH,EAAO,SAASkH,CAAU,EAAEF,CAAK,IAAM,GACnCE,IAAe,EACfQ,EAAQ,QACDR,IAAe,EACtBQ,EAAQ,YACDR,IAAe,EACtBQ,EAAQ,UACDR,IAAe,EACtBQ,EAAQ,UACDR,IAAe,IACtBQ,EAAQ,WAEZK,EAAM,SAAWlI,EAAW,WAAW,CAAC,GAAKA,EAAW,WAAW,CAAC,EAAI,EAAI,IACvEkI,EAAM,SAAW,EAC1BA,EAAM,MAAM,gBAAkBL,CAClC,SAAW5G,IAAS,WAAY,CAC5B,IAAMiH,EAAQxI,EAAM,UAAUyH,CAAK,EAAE,EACjChH,EAAO,SAASgH,CAAK,GAAK,GAC1Be,EAAM,UAAU,OAAO,UAAU,EACjCA,EAAM,UAAU,IAAI,SAAS,EAC7BA,EAAM,SAAWlI,EAAW,WAAW,CAAC,GAAKA,EAAW,WAAW,CAAC,EAAI,EAAI,IACrEG,EAAO,SAASgH,CAAK,EAAI,GAChCe,EAAM,UAAU,IAAI,UAAU,EAC9BA,EAAM,UAAU,OAAO,SAAS,EAChCA,EAAM,SAAW,IAEjBA,EAAM,UAAU,OAAO,UAAU,EACjCA,EAAM,UAAU,OAAO,SAAS,EAChCA,EAAM,SAAW,EAEzB,CACJ,EAEaC,EAAyB,CAAChB,EAAeE,EAAoBpG,IAAsF,CAC5J,IAAImH,EACAd,EACAe,EACAH,EACJ,GAAIjH,IAAS,cAAgBA,IAAS,kBAAmB,CACrD,GAAIoG,IAAelH,EAAO,MAAM,OAAU,OAC1CiI,EAAM3I,EAAO,GAAGwB,CAAI,MAAM,EAAEoG,CAAU,EAAE,IAAIF,CAAK,EACjDG,EAAQnH,EAAOc,CAAI,EAAEoG,CAAU,EAAEF,CAAK,EAEtC,IAAM1D,EAAQxC,IAAS,aAAe,GAAK,QAC3CoH,EAAc3I,EAAM,WAAW+D,CAAK,GAAG0D,EAAQ,CAAC,OAAO,EACvDzH,EAAM,WAAW+D,CAAK,GAAG0D,EAAQ,CAAC,KAAK,EAAE,YAAc,GAAGiB,CAAG,GAC7DF,EAAQxI,EAAM,WAAW+D,CAAK,GAAG0D,EAAQ,CAAC,OAAO,CACrD,SAAWlG,IAAS,iBAChBmH,EAAM3I,EAAO,mBAAmB,IAAI0H,CAAK,EACzCG,EAAQnH,EAAO,eAAegH,CAAK,EAEnCkB,EAAc3I,EAAM,eAAeyH,EAAQ,CAAC,OAAO,EACnDzH,EAAM,eAAeyH,EAAQ,CAAC,KAAK,EAAE,YAAc,GAAGiB,CAAG,GACzDF,EAAQxI,EAAM,eAAeyH,EAAQ,CAAC,OAAO,UACtClG,IAAS,MAAO,CACvB,GAAIoG,IAAelH,EAAO,MAAM,OAAU,OAC1CiI,EAAM3I,EAAO,QAAQ,IAAI4H,CAAU,EACnCC,EAAQnH,EAAO,IAAIkH,CAAU,EAE7BgB,EAAc3I,EAAM,UAAU,EAC9BA,EAAM,QAAQ,EAAE,YAAc,GAAG0I,CAAG,GACpCF,EAAQxI,EAAM,UAAU,CAC5B,MACI0I,EAAM3I,EAAO,gBAAgB4H,CAAU,EAAE,IAAIF,CAAK,EAClDG,EAAQnH,EAAO,YAAYkH,CAAU,EAAEF,CAAK,EAE5CkB,EAAc3I,EAAM,UAAUyH,EAAQ,CAAC,QAAQE,CAAU,OAAO,EAChE3H,EAAM,UAAUyH,EAAQ,CAAC,QAAQE,CAAU,KAAK,EAAE,YAAc,GAAGe,CAAG,GACtEF,EAAQxI,EAAM,UAAUyH,EAAQ,CAAC,QAAQE,CAAU,OAAO,EAG9DgB,EAAY,YAAc,GAAGf,CAAK,GAC9BA,GAASc,GACTC,EAAY,MAAM,MAAQ,oBAC1BH,EAAM,SAAWlI,EAAW,WAAW,CAAC,GAAKA,EAAW,WAAW,CAAC,EAAI,EAAI,IACrEsH,IAAU,GACjBe,EAAY,MAAM,MAAQ,GAC1BH,EAAM,SAAW,IAEjBG,EAAY,MAAM,MAAQ,qBAC1BH,EAAM,SAAW,EAEzB,EAEMhC,GAAiB,IAAM,CACzB,IAAMG,EAAOlG,EAAO,UAAU,KAC9B,GAAIV,EAAO,MAAM,cAAgB4G,EAAQ,OACzC,IAAMiC,EAAW7I,EAAO,cAClB8I,EAAO7I,EAAM,UAAU,EAE7BA,EAAM,aAAa,EAAE,YAAc2G,IAAS,EACxC,8DACA,0CAA0ClG,EAAO,UAAU,OAAS,SAAW,MAAM,8BACzFT,EAAM,cAAc,EAAE,YAAc2G,GAAQiC,EAAS,QAAU,oBAAsB,gBAAgBxF,EAAOwF,EAAS,SAASjC,CAAI,CAAC,CAAC,QACnI3G,EAAM,WAAW,EAAuB,IAAM,YAAY4I,EAAS,UAAUjC,CAAI,CAAC,GACnFkC,EAAK,YAAcD,EAAS,SAASjC,CAAI,EACzCkC,EAAK,MAAM,MAAQ,SAASD,EAAS,UAAUjC,CAAI,CAAC,SACpD5G,EAAO,MAAM,YAAc4G,CAC/B,EAEMY,GAAgB,IAAuB,CACzC,GAAIxH,EAAO,MAAM,eAAiBU,EAAO,MAAM,OAAU,OACzD,IAAMqI,EAAO/I,EAAO,eAAe,MAC7BgJ,EAAS,KAAK,IAAID,EAAK,OAAQrI,EAAO,QAAQ,MAAM,MAAM,CAAC,CAAC,EAE9DyH,EAAO,GACX,GAAIa,EAAS,EACT,QAAS,EAAI,EAAG,EAAIA,EAAQ,IAAK,CAC7B,IAAMC,EAAYF,EAAK,CAAC,EAAE,CAAC,EAAI,MAAQA,EAAK,CAAC,EAAE,CAAC,EAChDZ,GAAQ,iDAAiD9E,EAAO4F,CAAS,CAAC,IAAIjJ,EAAO,YAAY,KAAK+I,EAAK,CAAC,EAAE,CAAC,CAAC,CAAC,mCAAmC1F,EAAO0F,EAAK,CAAC,EAAE,CAAC,EAAG,CAAE,KAAM,MAAO,CAAC,CAAC,yCAAyC1F,EAAO4F,EAAYF,EAAK,CAAC,EAAE,CAAC,EAAG,CAAE,KAAM,SAAU,QAAS,EAAK,CAAC,CAAC,cACtS,MACKZ,EAAO,mDAChBlI,EAAM,iBAAiB,EAAE,UAAYkI,EAErC,IAAMe,EAAYxI,EAAO,QAAQ,MAAM,KACjCuI,EAAYC,EAAU,CAAC,EAAI,MAAQA,EAAU,CAAC,EACpDjJ,EAAM,WAAW,EAAE,UAAY,+DAA+DoD,EAAO4F,CAAS,CAAC,IAAIjJ,EAAO,YAAY,KAAKkJ,EAAU,CAAC,CAAC,CAAC,mCAAmC7F,EAAO6F,EAAU,CAAC,EAAG,CAAE,KAAM,MAAO,CAAC,CAAC,yCAAyC7F,EAAO4F,EAAYC,EAAU,CAAC,EAAG,CAAE,KAAM,SAAU,QAAS,EAAK,CAAC,CAAC,iBAC7UlJ,EAAO,MAAM,aAAeU,EAAO,MAAM,MAC7C,EAEa2C,EAAS,CAAC8F,EAA2BC,EAAW,CAAC,IAAuG,CACjK,GAAI,OAAOD,GAAU,SAAY,OAAOA,EAAM,OAAOC,CAAe,EACpE,IAAM5H,EAAO4H,EAAS,MAAQ,SAE1BpF,EACJ,GAAIxC,IAAS,SAAU,CACnB,IAAM6H,EAAW,KAAK,IAAIF,CAAK,EAC3BE,GAAY,EACZrF,EAAQ,aACDqF,GAAY,EAAI,IACvBF,GAAS,GACTnF,EAAQ,cACDqF,GAAY,EAAI,MACvBF,GAAS,KACTnF,EAAQ,YACDqF,GAAY,EAAI,OACvBF,GAAS,MACTnF,EAAQ,WACDqF,GAAY,EAAI,UACvBF,GAAS,SACTnF,EAAQ,YACDqF,GAAY,EAAI,YACvBF,GAAS,WACTnF,EAAQ,kBACDqF,GAAY,EAAI,YACvBF,GAAS,WACTnF,EAAQ,kBAERmF,GAAS,WACTnF,EAAQ,WAGRoF,EAAS,UAAY,SAAaA,EAAS,QAAU,GAC7D,SAAW5H,IAAS,OAAQ,CACxB,IAAM6H,EAAW,KAAK,IAAIF,CAAK,EAC/B,GAAIE,EAAW,GACXrF,EAAQ,kBACDqF,EAAW,KAAM,CACxB,IAAMC,EAAU,KAAK,MAAMH,EAAQ,EAAE,EAC/BI,EAAU,KAAK,MAAMJ,EAAQG,EAAU,EAAE,EAC/C,OAAIF,EAAS,UAAY,IAASG,IAAY,EAAY,GAAGD,CAAO,WAC7D,GAAGA,CAAO,YAAYC,CAAO,UACxC,SAAWF,EAAW,MAAO,CACzB,IAAMG,EAAQ,KAAK,MAAML,EAAQ,IAAI,EAC/BG,EAAU,KAAK,MAAMH,EAAQ,GAAKK,EAAQ,EAAE,EAClD,OAAIJ,EAAS,UAAY,IAASE,IAAY,EAAY,GAAGE,CAAK,SAC3D,GAAGA,CAAK,UAAUF,CAAO,UACpC,SAAWD,EAAW,SAAU,CAC5B,IAAMI,EAAO,KAAK,MAAMN,EAAQ,KAAK,EAC/BK,EAAQ,KAAK,MAAML,EAAQ,KAAOM,EAAO,EAAE,EACjD,OAAIL,EAAS,UAAY,IAASI,IAAU,EAAY,GAAGC,CAAI,QACxD,GAAGA,CAAI,SAASD,CAAK,QAChC,SAAWH,EAAW,WAAc,CAChC,IAAMK,EAAQ,KAAK,MAAMP,EAAQ,QAAQ,EACnCM,EAAO,KAAK,MAAMN,EAAQ,MAAQO,EAAQ,QAAQ,EACxD,OAAIN,EAAS,UAAY,IAASK,IAAS,EAAY,GAAGC,CAAK,SACxD,GAAGA,CAAK,UAAUD,CAAI,OACjC,MAAWJ,EAAW,YAClBF,GAAS,WACTnF,EAAQ,eACDqF,EAAW,YAClBF,GAAS,WACTnF,EAAQ,eAERmF,GAAS,WACTnF,EAAQ,QAGZoF,EAAS,QAAU,EAAEA,EAAS,UAAY,IAAS,KAAK,MAAMD,CAAK,IAAMA,GACzEC,EAAS,OAASD,GAAS,KAAOA,EAAQ,IAAM,EAAI,CACxD,CACA,GAAI,CAAC,SAASA,CAAK,EAAK,OAAOnF,IAAU,OAAY,GAAGmF,CAAK,IAAInF,CAAK,GAAK,GAAGmF,CAAK,GAEnF,IAAME,EAAW,KAAK,IAAIF,CAAK,EAC/B,GAAIE,GAAY,KAAQA,EAAW,MAAQA,EAAW,EAAI,CACtD,IAAMM,EAAYP,EAAS,QAAU,EACjCQ,EAAS,KAAK,MAAM,KAAK,MAAMP,CAAQ,CAAC,EACxCQ,EAAS,KAAK,MAAMV,EAAQ,KAAOS,EAASD,EAAU,EAAK,IAAMA,EACjE,KAAK,IAAIE,CAAM,IAAM,KACrBA,GAAU,GACVD,KAGJ,IAAIE,EAAWV,EAAS,QAAUS,EAAO,QAAQF,CAAS,EAAI,GAAGE,CAAM,GACvE,OAAIrI,IAAS,QAAkB,GAAGsI,CAAQ,IAAIF,CAAM,IACpDE,EAAW,GAAGA,EAAS,QAAQ,IAAKvJ,EAAW,OAAO,CAAC,CAAC,CAAC,IAAIqJ,CAAM,GAC5D5F,IAAU,OAAY,GAAG8F,CAAQ,IAAI9F,CAAK,GAAK8F,EAC1D,CAEA,IAAMH,EAAYP,EAAS,QAAU,KAAK,IAAI,EAAI,KAAK,MAAM,KAAK,MAAM,KAAK,IAAIC,EAAU,CAAC,CAAC,CAAC,EAAG,CAAC,EAC5FQ,EAAS,KAAK,MAAMV,EAAQ,IAAMQ,CAAS,EAAI,IAAMA,EAEvDG,EAAWV,EAAS,QAAUS,EAAO,QAAQF,CAAS,EAAI,GAAGE,CAAM,GACvE,OAAIrI,IAAS,QAAkBsI,GAC/BA,EAAWA,EAAS,QAAQ,IAAKvJ,EAAW,OAAO,CAAC,CAAC,EACjDsJ,GAAU,MAAOC,EAAWA,EAAS,QAAQ,uBAAwBvJ,EAAW,OAAO,CAAC,CAAC,GACtFyD,IAAU,OAAY,GAAG8F,CAAQ,IAAI9F,CAAK,GAAK8F,EAC1D,EAGajJ,EAAc,CAACmD,EAAQ,WAA6C,CAC7E,GAAM,CAAE,UAAA+F,EAAW,cAAAvG,CAAc,EAAIxD,EAC/B,CAAE,OAAAS,EAAQ,QAAA4E,EAAS,KAAM2E,EAAS,OAAAC,CAAO,EAAIvJ,EAAO,MACpDmB,EAASnB,EAAO,UAAU,OAC1BwJ,EAAYxJ,EAAO,WAAW,OAEpCqJ,EAAU,UAAY,CAAClI,EAAS,EAAIwD,CAAO,EAC3C,IAAM8E,EAAYJ,EAAU,UAC5B,GAAIlI,EACInB,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,GAAKyJ,EAAU,KAAK,CAAC,EACrDzJ,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,GAAKyJ,EAAU,KAAK,CAAC,EACrDzJ,EAAO,UAAU,MAAQ,GAAKyJ,EAAU,KAAK,CAAC,EAC9C9E,GAAW,GAAK3E,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAKyJ,EAAU,KAAK,CAAC,MAClE,CACC9E,IAAY,GAAK8E,EAAU,QAAQ,CAAC,EACxC,QAAS/H,EAAI1B,EAAO,YAAY,CAAC,EAAE,CAAC,EAAG0B,GAAK,EAAGA,IACvCiD,IAAYjD,GAAK+H,EAAU,QAAQ/H,CAAC,CAEhD,CAEA,QAASG,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,QAAW6H,KAAWC,GAAS,QAAQ9H,CAAC,MAAM,EAC1C6H,EAAQ,MAAM,QAAU3J,IAAW8B,EAAI,GAAK,OAEhD,QAAW6H,KAAWC,GAAS,QAAQ9H,CAAC,SAAS,EAC7C6H,EAAQ,MAAM,QAAUD,EAAU,SAAS5H,CAAC,EAAI,GAAK,OAEzD,QAAW6H,KAAWC,GAAS,QAAQ9H,CAAC,QAAQ,EAC5C6H,EAAQ,MAAM,QAAUJ,GAAWzH,EAAI,GAAK,MAEpD,CAEA,IAAM+H,EAAYrK,EAAM,WAAW,EAC7BsK,EAActK,EAAM,aAAa,EAevC,GAdIiK,IAAc,IACdK,EAAY,YAAc,iBAC1BA,EAAY,MAAM,MAAQ,GAC1BD,EAAU,YAAcP,EAAU,KAAK1E,CAAO,EAC9CiF,EAAU,MAAM,MAAQ,SAASP,EAAU,UAAU1E,CAAO,CAAC,WAE7DkF,EAAY,YAAc,oBAC1BA,EAAY,MAAM,MAAQ,kBAC1BD,EAAU,YAActK,EAAO,eAAe,KAAKkK,CAAS,EAC5DI,EAAU,MAAM,MAAQ,SAAStK,EAAO,eAAe,MAAMkK,CAAS,CAAC,UAG3EjK,EAAM,aAAa,EAAE,MAAM,QAAUkK,EAAU,OAAS,EAAI,GAAK,OAC7DzJ,EAAO,QAAQ,CAAC,EAAE,OAAS,IAAM,CAACmB,GAAUwD,EAAU,KAAMpF,EAAM,mBAAmB,EAAE,MAAM,QAAU,QACvG4B,EACA5B,EAAM,YAAY,EAAE,YAAcoF,GAAW,EAAI,uBAAyB,sBAC1EpF,EAAM,wBAAwB,EAAE,MAAM,QAAUiK,IAAc,EAAI,GAAK,QACnED,GAAU,GAAKD,GAAW,KAC1B/J,EAAM,sBAAsB,EAAE,MAAM,QAAU,GAC9CA,EAAM,yBAAyB,EAAE,MAAM,QAAU,GACjDA,EAAM,iBAAiB,EAAE,MAAM,QAAU,GACzCA,EAAM,qBAAqB,EAAE,MAAM,QAAU,QAGjD,SAASsC,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,IAAMiI,EAAWR,GAAW,GAAKC,GAAU1H,EAAI,EAC/CtC,EAAM,cAAcM,EAAW,WAAW,CAAC,EAAI,OAAS,SAAS,GAAGgC,CAAC,EAAE,EAAE,MAAM,QAAUiI,EAAW,GAAK,OACzGvK,EAAM,kBAAkBsC,CAAC,KAAK,EAAE,MAAM,QAAUiI,EAAW,GAAK,OAChEvK,EAAM,kBAAkBsC,CAAC,KAAK,EAAE,MAAM,QAAUiI,EAAW,GAAK,MACpE,CAGJ,GAAIxG,IAAU,OAAQ,CAClBjD,EAAc,EACdD,GAAa,EACb,MACJ,CACA,GAAIP,EAAW,WAAW,CAAC,EAAG,CAC1B,IAAMkK,EAAexK,EAAM,cAAc,EACzCwK,EAAa,YAAcC,EAAY,UAAUjK,CAAM,EACnDuD,IAAU,UAAY2G,GAAkB,CAAC,EACzClK,IAAW,EACXgK,EAAa,MAAM,QAAU,GACtBhK,IAAW,IAClBgK,EAAa,MAAM,QAAU,OAErC,CACA,GAAIlK,EAAW,WAAW,CAAC,EAAG,CAC1BN,EAAM,YAAY,EAAE,aAAa,aAAc,GAAGyK,EAAY,UAAUjK,CAAM,CAAC,kBAAkB,CAAC,GAAI,IAAK,IAAK,IAAK,IAAK,WAAW,EAAEA,CAAM,CAAC,GAAG,EACjJ,QAAS2B,EAAI,EAAGA,EAAIoB,EAAc,UAAU/C,CAAM,EAAG2B,IACjDnC,EAAM,WAAWmC,CAAC,EAAE,EAAE,aAAa,aAAc,GAAGoB,EAAc,KAAK/C,CAAM,EAAE2B,CAAC,CAAC,YAAYA,CAAC,GAAG,EAErGnC,EAAM,iBAAiB,EAAE,aAAa,aAAc,GAAG,CAAC,GAAI,SAAU,QAAS,OAAQ,WAAY,QAAQ,EAAEQ,CAAM,CAAC,aAAa,EACjIR,EAAM,SAAS,EAAE,YAAc,4BAA4B8J,EAAU,KAAKtJ,CAAM,CAAC,IAAIuD,IAAU,UAAYkG,IAAc,GAAK,sBAAsBlK,EAAO,eAAe,KAAKkK,CAAS,CAAC,IAAM,EAAE,EACrM,CAEA,QAAW/B,IAAQ,CAAC,UAAW,SAAS,EACpClI,EAAM,GAAGkI,CAAI,MAAM,EAAE,YAAc,gBACnClI,EAAM,GAAGkI,CAAI,QAAQ,EAAE,YAAc,gBACrClI,EAAM,GAAGkI,CAAI,MAAM,EAAE,YAAc,YAEvC,GAAInE,IAAU,SAAU,CACpB,QAASzB,EAAI,EAAGA,GAAK,EAAGA,IACpBtC,EAAM,GAAG8J,EAAU,KAAKxH,CAAC,CAAC,QAAQ,EAAE,MAAM,eAAiB9B,IAAW8B,EAAI,YAAc,GACxFvC,EAAO,YAAYuC,CAAC,EAAE,CAAC,EAAI,GAE/BvC,EAAO,YAAc,GACrBA,EAAO,gBAAkB,CAAC,GAAI,EAAE,EAChCA,EAAO,cAAgB,CAAC,GAAI,EAAE,EAC9BA,EAAO,cAAgB,CAAC,GAAI,EAAE,EAC9BA,EAAO,MAAM,aAAe,GAC5B,QAAWmI,IAAQ,CAAC,cAAe,YAAY,EAC3ClI,EAAM,GAAGkI,CAAI,OAAO,EAAE,YAAc,GACpClI,EAAM,GAAGkI,CAAI,MAAM,EAAE,YAAc,gBAEvClI,EAAM,mBAAmB,EAAE,YAAc,gBACzCA,EAAM,iBAAiB,EAAE,YAAc,kBACvCA,EAAM,qBAAqB,EAAE,UAAY,wKACzCiI,GAAwB,EAAE,EAE1BlI,EAAO,WAAaS,EACpB,QAAS2B,EAAI,EAAGA,EAAIpC,EAAO,aAAa,UAAU,OAAQoC,IAAOoG,GAAqBpG,EAAG,EAAG,UAAU,EACtGE,GAA0B,EAC1BsI,GAAc,EAEdC,GAAgB,KAAK,EACrBC,GAAkB,aAAc,KAAK,EACrCA,GAAkB,kBAAmB,KAAK,EAC1CC,GAAgB,CACpB,CAEA,IAAMC,EAAehL,EAAO,aAAaS,CAAM,EACzCwK,EAAiBjL,EAAO,eAAeS,CAAM,EAC7CyK,EAAsBlL,EAAO,oBAAoBS,CAAM,EACvD0K,EAAkBT,EAAY,gBAAgBjK,CAAM,EAC1D,QAAS2B,EAAIoB,EAAc,UAAU/C,CAAM,EAAG2B,EAAIsI,EAAY,gBAAiBtI,IAC3EnC,EAAM,WAAWmC,CAAC,OAAO,EAAE,MAAM,QAAU,OAC3CnC,EAAM,WAAWmC,CAAC,EAAE,EAAE,MAAM,QAAU,OAE1C,QAASA,EAAI4I,EAAa,UAAW5I,EAAIsI,EAAY,eAAgBtI,IACjEnC,EAAM,UAAUmC,EAAI,CAAC,EAAE,EAAE,MAAM,QAAU,OAE7C,QAASA,EAAI6I,EAAe,UAAW7I,EAAIsI,EAAY,gBAAiBtI,IACpEnC,EAAM,WAAWmC,EAAI,CAAC,EAAE,EAAE,MAAM,QAAU,OAE9C,QAASA,EAAI8I,EAAoB,UAAW9I,EAAIsI,EAAY,qBAAsBtI,IAC9EnC,EAAM,gBAAgBmC,EAAI,CAAC,EAAE,EAAE,MAAM,QAAU,OAEnD,QAASA,EAAI+I,EAAgB,OAAQ/I,EAAIsI,EAAY,mBAAoBtI,IACrEnC,EAAM,aAAamC,EAAI,CAAC,EAAE,EAAE,MAAM,QAAU,OAGhD,IAAMgJ,EAAkB,CAAC,EACnBC,EAAkB,CAAC,EACnBC,EAAmB,CAAC,EACpBC,EAAkB,CAAC,EACrB9K,IAAW,GACX2K,EAAM,KAAK,EAAG,EAAG,EAAG,CAAC,EACrBC,EAAM,KAAK,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAC3BE,EAAM,KAAK,EAAG,EAAG,CAAC,EACd1J,GACAuJ,EAAM,KAAK,EAAG,CAAC,EACfE,EAAO,KAAK,EAAG,CAAC,EAChBrL,EAAM,iBAAiB,EAAE,MAAM,QAAU,KAEzCA,EAAM,UAAU,EAAE,MAAM,QAAU,OAClCA,EAAM,UAAU,EAAE,MAAM,QAAU,OAClCA,EAAM,iBAAiB,EAAE,MAAM,QAAU,SAEtCQ,IAAW,GAClB2K,EAAM,KAAK,CAAC,EACZC,EAAM,KAAK,EAAG,CAAC,EACfC,EAAO,KAAK,EAAG,CAAC,EAChBC,EAAM,KAAK,EAAG,CAAC,EACX1J,IAAU5B,EAAM,WAAW,EAAE,MAAM,QAAU,KAC1CQ,IAAW,GAClB2K,EAAM,KAAK,EAAG,CAAC,EACfC,EAAM,KAAK,EAAG,CAAC,EACfC,EAAO,KAAK,CAAC,EACbC,EAAM,KAAK,CAAC,EACZvL,EAAO,MAAM,YAAc,GAC3BC,EAAM,YAAY,EAAE,MAAM,QAAU,GACpCA,EAAM,WAAW,EAAE,MAAM,QAAU4B,EAAS,GAAK,QAC1CpB,IAAW,GAClB2K,EAAM,KAAK,EAAG,EAAG,CAAC,EAClBC,EAAM,KAAK,EAAG,EAAG,CAAC,EAClBC,EAAO,KAAK,CAAC,EACbC,EAAM,KAAK,EAAG,CAAC,EACftL,EAAM,WAAW,EAAE,MAAM,QAAU,GACnCA,EAAM,iBAAiB,EAAE,MAAM,QAAU,IAClCQ,IAAW,IAClB6K,EAAO,KAAK,CAAC,EACbC,EAAM,KAAK,EAAG,EAAG,CAAC,EAClBtL,EAAM,YAAY,EAAE,MAAM,QAAU,OACpCA,EAAM,WAAW,EAAE,MAAM,QAAU,GAC/B4B,IACA5B,EAAM,WAAW,EAAE,MAAM,QAAU,GACnCmL,EAAM,KAAK,EAAG,CAAC,EACfC,EAAM,KAAK,EAAG,CAAC,EACfpL,EAAM,iBAAiB,EAAE,MAAM,QAAU,KAKjDA,EAAM,WAAW,EAAE,MAAM,QAAU,GACnCA,EAAM,WAAW,EAAE,MAAM,QAAU,GACnCA,EAAM,UAAU,EAAE,MAAM,QAAU,GAClCA,EAAM,YAAY,EAAE,MAAM,QAAU,GACpCA,EAAM,iBAAiB,EAAE,MAAM,QAAU,GACrCQ,IAAW,IAAKR,EAAM,UAAU,EAAE,MAAM,QAAU,QACtDA,EAAM,WAAW,EAAE,MAAM,QAAUQ,IAAW,GAAKA,IAAW,EAAI,GAAK,OACvER,EAAM,gBAAgB,EAAE,MAAM,QAAUQ,IAAW,GAAKA,IAAW,EAAI,GAAK,OAC3ER,EAAM,eAAe,EAAuB,MAAQoD,EAAO3C,EAAO,QAAQ,KAAK,KAAKD,CAAM,EAAG,CAAE,KAAM,OAAQ,CAAC,EAE/G,IAAM+K,EAAed,EAAY,aAAajK,CAAM,EAC9CgL,EAAejI,EAAc,KAAK/C,CAAM,EACxCiL,EAAelI,EAAc,KAAK/C,CAAM,EACxCkL,EAAoBnI,EAAc,UAAU/C,CAAM,EACxD,QAAS2B,EAAI,EAAGA,EAAIoB,EAAc,UAAU/C,CAAM,EAAG2B,IAChDnC,EAAM,WAAWmC,CAAC,OAAO,EAAuB,IAAM,YAAYoJ,EAAapJ,EAAI,CAAC,CAAC,GACtFnC,EAAM,WAAWmC,CAAC,UAAU,EAAE,YAAcqJ,EAAarJ,CAAC,EAC1DnC,EAAM,WAAWmC,CAAC,MAAM,EAAE,YAAcqJ,EAAarJ,CAAC,EACtDwJ,EAAS,YAAYxJ,CAAC,gBAAgB,EAAE,YAAcsJ,EAAatJ,CAAC,EACpEnC,EAAM,WAAWmC,CAAC,SAAS,EAAE,MAAQuJ,EAAkBvJ,EAAI,CAAC,EAC5DyJ,EAAWzJ,EAAG,WAAW,EAE7BnC,EAAM,mBAAmB,EAAE,YAAcwL,EAAa,CAAC,EACvDI,EAAW,EAAG,WAAW,EAEzB,IAAMjD,EAAc8B,EAAY,YAAYjK,CAAM,EAClD,QAAS2B,EAAI,EAAGA,EAAI4I,EAAa,UAAW5I,IAAK,CAC7C,IAAMqG,EAAQxI,EAAM,UAAUmC,EAAI,CAAC,EAAE,EACjCgJ,EAAM,SAAShJ,CAAC,IAAKqG,EAAM,MAAM,QAAU,IAC/CA,EAAM,IAAM,YAAYG,EAAYxG,CAAC,CAAC,GACtCqG,EAAM,IAAMuC,EAAa,KAAK5I,CAAC,EAC/BoG,GAAqBpG,EAAG3B,EAAQ,UAAU,CAC9C,CAEA,IAAMqL,GAAepB,EAAY,aAAajK,CAAM,EACpD,QAAS2B,EAAI,EAAGA,EAAI6I,EAAe,UAAW7I,IAAK,CAC/C,IAAM2J,EAAO9L,EAAM,WAAWmC,EAAI,CAAC,EAAE,EACjCiJ,EAAM,SAASjJ,CAAC,IAAK2J,EAAK,MAAM,QAAU,IAC9CA,EAAK,UAAYD,GAAa1J,CAAC,EAAE,CAAC,EAClC,IAAMqG,GAAQxI,EAAM,WAAWmC,EAAI,CAAC,OAAO,EAC3CqG,GAAM,IAAM,YAAYqD,GAAa1J,CAAC,EAAE,CAAC,CAAC,GAC1CqG,GAAM,IAAMwC,EAAe,KAAK7I,CAAC,EACjCsG,EAAuBtG,EAAG3B,EAAQ,YAAY,CAClD,CAEA,IAAMuL,GAAoBtB,EAAY,kBAAkBjK,CAAM,EAC9D,QAAS2B,EAAI,EAAGA,EAAI8I,EAAoB,UAAW9I,IAAK,CACpD,IAAM2J,EAAO9L,EAAM,gBAAgBmC,EAAI,CAAC,EAAE,EACtCkJ,EAAO,SAASlJ,CAAC,IAAK2J,EAAK,MAAM,QAAU,IAC/CA,EAAK,UAAYC,GAAkB5J,CAAC,EAAE,CAAC,EACvC,IAAMqG,GAAQxI,EAAM,gBAAgBmC,EAAI,CAAC,OAAO,EAChDqG,GAAM,IAAM,YAAYuD,GAAkB5J,CAAC,EAAE,CAAC,CAAC,GAC/CqG,GAAM,IAAMyC,EAAoB,KAAK9I,CAAC,EACtCsG,EAAuBtG,EAAG3B,EAAQ,iBAAiB,CACvD,CACAmL,EAAS,wBAAwB,EAAE,UAAYlB,EAAY,qBAAqBjK,CAAM,EAAE,CAAC,EACxFmL,EAAS,wBAAwB,EAAuB,IAAM,YAAYlB,EAAY,qBAAqBjK,CAAM,EAAE,CAAC,CAAC,GACtHiI,EAAuB,EAAGjI,EAAQ,KAAK,EAEvC,QAAS2B,EAAI,EAAGA,EAAI+I,EAAgB,OAAQ/I,IACpCmJ,EAAM,SAASnJ,CAAC,IAAKnC,EAAM,aAAamC,EAAI,CAAC,EAAE,EAAE,MAAM,QAAU,IACpEwJ,EAAS,cAAcxJ,EAAI,CAAC,QAAQ,EAAuB,IAAM,YAAY+I,EAAgB/I,CAAC,EAAE,CAAC,CAAC,GACnGwJ,EAAS,cAAcxJ,EAAI,CAAC,MAAM,EAAE,UAAY+I,EAAgB/I,CAAC,EAAE,CAAC,EACpEnC,EAAM,aAAamC,EAAI,CAAC,MAAM,EAAE,YAAc+I,EAAgB/I,CAAC,EAAE,CAAC,EAGtE,IAAM6J,GAAO,SAAS,KAAK,MACvBxL,IAAW,GACXwL,GAAK,eAAe,cAAc,EAClCA,GAAK,eAAe,uBAAuB,EAC3CA,GAAK,eAAe,2BAA2B,EAC/CA,GAAK,eAAe,gBAAgB,IAEpCA,GAAK,YAAY,eAAgB,SAASlC,EAAU,UAAUtJ,CAAM,CAAC,QAAQ,EAC7EwL,GAAK,YAAY,wBAAyBlC,EAAU,aAAatJ,CAAM,CAAC,EACxEwL,GAAK,YAAY,4BAA6BlC,EAAU,iBAAiBtJ,CAAM,CAAC,EAChFwL,GAAK,YAAY,iBAAkB,sBAAsBxL,CAAM,eAAe,GAElFR,EAAM,eAAe,EAAE,YAAc8J,EAAU,KAAKtJ,CAAM,EAEtDT,EAAO,aAAeS,GAAUb,EAAUU,GAASN,EAAO,GAAG,EAAIA,EAAO,IAAM,OAAO,EACzFkM,GAAY,CAChB,ECn8CO,IAAMC,GAAQ,CAACC,EAAqEC,IAAyB,CAChH,GAAID,IAAS,SAAU,CACnB,GAAM,CAAE,SAAAE,CAAS,EAAIC,EAErB,QAASC,EAAI,EAAGA,EAAIF,EAAS,OAAQE,IAC5BC,GAAiBD,EAAG,EAAG,UAAU,IAEtCF,EAASE,CAAC,EAAI,EACdE,GAAqBF,EAAG,EAAG,UAAU,GAEzCG,GAAgB,EAEhBJ,EAAO,SAAS,KAAO,OACvBA,EAAO,SAAS,MAAQ,CAAC,EAAG,EAAG,CAAC,CACpC,CAEA,QAAWK,KAAKP,EAAY,CACpBO,IAAM,GACNC,EAAO,iBAAiB,UAAY,EACpCA,EAAO,iBAAiB,UAAY,GAC7BD,IAAM,IACbC,EAAO,aAAa,UAAY,GAGpC,IAAMC,EAAYP,EAAO,UAAUK,CAAC,EACpCE,EAAU,CAAC,EAAE,QAAQ,SAASC,EAAY,UAAUH,CAAC,EAAE,CAAC,EAAE,OAAO,EACjEE,EAAU,CAAC,EAAE,MAAM,SAASC,EAAY,UAAUH,CAAC,EAAE,CAAC,EAAE,OAAO,EAC/D,QAASJ,EAAI,EAAGA,EAAIK,EAAO,cAAc,UAAUD,CAAC,EAAGJ,IAC9CC,GAAiBD,EAAGI,EAAG,YAAY,IAExCE,EAAUN,CAAM,EAAE,KAAO,EACzBM,EAAUN,CAAC,EAAE,QAAQ,SAAS,GAAG,EACjCM,EAAUN,CAAC,EAAE,MAAM,SAAS,GAAG,GAGnC,GAAIJ,IAAS,YAAe,SAC5B,IAAMY,EAAWT,EAAO,SAASK,CAAC,EAElC,QAASJ,EAAI,EAAGA,EAAIK,EAAO,aAAaD,CAAC,EAAE,UAAWJ,IAC7CC,GAAiBD,EAAGI,EAAG,UAAU,IAEtCI,EAASR,CAAC,EAAI,EACdE,GAAqBF,EAAGI,EAAG,UAAU,GAIzC,GAFAK,GAAgBL,CAAC,EAEbR,IAAS,eAAkB,SAC/B,IAAMc,EAAaX,EAAO,WAAWK,CAAC,EAEtC,QAASJ,EAAI,EAAGA,EAAIK,EAAO,eAAeD,CAAC,EAAE,UAAWJ,IAC/CC,GAAiBD,EAAGI,EAAG,YAAY,IAExCM,EAAWV,CAAC,EAAI,EAChBW,EAAuBX,EAAGI,EAAG,YAAY,EACzCQ,GAAsBZ,EAAGI,EAAG,YAAY,GAI5C,GAFAS,GAAkB,aAAcT,CAAC,EAE7BR,IAAS,OAAU,SACvB,IAAMkB,EAAkBf,EAAO,gBAAgBK,CAAC,EAEhD,QAASJ,EAAI,EAAGA,EAAIK,EAAO,oBAAoBD,CAAC,EAAE,UAAWJ,IACpDC,GAAiBD,EAAGI,EAAG,iBAAiB,IAE7CU,EAAgBd,CAAC,EAAI,EACrBW,EAAuBX,EAAGI,EAAG,iBAAiB,EAC9CQ,GAAsBZ,EAAGI,EAAG,iBAAiB,GAEjDS,GAAkB,kBAAmBT,CAAC,CAC1C,EAEIL,EAAO,UAAU,QAAUH,IAAS,eAChCG,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,GAE3BA,EAAO,UAAU,OAAS,EAC1BM,EAAO,cAAc,WAAa,GAC7BU,GAAa,GAG1BC,GAA0B,EACtBnB,EAAW,SAASE,EAAO,MAAM,MAAM,GAAKkB,EAAc,EAC9DC,GAAa,CACjB,EAEaC,GAAa,CAACtB,EAAsBuB,EAAS,WAA0C,CAChG,QAAWhB,KAAKP,EAAY,CACxB,IAAMS,EAAYP,EAAO,UAAUK,CAAC,EAC9BiB,EAAqBd,EAAY,UAAUH,CAAC,EAAE,CAAC,EAAE,QAEvD,QAAS,EAAI,EAAG,EAAIC,EAAO,cAAc,UAAUD,CAAC,EAAG,IACnDE,EAAU,CAAM,EAAE,KAAO,EACzBA,EAAU,CAAC,EAAE,QAAQ,SAAS,GAAG,EACjCA,EAAU,CAAC,EAAE,MAAM,SAAS,GAAG,EAC/BA,EAAU,CAAC,EAAE,UAAU,SAAS,GAAG,EAYvC,GAVAA,EAAU,CAAC,EAAE,QAAQ,SAASe,CAAkB,EAChDf,EAAU,CAAC,EAAE,MAAM,SAASe,CAAkB,EAC9Cf,EAAU,CAAC,EAAE,UAAU,SAASe,CAAkB,EAElDtB,EAAO,SAASK,CAAC,EAAIkB,EAAWf,EAAY,SAASH,CAAC,CAAC,EACvDL,EAAO,WAAWK,CAAC,EAAIkB,EAAWf,EAAY,WAAWH,CAAC,CAAC,EAC3DL,EAAO,gBAAgBK,CAAC,EAAIkB,EAAWf,EAAY,gBAAgBH,CAAC,CAAC,EACrEK,GAAgBL,CAAC,EAEjBC,EAAO,YAAYD,CAAC,EAAE,CAAC,EAAI,GACvBA,IAAM,EACFL,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,IAAKA,EAAO,IAAI,CAAC,EAAI,GACpDA,EAAO,UAAU,QAAU,EAC3BA,EAAO,UAAU,OAAS,EAC1BM,EAAO,cAAc,WAAa,UAC3BD,IAAM,EACTL,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,IAAKA,EAAO,IAAI,CAAC,EAAI,GACpDA,EAAO,aAAa,OAAO,SAAS,GAAG,EACvCM,EAAO,iBAAiB,UAAY,EACpCA,EAAO,iBAAiB,UAAY,UAC7BD,IAAM,EACTL,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,IAAKA,EAAO,IAAI,CAAC,EAAI,GAChDA,EAAO,UAAU,OACjBA,EAAO,UAAU,KAAO,GAExBA,EAAO,UAAU,KAAO,EACxBO,EAAU,CAAC,EAAE,QAAQ,SAAS,WAAW,WAEtCF,IAAM,EAAG,CACZL,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,IAAKA,EAAO,IAAI,CAAC,EAAI,GACpDM,EAAO,aAAa,UAAY,EAChCN,EAAO,SAAS,KAAO,OACvBA,EAAO,SAAS,MAAQ,CAAC,EAAG,EAAG,CAAC,EAChCA,EAAO,SAAWuB,EAAWf,EAAY,QAAQ,EACjDR,EAAO,SAAS,CAAC,EAAIA,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,EAAI,EACzDI,GAAgB,EAChB,QAAS,EAAI,EAAG,EAAIJ,EAAO,SAAS,OAAQ,IAAOG,GAAqB,EAAG,EAAG,UAAU,EACxFG,EAAO,YAAc,EACzB,MAAWD,IAAM,GACTL,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,IAAKA,EAAO,IAAI,CAAC,EAAI,EAE5D,CACAA,EAAO,eAAe,CAAC,EAAIA,EAAO,YAAY,CAAC,EAAE,CAAC,EAElD,QAASC,EAAI,EAAGA,EAAIO,EAAY,eAAe,OAAQP,IAAOuB,EAAkBvB,EAAG,EAAG,gBAAgB,EACtG,QAAWI,KAAKP,EAAY,CACxB,QAASG,EAAI,EAAGA,EAAIK,EAAO,eAAeD,CAAC,EAAE,UAAWJ,IAAOuB,EAAkBvB,EAAGI,EAAG,YAAY,EACnG,QAASJ,EAAI,EAAGA,EAAIK,EAAO,oBAAoBD,CAAC,EAAE,UAAWJ,IAAOuB,EAAkBvB,EAAGI,EAAG,iBAAiB,EAC7GmB,EAAkB,EAAGnB,EAAG,KAAK,EAE7BS,GAAkB,aAAcT,CAAC,EACjCS,GAAkB,kBAAmBT,CAAC,CAC1C,CAIA,GAFAY,GAA0B,EAEtBI,IAAW,KACXI,EAAYJ,CAAM,EACdA,IAAW,QAAQ,CACnB,IAAMK,EAAS1B,EAAO,MAAM,OAC5B,QAASC,EAAI,EAAGA,EAAIK,EAAO,aAAaoB,CAAM,EAAE,UAAWzB,IAAOE,GAAqBF,EAAGyB,EAAQ,UAAU,CAChH,CAER,EAEaC,GAAc,IAAM,CAC7B,QAAStB,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,IAAME,EAAYP,EAAO,UAAUK,CAAC,EAC9BiB,EAAqBd,EAAY,UAAUH,CAAC,EAAE,CAAC,EAAE,QAEvD,QAASJ,EAAI,EAAGA,EAAIO,EAAY,UAAUH,CAAC,EAAE,OAAQJ,IACjDM,EAAUN,CAAM,EAAE,KAAO,EACzBM,EAAUN,CAAC,EAAE,QAAQ,SAAS,GAAG,EACjCM,EAAUN,CAAC,EAAE,MAAM,SAAS,GAAG,EAC/BM,EAAUN,CAAC,EAAE,UAAU,SAAS,GAAG,EACnCM,EAAUN,CAAC,EAAE,QAAQ,SAAS,GAAG,EAErCM,EAAU,CAAC,EAAE,QAAQ,SAASe,CAAkB,EAChDf,EAAU,CAAC,EAAE,MAAM,SAASe,CAAkB,EAC9Cf,EAAU,CAAC,EAAE,UAAU,SAASe,CAAkB,EAClDf,EAAU,CAAC,EAAE,QAAQ,SAASe,CAAkB,EAEhDtB,EAAO,SAASK,CAAC,EAAIkB,EAAWf,EAAY,SAASH,CAAC,CAAC,EACvDL,EAAO,WAAWK,CAAC,EAAIkB,EAAWf,EAAY,WAAWH,CAAC,CAAC,EAC3DL,EAAO,gBAAgBK,CAAC,EAAIkB,EAAWf,EAAY,gBAAgBH,CAAC,CAAC,EACrEL,EAAO,YAAYK,CAAC,EAAIkB,EAAWf,EAAY,YAAYH,CAAC,CAAC,EAC7DL,EAAO,WAAWK,CAAC,EAAIkB,EAAWf,EAAY,WAAWH,CAAC,CAAC,EAC3DL,EAAO,IAAIK,CAAC,EAAI,EAChBL,EAAO,OAAOK,CAAC,EAAI,CACvB,CACA,QAASJ,EAAI,EAAGA,EAAIO,EAAY,eAAe,OAAQP,IACnDD,EAAO,eAAeC,CAAC,EAAI,EAC3BuB,EAAkBvB,EAAG,EAAG,gBAAgB,EAI5CD,EAAO,UAAU,OAAS,EAC1BA,EAAO,UAAU,UAAY,EAC7BA,EAAO,UAAU,QAAU,EAC3BM,EAAO,cAAc,WAAa,EAGlCN,EAAO,aAAa,OAAO,SAAS,GAAG,EACvCA,EAAO,aAAa,UAAU,SAAS,GAAG,EAC1CM,EAAO,iBAAiB,UAAY,EACpCA,EAAO,iBAAiB,UAAY,EAGhCN,EAAO,UAAU,OACjBA,EAAO,UAAU,KAAO,GAExBA,EAAO,UAAU,KAAO,EACxBA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS,WAAW,GAIvDM,EAAO,aAAa,UAAY,EAChCN,EAAO,SAAS,KAAO,OACvBA,EAAO,SAAS,QAAU,OAC1BA,EAAO,SAAS,MAAQ,CAAC,EAAG,EAAG,CAAC,EAChCA,EAAO,SAAWuB,EAAWf,EAAY,QAAQ,EAGjDF,EAAO,eAAe,MAAQ,CAAC,EAC/BN,EAAO,QAAQ,MAAM,KAAO,CAAC,EAAG,EAAG,CAAC,EACpCA,EAAO,MAAM,OAAS,EACtBA,EAAO,MAAM,KAAO,EACpBA,EAAO,MAAM,KAAO,EACpBA,EAAO,MAAM,KAAO,EACpBA,EAAO,KAAK,MAAQ,EACpB,QAASC,EAAI,EAAGA,EAAID,EAAO,QAAQ,OAAQC,IACvCD,EAAO,QAAQC,CAAC,EAAE,QAAU,EAC5BD,EAAO,QAAQC,CAAC,EAAE,MAAQ,EAG9B2B,GAAmB,EACnB,QAASvB,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,QAASJ,EAAI,EAAGA,EAAIK,EAAO,eAAeD,CAAC,EAAE,UAAWJ,IAAOuB,EAAkBvB,EAAGI,EAAG,YAAY,EACnG,QAASJ,EAAI,EAAGA,EAAIK,EAAO,oBAAoBD,CAAC,EAAE,UAAWJ,IAAOuB,EAAkBvB,EAAGI,EAAG,iBAAiB,EAC7GmB,EAAkB,EAAGnB,EAAG,KAAK,EAC7B,QAASJ,EAAI,EAAGA,EAAIK,EAAO,gBAAgBD,CAAC,EAAE,UAAWJ,IAAOuB,EAAkBvB,EAAGI,EAAG,aAAa,EACrG,QAASJ,EAAI,EAAGA,EAAIO,EAAY,WAAWH,CAAC,EAAE,OAAQJ,IAAO4B,GAA8B5B,EAAGI,CAAC,CACnG,CAEAoB,EAAY,QAAQ,CACxB,EC7OO,IAAMK,EAAmB,CAE5B,cAAe,CAACC,EAAWC,EAAO,WAAW,CAAC,EAAE,CAAC,IAAc,CAC3D,IAAIC,EAAO,EAAIF,EACf,OAAIC,EAAO,WAAW,SAAW,IAAKC,GAAQA,EAAO,GAAK,GACnDA,CACX,EAEA,WAAY,IAAc,GAAK,EAAID,EAAO,WAAW,CAAC,EAAE,CAAC,EACzD,WAAY,KAAe,IAAMA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,IAC5D,YAAa,IAAc,GAAMA,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,EAE5D,YAAa,CAACE,EAAS,IAAc,CACjC,GAAI,CAACF,EAAO,UAAU,OAAU,MAAO,OAAQA,EAAO,WAAW,CAAC,EAAE,CAAC,EAAIE,GAAU,EACnF,IAAMC,EAAaC,EAAO,cAAc,MACxC,OAAOD,EAAa,EAAIA,EAAa,GAAKA,EAAa,CAC3D,EACA,SAAU,CAACE,EAAQL,EAAO,gBAAgB,CAAC,EAAE,CAAC,IAAcK,GAAS,EAAI,IAAMA,GAAS,EAAI,KAAO,GAAK,EAAIA,GAAS,GACrH,SAAU,CAACA,EAAQL,EAAO,gBAAgB,CAAC,EAAE,CAAC,IAAcK,EAAQ,GACpE,SAAU,IAAc,EAAID,EAAO,cAAc,KAAO,IACxD,OAAQ,CAACE,EAAO,KAAqB,CACjC,IAAMC,EAAS,IAAIC,EAAUR,EAAO,aAAa,MAAM,EAAE,KAAK,GAAG,EACjE,OAAIM,GAAQC,EAAO,KAAKH,EAAO,iBAAiB,GAAG,EAE/CG,EAAO,SAAS,KAAK,GAAKA,EAAO,MAAM,KAAK,EAAE,MAAM,EAAG,EAAE,KAAK,KAAK,EAChEA,CACX,EACA,WAAY,IAAiB,CACzB,IAAME,EAAUT,EAAO,UAAU,CAAC,EAAE,CAAC,EACrC,GAAIA,EAAO,WAAW,SAAW,EAC7B,OAAO,IAAIQ,EAAU,MAAM,EAAE,OAAOC,EAAQ,QAAQ,SAAS,EAAIA,EAAQ,OAAS,GAAMA,EAAQ,IAAI,EACjG,CACH,IAAMF,EAAS,IAAIC,EAAU,MAAM,EAAE,OAAOC,EAAQ,QAAQ,SAAS,EAAIA,EAAQ,OAAS,GAAM,KAAK,IAAIA,EAAQ,KAAM,GAAG,CAAC,EAC3H,OAAIA,EAAQ,KAAO,KAAOF,EAAO,SAAS,IAAIC,EAAU,MAAM,EAAE,MAAMC,EAAQ,KAAO,GAAG,CAAC,EAClFF,CACX,CACJ,EACA,WAAY,IAAc,KAAO,GAAKP,EAAO,YAAY,CAAC,EAAE,CAAC,EAE7D,WAAY,CAACD,EAAWC,EAAO,WAAW,CAAC,EAAE,CAAC,KAAe,EAAID,EAAW,GAAK,IAEjF,WAAY,CAACA,EAAWC,EAAO,WAAW,CAAC,EAAE,CAAC,KAAe,EAAID,EAAW,GAAK,IACjF,WAAY,IAAc,EAAIC,EAAO,WAAW,CAAC,EAAE,CAAC,EACpD,WAAY,IAAc,EAAIA,EAAO,WAAW,CAAC,EAAE,CAAC,EAEpD,WAAY,CAACM,EAAO,GAAOI,EAAOV,EAAO,gBAAgB,CAAC,EAAE,CAAC,EAAGW,EAAQX,EAAO,gBAAgB,CAAC,EAAE,CAAC,IAAwB,CACvH,GAAIU,EAAO,EAAK,MAAO,CAAC,EAAG,CAAC,EAC5B,IAAMH,EAAS,IAAIC,EAAUR,EAAO,aAAa,MAAM,EAEvD,GADIM,GAAQC,EAAO,KAAKH,EAAO,iBAAiB,GAAG,EAC/CO,EAAQ,EAAK,MAAO,CAAC,KAAK,IAAIJ,EAAO,MAAM,EAAG,EAAE,SAAS,EAAG,CAAC,EAAG,CAAC,EACrE,IAAMK,EAAa,KAAK,IAAIL,EAAO,MAAM,GAAI,EAAE,SAAS,EAAG,CAAC,EAC5D,MAAO,CAACK,GAAaA,EAAa,GAAK,GAAK,CAAC,CACjD,EACA,WAAY,IAAc,CACtB,IAAMC,EAAQ,IAAIL,EAAUR,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAC1D,OAAQa,EAAM,SAAS,MAAM,EACzBA,EAAM,MAAM,EAAG,EAAE,OAAO,KAAK,EAAE,KAAK,aAAa,EACjDA,EAAM,KAAK,GAAG,EAAE,MAAM,EAAG,EAAE,KAAK,GAAG,GACrC,IAAI,CAAC,EAAE,SAAS,CACtB,EACA,WAAY,KAAe,IAAMb,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,IAE5D,WAAY,CAACD,EAAWC,EAAO,gBAAgB,CAAC,EAAE,CAAC,KAAe,EAAID,GAAY,IAClF,WAAY,KAAe,IAAMC,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI,GAAK,IAChE,YAAa,CAACK,EAAQL,EAAO,WAAW,CAAC,EAAE,CAAC,IAAcK,EAAQ,GAClE,SAAU,CAACA,EAAQL,EAAO,gBAAgB,CAAC,EAAE,CAAC,KAAe,EAAIK,EAAQ,KAAOL,EAAO,UAAU,KACjG,SAAU,CAACK,EAAQL,EAAO,gBAAgB,CAAC,EAAE,CAAC,IAAcK,EAAQ,EAAI,KAAOL,EAAO,UAAU,KAAOK,GAAS,GAAK,EACrH,KAAM,CAACC,EAAO,KAAkB,CAC5B,IAAIQ,EAAW,EAEXP,EAASP,EAAO,SAAS,KACzBM,IACAQ,EAAW,GACPV,EAAO,aAAa,QAAUG,IAAUA,EAASH,EAAO,aAAa,UAG7E,IAAIW,EAAQ,EACZ,OAAIf,EAAO,WAAW,SAAW,IAC7BO,GAAU,GACVQ,GAAS,IAGTf,EAAO,SAAS,EAAE,GAAKc,IAAYC,GAAS,IACzCR,IAAWA,EAAS,EAAIQ,EAAQ,EAAIA,EAC/C,EACA,KAAM,CACF,CAACT,EAAO,KAAkB,CACtB,IAAIQ,EAAW,EAEXP,EAASP,EAAO,SAAS,MAAM,CAAC,EAAI,EACxC,OAAIM,IACAQ,EAAW,GACXP,GAAUH,EAAO,aAAa,UAAU,CAAC,GAEzCJ,EAAO,SAAS,EAAE,GAAKc,IAAYP,GAAUP,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAEpEA,EAAO,SAAS,CAAC,GAAKc,IAAYP,IAAWT,EAAiB,SAAS,GACpES,CACX,EACA,CAACD,EAAO,KAAkB,CACtB,IAAIQ,EAAW,EAEXE,EAAQhB,EAAO,SAAS,MAAM,CAAC,EAC/BM,IACAQ,EAAW,GACXE,GAASZ,EAAO,aAAa,UAAU,CAAC,EACpCJ,EAAO,SAAS,EAAE,GAAKc,IAAYE,GAASZ,EAAO,aAAa,UAAU,CAAC,IAE/EJ,EAAO,SAAS,EAAE,GAAKc,IAAYE,GAAShB,EAAO,SAAS,MAAM,CAAC,GAEvE,IAAIO,GAAUS,EAAQ,KAAO,GAAMhB,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,IAC9D,GAAIA,EAAO,SAAS,EAAE,GAAKc,EAAU,CACjC,IAAMb,EAAOH,EAAiB,UAAU,EACxCS,GAAUU,GAAOD,EAAQf,EAAMA,CAAI,CACvC,CACA,OAAOM,CACX,EACA,CAACD,EAAO,KAAkB,CACtB,IAAIQ,EAAW,EAEXI,EAAalB,EAAO,SAAS,MAAM,CAAC,EACpCM,IACAQ,EAAW,GACXI,GAAcd,EAAO,aAAa,UAAU,CAAC,GAGjD,IAAMH,EAAOD,EAAO,SAAS,EAAE,GAAKc,EAAW,EAAI,EACnD,OAAQI,EAAa,GAAKD,GAAOC,EAAajB,EAAMA,CAAI,CAC5D,CACJ,EAEA,YAAa,CAACkB,EAAOnB,EAAO,WAAW,CAAC,EAAE,CAAC,IAAc,CACrD,IAAIO,EAAS,IAAM,IAAOY,EAC1B,OAAInB,EAAO,UAAU,SAAUO,GAAUH,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,GACnEG,CACX,EAEA,YAAa,CAACF,EAAQL,EAAO,WAAW,CAAC,EAAE,CAAC,EAAGoB,EAAWpB,EAAO,gBAAgB,CAAC,EAAE,CAAC,IAAc,CAC/F,IAAIC,EAAOD,EAAO,WAAW,SAAW,EAAI,KAAQ,KAChDoB,GAAY,IAAKnB,GAAQ,MAC7B,IAAIoB,EAAYhB,EAAQ,EAAI,EAAI,KAAK,IAAIA,EAAO,CAAC,EAAI,EACrD,OAAIA,EAAQ,IAAKgB,GAAa,IAC1BhB,EAAQ,IAAKgB,GAAa,KAAK,IAAIhB,EAAQ,EAAG,CAAC,EAAI,GACnDA,EAAQ,IAAKgB,IAAchB,EAAQ,GAAK,GACrC,EAAIJ,EAAOoB,CACtB,EACA,YAAa,CAACf,EAAO,GAAOD,EAAQL,EAAO,WAAW,CAAC,EAAE,CAAC,IAAc,CACpE,GAAIK,EAAQ,EAAK,MAAO,GACxB,IAAIS,EAAW,EAEXI,EAAalB,EAAO,SAAS,MAAM,CAAC,EACpCsB,EAAOtB,EAAO,SAAS,KACvBM,IACAQ,EAAW,GACPd,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,IAAKkB,GAAcd,EAAO,aAAa,UAAU,CAAC,GAC7EA,EAAO,aAAa,QAAUkB,IAAQA,EAAOlB,EAAO,aAAa,UAGzE,IAAMH,EAAOI,GAAS,EAAI,EAAI,EAC1BE,EAASU,GAAOC,EAAajB,EAAMA,CAAI,EAC3C,OAAID,EAAO,SAAS,EAAE,GAAKc,IAAYP,GAAUe,GAAQ,IAClDf,CACX,EACA,SAAU,KAAe,GAAKP,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,GACzD,WAAY,IAAc,CACtB,IAAIO,EAAS,EAAK,GAAKP,EAAO,YAAY,CAAC,EAAE,CAAC,EAC9C,OAAIA,EAAO,WAAW,SAAW,IAAKO,EAAUA,EAAS,KAAQ,GAC1DA,CACX,EACA,WAAY,IAAc,CACtB,IAAIA,EAAS,EAAK,GAAKP,EAAO,YAAY,CAAC,EAAE,CAAC,EAC9C,OAAIA,EAAO,WAAW,SAAW,IAAKO,EAAUA,EAAS,MAAS,GAC3DA,CACX,EACA,WAAY,IAAc,CACtB,IAAIA,EAAS,KAAK,MAAM,KAAK,IAAIP,EAAO,SAAS,KAAO,IAAK,CAAC,CAAC,EAAI,EAAI,GACvE,OAAKA,EAAO,UAAU,SAAUO,GAAU,KACnC,KAAK,IAAIA,EAAQ,CAAC,CAC7B,EACA,SAAU,IAAcP,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAAI,EAAI,IAChE,UAAW,IAAc,GAAKA,EAAO,YAAY,CAAC,EAAE,CAAC,EACrD,UAAW,IAAcA,EAAO,SAAS,EAAE,IAAM,EAAKA,EAAO,UAAU,QAAUA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAI,IAAO,KAAS,IAChI,UAAW,IAAc,CACrB,GAAI,CAACA,EAAO,UAAU,QAAUA,EAAO,QAAQ,CAAC,EAAE,MAAQ,EAAK,MAAO,GACtE,IAAMO,EAAS,IAAIC,EAAUR,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,SAAS,EAAI,GAEpF,OAAO,KAAK,IAAI,KAAK,MAAMO,CAAM,EAAG,CAAC,CACzC,EACA,WAAY,IACJP,EAAO,aAAa,OAAO,YAAY,GAAG,EAAY,EACnD,IAAIQ,EAAUR,EAAO,aAAa,MAAM,EAAE,IAAI,EAAE,EAAE,SAAS,EAAI,GAAK,CAEnF,EAEauB,GAA4B,IAAM,CAC3C,GAAM,CAAE,UAAAC,EAAW,SAAAC,EAAU,WAAAC,EAAY,gBAAAC,EAAiB,SAAAC,EAAU,YAAAC,CAAY,EAAI7B,EAC9E,CAAE,cAAA8B,EAAe,aAAAC,EAAc,eAAAC,CAAe,EAAI5B,EAClD6B,EAAY7B,EAAO,cAAc,UACjC8B,EAAa9B,EAAO,YAAY,WAChC+B,EAAY/B,EAAO,UAAU,UAC7BgC,EAASpC,EAAO,UAAU,OAC1BqC,EAASrC,EAAO,WAAW,SAAW,EAEtCsC,EAAS,KAAK,IAAItC,EAAO,UAAU,OAAQ,CAAC,EAC5CuC,EAAUd,EAAS,CAAC,EAAE,CAAC,IAAM,EAAI,IAAIjB,EAAUgB,EAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,MAAM1B,EAAiB,WAAW,CAAC,EAAE,SAAS,EAAI,EACnI0C,EAASf,EAAS,CAAC,EAAE,CAAC,IAAM,EAAI,IAAIjB,EAAUgB,EAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,MAAM1B,EAAiB,WAAW,CAAC,EAAE,SAAS,EAAI,EAExI,GAAIqC,EAAU,SAAS,CAAC,EAAG,CACvB,IAAMM,EAAKL,EAAS,EAAI,EAClBM,EAAKN,EAAS,EAAI,EAClBO,EAAKP,EAAS,EAAI,EAExBN,EAAc,MAAQ9B,EAAO,UAAU,QAAW6B,EAAY,CAAC,EAAE,CAAC,EAAI,EACtEC,EAAc,KAAOhC,EAAiB,cAAc,EACpD,IAAI8C,EAAkB,GAAKf,EAAY,CAAC,EAAE,CAAC,EACvCJ,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKmB,GAAmBd,EAAc,MAAQA,EAAc,OAC/ED,EAAY,CAAC,EAAE,CAAC,GAAK,IAAKe,GAAmBV,EAAW,CAAC,GACzDE,IAAUQ,GAAmBZ,EAAe,CAAC,EAAE,OAAO,CAAC,GAC3D,IAAMa,EAAY/C,EAAiB,WAAW,EAExCgD,EAAe,CAACtB,EAAU,CAAC,EAAEmB,CAAE,EAAE,OAAO,EAC1CI,EAAc,GAAMH,EAKxB,GAJIR,GAAUX,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKsB,GAAe,GACjDtB,EAAS,CAAC,EAAE,CAAC,IAAM,GAAKqB,EAAa,KAAK,IAAItC,EAAUqC,CAAS,EAAE,MAAMrB,EAAU,CAAC,EAAEmB,CAAE,EAAE,IAAI,CAAC,EACnGV,EAAU,CAAC,EAAEU,CAAE,EAAE,SAASI,CAAW,EAAE,SAAS,GAAGD,CAAY,EAE3DrB,EAAS,CAAC,EAAE,CAAC,IAAM,EAAG,CACtB,IAAIuB,EAAYlD,EAAiB,YAAY,GAAK4B,EAAW,CAAC,EAAE,CAAC,EAC7DD,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKuB,GAAaV,IAAWF,EAAS,GAAM,IAC/DA,EACAY,GAAalD,EAAiB,YAAY,GAAK4B,EAAW,CAAC,EAAE,CAAC,EACvDA,EAAW,CAAC,EAAE,CAAC,GAAK,IAAKsB,GAAalB,EAAc,OAAShC,EAAiB,YAAY,GACrGgC,EAAc,QAAQ,SAASG,EAAU,CAAC,EAAEU,CAAE,CAAC,EAAE,KAAK,GAAG,EAAE,IAAI7C,EAAiB,SAAS,CAAC,EAAE,SAASkD,CAAS,CAClH,MAASlB,EAAc,QAAQ,SAAS,GAAG,EAE3C,IAAMmB,EAAe,CAACzB,EAAU,CAAC,EAAEkB,CAAE,EAAE,OAAO,EAC1CQ,IAAed,EAAS,GAAM,IAAOQ,EACrCR,EACIX,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKyB,IAAe,GACpCzB,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKyB,IAAe,GAC9CzB,EAAS,CAAC,EAAE,CAAC,IAAM,GAAKwB,EAAa,KAAK,IAAIzC,EAAUqC,CAAS,EAAE,MAAMrB,EAAU,CAAC,EAAEkB,CAAE,EAAE,IAAI,CAAC,EACnGT,EAAU,CAAC,EAAES,CAAE,EAAE,SAASQ,EAAW,EAAE,SAAS,GAAGD,CAAY,EAE/D,IAAME,GAAe,CAAC3B,EAAU,CAAC,EAAEiB,CAAE,EAAE,OAAO,EAC1CW,IAAehB,EAAS,GAAM,IAAOQ,EAMzC,GALInB,EAAS,CAAC,EAAE,CAAC,IAAM,IAAK2B,IAAe,GACvC,CAAChB,GAAUX,EAAS,CAAC,EAAE,CAAC,IAAM,IAAK2B,IAAe,GAClD3B,EAAS,CAAC,EAAE,CAAC,IAAM,GAAK0B,GAAa,KAAK,IAAI3C,EAAUqC,CAAS,EAAE,MAAMrB,EAAU,CAAC,EAAEiB,CAAE,EAAE,IAAI,CAAC,EACnGR,EAAU,CAAC,EAAEQ,CAAE,EAAE,SAASW,EAAW,EAAE,SAAS,GAAGD,EAAY,EAE3Df,EAAQ,CACR,IAAMiB,EAAe,CAAC7B,EAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EACzCC,EAAS,CAAC,EAAE,CAAC,IAAM,GAAK4B,EAAa,KAAK,IAAI7C,EAAUqC,CAAS,EAAE,MAAMrB,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAClGS,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,GAAMW,CAAe,EAAE,SAAS,GAAGS,CAAY,EAExE,IAAMC,EAAe,CAAC,EAChBC,GAAe,IAAI/C,EAAUgB,EAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,MAAMA,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,EAClF+B,GAAa,SAAS,GAAG,EACzBD,EAAa,KAAKC,GAAa,MAAM,EAAG,EAAE,KAAK/B,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAC/D8B,EAAa,KAAK9B,EAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAC9CC,EAAS,CAAC,EAAE,CAAC,IAAM,GAAK6B,EAAa,KAAK,IAAI9C,EAAUqC,CAAS,EAAE,MAAMrB,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAClGS,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,KAAQW,GAAmB,EAAI,EAAE,SAAS,GAAGU,CAAY,CACtF,CACJ,CACA,GAAInB,EAAU,SAAS,CAAC,EAAG,CACvB,GAAM,CAAE,iBAAAqB,CAAiB,EAAIpD,EACvBM,EAAOZ,EAAiB,WAAW,EACzC0D,EAAiB,SAAW1D,EAAiB,OAAO,EAEpDmC,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,MAAM,EAAE,MAAMT,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,EAE3DS,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,EAAIvB,EAAK,CAAC,CAAC,EAAE,SAASc,EAAU,CAAC,EAAE,CAAC,EAAE,QAASS,EAAU,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,GAAG,EAEhGA,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,GAAG,EAAE,SAAST,EAAU,CAAC,EAAE,CAAC,EAAE,QAASS,EAAU,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,GAAG,EAExFA,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,GAAG,EAAE,SAAST,EAAU,CAAC,EAAE,CAAC,EAAE,QAASS,EAAU,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,GAAG,EAExF,IAAMoB,EAAe,CAAC7B,EAAU,CAAC,EAAE,CAAC,EAAE,QAASS,EAAU,CAAC,EAAE,CAAC,EAAGuB,EAAiB,QAAQ,EACrFC,GAAepB,EAAS,IAAO,GAAKE,EAAUC,EAAS9B,EAAK,CAAC,EAAK,KAAOmB,EAAY,CAAC,EAAE,CAAC,EACzFJ,EAAS,CAAC,EAAE,CAAC,IAAM,GAAK4B,EAAa,KAAKvD,EAAiB,WAAW,CAAC,EACvE4B,EAAW,CAAC,EAAE,CAAC,GAAK,IAChB8B,EAAiB,YAAc9B,EAAW,CAAC,EAAE,CAAC,IAAK8B,EAAiB,UAAY,KAAK,IAAI9B,EAAW,CAAC,EAAE,CAAC,EAAG,KAAK,IAAI,KAAK,MAAM,IAAIlB,EAAUgB,EAAU,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,OAAO,KAAK,EAAE,KAAK,GAAG,EAAE,IAAI,CAAC,EAAE,SAAS,CAAC,EAAG,CAAC,CAAC,GACtNiC,GAAe,GAAKD,EAAiB,WAErCpB,IAAUqB,GAAe3D,EAAiB,SAAS,EAAIkC,EAAe,CAAC,EAAE,OAAO,CAAC,GACjFH,EAAY,CAAC,EAAE,CAAC,GAAK,IAAK4B,GAAevB,EAAW,CAAC,GACzDD,EAAU,CAAC,EAAE,CAAC,EAAE,SAASwB,CAAW,EAAE,SAAS,GAAGJ,CAAY,EAE9D,IAAMK,EAAiB,IAAIlD,EAAUgB,EAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAC5D,GAAIa,EACIqB,EAAe,SAAS,GAAG,GAAKA,EAAe,MAAM,EAAG,UACrDtB,EAAQ,CACf,IAAMuB,EAAS,IAAInD,EAAUkD,CAAc,EAAE,MAAMlC,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,EACnEmC,EAAO,SAAS,GAAG,GAAKD,EAAe,SAASC,EAAO,MAAM,EAAG,EAAE,KAAKnC,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CACpG,CACA,IAAM8B,EAAe,CAACI,CAAc,EAChCjC,EAAS,CAAC,EAAE,CAAC,IAAM,GAAK6B,EAAa,KAAK,IAAI9C,EAAU4B,EAAS,OAAS,MAAM,EAAE,MAAMZ,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EACjH,IAAIoC,GAAexB,EAAS,EAAI,MAAS,GAAKP,EAAY,CAAC,EAAE,CAAC,EAC1DH,EAAW,CAAC,EAAE,CAAC,GAAK,IAChB8B,EAAiB,YAAc9B,EAAW,CAAC,EAAE,CAAC,IAAK8B,EAAiB,UAAY,KAAK,IAAI9B,EAAW,CAAC,EAAE,CAAC,EAAG,KAAK,IAAI,KAAK,MAAM,IAAIlB,EAAUgB,EAAU,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,OAAO,KAAK,EAAE,IAAI,IAAI,EAAE,SAAS,EAAI,CAAC,EAAG,CAAC,CAAC,GACnNoC,GAAe,GAAKJ,EAAiB,WAEzCvB,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS2B,CAAW,EAAE,SAAS,GAAGN,CAAY,CAClE,MAAWlB,GAAUH,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,GAAG,EACjD,GAAIE,EAAU,SAAS,CAAC,EAAG,CACvBF,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,KAAK,EAAE,MAAMT,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,EAE1DS,EAAU,CAAC,EAAE,CAAC,EAAE,SAASR,EAAS,CAAC,EAAE,EAAE,IAAM,EAAI,OAAS,KAAK,EAAE,MAAMD,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,SAASS,EAAU,CAAC,EAAE,CAAC,CAAC,EACrH,IAAM4B,EAAkBhC,EAAY,CAAC,EAAE,CAAC,EAAI,EAAI,IAAIrB,EAAU,GAAG,EAAI,IAAIA,EAAUyB,EAAU,CAAC,EAAE,CAAC,CAAC,EAAE,MAAMG,EAAS,GAAM,EAAG,EAEtHe,EAAe,CAAC3B,EAAU,CAAC,EAAE,CAAC,EAAE,QAASS,EAAU,CAAC,EAAE,CAAC,CAAC,EAC1DmB,EAAc,GAAO,KAAOvB,EAAY,CAAC,EAAE,CAAC,EAC5CF,EAAgB,CAAC,EAAE,CAAC,GAAK,IAAKyB,GAAe,GAC7C3B,EAAS,CAAC,EAAE,CAAC,IAAM,GAAK0B,EAAa,KAAK,IAAI3C,EAAU,MAAM,EAAE,MAAMgB,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAC/FS,EAAU,CAAC,EAAE,CAAC,EAAE,SAASmB,CAAW,EAAE,SAAS,GAAGD,CAAY,EAE9D,IAAME,EAAe,CAAC7B,EAAU,CAAC,EAAE,CAAC,EAAE,QAASqC,CAAe,EAC1DJ,EAAe,GAAK/B,EAAW,CAAC,EAAE,CAAC,EAAM,KAAOG,EAAY,CAAC,EAAE,CAAC,EAChEJ,EAAS,CAAC,EAAE,CAAC,IAAM,GAAK4B,EAAa,KAAK,IAAI7C,EAAUV,EAAiB,WAAW,CAAC,EAAE,MAAM0B,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAClHC,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKgC,GAAe,GACvC/B,EAAW,CAAC,EAAE,CAAC,GAAK,GAAK2B,EAAa,KAAK,IAAI7C,EAAUgB,EAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,MAAM1B,EAAiB,YAAY,CAAC,CAAC,EACpImC,EAAU,CAAC,EAAE,CAAC,EAAE,SAASwB,CAAW,EAAE,SAAS,GAAGJ,CAAY,EAE9D,IAAMC,EAAe,CAAC9B,EAAU,CAAC,EAAE,CAAC,EAAE,QAASqC,CAAe,EAC1DD,GAAexB,EAAS,EAAI,OAAU,GAAKV,EAAW,CAAC,EAAE,CAAC,EAAM,GAAKA,EAAW,CAAC,EAAE,CAAC,EAAM,GAAKA,EAAW,CAAC,EAAE,CAAC,EAAM,KAAOC,EAAgB,CAAC,EAAE,CAAC,EAAM,GAAKE,EAAY,CAAC,EAAE,CAAC,EAC1KO,IAAUwB,GAAe9D,EAAiB,WAAW,EAAIkC,EAAe,CAAC,EAAE,OAAO,CAAC,GACnFP,EAAS,CAAC,EAAE,CAAC,IAAM,GAAK6B,EAAa,KAAK,IAAI9C,EAAUV,EAAiB,WAAW,CAAC,EAAE,MAAM0B,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAClHC,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKmC,GAAe,IAAIpD,EAAUgB,EAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,MAAM1B,EAAiB,WAAW,CAAC,EAAE,SAAS,GAC5H2B,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKmC,GAAe,GACvCnC,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKmC,GAAe,GACvCnC,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKmC,GAAe,EAAI,KAAOlC,EAAW,CAAC,EAAE,CAAC,GACjED,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKmC,GAAe,GACvCnC,EAAS,CAAC,EAAE,EAAE,IAAM,IAAKmC,GAAe,EAAI,GAAKlC,EAAW,CAAC,EAAE,CAAC,GAChEC,EAAgB,CAAC,EAAE,CAAC,GAAK,IAAKiC,GAAe9D,EAAiB,SAAS,GAC3EmC,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS2B,CAAW,EAAE,SAAS,GAAGN,CAAY,EAC1DlB,EACIC,EACAJ,EAAU,CAAC,EAAE,CAAC,EAAE,MAAMjC,EAAO,UAAU,MAAQ,EAAI,IAAO,GAAI,EACvDA,EAAO,UAAU,MAAQ,GAAKiC,EAAU,CAAC,EAAE,CAAC,EAAE,MAAM,GAAI,EAC5DjC,EAAO,UAAU,MAAQ,GAAKiC,EAAU,CAAC,EAAE,CAAC,EAAE,MAAMA,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,GAAG,EAAI,IAAM,EAAG,CAC5G,MAAWG,GAAUH,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,GAAG,EACjD,GAAIE,EAAU,SAAS,CAAC,EAAG,CACvBJ,EAAa,WAAajC,EAAiB,KAAK,EAChDiC,EAAa,WAAa,CAACjC,EAAiB,KAAK,CAAC,EAAE,EAAGA,EAAiB,KAAK,CAAC,EAAE,EAAGA,EAAiB,KAAK,CAAC,EAAE,CAAC,EAC7G,IAAMgE,EAAe,CAAC,IAAItD,EAAUV,EAAiB,YAAY,CAAC,EAAE,MAAMM,EAAO,aAAa,SAAS,CAAC,EACpG2D,EAAejE,EAAiB,YAAY,GAAK4B,EAAW,CAAC,EAAE,CAAC,EAAKK,EAAa,WAAaA,EAAa,WAAW,CAAC,EAAK,KAAOL,EAAW,CAAC,EAAE,CAAC,EAAK5B,EAAiB,YAAY,EAAK,KAAO+B,EAAY,CAAC,EAAE,CAAC,EACjND,EAAS,CAAC,IAAM,IAAKmC,GAAe,KACpCnC,EAAS,EAAE,IAAM,IAAKmC,GAAe,KACrCnC,EAAS,EAAE,IAAM,IAAKmC,GAAe,GACrCnC,EAAS,EAAE,IAAM,IAAKmC,GAAe,IAAIvD,EAAUgB,EAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,MAAM1B,EAAiB,UAAU,CAAC,EAAE,SAAS,GAClI8B,EAAS,EAAE,IAAM,IAAKmC,GAAe,GACrC3B,IACIT,EAAgB,CAAC,EAAE,CAAC,GAAK,IAAKoC,GAAejE,EAAiB,SAAS,GAAKgC,EAAc,OAC1FH,EAAgB,CAAC,EAAE,CAAC,GAAK,IAAKoC,GAAexB,GAC7CZ,EAAgB,CAAC,EAAE,CAAC,GAAK,EACzBoC,GAAevB,EACRb,EAAgB,CAAC,EAAE,CAAC,GAAK,IAAKoC,GAAevB,GAAU,IAClEuB,GAAe/B,EAAe,CAAC,EAAE,OAAO,CAAC,GAEzCH,EAAY,CAAC,EAAE,CAAC,GAAK,IAAKkC,GAAe7B,EAAW,CAAC,GACzD,IAAMU,EAAkB,IAAIpC,EAAUuD,CAAW,EAAE,SAAS,GAAGD,CAAY,EAE3E7B,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,MAAM,EAAE,SAAST,EAAU,CAAC,EAAE,CAAC,EAAE,QAASoB,CAAe,EAElFX,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,KAAK,EAAE,SAAST,EAAU,CAAC,EAAE,CAAC,EAAE,QAASoB,CAAe,EAEjFX,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,KAAK,EAAE,SAAST,EAAU,CAAC,EAAE,CAAC,EAAE,QAASoB,CAAe,EAEjFX,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS,IAAMF,EAAa,WAAW,CAAC,EAAK,GAAKL,EAAW,CAAC,EAAE,CAAC,CAAE,EAAE,SAASF,EAAU,CAAC,EAAE,CAAC,EAAE,QAASoB,CAAe,EAEtI,IAAIgB,EAAc,GACdhC,EAAS,CAAC,IAAM,IAAKgC,GAAe,GACxC3B,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS2B,CAAW,EAAE,SAASpC,EAAU,CAAC,EAAE,CAAC,EAAE,QAASoB,CAAe,CAC3F,MAASb,EAAa,WAAW,CAAC,EAAI,EACtC,GAAII,EAAU,SAAS,CAAC,EAAG,CACvB,IAAIiB,EAAchB,EAAS,EAAI,EAC3BX,EAAS,CAAC,EAAE,CAAC,IAAM,IAAK2B,GAAetD,EAAiB,WAAW,GACnEsC,IAAUgB,GAAepB,EAAe,CAAC,EAAE,OAAO,CAAC,GACvDC,EAAU,CAAC,EAAE,CAAC,EAAE,SAASmB,CAAW,EAAE,MAAM5B,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,EAEhE,IAAM6B,EAAe,CAAC7B,EAAU,CAAC,EAAE,CAAC,EAAE,QAASS,EAAU,CAAC,EAAE,CAAC,CAAC,EAC1DwB,EAAc,IAAO,GAAK/B,EAAW,CAAC,EAAE,CAAC,EACzCD,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKgC,GAAe3D,EAAiB,WAAW,GACvEmC,EAAU,CAAC,EAAE,CAAC,EAAE,SAASwB,CAAW,EAAE,SAAS,GAAGJ,CAAY,EAAE,IAAI,GAAG,EACnEhB,GAAUJ,EAAU,CAAC,EAAE,CAAC,EAAE,MAAM,EAAG,EAEvC,IAAMqB,EAAe,CAAC9B,EAAU,CAAC,EAAE,CAAC,EAAE,QAASS,EAAU,CAAC,EAAE,CAAC,CAAC,EAC1D2B,EAAc,GAAKlC,EAAW,CAAC,EAAE,CAAC,EAClCD,EAAS,CAAC,EAAE,CAAC,IAAM,IAAKmC,GAAe9D,EAAiB,WAAW,GAEvEmC,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS2B,CAAW,EAAE,SAAS,GAAGN,CAAY,EAC1DjB,GAAUJ,EAAU,CAAC,EAAE,CAAC,EAAE,MAAM,EAAG,EAEvCA,EAAU,CAAC,EAAE,CAAC,EAAE,SAASA,EAAU,CAAC,EAAE,CAAC,CAAC,EACpCP,EAAW,CAAC,EAAE,CAAC,GAAK,GAAKO,EAAU,CAAC,EAAE,CAAC,EAAE,SAASA,EAAU,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,GAAG,EAC7EP,EAAW,CAAC,EAAE,CAAC,GAAK,GAAKO,EAAU,CAAC,EAAE,CAAC,EAAE,SAASA,EAAU,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,GAAG,EAC7EP,EAAW,CAAC,EAAE,CAAC,GAAK,GAAKO,EAAU,CAAC,EAAE,CAAC,EAAE,SAASA,EAAU,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,GAAG,CACrF,CACA,GAAIG,EAAQ,CACR,IAAM4B,EAAgB5D,EAAO,cAC7B4D,EAAc,UAAU,SAAS/B,EAAU,CAAC,EAAE,CAAC,CAAC,EAChD+B,EAAc,SAAS,SAAS/B,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,GAAG,CAAC,EACxDH,EAAc,QAAQ,SAASG,EAAU,CAAC,EAAE,CAAC,EAAE,IAAI,GAAG,CAAC,EAEvD,IAAMgC,EAAgBC,GAAkB,EACxCF,EAAc,QAAQ,SAAS,KAAOC,CAAa,EAC/ChC,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS+B,EAAc,OAAO,GAAK/B,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS+B,EAAc,OAAO,EAErG,IAAIG,EAAiBpC,EAAa,WAAW,CAAC,EAC1CH,EAAS,EAAE,IAAM,IAAKuC,GAAkB,GACxCxC,EAAgB,CAAC,EAAE,CAAC,GAAK,IAAKwC,GAAkBrE,EAAiB,SAAS,GAC9EkE,EAAc,SAAS,SAAS,KAAQ1B,GAAUxC,EAAiB,SAAS,EAAKkC,EAAe,CAAC,EAAE,OAAO,CAAC,EAAImC,CAAc,EAAE,SAASlC,EAAU,CAAC,EAAE,CAAC,CAAC,EACnJA,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS+B,EAAc,QAAQ,GAAK/B,EAAU,CAAC,EAAE,CAAC,EAAE,SAAS+B,EAAc,QAAQ,EAEvGA,EAAc,QAAU,OAAUC,EAAgBE,EAC9CtC,EAAY,CAAC,EAAE,CAAC,GAAK,IAAKmC,EAAc,SAAW9B,EAAW,CAAC,EACvE,CACJ,EAEakC,GAAc,CAACC,EAAeC,EAAatE,EAAO,MAAM,OAAQuE,EAAyB,KAAMC,EAAO,KAAU,CACzH,GAAI,CAACC,GAAcJ,EAAOC,CAAU,EAAK,OACzC,IAAMI,EAAW1E,EAAO,UAAUsE,CAAU,EAAED,CAAU,EAEpDM,EACAC,EACAC,EAAO,GACPC,EAAU,GACVR,IAAe,GACfK,EAAU3E,EAAO,UAAU,CAAC,EAAEqE,EAAQ,CAAC,EACnCA,IAAU,IAAKQ,EAAO7E,EAAO,UAAU,QAAUA,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAC1EsE,IAAe,EAClBD,IAAU,GAAKrE,EAAO,UAAU,QAChC8E,EAAU,QACVH,EAAU3E,EAAO,UAAU,CAAC,EAAE,CAAC,EAC/B4E,EAAW,IAAIpE,EAAUmE,EAAQ,OAAO,EAAE,OAAO,eAAe,GAC3DA,EAAU3E,EAAO,UAAU,CAAC,EAAEqE,IAAU,EAAI,EAAI,CAAC,EACnDC,IAAe,EAClBtE,EAAO,UAAU,QACjB8E,EAAU,OACVH,EAAU3E,EAAO,UAAU,CAAC,EAAE,CAAC,EAC/B4E,EAAW,IAAIpE,EAAUmE,EAAQ,OAAO,EAAE,SAAS,gBAAgB,GAC9DA,EAAU3E,EAAO,UAAU,CAAC,EAAE,CAAC,GAExC2E,EAAU3E,EAAO,UAAU,CAAC,EAAE,CAAC,EAC3BsE,IAAe,GAAKD,IAAU,IAC9BS,EAAU,SACVF,EAAW,IAAIpE,EAAUR,EAAO,SAAS,IAAI,IAGjD4E,IAAa,SAAaA,EAAW,IAAIpE,EAAUmE,EAAQ,OAAO,GAEtE,IAAMI,EAAS,IAAIvE,EAAUoE,CAAQ,EACjCJ,GAAQE,EAAS,KAAO,GAAK,CAACG,GAAQC,IAAY,WAC9CA,IAAY,QAAU9E,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAKI,EAAO,cAAc,SAAS,YAAYA,EAAO,cAAc,OAAO,EAC7H2E,EAAO,MAAM3E,EAAO,cAAc,QAAU,SAAU,EAEtD2E,EAAO,OAAO/E,EAAO,MAAM,MAAQ,EAAIA,EAAO,QAAQ,KAAK,KAAKsE,CAAU,EAAI,GAAG,GAIzF,IAAMU,EAAQC,GAAuBZ,EAAOC,CAAU,EACtD,GAAIU,EAAM,SAASD,CAAM,EAAK,OAE9B,IAAIG,EAAS,EAEb,GADIX,IAAY,OAAQA,EAAUnE,EAAO,QAAQ,MAAQ,EAAIA,EAAO,QAAQ,KAAO,GAAKJ,EAAO,QAAQ,KAAK,OACxGuE,IAAY,GAAKO,IAAY,SAAU,CACvC,IAAMK,EAAU/E,EAAO,cAAc,SAASkE,CAAU,EAAED,CAAK,EAC/D,GAAIQ,GAGA,GAFAK,EAAS,KAAK,MAAMH,EAAO,OAAOC,CAAK,EAAE,IAAIG,CAAO,EAAE,SAAS,CAAC,EAAI,EAEhEZ,EAAU,EAAG,CACb,GAAIW,EAASX,EAAW,OACxBW,EAASX,CACb,MACG,CAGH,GAFAW,EAAS,KAAK,MAAMH,EAAO,SAASI,EAAU,CAAC,EAAE,OAAOH,CAAK,EAAE,KAAK,GAAG,EAAE,IAAIG,CAAO,EAAE,SAAS,CAAC,EAE5FZ,EAAU,EAAG,CACb,GAAIW,EAASX,EAAW,OACxBW,EAASX,CACb,CACIW,EAAS,GAAKF,EAAM,SAAS,IAAIxE,EAAU2E,CAAO,EAAE,MAAMD,CAAM,EAAE,MAAM,GAAG,EAAE,OAAOC,EAAU,CAAC,CAAC,CACxG,CACJ,CAEAT,EAAS,MAAQQ,EACjBR,EAAS,QAAQ,KAAKQ,CAAM,EAC5BR,EAAS,MAAM,KAAKQ,CAAM,EAC1BR,EAAS,UAAU,KAAKQ,CAAM,EAC1BR,EAAS,QAAQ,SAASA,EAAS,OAAO,GAAKA,EAAS,QAAQ,SAASA,EAAS,OAAO,EAEzFI,IAAY,UAERM,GAAM,SAAUpF,EAAO,UAAU,OAAS,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EAAI,CAAC,EAAG,CAAC,CAAC,EAClEqF,EAAkB,EAAG,EAAG,YAAY,EACpCA,EAAkB,EAAG,EAAG,YAAY,EACpCA,EAAkB,EAAG,EAAG,YAAY,EACpCA,EAAkB,EAAG,EAAG,YAAY,EAChC,CAACb,GAAQc,EAAW,WAAW,CAAC,IAAKC,EAAM,QAAQ,EAAE,YAAc,wBAAwBC,EAAON,CAAM,CAAC,eAejHO,GAAgB,CAAC,EACjBC,EAAe,EAAG,CAAC,IAEdb,IACDD,EAAS,MAAMI,CAAK,EAEhBF,IAAY,SACZH,EAAQ,QAAUC,EAAS,SAAS,eAAe,EACnD5E,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS2E,EAAQ,OAAO,EAAE,OAAO,eAAe,GACxEG,IAAY,QACnBH,EAAQ,QAAUC,EAAS,OAAO,gBAAgB,EAClD5E,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS2E,EAAQ,OAAO,EAAE,SAAS,gBAAgB,GAElFA,EAAQ,QAAUC,IAItB5E,EAAO,UAAU,QAAUsE,IAAe,KAC1CqB,GAAavF,EAAO,cAAc,UAAUiE,EAAOC,CAAU,EAAIY,CAAM,EACvEQ,EAAe,EAAG,CAAC,GAGnBpB,IAAe,EACXD,IAAU,GAAKrE,EAAO,SAAS,CAAC,EAAE,CAAC,EAAI,GAAKA,EAAO,UAAU,QAAUA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS0E,EAAS,OAAO,EAAE,OAAO,eAAe,EACpJJ,IAAe,EAClBD,IAAU,GAAKuB,GAAc,EAC1BtB,IAAe,EAClBD,GAAS,GAAKqB,EAAe,EAAG,CAAC,EAC9BpB,IAAe,IACtBlE,EAAO,aAAa,WAAa8E,EACjCQ,EAAe,EAAG,CAAC,GAGvBnE,GAA0B,EACrBiD,IACDqB,EAAc,EACVP,EAAW,WAAW,CAAC,IAAKC,EAAM,QAAQ,EAAE,YAAc,QAAQC,EAAON,CAAM,CAAC,KAAK9E,EAAO,cAAc,KAAKkE,CAAU,EAAED,CAAK,CAAC,MAGjJ,EAEasB,GAAe,CAACG,EAAM,OAA0B,CACzD,GAAIA,IAAQ,KAAM,CACd,GAAM,CAAE,UAAAC,EAAW,WAAAC,CAAW,EAAI5F,EAAO,cAEzC0F,EAAM,EACN,QAASG,EAAI,EAAGA,GAAKjG,EAAO,UAAU,OAASgG,EAAW,OAAS,GAAIC,IAAK,CACxE,IAAMzE,EAAYxB,EAAO,UAAUiG,CAAC,EACpC,QAAS,EAAI,EAAG,EAAID,EAAWC,CAAC,EAAE,OAAQ,IACtCH,GAAOC,EAAU,EAAGE,CAAC,EAAIzE,EAAU,CAAM,EAAE,IAEnD,CAEApB,EAAO,cAAc,WAAa0F,EAC9B9F,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKA,EAAO,UAAU,OAAS8F,EACnE,KAAO,CACH,GAAM,CAAE,UAAAI,CAAU,EAAIlG,EAEtBI,EAAO,cAAc,YAAc0F,EACnCI,EAAU,QAAUJ,EAChBI,EAAU,UAAYA,EAAU,SAAUA,EAAU,UAAYA,EAAU,OAClF,CACJ,EAEajB,GAAyB,CAACZ,EAAeC,IAAkC,CACpF,IAAM6B,EAAgB/F,EAAO,cAEzBgG,EAAYD,EAAc,UAAU7B,CAAU,EAAED,CAAK,EACzD,GAAIC,IAAe,EAAG,CAClB,IAAI+B,EAAW,IACXrG,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,IAAKqG,GAAYvG,EAAiB,WAAW,GAC3EqG,EAAc,SAAS,CAAC,EAAE9B,CAAK,EAAIgC,EAAW,IAE1ChC,IAAU,EACN,CAACrE,EAAO,UAAU,QAAUA,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,IAAKoG,GAAa,IACrE/B,IAAU,EACbrE,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,IAAKoG,GAAa,IACzC/B,IAAU,GACbrE,EAAO,UAAU,SACbA,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,IAAKoG,GAAa,IAC5CpG,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,IAAKoG,GAAa,IAGlE,SAAW9B,IAAe,EAClBtE,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoG,GAAahG,EAAO,YAAY,WAAW,CAAC,GAC7EiE,IAAU,IACV8B,EAAc,SAAS,CAAC,EAAE,CAAC,EAAInG,EAAO,SAAS,CAAC,EAAE,EAAE,IAAM,EAAI,EAAI,YAE/DsE,IAAe,EAAG,CACzB,IAAI+B,EAAW,IAAM,GAAKhC,EACtBrE,EAAO,SAAS,CAAC,IAAM,IAAKqG,GAAY,IACxCrG,EAAO,SAAS,CAAC,IAAM,IAAKqG,GAAY,GAC5CF,EAAc,SAAS,CAAC,EAAE9B,CAAK,EAAIgC,EAAW,IAE9CD,GAAa,GAAKpG,EAAO,YAAY,CAAC,EAAE,CAAC,EACrCA,EAAO,UAAU,SAAUoG,GAAahG,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,GACzEJ,EAAO,SAAS,EAAE,IAAM,IAAKoG,GAAa,IAClD,CAEA,OAAO,IAAI5F,EAAU2F,EAAc,SAAS7B,CAAU,EAAED,CAAK,CAAC,EAAE,MAAMrE,EAAO,UAAUsE,CAAU,EAAED,CAAU,EAAE,IAAI,EAAE,SAAS+B,CAAS,CAC3I,EAEaR,GAAgB,CAACU,EAAS,KAAU,CAC7C,IAAM9E,EAAYxB,EAAO,UAAU,CAAC,EAC9ByB,EAAWzB,EAAO,SAAS,CAAC,EAE9BuG,EAAS/E,EAAU,CAAC,EAAE,KACtBgF,EAAShF,EAAU,CAAC,EAAE,KACtBiF,EAASjF,EAAU,CAAC,EAAE,KACtBkF,EAASlF,EAAU,CAAC,EAAE,KACtBC,EAAS,CAAC,IAAM,IAAK8E,GAAU/E,EAAU,CAAC,EAAE,MAC5CC,EAAS,CAAC,IAAM,IAAK+E,GAAUD,GAC/B9E,EAAS,CAAC,IAAM,IAAKgF,GAAUD,EAAS1G,EAAiB,WAAW,GACpE2B,EAAS,CAAC,IAAM,IAAKiF,GAAUD,EAAS3G,EAAiB,WAAW,GACxE0B,EAAU,CAAC,EAAE,QAAQ,SAAS+E,CAAM,EACpC/E,EAAU,CAAC,EAAE,QAAQ,SAASgF,CAAM,EACpChF,EAAU,CAAC,EAAE,QAAQ,SAASiF,CAAM,EACpCjF,EAAU,CAAC,EAAE,QAAQ,SAASkF,CAAM,EAC/BJ,GAAUZ,EAAe,EAAG,CAAC,CACtC,EAEaiB,GAAgB,CAACC,EAAatC,EAAoBuC,IAAiB,CAC5E,IAAIf,EACAgB,EAAWxC,EAiBf,GAhBIA,IAAe,GAAKsC,IAAQ,GAC5Bd,EAAM,IAAItF,EAAUJ,EAAO,cAAc,OAAO,EAAE,SAASyG,CAAI,EAC1D7G,EAAO,UAAU,SAAU4G,EAAM,IAC/BtC,IAAe,GACtBwB,EAAM,IAAItF,EAAUJ,EAAO,cAAc,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE,SAASyG,CAAI,EAAE,OAAO,GAAKD,CAAG,EACxFE,EAAW,EACXF,MAEAd,EAAM,IAAItF,EAAUJ,EAAO,cAAc,UAAUkE,CAAU,EAAEsC,EAAM,CAAC,CAAC,EAAE,SAASC,CAAI,EAElFvC,IAAe,EACfsC,EAAM,EACCtC,IAAe,GAAKsC,IAAQ,GAAK5G,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,YAAY,GAAG,GAAKA,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,GAC3H8F,EAAI,KAAKe,GAAQ/G,EAAiB,WAAW,EAAE,CAAC,EAAI,EAAE,GAG1DgG,EAAI,CAAC,IAAM,EAAK,OACpB,GAAI,CAACA,EAAI,SAAS,EAAG,CACb1F,EAAO,MAAM,YACbA,EAAO,MAAM,UAAY,GACzB2G,EAAO,uBAAuBjB,EAAI,SAAS,CAAC,KAAK1F,EAAO,cAAc,KAAK0G,CAAQ,EAAEF,CAAG,CAAC,GAAG,EAC5F,WAAW,IAAM,CAAExG,EAAO,MAAM,UAAY,EAAM,EAAG,GAAG,GAE5D,MACJ,CAEA,IAAMsE,EAAW1E,EAAO,UAAU8G,CAAQ,EAAEF,CAAG,EAC/ClC,EAAS,QAAQ,KAAKoB,CAAG,EACzBpB,EAAS,MAAM,KAAKoB,CAAG,EACvBpB,EAAS,UAAU,KAAKoB,CAAG,EACvBpB,EAAS,QAAQ,SAASA,EAAS,OAAO,GAAKA,EAAS,QAAQ,SAASA,EAAS,OAAO,EAEzFJ,IAAe,EACXtE,EAAO,UAAU,OACb4G,IAAQ,GACR5G,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS0E,EAAS,OAAO,EAAE,SAAS,gBAAgB,EACnFgB,EAAe,EAAG,CAAC,GACZkB,IAAQ,EACflB,EAAe,EAAG,CAAC,EACZkB,IAAQ,GACf5G,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS0E,EAAS,OAAO,EAAE,OAAO,eAAe,EAE7EkC,IAAQ,GAAKlB,EAAe,EAAG,CAAC,EACpCpB,IAAe,GAClBsC,IAAQ,IACJ5G,EAAO,UAAU,KAAO,GAAK0E,EAAS,QAAQ,SAAS,MAAM,GAAKA,EAAS,QAAQ,SAAS,MAAM,EACtGgB,EAAe,EAAG,CAAC,EAG/B,EAEasB,GAAqB,IAAM,CACpC,IAAM9E,EAAa9B,EAAO,YAAY,WAChC6G,EAAgBjH,EAAO,QAAQ,CAAC,EAAE,QAAU,EAElDkC,EAAW,CAAC,EAAI+E,GAAiB,IACjC/E,EAAW,CAAC,EAAI+E,GAAiB,IACjC/E,EAAW,CAAC,EAAI+E,GAAiB,IACjC/E,EAAW,CAAC,EAAI+E,GAAiB,IACjC/E,EAAW,CAAC,EAAI+E,GAAiB,GACrC,EAEaC,GAAc,CAACN,EAAaC,IAAiB,CACtD,IAAMM,EAAUnH,EAAO,QAAQ4G,CAAG,EAC5BQ,EAAM,KAAK,MAAMpH,EAAO,QAAQ4G,EAAM,CAAC,EAAE,QAAU,IAAI,EAC7D,GAAIO,EAAQ,SAAWC,EAAO,OAE9B,IAAMtB,EAAMsB,EAAMP,EAAO,IAGzB,GAFAM,EAAQ,SAAWrB,EACnBqB,EAAQ,OAASrB,EACbqB,EAAQ,QAAUC,EAAK,CACvB,IAAMC,EAAMF,EAAQ,QACpBA,EAAQ,QAAUC,EAClBD,EAAQ,MAAQ,KAAK,MAAMA,EAAQ,OAASE,EAAMF,EAAQ,QAAQ,CACtE,CAEIP,IAAQ,GAAKI,GAAmB,CACxC,EAEaM,EAAc,CAACC,EAAiBjD,EAAoBkD,EAA6FhD,EAAO,KAAmB,CACpL,GAAI,CAACA,GAAQ,CAACiD,GAAaF,EAASjD,EAAYkD,CAAI,EAAK,MAAO,GAEhE,IAAI3C,EAAO,GACPD,EAYJ,GAXIN,IAAe,GACfM,EAAW,IAAIpE,EAAUR,EAAO,UAAU,MAAM,EAChD6E,EAAO7E,EAAO,UAAU,QAAUA,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GACvDsE,IAAe,EACtBM,EAAW,IAAIpE,EAAUR,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAChDsE,IAAe,EACtBM,EAAW5E,EAAO,UAAU,OAAS,IAAIQ,EAAUR,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,SAAS,gBAAgB,EAAI,IAAIQ,EAAUR,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAE5J4E,EAAW,IAAIpE,EAAUR,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAGvDwH,IAAS,WAAY,CACrB,GAAIxH,EAAO,SAASsE,CAAU,EAAEiD,CAAO,GAAK,EAAK,MAAO,GAExD,IAAM5C,EAAUvE,EAAO,aAAakE,CAAU,EAC9C,GAAIM,EAAS,SAASD,EAAQ,UAAU4C,CAAO,CAAC,EAAK,MAAO,GAE5DvH,EAAO,SAASsE,CAAU,EAAEiD,CAAO,IAC9B1C,GAAQD,EAAS,MAAMD,EAAQ,UAAU4C,CAAO,CAAC,EAGlDjD,IAAe,EACXiD,GAAW,GAAwB3B,GAAc,EAC9CtB,IAAe,GAAKiD,IAAY,GAAKnH,EAAO,MAAQ,WAAasH,EAAU,SAAS,EAC3F,CAAClD,GAAQc,EAAW,WAAW,CAAC,IAAKC,EAAM,QAAQ,EAAE,YAAc,gBAAgBZ,EAAQ,KAAK4C,CAAO,CAAC,sBAChH,SAAWC,IAAS,cAAgBA,IAAS,kBAAmB,CAC5D,IAAM7C,EAAUvE,EAAO,GAAGoH,CAAI,MAAM,EAAElD,CAAU,EAC1CjE,EAAQL,EAAOwH,CAAI,EAAElD,CAAU,EAErC,GAAIjE,EAAMkH,CAAO,GAAK5C,EAAQ,IAAI4C,CAAO,EAAK,MAAO,GACrD,IAAII,EAAOhD,EAAQ,KAAK4C,CAAO,EAC/B,GAAI3C,EAAS,SAAS+C,CAAI,EAAK,MAAO,GAEtC,IAAIC,EAAY,EAChB,IAAKpD,GAASxE,EAAO,QAAQ,IAAI,CAAC,GAAKA,EAAO,MAAM,MAAQ,IAAO2E,EAAQ,IAAI4C,CAAO,EAAI,EAAG,CACzF,IAAMpC,EAAUR,EAAQ,QAAQ4C,CAAO,EACvC,GAAIjD,IAAe,EACf,GAAIO,EACA+C,EAAY,KAAK,IAAI,KAAK,OAAOhD,EAAS,SAAS,EAAI+C,GAAQxC,EAAU,CAAC,EAAGR,EAAQ,IAAI4C,CAAO,EAAIlH,EAAMkH,CAAO,CAAC,MAC/G,CACH,IAAMM,EAAWF,EAAOxC,EAAU,EAClCyC,EAAY,KAAK,IAAI,KAAK,QAAQC,GAAY,EAAI,EAAI1C,EAAUP,EAAS,SAAS,IAAM,GAAMiD,GAAY1C,CAAO,EAAGR,EAAQ,IAAI4C,CAAO,EAAIlH,EAAMkH,CAAO,CAAC,EACrJK,EAAY,IAAKD,EAAOC,GAAaA,EAAYzC,EAAU,EAAI0C,GACvE,MAEAD,EAAY,KAAK,IAAI,KAAK,MAAM,IAAIpH,EAAUoE,CAAQ,EAAE,SAASO,EAAU,CAAC,EAAE,OAAOwC,CAAI,EAAE,KAAK,GAAG,EAAE,IAAIxC,CAAO,EAAE,SAAS,CAAC,EAAGR,EAAQ,IAAI4C,CAAO,EAAIlH,EAAMkH,CAAO,CAAC,EAChKK,EAAY,IAAKD,EAAO,IAAInH,EAAU2E,CAAO,EAAE,MAAMyC,CAAS,EAAE,MAAM,GAAG,EAAE,OAAOzC,EAAU,CAAC,EAAE,SAASwC,CAAI,EAAE,SAAS,EAEnI,CAEAtH,EAAMkH,CAAO,GAAKK,EACb/C,GAAQD,EAAS,MAAM+C,CAAI,EAG5BH,IAAS,aACLlD,IAAe,EACXiD,GAAW,GACX3B,GAAc,EAEXtB,IAAe,IAClBiD,IAAY,GAAKA,IAAY,IAC7BlC,EAAkB,EAAG,EAAG,aAAc,EAAI,EAG3CmC,IAAS,oBACZlD,IAAe,EACXiD,IAAY,IACRvH,EAAO,MAAM,QAAU,IAAKA,EAAO,MAAM,QAAUA,EAAO,gBAAgB,CAAC,EAAE,CAAC,EAAI,EAAI,EAAI,GAC9F8H,EAAY,MAAM,EAClBrC,GAAgB,CAAC,GAEdnB,IAAe,EAClBiD,IAAY,GACZlC,EAAkB,EAAG,EAAG,aAAc,EAAI,EAEvCf,IAAe,GAClBiD,IAAY,GACZlC,EAAkB,EAAG,EAAG,MAAO,EAAI,GAI3C,CAACb,GAAQc,EAAW,WAAW,CAAC,IAAKC,EAAM,QAAQ,EAAE,YAAc,aAAaZ,EAAQ,KAAK4C,CAAO,CAAC,gCAAgClH,EAAMkH,CAAO,CAAC,IAAIlH,EAAMkH,CAAO,GAAK5C,EAAQ,IAAI4C,CAAO,EAAI,QAAU,EAAE,GACpN,SAAWC,IAAS,kBAAoBA,IAAS,MAAO,CAChDA,IAAS,QAASD,EAAUjD,GAChC,IAAMK,EAAUvE,EAAO,GAAGoH,CAAI,MAAM,EAC9BnH,EAAQL,EAAOwH,CAAI,EAEzB,GAAInH,EAAMkH,CAAO,GAAK5C,EAAQ,IAAI4C,CAAO,EAAK,MAAO,GACrD,IAAMI,EAAOhD,EAAQ,UAAU4C,CAAO,EAAElH,EAAMkH,CAAO,CAAC,EACtD,GAAI3C,EAAS,SAAS+C,CAAI,EAAK,MAAO,GAEtCtH,EAAMkH,CAAO,IACR1C,GAAQD,EAAS,MAAM+C,CAAI,EAG5BH,IAAS,OACLxH,EAAO,OAAOuH,CAAO,EAAIlH,EAAMkH,CAAO,IAAKvH,EAAO,OAAOuH,CAAO,EAAIlH,EAAMkH,CAAO,GAErF,CAAC/C,GAAQc,EAAW,WAAW,CAAC,IAAKC,EAAM,QAAQ,EAAE,YAAc,aAAaiC,IAAS,MAAQ7C,EAAQ,KAAOA,EAAQ,KAAK4C,CAAO,CAAC,gCAAgClH,EAAMkH,CAAO,CAAC,IAAIlH,EAAMkH,CAAO,GAAK5C,EAAQ,IAAI4C,CAAO,EAAI,QAAU,EAAE,GACpP,SAAWC,IAAS,WAAY,CAC5B,IAAInH,EAAQL,EAAO,SAASuH,CAAO,EACnC,GAAIlH,GAAS,EAAK,MAAO,GAEzB,GAAIA,IAAU,EAAG,CACb,IAAM0H,EAAY3H,EAAO,aAAa,UAAUmH,CAAO,EACvD,GAAI3C,EAAS,SAASmD,CAAS,EAAK,MAAO,GAC3CnD,EAAS,MAAMmD,CAAS,CAC5B,SAAW,CAACvD,EAAQ,MAAO,GAC3BnE,EAAQL,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAKK,IAAU,GAAM,EAAI,GAC7DL,EAAO,SAASuH,CAAO,EAAIlH,EAGvBL,EAAO,SAAS,KAAOuH,IAAWvH,EAAO,SAAS,KAAOuH,GACzDlH,IAAU,IACNkH,IAAY,GAAKA,IAAY,IAAMA,IAAY,IAAMA,IAAY,GACjElC,EAAkB,EAAG,EAAG,aAAc,EAAI,EACnCkC,IAAY,GAAKA,IAAY,GACpClC,EAAkB,EAAG,EAAG,aAAc,EAAI,EACnCkC,IAAY,GACnBlC,EAAkB,EAAG,EAAG,aAAc,EAAI,EACnCkC,IAAY,KACnBvH,EAAO,MAAM,QAAU,EACnBA,EAAO,MAAM,KAAO,IACpBA,EAAO,MAAM,KAAO,EACpBA,EAAO,OAAO,CAAC,EAAI,IAEvB8H,EAAY,MAAM,EAClBrC,GAAgB,CAAC,IAGrB,CAACjB,GAAQc,EAAW,WAAW,CAAC,IAAKC,EAAM,QAAQ,EAAE,YAAc,gBAAgBnF,EAAO,aAAa,KAAKmH,CAAO,CAAC,KAAKvH,EAAO,SAASuH,CAAO,GAAK,EAAI,WAAa,qBAAqB,GACnM,CAEA,GAAIjD,IAAe,EACVO,IAAQ7E,EAAO,UAAU,OAAS4E,EAAS,SAAS,WAClDN,IAAe,GAGtB,GAFAtE,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAU4E,EAE7B5E,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,YAAY,GAAG,GAAKA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAASA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,IAAI,EAAG,CACzH,IAAMqH,EAAMrH,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAEnC,GADAA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAAO,KAAK,MAAMA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS,CAAC,EAC9EA,EAAO,UAAU,OAAQ,CACzB,IAAMgI,GAAaX,EAAMrH,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQI,EAAO,cAAc,UAAU,EAAG,CAAC,EAC3FA,EAAO,cAAc,YAAc4H,EACnChI,EAAO,UAAU,QAAUgI,CAC/B,MAAWhI,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,YAAY,GAAG,GAAKA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS,QAAQ,GAC1GA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS,QAAQ,CAExD,OACOsE,IAAe,EAClBtE,EAAO,UAAU,QACjBA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAU4E,EAAS,OAAO,gBAAgB,EACjE5E,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAASA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,SAAS,gBAAgB,GAC5FA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAU4E,EAE1C5E,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAU4E,EAGrC,OAAArD,GAA0B,EACtBiG,IAAS,YAAcA,IAAS,WAChCS,GAAqBV,EAASjD,EAAYkD,CAAI,GAE1CA,IAAS,kBAAoBA,IAAS,OAASU,GAAsBX,EAASjD,EAAYkD,CAAI,EAClGW,EAAuBZ,EAASjD,EAAYkD,CAAI,GAE/ChD,GAAQqB,EAAc,EACpB,EACX,EAEauC,GAAiB,CAACb,EAAiBjD,EAAoBkD,EAAqBhD,EAAO,KAAmB,CAC/G,GAAI,CAACA,GAAQ,CAACiD,GAAaF,EAASjD,EAAYkD,CAAI,EAAK,MAAO,GAEhE,GAAIA,IAAS,cAAe,CACxB,IAAM7C,EAAUvE,EAAO,gBAAgBkE,CAAU,EAGjD,GADItE,EAAO,YAAYsE,CAAU,EAAEiD,CAAO,GAAK5C,EAAQ,IAAI4C,CAAO,GAC9DvH,EAAO,QAAQ,CAAC,EAAE,QAAUI,EAAO,gBAAgBkE,CAAU,EAAE,KAAKiD,CAAO,EAAK,MAAO,GAM3F,GAJAvH,EAAO,YAAYsE,CAAU,EAAEiD,CAAO,IACtCvH,EAAO,QAAQ,CAAC,EAAE,SAAW2E,EAAQ,KAAK4C,CAAO,EAG7CjD,IAAe,EACXiD,IAAY,EACRvH,EAAO,IAAI,CAAC,EAAIA,EAAO,OAAO,CAAC,IAC/BA,EAAO,IAAI,CAAC,EAAIA,EAAO,OAAO,CAAC,EAC/BmI,EAAuB,EAAG,EAAG,KAAK,GAE/BZ,IAAY,EACnB5B,GAAa,EACN4B,IAAY,IACnB5B,GAAa,EACbN,EAAkB,EAAG,EAAG,cAAe,EAAI,EAC3CA,EAAkB,EAAG,EAAG,cAAe,EAAI,EAC3CA,EAAkB,EAAG,EAAG,cAAe,EAAI,WAExCf,IAAe,EAClBiD,IAAY,GACZlC,EAAkB,EAAG,EAAG,aAAc,EAAI,EAC1CA,EAAkB,EAAG,EAAG,aAAc,EAAI,GACnCkC,IAAY,EACfvH,EAAO,IAAI,CAAC,EAAIA,EAAO,OAAO,CAAC,IAC/BA,EAAO,IAAI,CAAC,EAAIA,EAAO,OAAO,CAAC,EAC/BmI,EAAuB,EAAG,EAAG,KAAK,GAE/BZ,IAAY,IACnBlC,EAAkB,EAAG,EAAG,aAAc,EAAI,EAC1CA,EAAkB,EAAG,EAAG,aAAc,EAAI,WAEvCf,IAAe,EAClBiD,IAAY,GACZlC,EAAkB,EAAG,EAAG,kBAAmB,EAAI,EAC/CA,EAAkB,EAAG,EAAG,kBAAmB,EAAI,GACxCkC,IAAY,EACfvH,EAAO,IAAI,CAAC,EAAIA,EAAO,OAAO,CAAC,IAC/BA,EAAO,IAAI,CAAC,EAAIA,EAAO,OAAO,CAAC,EAC/BmI,EAAuB,EAAG,EAAG,KAAK,GAE/BZ,IAAY,GACfvH,EAAO,eAAe,CAAC,EAAIA,EAAO,YAAY,CAAC,EAAE,CAAC,IAClDA,EAAO,eAAe,CAAC,EAAIA,EAAO,YAAY,CAAC,EAAE,CAAC,EAClDmI,EAAuB,EAAG,EAAG,gBAAgB,WAM9C7D,IAAe,EACtB,GAAIiD,IAAY,EACRvH,EAAO,IAAI,CAAC,EAAIA,EAAO,OAAO,CAAC,IAC/BA,EAAO,IAAI,CAAC,EAAIA,EAAO,OAAO,CAAC,EAC/BmI,EAAuB,EAAG,EAAG,KAAK,WAE/BZ,IAAY,EACnB,QAAS,EAAI,EAAG,EAAIvH,EAAO,SAAS,SAChC,EAAIA,EAAO,SAAS,QAAQ,GAAK,CAAC,EAC9B,IAAI,IAFgC,IAGxCsH,EAAY,EAAG,EAAG,WAAY,EAAI,OAE/BC,IAAY,GACfvH,EAAO,SAAS,CAAC,EAAI,IACrBA,EAAO,SAAS,CAAC,EAAI,EACrBiI,GAAqB,EAAG,EAAG,UAAU,WAGtC3D,IAAe,GACtB,GAAIiD,IAAY,EACRvH,EAAO,UAAU,OACbI,EAAO,MAAQ,eAAiBsH,EAAU,aAAa,EACpD1H,EAAO,MAAM,UAAYA,EAAO,YAAY,CAAC,EAAE,CAAC,GACvDA,EAAO,MAAM,UACbA,EAAO,KAAK,MAAQ,EACpBA,EAAO,MAAM,KAAO,EACpBA,EAAO,MAAM,KAAO,EAChBA,EAAO,MAAM,SAAWA,EAAO,MAAM,QAAU,IAC/CqI,GAAerI,EAAO,MAAM,OAAO,EACnC8H,EAAY,IAEXA,EAAY,MAAM,UACpBP,IAAY,EACfvH,EAAO,UAAU,QAAU8H,EAAY,MAAM,UAC1CP,IAAY,EACfvH,EAAO,IAAI,CAAC,EAAIA,EAAO,OAAO,CAAC,IAC/BA,EAAO,IAAI,CAAC,EAAIA,EAAO,OAAO,CAAC,EAC/BmI,EAAuB,EAAG,EAAG,KAAK,WAE/BZ,IAAY,EAAG,CACtB,IAAMJ,EAAUnH,EAAO,QACjBK,EAAQL,EAAO,YAAY,CAAC,EAAE,CAAC,EACrCmH,EAAQ9G,EAAQ,CAAC,EAAE,OAAS8G,EAAQ9G,EAAQ,CAAC,EAAE,QAC/C8G,EAAQ9G,CAAK,EAAE,QAAU8G,EAAQ9G,EAAQ,CAAC,EAAE,QAAU,KACtD8G,EAAQ9G,CAAK,EAAE,MAAQ8G,EAAQ9G,CAAK,EAAE,QACtC8G,EAAQ9G,EAAQ,CAAC,EAAE,QAAU,CACjC,EAEJ2G,GAAmB,EACf,CAACxC,GAAQc,EAAW,WAAW,CAAC,IAAKC,EAAM,QAAQ,EAAE,YAAc,mBAAmBZ,EAAQ,KAAK4C,CAAO,CAAC,SAASnH,EAAO,UAAU,KAAKkE,CAAU,CAAC,qCAAqCtE,EAAO,YAAYsE,CAAU,EAAEiD,CAAO,CAAC,GAAGvH,EAAO,YAAYsE,CAAU,EAAEiD,CAAO,GAAK5C,EAAQ,IAAI4C,CAAO,EAAI,QAAU,EAAE,GAC1T,CAEA,OAAAhG,GAA0B,EAC1B2G,GAAsBX,EAASjD,EAAYkD,CAAI,EAC/CW,EAAuBZ,EAASjD,EAAYkD,CAAI,EAC3ChD,GAAQqB,EAAc,EACpB,EACX,EAGaqC,GAAwB,CAACnI,EAAkBuE,EAAoBkD,IAA2D,CACnI,GAAIA,IAAS,cAAgBA,IAAS,kBAAmB,CACrD,IAAM7C,EAAUvE,EAAO,GAAGoH,CAAI,MAAM,EAAElD,CAAU,EAEhDK,EAAQ,KAAK5E,CAAQ,EAAIuE,IAAe,EACpCK,EAAQ,UAAU5E,CAAQ,EAAI4E,EAAQ,QAAQ5E,CAAQ,EAAIC,EAAOwH,CAAI,EAAElD,CAAU,EAAEvE,CAAQ,EAC3F4E,EAAQ,UAAU5E,CAAQ,EAAI4E,EAAQ,QAAQ5E,CAAQ,GAAKC,EAAOwH,CAAI,EAAElD,CAAU,EAAEvE,CAAQ,CACpG,MAAWyH,IAAS,gBAChBpH,EAAO,gBAAgBkE,CAAU,EAAE,KAAKvE,CAAQ,EAAIC,EAAO,UAAU,OACjE,KAAK,MAAM,KAAK,MAAOI,EAAO,gBAAgBkE,CAAU,EAAE,UAAUvE,CAAQ,EAAIK,EAAO,gBAAgBkE,CAAU,EAAE,QAAQvE,CAAQ,GAAKC,EAAO,YAAYsE,CAAU,EAAEvE,CAAQ,EAAK,GAAG,EAAI,GAAG,EAC9L,KAAK,MAAM,KAAK,OAAOK,EAAO,gBAAgBkE,CAAU,EAAE,UAAUvE,CAAQ,EAAIK,EAAO,gBAAgBkE,CAAU,EAAE,QAAQvE,CAAQ,EAAIC,EAAO,YAAYsE,CAAU,EAAEvE,CAAQ,GAAK,GAAG,EAAI,GAAG,EAEzM,EAEasF,EAAoB,CAACtF,EAAkBuE,EAAoBkD,EAAmFc,EAAU,KAAU,CAC3K,IAAIlB,EAAM,KACNI,IAAS,MACLlD,IAAe,EACf8C,EAAMpH,EAAO,UAAU,OAAS,EAAI,EAC7BsE,IAAe,EACtB8C,EAAMpH,EAAO,UAAU,OAAS,EAAI,EAC7BsE,IAAe,EACtB8C,EAAMpH,EAAO,UAAU,OAAS,EAAI,EAC7BsE,IAAe,EACtB8C,EAAMpH,EAAO,UAAU,OAAS,EAAI,EAC7BsE,IAAe,IACtB8C,EAAMpH,EAAO,UAAU,QAAUA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAI,EAAI,GAEjEwH,IAAS,aACZlD,IAAe,EACXvE,IAAa,GACbqH,EAAM,EACFpH,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoH,GAAO,IACrCrH,IAAa,GACpBqH,EAAM,EACFpH,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoH,GAAO,IACrCrH,IAAa,GACpBqH,EAAM,EACFpH,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAKoH,KAC9BrH,IAAa,IACpBqH,EAAM,EACFpH,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAKoH,KAElC9C,IAAe,IAClBvE,IAAa,GACbqH,EAAM,EAAK,EAAIpH,EAAO,WAAW,CAAC,EAAE,CAAC,EAAM,EAAIA,EAAO,WAAW,CAAC,EAAE,CAAC,EACjEA,EAAO,SAAS,CAAC,IAAM,IAAKoH,GAAO,IACnCpH,EAAO,SAAS,EAAE,IAAM,IAAKoH,GAAO,KACjCrH,IAAa,GACpBqH,EAAM,EAAIpH,EAAO,gBAAgB,CAAC,EAAE,CAAC,EACjCA,EAAO,SAAS,CAAC,IAAM,IAAKoH,GAAO,GACnCpH,EAAO,SAAS,EAAE,IAAM,GAAKoH,IAC7BpH,EAAO,SAAS,EAAE,IAAM,GAAKoH,IAC7BpH,EAAO,SAAS,EAAE,IAAM,GAAKoH,KAC1BrH,IAAa,IACpBqH,EAAM,EACFpH,EAAO,SAAS,EAAE,IAAM,GAAKoH,MAGlCI,IAAS,kBACZlD,IAAe,IACXvE,IAAa,GACbqH,EAAM,GACFpH,EAAO,UAAU,MAAQ,IAAKoH,GAAO,IACrCpH,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoH,GAAO,IACrCrH,IAAa,GACpBqH,EAAM,EACFpH,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoH,GAAO,IACrCrH,IAAa,IACpBqH,EAAMpH,EAAO,UAAU,KAAO,IAG/BwH,IAAS,gBACZlD,IAAe,EACXvE,IAAa,EACbqH,EAAM,EAAI,KAAK,IAAIpH,EAAO,WAAW,KAAK,CAAC,EAAG,CAAC,EACxCD,IAAa,IACpBqH,EAAM,EAAI,KAAK,IAAI,KAAK,MAAMpH,EAAO,WAAW,KAAK,CAAC,EAAI,CAAC,EAAG,CAAC,GAE5DsE,IAAe,EAClBvE,IAAa,EACbqH,EAAM,EAAI,KAAK,IAAIpH,EAAO,WAAW,KAAK,CAAC,EAAG,CAAC,EACxCD,IAAa,EACpBqH,EAAM,EAAI,KAAK,IAAI,KAAK,MAAMpH,EAAO,WAAW,KAAK,CAAC,EAAI,CAAC,EAAG,CAAC,EACxDD,IAAa,IACpBqH,EAAMpH,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,EAAI,GAEvCsE,IAAe,EAClBvE,IAAa,EACbqH,EAAM,EAAI,KAAK,IAAIpH,EAAO,WAAW,KAAK,CAAC,EAAG,CAAC,EACxCD,IAAa,EACpBqH,EAAM,EAAI,KAAK,IAAI,KAAK,MAAMpH,EAAO,WAAW,KAAK,CAAC,EAAI,CAAC,EAAG,CAAC,EACxDD,IAAa,IACpBqH,EAAMpH,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,EAAI,GAEvCsE,IAAe,EAClBvE,IAAa,EACbqH,EAAM,EAAI,KAAK,IAAIpH,EAAO,WAAW,KAAK,CAAC,EAAG,CAAC,EACxCD,IAAa,EACpBqH,EAAM,EAAI,KAAK,IAAI,KAAK,MAAMpH,EAAO,WAAW,KAAK,CAAC,EAAI,CAAC,EAAG,CAAC,EACxDD,IAAa,EACpBqH,EAAMpH,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,EAAI,EACnCD,IAAa,IACpBqH,EAAMpH,EAAO,UAAU,QAAUA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAI,EAAI,GAEjEsE,IAAe,IAClBvE,IAAa,EACbqH,EAAMpH,EAAO,UAAU,OAAS,EAAI,EAC7BD,IAAa,IACpBqH,EAAM,EAAI,KAAK,IAAI,KAAK,MAAMpH,EAAO,WAAW,KAAK,CAAC,EAAI,CAAC,EAAG,CAAC,KAIvEoH,IAAQ,OACJA,EAAM,IAAKA,EAAM,GACjBI,IAAS,MACTpH,EAAO,QAAQ,IAAIkE,CAAU,EAAI8C,EAC1BI,IAAS,mBAChBpH,EAAO,GAAGoH,CAAI,MAAM,EAAElD,CAAU,EAAE,IAAIvE,CAAQ,EAAIqH,IAItDI,IAAS,kBAAoBA,IAAS,OAASU,GAAsBnI,EAAUuE,EAAYkD,CAAI,EACnGW,EAAuBpI,EAAUuE,EAAYkD,CAAI,EAC7Cc,IAAYd,IAAS,cAAgBA,IAAS,oBAAsBe,GAAkBf,EAAM,CAAClD,EAAYvE,CAAQ,CAAC,CAC1H,EAEayI,GAAmBC,GAA0B,CACtD,GAAI,CAACzI,EAAO,QAAQ,KAAK,CAAC,EAAK,OAC/B,IAAMwE,EAAOpE,EAAO,eAAe,MAC7BC,EAAQL,EAAO,SACf2E,EAAUvE,EAAO,aAEvB,GAAIqI,IAAU,MACV,QAASxC,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzBzB,EAAKyB,CAAC,EAAI,CAAC,EACX,QAASyC,EAAI,EAAGA,EAAI/D,EAAQsB,CAAC,EAAE,UAAWyC,IAClCrI,EAAM4F,CAAC,EAAEyC,CAAC,EAAI,GACdlE,EAAKyB,CAAC,EAAE,KAAKyC,CAAC,EAGtB,IAAMX,EAAYpD,EAAQsB,CAAC,EAAE,UAC7BzB,EAAKyB,CAAC,EAAE,KAAK,CAAC0C,EAAGC,IAAMb,EAAUY,CAAC,EAAIZ,EAAUa,CAAC,CAAC,CACtD,SACO,OAAOH,GAAU,SAAU,CAClCjE,EAAKiE,CAAK,EAAI,CAAC,EACf,QAAS,EAAI,EAAG,EAAI9D,EAAQ8D,CAAK,EAAE,UAAW,IACtCpI,EAAMoI,CAAK,EAAE,CAAC,EAAI,GAClBjE,EAAKiE,CAAK,EAAE,KAAK,CAAC,EAG1B,IAAMV,EAAYpD,EAAQ8D,CAAK,EAAE,UACjCjE,EAAKiE,CAAK,EAAE,KAAK,CAACE,EAAGC,IAAMb,EAAUY,CAAC,EAAIZ,EAAUa,CAAC,CAAC,CAC1D,CACJ,EAEaC,GAAmBvE,GAAuB,CACnD,GAAI,CAACtE,EAAO,QAAQ,KAAK,CAAC,GAAKA,EAAO,eAAe,CAAC,EAAI,EAAK,OAC/D,IAAMwE,EAAOpE,EAAO,eAAe,MAAMkE,CAAU,EAEnD,QAASoE,EAAI,EAAGA,EAAIlE,EAAK,OAAQkE,IAAK,CAClC,IAAMrE,EAAQG,EAAKkE,CAAC,EAEpB,GAAKjB,GAAapD,EAAOC,EAAY,UAAU,EAG/C,GAFAgD,EAAYjD,EAAOC,EAAY,WAAY,EAAI,EAE3CtE,EAAO,SAASsE,CAAU,EAAED,CAAK,GAAK,EACtCG,EAAK,OAAOkE,EAAG,CAAC,EAChBA,QACK,MACb,CACJ,EAGaH,GAAoB,CAACf,EAAwCiB,IAAqC,CAC3G,GAAI,CAACzI,EAAO,QAAQ,KAAKwH,IAAS,aAAe,EAAI,CAAC,EAAK,OAC3D,IAAMhD,EAAOpE,EAAO,eAAeoH,IAAS,aAAe,QAAU,OAAO,EACtEnH,EAAQL,EAAOwH,CAAI,EACnB7C,EAAUvE,EAAO,GAAGoH,CAAI,MAAM,EAEpC,GAAIiB,IAAU,MACV,QAASxC,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzBzB,EAAKyB,CAAC,EAAI,CAAC,EACX,GAAM,CAAE,IAAAmB,EAAK,KAAAO,CAAK,EAAIhD,EAAQsB,CAAC,EAC/B,QAASyC,EAAI,EAAGA,EAAI/D,EAAQsB,CAAC,EAAE,UAAWyC,IAClCrI,EAAM4F,CAAC,EAAEyC,CAAC,EAAItB,EAAIsB,CAAC,GACnBlE,EAAKyB,CAAC,EAAE,KAAKyC,CAAC,EAGtBlE,EAAKyB,CAAC,EAAE,KAAK,CAAC0C,EAAGC,IAAMjB,EAAKgB,CAAC,EAAIhB,EAAKiB,CAAC,CAAC,CAC5C,SACO,OAAOH,GAAU,SAAU,CAClCjE,EAAKiE,CAAK,EAAI,CAAC,EACf,GAAM,CAAE,IAAArB,EAAK,KAAAO,CAAK,EAAIhD,EAAQ8D,CAAK,EACnC,QAASC,EAAI,EAAGA,EAAI/D,EAAQ8D,CAAK,EAAE,UAAWC,IACtCrI,EAAMoI,CAAK,EAAEC,CAAC,EAAItB,EAAIsB,CAAC,GACvBlE,EAAKiE,CAAK,EAAE,KAAKC,CAAC,EAG1BlE,EAAKiE,CAAK,EAAE,KAAK,CAACE,EAAGC,IAAMjB,EAAKgB,CAAC,EAAIhB,EAAKiB,CAAC,CAAC,CAChD,KAAO,CACH,GAAM,CAAC3C,EAAG0C,CAAC,EAAIF,EACf,GAAI9D,EAAQsB,CAAC,EAAE,IAAI0C,CAAC,EAAItI,EAAM4F,CAAC,EAAE0C,CAAC,EAAG,CACjC,GAAM,CAAE,KAAAhB,CAAK,EAAIhD,EAAQsB,CAAC,EACtB6C,EACJ,QAASJ,EAAI,EAAGA,EAAIlE,EAAKyB,CAAC,EAAE,OAAQyC,IAAK,CACrC,GAAIlE,EAAKyB,CAAC,EAAEyC,CAAC,IAAMC,EAAK,OACpBG,IAAa,QAAanB,EAAKgB,CAAC,EAAIhB,EAAKnD,EAAKyB,CAAC,EAAEyC,CAAC,CAAC,IACnDI,EAAWJ,EAEnB,CACII,IAAa,OACbtE,EAAKyB,CAAC,EAAE,OAAO6C,EAAU,EAAGH,CAAC,EACxBnE,EAAKyB,CAAC,EAAE,KAAK0C,CAAC,CAC3B,CACJ,CACJ,EAEaI,GAAoB,CAACvB,EAAwClD,IAAuB,CAC7F,GAAIkD,IAAS,cACT,GAAI,CAACxH,EAAO,QAAQ,KAAK,CAAC,GAAKA,EAAO,eAAe,CAAC,EAAI,EAAK,eAE3D,CAACA,EAAO,QAAQ,KAAK,CAAC,GAAKA,EAAO,eAAe,CAAC,EAAI,EAAK,OAEnE,IAAMwE,EAAOpE,EAAO,eAAeoH,IAAS,aAAe,QAAU,OAAO,EAAElD,CAAU,EAClFK,EAAUvE,EAAO,GAAGoH,CAAI,MAAM,EAAElD,CAAU,EAE5C0E,EAAO,GACX,QAAS,EAAI,EAAG,EAAIxE,EAAK,OAAQ,IAAK,CAClC,GAAI,CAACiD,GAAajD,EAAK,CAAC,EAAGF,EAAYkD,CAAI,EAAK,SAChD,IAAMyB,EAAS3B,EAAY9C,EAAK,CAAC,EAAGF,EAAYkD,EAAM,EAAI,EAE1D,GAAIxH,EAAOwH,CAAI,EAAElD,CAAU,EAAEE,EAAK,CAAC,CAAC,GAAKG,EAAQ,IAAIH,EAAK,CAAC,CAAC,EACxDA,EAAK,OAAO,EAAG,CAAC,EAChB,YACO,CAACyE,EAAQ,CAChB,GAAItE,EAAQ,KAAKH,EAAK,CAAC,CAAC,EAAIG,EAAQ,KAAKH,EAAK,EAAI,CAAC,CAAC,EAAG,CACnDwE,EAAO,GACP,QACJ,CACA,KACJ,CACJ,CACIA,GAAQxE,EAAK,KAAK,CAACmE,EAAGC,IAAMjE,EAAQ,KAAKgE,CAAC,EAAIhE,EAAQ,KAAKiE,CAAC,CAAC,CACrE,EAEaM,GAAkB,IAAM,CACjC,GAAI,CAAClJ,EAAO,QAAQ,KAAK,CAAC,EAAK,OAC/B,IAAMwE,EAAOpE,EAAO,eAAe,SAC7B2H,EAAY3H,EAAO,aAAa,UAChCwB,EAAW5B,EAAO,SAExB,QAAS0I,EAAI,EAAGA,GAAK1I,EAAO,UAAU,OAAS+H,EAAU,OAAS,IAAKW,IAC/D9G,EAAS8G,CAAC,IAAM,GAAKlE,EAAK,KAAKkE,CAAC,EAGxClE,EAAK,KAAK,CAACmE,EAAGC,IAAMb,EAAUY,CAAC,EAAIZ,EAAUa,CAAC,CAAC,CACnD,EAEaO,GAAkB,IAAM,CACjC,GAAI,CAACnJ,EAAO,QAAQ,KAAK,CAAC,GAAKA,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,EAAK,OAC/D,IAAMwE,EAAOpE,EAAO,eAAe,SAC7BwB,EAAW5B,EAAO,SAExB,QAAS0I,EAAI,EAAGA,EAAIlE,EAAK,OAAQkE,IAAK,CAClC,IAAMrE,EAAQG,EAAKkE,CAAC,EAEpB,GAAI,CAACjB,GAAapD,EAAO,EAAG,UAAU,EAAK,MAG3C,GAFAiD,EAAYjD,EAAO,EAAG,WAAY,EAAI,EAElCzC,EAASyC,CAAK,IAAM,EACpBG,EAAK,OAAOkE,EAAG,CAAC,EAChBA,QACK,MACb,CACJ,EAEaU,EAAa,CAACC,EAAgB7B,EAA8C8B,EAAS,KAAU,CACxG,IAAMC,EAAU/B,IAAS,YAAcxH,EAAO,QAAQ,UAAUA,EAAO,MAAM,MAAM,EAAIA,EAAO,QAAQwH,CAAI,EAE1G,GAAI8B,EACA,GAAI9B,IAAS,YACT,GAAI6B,IAAW,EAAG,CACdE,EAAQ,CAAC,EAAI,CAACA,EAAQ,CAAC,EACvB,QAASb,EAAI,EAAGA,EAAIa,EAAQ,OAAQb,IAChCa,EAAQb,CAAC,EAAIa,EAAQ,CAAC,EACtBH,EAAWV,EAAG,WAAW,CAEjC,KAAO,CACH,IAAMlH,EAAYxB,EAAO,UAAUA,EAAO,MAAM,MAAM,EACtD,GAAIqJ,GAAU7H,EAAU,OAAU,OAElC,IAAIgI,EAAQ,GACZD,EAAQF,CAAM,EAAI,CAACE,EAAQF,CAAM,EACjC,QAASX,EAAI,EAAGA,EAAItI,EAAO,cAAc,UAAUJ,EAAO,MAAM,MAAM,EAAG0I,IACrE,GAAIa,EAAQb,CAAC,GAAKlH,EAAUkH,CAAC,EAAE,QAAQ,SAAS,GAAG,EAAG,CAClDc,EAAQ,GACR,KACJ,CAEAD,EAAQ,CAAC,IAAMC,IACfD,EAAQ,CAAC,EAAIC,EACbJ,EAAW,EAAG,WAAW,EAEjC,MACKG,EAAQF,CAAM,EAAI,CAACE,EAAQF,CAAM,EAG9C,IAAII,EACAC,EACAlC,IAAS,aACTkC,EAAanE,EAAM,iBAAiB8D,CAAM,EAAE,EAC5CI,EAAYJ,IAAW,EAAI,OAAS,SAC7B7B,IAAS,SAChBkC,EAAanE,EAAM,cAAc8D,CAAM,EAAE,EACzCI,EAAY,oBACLjC,IAAS,OAChBkC,EAAanE,EAAM,YAAY8D,CAAM,EAAE,EACvCI,EAAY,gBAEZC,EAAanE,EAAM,aAAa8D,CAAM,EAAE,EACxCI,EAAY,SAGXF,EAAQF,CAAM,GAKfK,EAAW,MAAM,MAAQ,GACzBA,EAAW,MAAM,YAAc,GAC/BA,EAAW,YAAc,GAAGD,CAAS,OANrCC,EAAW,MAAM,MAAQ,kBACzBA,EAAW,MAAM,YAAc,UAC/BA,EAAW,YAAc,GAAGD,CAAS,MAM7C,EAEaE,GAAgB,CAACN,EAAgBC,EAAS,KAAU,CAC7D,IAAMC,EAAUvJ,EAAO,QAAQ,QAC3BsJ,IAAUC,EAAQF,CAAM,EAAIE,EAAQF,CAAM,IAAM,MAAQ,OAASE,EAAQF,CAAM,IAAM,OAAS,OAAS,OAE3G,IAAMK,EAAanE,EAAM,gBAAgB8D,CAAM,EAAE,EACjDK,EAAW,YAAcH,EAAQF,CAAM,EACnCE,EAAQF,CAAM,IAAM,OAASE,EAAQF,CAAM,IAAM,QACjDK,EAAW,MAAM,MAAQ,GACzBA,EAAW,MAAM,YAAc,KAE/BA,EAAW,MAAM,MAAQ,kBACzBA,EAAW,MAAM,YAAc,UAEvC,EAEaE,GAAkB,CAACtF,EAAoBE,EAAO,KAAmB,CAC1E,IAAIqF,EAAU,GACd,GAAIvF,GAAc,EACduF,EAAU7J,EAAO,SAAS,EAAE,IAAM,MAC/B,IAAIsE,IAAe,EACtB,MAAO,GACAA,IAAe,EACtBuF,EAAU7J,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,YAAY,eAAe,EAC7DsE,IAAe,EACtBuF,EAAU7J,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,YAAY,YAAY,EAC1DsE,IAAe,IACtBuF,EAAU7J,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,YAAY,eAAe,GAGxE,GAAIwE,GAAQqF,EAAS,CACjB,GAAI7J,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,GAAMsE,GAAc,GAAKlE,EAAO,YAAY,KAAKkE,CAAU,EAAI,MAAQtE,EAAO,YAAY,CAAC,EAAE,CAAC,EAAIA,EAAO,MAAM,MAAU,MAAO,GAC/J8J,GAAiBxF,CAAU,CAC/B,CACA,OAAOuF,CACX,EAEaE,GAAkB,SAAW,CACtC,IAAMC,EAAQhK,EAAO,MACfiK,EAASjK,EAAO,UAAU,QAAWgK,EAAM,QAAU,GAAKhK,EAAO,OAAO,CAAC,EAAK,EAAIgK,EAAM,OAE9F,GAAKJ,GAAgBK,CAAM,EAOpB,CACH,GAAIjK,EAAO,QAAQ,QAAQ,CAAC,IAAM,OAAQ,CACtC,IAAMkK,EAAYlK,EAAO,WAAW,OACpC,GAAIA,EAAO,QAAQ,QAAQ,CAAC,IAAM,QAAUkK,IAAc,GAAI,CAC1D,IAAIC,EAUJ,GATIF,GAAU,GACVE,EAAQnK,EAAO,UAAU,OACrB,+BAA+BwF,EAAOpF,EAAO,YAAY,KAAK,CAAC,EAAI,MAAQJ,EAAO,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,IAAII,EAAO,YAAY,KAAKJ,EAAO,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,IAD3H,iCAAiCwF,EAAOpF,EAAO,YAAY,KAAK,CAAC,CAAC,CAAC,mBAEjG8J,IAAc,KAAMC,GAAQ;AAAA,GAAM/J,EAAO,eAAe,KAAK8J,CAAS,CAAC,gBACpED,IAAWD,EAAM,QACxBG,EAAO,wBAAwB3E,EAAOpF,EAAO,YAAY,KAAK6J,CAAM,CAAC,CAAC,mBAEtEE,EAAO,kEAEP,CAAC,MAAMC,EAAQD,CAAI,EAAK,OAC5B,GAAI,CAACP,GAAgBK,CAAM,EAAK,OAAOlD,EAAO,sDAAsD,CACxG,CACJ,CACA+C,GAAiBG,CAAM,CAC3B,KA1B8B,CAC1B,GAAIjK,EAAO,QAAQ,QAAQ,CAAC,IAAM,QAAWgK,EAAM,KAAO,GAAKhK,EAAO,SAAS,CAAC,EAAE,CAAC,EAAI,EAAM,OAC7F,GAAIiK,GAAU,EAAK,OAAO,KAAKI,EAAM,8BAA8B,EACnE,GAAIJ,IAAW,EAAK,OAAO,KAAKI,EAAM,iCAAiC,EACvE,GAAIJ,IAAW,EAAK,OAAO,KAAKI,EAAM,wDAAwD7E,EAAO,YAAa,CAAC,OAAO,EAC1H,GAAIyE,IAAW,EAAK,OAAO,KAAKI,EAAM,gEAAgE7E,EAAO,SAAU,CAAC,WAAW,EACnI,GAAIyE,IAAW,EAAK,OAAO,KAAKI,EAAM,4DAA4D7E,EAAO,YAAa,CAAC,YAAY,CACvI,CAoBJ,EAEMsE,GAAoBxF,GAAuB,CAC7C,GAAM,CAAE,MAAA0F,CAAM,EAAIhK,EACZ6G,EAAO7G,EAAO,KAAK,MAEzBgK,EAAM,SACN,IAAIM,EAAoC,SAClCC,EAAavK,EAAO,UAAU,OAAS,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EAAI,CAACsE,CAAU,EA6B1E,GA5BItE,EAAO,UAAU,QACjBqI,GAAe,CAAC,EAChBrI,EAAO,KAAK,MAAQ,EACpBgK,EAAM,KAAO,EACbA,EAAM,KAAO,EACbA,EAAM,QAAU,GACT1F,IAAe0F,EAAM,SAC5BhK,EAAO,KAAK,MAAQ,EACpBgK,EAAM,KAAO,EACbA,EAAM,KAAO,EACT1F,EAAa,GACb0F,EAAM,UACFA,EAAM,SAAWA,EAAM,QAAU,EACjC3B,GAAe2B,EAAM,OAAO,EACvBM,EAAS,OACdN,EAAM,QAAUA,EAAM,OACtBA,EAAM,KAAOA,EAAM,QACnBhK,EAAO,OAAO,CAAC,EAAI,MAGvBgK,EAAM,QAAU,EAAIhK,EAAO,YAAY,CAAC,EAAE,CAAC,EACtCgK,EAAM,SAAW,GAAKA,EAAM,UAAY,GAAMA,EAAM,SAAW,EAChE3B,GAAe2B,EAAM,OAAO,EACvBM,EAAS,OAClBC,EAAW,QAAQ,CAAC,IAEnBD,EAAShG,IAAe0F,EAAM,OAAS,OAAS,GAErDA,EAAM,MAAQ,EAAG,CACjB,IAAMQ,EAAWpK,EAAO,YAAY,KAAKkE,CAAU,EAC/CkG,EAAWR,EAAM,OAAQA,EAAM,KAAOQ,GAE1C,IAAMC,EAAYzK,EAAO,YAAY,CAAC,EAAE,CAAC,EACnC0K,EAAWF,EAAW,MAAQC,EAKpC,GAJAzK,EAAO,QAAQyK,CAAS,EAAE,SAAWC,EACrC1K,EAAO,QAAQyK,CAAS,EAAE,OAASC,EACnC1D,GAAmB,EAEf1C,GAAc,EAAG,CACjB,IAAMqG,EAAUvK,EAAO,eAAe,MAChCwK,EAAU5K,EAAO,QAAQ,MAC/B2K,EAAQ,QAAQ,CAACH,EAAU3D,EAAM4D,CAAS,CAAC,EACvCE,EAAQ,OAAS,MAAOA,EAAQ,OAAS,KACzCH,EAAW3D,EAAO+D,EAAQ,KAAK,CAAC,EAAIA,EAAQ,KAAK,CAAC,IAAKA,EAAQ,KAAO,CAACJ,EAAU3D,EAAM4D,CAAS,EACxG,CACJ,CAEAI,GAAWN,EAAYD,CAAM,CACjC,EACMQ,GAAqB,IAAM,CAC7BzC,GAAe,CAAC,EAChBrI,EAAO,KAAK,MAAQ,EACpBA,EAAO,MAAM,KAAO,EACpBA,EAAO,MAAM,KAAO,EACpBA,EAAO,MAAM,QAAU,EACvB6K,GAAW,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,CAAC,CAC9B,EAEaE,GAAef,GAAkB,CAC1C,GAAK5J,EAAO,UAAU,UAAU,SAAS4J,CAAK,EAC9C,IAAIhK,EAAO,MAAM,SAAWgK,EAAO,CAC3B5J,EAAO,aAAe4J,IACtB5J,EAAO,WAAa4J,EACpBzE,EAAM,GAAGnF,EAAO,UAAU,KAAK4J,CAAK,CAAC,QAAQ,EAAE,MAAM,eAAiB,aAE1E,MACJ,CAEIA,IAAU,GAAKA,IAAU,IAAO5J,EAAO,MAAQ,WAAaA,EAAO,OAAO,iBAAmB,YAAeA,EAAO,MAAQ,aAC3HsH,EAAU,UAAWtH,EAAO,MAAQ,UAAY,WAAa,IAAI,EAErEiI,GAAe2B,CAAK,EACpBlC,EAAY,EAChB,EAEaO,GAAiB,CAAC2B,EAAeC,EAASD,IAAU,CAC7DzE,EAAM,GAAGnF,EAAO,UAAU,KAAKJ,EAAO,MAAM,MAAM,CAAC,QAAQ,EAAE,MAAM,eAAiB,GACpFA,EAAO,MAAM,OAASgK,EACtB5J,EAAO,WAAa6J,EACpB1E,EAAM,GAAGnF,EAAO,UAAU,KAAK4J,CAAK,CAAC,QAAQ,EAAE,MAAM,eAAiB,aAAe5J,EAAO,aAAe4J,EAAQ,UAAY,GACnI,EAEagB,GAAoB,KAAe,GAAM,EAAIhL,EAAO,WAAW,CAAC,EAAE,CAAC,EAAKA,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EACpGiL,GAAsB,IAAM,CACrC7K,EAAO,cAAc,KAAO,KAAK,MAAM4K,GAAkB,GAAKhL,EAAO,UAAU,OAAO,CAC1F,EAEakL,GAAsB,CAAC1G,EAAO,KAAmB,CAC1D,GAAIxE,EAAO,SAAS,CAAC,EAAE,CAAC,EAAI,EAAK,MAAO,GACxCiL,GAAoB,EACpB,IAAME,EAAO/K,EAAO,cACdkC,EAAStC,EAAO,UAAU,OAEhC,OAAIwE,EACIxE,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,EAAY,GACvCsC,GAAU6I,EAAK,MACfC,GAAe,EACR,IAGPpL,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAKsC,GAAU6I,EAAK,WAAqB,IACzEC,GAAe,EACR,IAEJ9I,EAAS6I,EAAK,YAAc7I,GAAU6I,EAAK,IACtD,EAEaE,GAAsB,SAAW,CAC1C,GAAI,CAACH,GAAoB,EAAK,OAC9B,IAAMC,EAAO/K,EAAO,cACdkC,EAAStC,EAAO,UAAU,OAEhC,GAAIA,EAAO,QAAQ,QAAQ,CAAC,IAAM,SAC1BA,EAAO,QAAQ,QAAQ,CAAC,IAAM,QAAUA,EAAO,MAAM,SAAW,GAAG,CACnE,GAAI,CAAC,MAAMoK,EAAQ,kCAAkC9H,GAAU6I,EAAK,KAAO,6BAA+B,UAAU3F,EAAO2F,EAAK,WAAa7I,CAAM,CAAC,eAAe,GAAG,EAAK,OAC3K,GAAI,CAAC4I,GAAoB,EAAK,OAAOnE,EAAO,oDAAoD,CACpG,CAGAzB,EAAW,WAAW,CAAC,IAAKC,EAAM,QAAQ,EAAE,YAAc,mCAAmCjD,GAAU6I,EAAK,KAAO,6CAA+C,EAAE,IACxKC,GAAe,CACnB,EAEMA,GAAiB,IAAM,CACrBpL,EAAO,UAAU,QAAUI,EAAO,cAAc,MAChDJ,EAAO,UAAU,UAErByF,GAAgB,CAAC,EACjBL,GAAM,YAAapF,EAAO,UAAU,OAAS,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EAAI,CAAC,CAAC,CAAC,CACtE,EAEasL,GAAkB,IAAM,CACjC,IAAM1E,EAAM,IAAIpG,EAAUR,EAAO,UAAU,CAAC,EAAE,CAAC,EAAEA,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAAI,QAAU,SAAS,CAAC,EAAE,OAAOF,EAAiB,WAAW,CAAC,EAE3I8G,EAAI,YAAY,GAAG,EACf5G,EAAO,UAAU,OACjBI,EAAO,iBAAiB,IAAI,SAASJ,EAAO,aAAa,MAAM,EAAE,MAAM,CAAC,EAAE,KAAK4G,CAAG,EAAE,MAAM,EAAG,EAAE,MAAM5G,EAAO,aAAa,MAAM,EAAE,SAASI,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,CAAC,EACvKA,EAAO,iBAAiB,IAAI,SAASJ,EAAO,aAAa,MAAM,EAAE,MAAM,EAAI,EAAG,EAAE,KAAK4G,CAAG,EAAE,MAAM,EAAG,EAAE,MAAM5G,EAAO,aAAa,MAAM,EACzII,EAAO,iBAAiB,IAAI,SAAS,GAAG,CACrD,EAEamL,GAAyB,CAAC/G,EAAO,GAAOgH,EAAS,OAAmC,CAC7FF,GAAgB,EAChB,IAAMH,EAAO/K,EAAO,iBACpB,GAAIJ,EAAO,SAAS,CAAC,EAAE,CAAC,EAAI,GAAKmL,EAAK,IAAI,YAAY,GAAG,EAAK,MAAO,GAErE,GAAIK,IAAW,MACX,GAAIxL,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAG,CAE/B,GADAyL,GAAkBD,CAAM,EACpB,CAAChH,EAAQ,MAAO,GAEpB,GADA8G,GAAgB,EACZH,EAAK,IAAI,YAAY,GAAG,EAAK,MAAO,EAC5C,SAAW,CAAC3G,EAAQ,MAAO,GAE/B,GAAIA,EAAM,CACN,GAAIxE,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,EAAK,MAAO,GAC3C,IAAM0L,EAAW5L,EAAiB,WAAW,EAAI,EAC3C6L,EAAU7L,EAAiB,WAAW,EAC5C,GAAIA,EAAiB,OAAO,EAAI,EAAE,OAAOqL,EAAK,QAAQ,EAAE,SAAUO,EAAS,CAAC,EAAIC,EAAQ,CAAC,GAAMD,EAAS,CAAC,EAAIC,EAAQ,CAAC,EAAE,EAAE,SAAS3L,EAAO,aAAa,KAAK,EAAK,MAAO,GACxKyL,GAAkB,CACtB,CACA,MAAO,EACX,EAEaG,GAAyB,SAAW,CAC7C,GAAI,CAACL,GAAuB,EAAK,OACjC,IAAMJ,EAAO/K,EAAO,iBACdiG,EAAWrG,EAAO,aAAa,OAAO,SAAS,GAAG,EAAI,IAAIQ,EAAU2K,EAAK,GAAG,EAAE,OAAOnL,EAAO,aAAa,MAAM,EAAE,SAAS,KAAK,EAAI,IAEzI,GAAIA,EAAO,QAAQ,QAAQ,CAAC,IAAM,OAAQ,CACtC,IAAM0L,EAAW5L,EAAiB,WAAW,EAAI,EAC3C6L,EAAU7L,EAAiB,WAAW,EAC5C,GAAIE,EAAO,QAAQ,QAAQ,CAAC,IAAM,QAAUA,EAAO,MAAM,SAAW,GAAKF,EAAiB,OAAO,EAAI,EAAE,OAAOqL,EAAK,QAAQ,EAAE,SAAUO,EAAS,CAAC,EAAIC,EAAQ,CAAC,GAAMD,EAAS,CAAC,EAAIC,EAAQ,CAAC,EAAE,EAAE,SAAS,GAAG,EAAG,CAC1M,GAAI,CAAC,MAAMvB,EAAQ,qCAAqC5E,EAAO2F,EAAK,GAAG,CAAC,MAAM3F,EAAOa,CAAQ,CAAC,YAAY,EAAK,OAC/G,GAAI,CAACkF,GAAuB,EAAK,OAAOxE,EAAO,uDAAuD,CAC1G,CACJ,CAEIzB,EAAW,WAAW,CAAC,IAAKC,EAAM,QAAQ,EAAE,YAAc,2BAA2BC,EAAO2F,EAAK,GAAG,CAAC,MAAM3F,EAAOa,CAAQ,CAAC,aAC/HoF,GAAkB,CACtB,EAEMA,GAAoB,CAACI,EAAa,OAA0B,CAC9D,IAAMC,EAAe9L,EAAO,aAExB6L,IAAe,KACfC,EAAa,OAAO,KAAK,IAAItL,EAAUJ,EAAO,iBAAiB,GAAG,EAAE,SAASyL,EAAa,CAAC,CAAC,EACvFC,EAAa,OAAO,KAAK1L,EAAO,iBAAiB,GAAG,EACzD0L,EAAa,UAAU,SAASA,EAAa,MAAM,GAAKA,EAAa,UAAU,SAASA,EAAa,MAAM,EAC/GpG,EAAe,EAAG,CAAC,EACnBD,GAAgB,CAAC,EACboG,IAAe,MAAQzG,GAAM,eAAgBpF,EAAO,UAAU,OAAS,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EAAI,CAAC,CAAC,CAAC,CACpG,EAEa+L,GAAgB,IAAM,CAC3B/L,EAAO,UAAU,OACjBI,EAAO,cAAc,QAAkD,EAEvEA,EAAO,cAAc,QAAUJ,EAAO,MAAM,MAAQ,GAAMA,EAAO,MAAM,OAAS,GAAKA,EAAO,OAAO,CAAC,EAAK,EAAI,CAErH,EAEagM,GAAiB,CAACxH,EAAO,KAAmB,CACrD,IAAMyH,EAAOjM,EAAO,UAAU,KAC9B,GAAIiM,GAAQ7L,EAAO,cAAc,QAAW,MAAO,GAEnD,GAAIJ,EAAO,UAAU,QACjB,GAAI,IAAIQ,EAAUR,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,SAAS,gBAAgB,EAAE,SAASI,EAAO,cAAc,SAAS6L,CAAI,CAAC,EAAK,MAAO,WAC9HjM,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAASI,EAAO,cAAc,SAAS6L,CAAI,CAAC,EAAK,MAAO,GAElG,GAAIzH,EAAM,CACN,GAAIxE,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,EAAK,MAAO,GAC3CkM,GAAU,CACd,CACA,MAAO,EACX,EAEaC,GAAiB,SAAW,CACrC,GAAKH,GAAe,EAEpB,IAAIhM,EAAO,QAAQ,QAAQ,CAAC,IAAM,QAAUA,EAAO,UAAU,OAAS,IAC9DA,EAAO,QAAQ,QAAQ,CAAC,IAAM,QAAUA,EAAO,MAAM,SAAW,GAAG,CACnE,GAAI,CAAC,MAAMoK,EAAQ,2EAA2E,EAAK,OACnG,GAAI,CAAC4B,GAAe,EAAK,OAAOjF,EAAO,wDAAwD,CACnG,CAGJmF,GAAU,EACN5G,EAAW,WAAW,CAAC,IAAKC,EAAM,QAAQ,EAAE,YAAc,gBAAgBnF,EAAO,cAAc,SAASJ,EAAO,UAAU,IAAI,CAAC,KACtI,EAEMkM,GAAY,IAAM,CACpBlM,EAAO,UAAU,OACbA,EAAO,UAAU,OAAS,IAC1BA,EAAO,MAAM,QAAU,EACvB8H,EAAY,MAAM,GAEtBrC,GAAgB,CAAC,EACjBL,GAAM,OAAQpF,EAAO,UAAU,OAAS,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EAAI,CAAC,CAAC,CAAC,EAC7DqF,EAAkB,EAAG,EAAG,kBAAmB,EAAI,EAC/CA,EAAkB,EAAG,EAAG,kBAAmB,EAAI,CACnD,EAEMnB,GAAoB,IAAc,CACpC,IAAMtC,EAAW5B,EAAO,SAEpBoM,EAAW,KACf,OAAIxK,EAAS,CAAC,IAAM,IAAKwK,GAAY,MACjCxK,EAAS,CAAC,IAAM,IAAKwK,GAAY,KAASpM,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MACrEoM,GAAYxK,EAAS,EAAE,IAAM,EAAIxB,EAAO,aAAa,UAAYJ,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KACpFA,EAAO,UAAU,OACjBoM,EAAYA,EAAW,GAAM,GAEzBxK,EAAS,EAAE,IAAM,IAAKwK,GAAY,GAClCpM,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,IAAKoM,GAAYtM,EAAiB,SAAS,GAC/EsM,GAAYhM,EAAO,aAAa,WAAW,CAAC,EACxCJ,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoM,GAAYhM,EAAO,YAAY,WAAW,CAAC,IAE7EgM,CACX,EAEaC,GAAgB,IAAM,CAC/BjM,EAAO,aAAa,QAAWJ,EAAO,UAAU,OAC5C,KAAK,IAAI,IAAIQ,EAAUR,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,SAAS,sBAAsB,EAAE,SAAS,EAAGI,EAAO,cAAc,OAAO,EAD3E8D,GAAkB,CAE/E,EACaoI,GAAoB,IAAM,CACnC,IAAM5H,EAAW1E,EAAO,UAAU,CAAC,EAC7BuM,EAAYnM,EAAO,aAAa,UAChCY,EAAQhB,EAAO,SAAS,MAC9BuM,EAAU,CAAC,EAAI7H,EAAS,CAAC,EAAE,KAAO,EAAI,KAAK,IAAIA,EAAS,CAAC,EAAE,KAAO,KAAK,MAAMA,EAAS,CAAC,EAAE,KAAO1E,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,EAAE,EAAIgB,EAAM,CAAC,EAAG,CAAC,EAAI,EAChJuL,EAAU,CAAC,EAAI,KAAK,IAAI7H,EAAS,CAAC,EAAE,KAAO1D,EAAM,CAAC,EAAG,CAAC,EACtDuL,EAAU,CAAC,EAAI,KAAK,IAAI7H,EAAS,CAAC,EAAE,KAAO1D,EAAM,CAAC,EAAG,CAAC,CAC1D,EAEawL,GAAqB,CAAChI,EAAO,GAAOiI,EAAW,KAAmB,CAC3E,GAAIzM,EAAO,SAAS,CAAC,EAAE,CAAC,EAAI,EAAK,MAAO,GACxCsM,GAAkB,EAClB,IAAMnB,EAAO/K,EAAO,aAEpB,GAAIqM,GACA,GAAIzM,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAMmL,EAAK,UAAU,CAAC,EAAI,GAAKA,EAAK,UAAU,CAAC,EAAI,GAAKA,EAAK,UAAU,CAAC,EAAI,GAAI,CAE5G,GADAuB,GAAc,EAAI,EACd,CAAClI,EAAQ,MAAO,GACpB8H,GAAkB,CACtB,SAAW,CAAC9H,EAAQ,MAAO,GAI/B,GAFA6H,GAAc,EAEV7H,EAAM,CACN,GAAIxE,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,EAAK,MAAO,GAC3C,IAAM2M,EAAiB7M,EAAiB,KAAK,EAAI,EAAIqL,EAAK,YAAerL,EAAiB,YAAY,EAAI,EAAIA,EAAiB,YAAY,GAC3I,OAAI6M,GAAiB3M,EAAO,SAAS,OACjC0M,GAAc,EACP,IAMP1M,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,GAAM2M,GAAiB7M,EAAiB,KAAK,CAAC,EAAE,EAAI,EAAIqL,EAAK,WAAW,CAAC,IAAMrL,EAAiB,KAAK,CAAC,EAAE,EAAI,EAAIqL,EAAK,WAAW,CAAC,IAAMrL,EAAiB,KAAK,CAAC,EAAE,EAAI,EAAIqL,EAAK,WAAW,CAAC,GAAKnL,EAAO,SAAS,MAAiB,IAC/P0M,GAAc,EACP,GACX,CAEA,OAAOvB,EAAK,QAAUnL,EAAO,SAAS,MAAQmL,EAAK,UAAU,CAAC,EAAI,GAAKA,EAAK,UAAU,CAAC,EAAI,GAAKA,EAAK,UAAU,CAAC,EAAI,GAAKnL,EAAO,SAAS,SAAS,GAAK,CAAC,CAC5J,EAEa4M,GAAqB,SAAW,CACzC,GAAI,CAACJ,GAAmB,EAAK,OAC7B,GAAM,CAAE,QAAAK,EAAS,UAAWC,CAAS,EAAI1M,EAAO,aAC1CkB,EAAOtB,EAAO,SAAS,KAE7B,GAAIA,EAAO,QAAQ,QAAQ,CAAC,IAAM,OAAQ,CACtC,IAAM+M,EAAY/M,EAAO,gBAAgB,CAAC,EAAE,CAAC,GAAK,EAC5CgN,EAAc/H,GAAuB,EAAG,CAAC,EAAE,SAAS4H,CAAO,EAC3DI,EAAWjN,EAAO,UAAU,QAAU,IAAIQ,EAAUR,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,SAAS,sBAAsB,EAAE,SAAS,EAAII,EAAO,cAAc,QAC7J,GAAIJ,EAAO,QAAQ,QAAQ,CAAC,IAAM,QAAWA,EAAO,MAAM,SAAW,GAAKA,EAAO,MAAM,SAAW,GAAO6M,EAAUvL,GAAQ2L,IAAa,CAACF,GAAaC,GAAe,CACjK,IAAIE,EAAU,4EACVL,EAAUvL,GACV4L,GAAW;AAAA,8BAAiC1H,EAAOqH,CAAO,CAAC,GACvDI,IAAYC,GAAW;AAAA,2BACvBH,GAAaC,IAAeE,GAAW;AAAA,iCACtCA,GAAW;AAAA,0BAChBJ,EAAS,CAAC,EAAI,GAAKA,EAAS,CAAC,EAAI,GAAKA,EAAS,CAAC,EAAI,KACpDI,GAAW;AAAA,mCACPJ,EAAS,CAAC,EAAI,IAAKI,GAAW;AAAA,iBAAoB1H,EAAOsH,EAAS,CAAC,CAAC,CAAC,IACrEA,EAAS,CAAC,EAAI,IAAKI,GAAW;AAAA,oBAAuB1H,EAAOsH,EAAS,CAAC,CAAC,CAAC,IACxEA,EAAS,CAAC,EAAI,IAAKI,GAAW;AAAA,kBAAqB1H,EAAOsH,EAAS,CAAC,CAAC,CAAC,KAG9E,IAAIK,EAAQ,EACZ,QAASzE,EAAI,EAAGA,EAAI1I,EAAO,SAAS,SAChC0I,EAAI1I,EAAO,SAAS,QAAQ,GAAK0I,CAAC,EAC9B,EAAAA,EAAI,IAFgCA,IAGxCyE,IAIJ,GAFIA,EAAQ,IAAKD,GAAW;AAAA,EAAK1H,EAAO2H,CAAK,CAAC,+BAE1C,CAAC,MAAM/C,EAAQ8C,EAAU;AAAA,UAAa,EAAK,OAC/C,GAAI,CAACV,GAAmB,EAAK,OAAOzF,EAAO,mDAAmD,CAClG,CACJ,CAEA,GAAIzB,EAAW,WAAW,CAAC,EAAG,CAC1B,IAAI4H,EAAU,cAAcL,EAAUvL,EAAO,UAAUkE,EAAOqH,CAAO,CAAC,GAAK,iBAAiB,IACxFC,EAAS,CAAC,EAAI,GAAKA,EAAS,CAAC,EAAI,GAAKA,EAAS,CAAC,EAAI,KACpDI,GAAW,gBACPJ,EAAS,CAAC,EAAI,IAAKI,GAAW,IAAI1H,EAAOsH,EAAS,CAAC,CAAC,CAAC,eACrDA,EAAS,CAAC,EAAI,IAAKI,GAAW,KAAK1H,EAAOsH,EAAS,CAAC,CAAC,CAAC,kBACtDA,EAAS,CAAC,EAAI,IAAKI,GAAW,KAAK1H,EAAOsH,EAAS,CAAC,CAAC,CAAC,iBAE9DvH,EAAM,QAAQ,EAAE,YAAc2H,CAClC,CACAR,GAAc,CAClB,EAEMA,GAAgB,CAACU,EAAU,KAAU,CACvC,IAAMrL,EAAe3B,EAAO,aACtBiN,EAAWrN,EAAO,SAMxB,GAJAqN,EAAS,MAAM,CAAC,GAAKtL,EAAa,UAAU,CAAC,EAC7CsL,EAAS,MAAM,CAAC,GAAKtL,EAAa,UAAU,CAAC,EAC7CsL,EAAS,MAAM,CAAC,GAAKtL,EAAa,UAAU,CAAC,EAC7C2D,EAAe,EAAG,CAAC,EACf,CAAC0H,EAAS,CACV,QAAS1E,EAAI,EAAGA,EAAI1I,EAAO,SAAS,SAChC0I,EAAI1I,EAAO,SAAS,QAAQ,GAAK0I,CAAC,EAC9B,EAAAA,EAAI,IAFgCA,IAGxCpB,EAAYoB,EAAG,EAAG,WAAY,EAAI,EAElC3G,EAAa,QAAUsL,EAAS,OAChCA,EAAS,KAAOtL,EAAa,QACzBsL,EAAS,QAAUA,EAAS,OAAQA,EAAS,QAAUA,EAAS,OAGxE3H,EAAe,EAAG,CAAC,EACnBN,GAAM,WAAYpF,EAAO,UAAU,OAAS,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EAAKA,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,EAAI,CAAC,EAAG,CAAC,EAAI,CAAC,CAAC,CAAE,EAC3GqF,EAAkB,EAAG,EAAG,YAAY,EACpCA,EAAkB,EAAG,EAAG,YAAY,CACxC,CACAI,GAAgB,CAAC,CACrB,EAEa6H,GAAuB,IAAM,CACtC,IAAMC,EAAavN,EAAO,WACtBwN,EAAQ,EACRD,EAAW,CAAC,EAAE,CAAC,GAAK,GAAKC,IACzBD,EAAW,CAAC,EAAE,CAAC,GAAK,GAAKC,IACzBD,EAAW,CAAC,EAAE,CAAC,GAAK,GAAKC,IACzBD,EAAW,CAAC,EAAE,CAAC,GAAK,GAAKC,IACzBD,EAAW,CAAC,EAAE,CAAC,GAAK,GAAKC,IAC7BpN,EAAO,YAAY,YAAcoN,CACrC,EAEaC,GAAgC,CAACpJ,EAAeC,IAAuB,CAChF,GAAM,CAAE,KAAAoJ,EAAM,OAAAC,CAAO,EAAIvN,EAAO,eAAekE,CAAU,EACnDjE,EAAQL,EAAO,WAAWsE,CAAU,EAAED,CAAK,EACjD,GAAKrE,EAAO,UAAU,OAIdsE,IAAe,EACXD,IAAU,GACVqJ,EAAK,CAAC,EAAE,SAAS,MAAM,EAAE,MAAMrN,CAAK,EAAE,SAAS,MAAM,EACrDsN,EAAO,CAAC,EAAI,MAAQtN,GACbgE,IAAU,IACjBqJ,EAAK,CAAC,EAAE,SAAS,IAAM,IAAMrN,CAAK,EAClCsN,EAAO,CAAC,EAAI,EAAItN,GAEbiE,IAAe,EAClBD,IAAU,GACVqJ,EAAK,CAAC,EAAE,SAAS,KAAK,EAAE,MAAMrN,CAAK,EAAE,SAAS,KAAK,EACnDsN,EAAO,CAAC,EAAI,MAAQtN,GACbgE,IAAU,IACjBqJ,EAAK,CAAC,EAAE,SAAS,IAAM,GAAK,EAAIrN,GAASA,CAAK,EAC9CsN,EAAO,CAAC,EAAI,MAAQtN,GAEjBiE,IAAe,EAClBD,IAAU,GACVqJ,EAAK,CAAC,EAAE,SAAS,KAAK,EAAE,MAAMrN,CAAK,EAAE,SAAS,OAAO,EACrDsN,EAAO,CAAC,EAAI,MAAQtN,GACbgE,IAAU,IACjBqJ,EAAK,CAAC,EAAE,SAAS,EAAI,EAAIrN,CAAK,EAC9BsN,EAAO,CAAC,EAAItN,EAAQ,KAEjBiE,IAAe,EAClBD,IAAU,GACVqJ,EAAK,CAAC,EAAE,SAAS,KAAK,EAAE,MAAMrN,CAAK,EAAE,SAAS,KAAK,EACnDsN,EAAO,CAAC,EAAI,MAAQtN,GACbgE,IAAU,IACjBqJ,EAAK,CAAC,EAAE,SAAS,GAAK,GAAKrN,CAAK,EAChCsN,EAAO,CAAC,EAAI,MAAQtN,GAEjBiE,IAAe,IAClBD,IAAU,GACVqJ,EAAK,CAAC,EAAE,SAAS,IAAM,IAAMrN,CAAK,EAClCsN,EAAO,CAAC,EAAI,MAAQtN,GACbgE,IAAU,IACjBqJ,EAAK,CAAC,EAAE,SAAS,EAAI,EAAIrN,CAAK,EAC9BsN,EAAO,CAAC,EAAItN,EAAQ,SA1CF,CAC1B,IAAM8E,EAAU/E,EAAO,eAAekE,CAAU,EAAE,WAAWD,CAAK,EAClEqJ,EAAKrJ,CAAK,EAAE,SAAShE,EAAQ8E,EAAQ,OAASA,EAAQ9E,CAAK,EAAI,GAAG,CACtE,CA2CJ,EAEMqF,EAAiB,CAACrB,EAAeC,EAAoB6I,EAAQ,IAAM,CACrE,GAAI,CAACS,GAAevJ,EAAOC,CAAU,EAAG,CAChC6I,EAAQ,IACRpG,EAAO,cAAc3G,EAAO,eAAekE,CAAU,EAAE,KAAKD,CAAK,CAAC,KAAK8I,EAAQ,EAAI,GAAG3H,EAAO2H,CAAK,CAAC,aAAe,UAAU;AAAA,gBAA2B3H,EAAOxF,EAAO,WAAWsE,CAAU,EAAED,CAAK,CAAC,CAAC,EAAE,EACjMrE,EAAO,UAAU,OACbsE,IAAe,GAAKD,IAAU,GAAKsB,GAAa,GAEhDrB,IAAe,GAAKD,IAAU,GAAKrE,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,IAC9DqF,EAAkB,EAAG,EAAG,cAAe,EAAI,EAC3CA,EAAkB,EAAG,EAAG,MAAO,EAAI,GAEvCrF,EAAO,QAAQ,CAAC,EAAE,SAAWmN,EAC7BnN,EAAO,QAAQ,CAAC,EAAE,OAASmN,EAC3BG,GAAqB,EACrBtG,GAAmB,GAEnB5G,EAAO,cAAc,CAAC,IAAMkE,GAAclE,EAAO,cAAc,CAAC,IAAMiE,GACtEwJ,GAA0BxJ,EAAOC,EAAY,YAAY,GAGjE,MACJ,CAEAtE,EAAO,WAAWsE,CAAU,EAAED,CAAK,IACnCoJ,GAA8BpJ,EAAOC,CAAU,EAC/CoB,EAAerB,EAAOC,EAAY6I,EAAQ,CAAC,CAC/C,EAEM1H,GAAmBpB,GAAkB,CACvC,GAAIrE,EAAO,WAAW,SAAW,EAAK,OACtC,IAAMqH,EAAMrH,EAAO,WAAW,KAAKqE,CAAK,EAEpCyJ,EAAW,EAcf,GAbIzJ,IAAU,EACVyJ,GAAY9N,EAAO,gBAAgB,CAAC,EAAE,CAAC,EAChCqE,IAAU,EACbrE,EAAO,aAAa,OAAO,SAAS,KAAK,GAAK8N,IAC3CzJ,IAAU,EACjByJ,EAAW9N,EAAO,UAAU,KAAO,EAC5BqE,IAAU,GACbrE,EAAO,SAAS,MAAM,CAAC,EAAI,GAAK8N,IAChC9N,EAAO,SAAS,MAAM,CAAC,EAAI,GAAK8N,IAChC9N,EAAO,SAAS,MAAM,CAAC,EAAI,GAAK8N,KAC7BzJ,IAAU,GACbrE,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,MAAQ,GAAK8N,IAExC,EAAAzG,GAAOyG,GAEX,CAAA9N,EAAO,WAAW,KAAKqE,CAAK,EAAIyJ,EAChC,QAASpF,EAAIrB,EAAKqB,EAAIoF,EAAUpF,IAC5B3B,EAAO;AAAA,UAAqC3G,EAAO,eAAe,WAAW,CAAC,EAAEiE,CAAK,EAAEqE,CAAC,CAAC,EAAE,EAE3FrE,IAAU,GAAKgD,EAAM,IACrBhC,EAAkB,EAAG,EAAG,cAAe,EAAI,EAC3CA,EAAkB,EAAG,EAAG,cAAe,EAAI,EAC3CA,EAAkB,EAAG,EAAG,cAAe,EAAI,EAC3CA,EAAkB,EAAG,EAAG,cAAe,EAAI,EAC3CA,EAAkB,EAAG,EAAG,cAAe,EAAI,EAC3CA,EAAkB,EAAG,EAAG,cAAe,EAAI,EAC3CA,EAAkB,EAAG,EAAG,cAAe,EAAI,EAC3CA,EAAkB,EAAG,EAAG,cAAe,EAAI,EAC3CA,EAAkB,EAAG,EAAG,cAAe,EAAI,GAE3CjF,EAAO,cAAc,CAAC,IAAM,IAC5B2N,GAAwB,CAAC,EACrB3N,EAAO,cAAc,CAAC,IAAMiE,GAAS2J,GAAmB3J,CAAK,GAEzE,EAEa4J,GAAqB,MAAM5J,GAAkB,CACtD,GAAIrE,EAAO,WAAW,SAAWqE,EAAO,CACpC,GAAI,CAAC,MAAM+F,EAAQ,cAAchK,EAAO,eAAe,KAAKiE,CAAK,CAAC,IAAI,EAAK,OAC3EA,EAAQ,EACZ,SACQ,CAACrE,EAAO,UAAU,QAClBqE,IAAU,GAAKrE,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,GAC1C,CAAC,MAAMoK,EAAQ,cAAchK,EAAO,eAAe,KAAKiE,CAAK,CAAC,IAAI,EAAK,OAG/E,IAAMsJ,EAAS/D,GAAgB,CAAC,EAChC5J,EAAO,WAAW,OAASqE,EACtBsJ,EAEI7D,GAAiB,CAAC,EADvBgB,GAAmB,EAGvBiD,GAAwB1J,CAAK,EACzBiB,EAAW,WAAW,CAAC,IAAKC,EAAM,SAAS,EAAE,YAAclB,IAAU,GAAK,gCAAkC,IAAIjE,EAAO,eAAe,KAAKiE,CAAK,CAAC,kBACzJ,ECl6DO,IAAM6J,EAAa,CACtB,UAAW,CACP,KAAM,GACN,QAAS,GACT,OAAQ,IACR,SAAU,GACd,EACA,QAAS,CAAC,GAAO,EAAK,EACtB,OAAQ,CAAC,IAAK,EAAE,EAChB,MAAO,KACP,SAAU,GACV,WAAY,CAAC,GAAO,EAAK,EACzB,WAAY,CAAC,GAAO,GAAO,EAAK,EAChC,cAAe,EACnB,EAEaC,GAAqB,IAAM,aAAa,QAAQ,sBAAuB,KAAK,KAAK,UAAUD,CAAU,CAAC,CAAC,EAEvGE,GAAgB,CAACC,EAAgBC,EAAsCC,EAAS,GAAOC,EAAS,KAAU,CACnH,IAAIC,EASJ,GARIH,IAAS,SACTG,EAAUP,EAAW,WACdI,IAAS,SAChBG,EAAUP,EAAW,WAErBO,EAAUP,EAAW,QAGrBK,EAAQ,CACR,GAAIC,EACA,OAAO,KAAM,SAAW,CACpB,GAAK,MAAME,EAAQ;AAAA,yBAA4E,EAC/F,OAAAD,EAAQJ,CAAM,EAAI,CAACI,EAAQJ,CAAM,EACjCF,GAAmB,EACnB,OAAO,SAAS,OAAO,EACvBQ,EAAO,OAAS,GAChBC,EAAgB,EACT,KAAKC,EAAM,sBAAsB,CAC5C,GAAG,EAEHJ,EAAQJ,CAAM,EAAI,CAACI,EAAQJ,CAAM,EACjCF,GAAmB,CAE3B,CAEA,IAAIW,EACAR,IAAS,SACTQ,EAAaC,EAAM,WAAWV,CAAM,EAAE,EAC/BC,IAAS,SAChBQ,EAAaC,EAAM,WAAWV,CAAM,EAAE,EAEtCS,EAAaC,EAAM,eAAeV,CAAM,EAAE,EAGzCI,EAAQJ,CAAM,GAKfS,EAAW,MAAM,MAAQ,kBACzBA,EAAW,MAAM,YAAc,UAC/BA,EAAW,YAAc,OANzBA,EAAW,MAAM,MAAQ,GACzBA,EAAW,MAAM,YAAc,GAC/BA,EAAW,YAAc,MAMjC,EAEaE,EAAc,CACvB,UAAW,CAAC,GAAI,YAAa,eAAgB,OAAQ,WAAY,OAAO,EACxE,gBAAiB,EACjB,aAAc,CACV,CAAC,EACD,CAAC,YAAa,aAAc,eAAgB,WAAY,cAAc,EACtE,CAAC,WAAY,aAAc,WAAY,WAAY,UAAW,WAAW,EACzE,CAAC,oBAAqB,mBAAoB,kBAAmB,0BAA2B,kBAAkB,EAC1G,CAAC,oBAAqB,qBAAsB,uBAAwB,wBAAyB,kBAAkB,EAC/G,CAAC,aAAc,qBAAsB,YAAY,CACrD,EACA,eAAgB,GAChB,YAAa,CACT,CAAC,EACD,CACI,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACJ,EACA,CACI,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,eACJ,EACA,CACI,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,iBACA,iBACA,iBACA,gBACJ,EACA,CACI,gBACA,gBACA,gBACA,gBACA,eACJ,EACA,CACI,gBACA,gBACA,eACJ,CACJ,EACA,gBAAiB,EACjB,aAAc,CACV,CAAC,EACD,CACI,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,CAC1C,EACA,CACI,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,CAC1C,EACA,CACI,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,CAC1C,EACA,CACI,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,CAC1C,EACA,CACI,CAAC,iBAAkB,mBAAmB,EACtC,CAAC,iBAAkB,mBAAmB,CAC1C,CACJ,EACA,qBAAsB,EACtB,qBAAsB,CAClB,CAAC,EACD,CAAC,0BAA2B,mBAAmB,EAC/C,CAAC,yBAA0B,mBAAmB,EAC9C,CAAC,wBAAyB,mBAAmB,EAC7C,CAAC,4BAA6B,mBAAmB,EACjD,CAAC,0BAA2B,mBAAmB,CACnD,EACA,kBAAmB,CACf,CAAC,EACD,CACI,CAAC,sBAAuB,mBAAmB,EAC3C,CAAC,sBAAuB,mBAAmB,EAC3C,CAAC,sBAAuB,mBAAmB,EAC3C,CAAC,sBAAuB,mBAAmB,EAC3C,CAAC,sBAAuB,mBAAmB,CAC/C,EACA,CACI,CAAC,sBAAuB,mBAAmB,EAC3C,CAAC,sBAAuB,mBAAmB,EAC3C,CAAC,sBAAuB,mBAAmB,EAC3C,CAAC,sBAAuB,mBAAmB,CAE/C,EACA,CACI,CAAC,oBAAqB,mBAAmB,EACzC,CAAC,oBAAqB,mBAAmB,EACzC,CAAC,oBAAqB,mBAAmB,EACzC,CAAC,oBAAqB,mBAAmB,EACzC,CAAC,oBAAqB,mBAAmB,CAC7C,EACA,CACI,CAAC,wBAAyB,mBAAmB,EAC7C,CAAC,wBAAyB,mBAAmB,EAC7C,CAAC,wBAAyB,mBAAmB,CACjD,EACA,CACI,CAAC,sBAAuB,mBAAmB,CAC/C,CACJ,EACA,mBAAoB,EACpB,gBAAiB,CACb,CAAC,EACD,CACI,CAAC,oBAAqB,6BAA8B,MAAM,EAC1D,CAAC,aAAc,+BAAgC,QAAQ,CAC3D,EACA,CACI,CAAC,aAAc,6BAA8B,QAAQ,EACrD,CAAC,YAAa,6BAA8B,OAAO,EACnD,CAAC,WAAY,6BAA8B,OAAO,CACtD,EACA,CACI,CAAC,WAAY,6BAA8B,MAAM,CACrD,EACA,CACI,CAAC,2BAA4B,6BAA8B,MAAM,EACjE,CAAC,eAAgB,+BAAgC,UAAU,CAC/D,EACA,CACI,CAAC,2BAA4B,6BAA8B,MAAM,EACjE,CAAC,eAAgB,+BAAgC,UAAU,EAC3D,CAAC,YAAa,4BAA6B,OAAO,CACtD,CACJ,EACA,MAAO,CACH,UAAW,SAAS,cAAc,KAAK,EACvC,MAAO,IAAI,IACX,SAAU,IAAI,IACd,SAAU,IAAI,GAClB,EACA,cAAe,CAAC,EAChB,WAAY,SAAS,cAAc,OAAO,CAC9C,EAEaC,GAAqB,IAAM,CACpC,GAAM,CAAE,gBAAiBC,EAAQ,aAAcC,EAAO,YAAaC,EAAS,aAAcC,EAAU,kBAAmBC,EAAO,qBAAsBC,CAAS,EAAIP,EAG7JQ,EAAS,GACb,QAASC,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,QAASC,EAAI,EAAGA,EAAIR,EAAOO,CAAC,EAAE,OAAQC,IAAK,CACvC,GAAID,IAAM,GACN,GAAIC,IAAM,EAAK,iBACRD,IAAM,GAAKC,EAAI,EAAK,SAC/BF,GAAU,sBAAsBN,EAAOO,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,mBACnD,CACA,QAASA,EAAI,EAAGA,EAAIP,EAAMM,CAAC,EAAE,OAAQC,IACjCF,GAAU,sBAAsBL,EAAMM,CAAC,EAAEC,CAAC,CAAC,oBAE/C,QAASA,EAAI,EAAGA,EAAIN,EAAQK,CAAC,EAAE,OAAQC,IACnCF,GAAU,sBAAsBJ,EAAQK,CAAC,EAAEC,CAAC,CAAC,oBAEjD,QAASA,EAAI,EAAGA,EAAIL,EAASI,CAAC,EAAE,OAAQC,IACpCF,GAAU,sBAAsBH,EAASI,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,oBAErD,QAASA,EAAI,EAAGA,EAAIJ,EAAMG,CAAC,EAAE,OAAQC,IACjCF,GAAU,sBAAsBF,EAAMG,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,oBAE9CH,EAASE,CAAC,EAAE,OAAS,IAAKD,GAAU,sBAAsBD,EAASE,CAAC,EAAE,CAAC,CAAC,qBAC5ED,GAAU,2BAA2BC,CAAC,gCAC1C,CACAT,EAAY,MAAM,UAAU,UAAYQ,CAC5C,EAEaG,GAAW,CAACC,EAAsBpB,EAAS,KAAU,CAC1DoB,IAAU,OACNC,EAAO,MAAM,KAAOD,IAASA,EAAQ,MACrCA,IAAU,GAAKC,EAAO,MAAM,KAAO,IAAKD,EAAQ,MAChDpB,GAAUoB,IAAU,QAG5B1B,EAAW,MAAQ0B,EACnBzB,GAAmB,EACnB2B,GAAY,EAChB,EAEaA,GAAc,IAAM,CAC7B,IAAMC,EAAO,SAAS,KAAK,MACrBH,EAAQ1B,EAAW,OAAS2B,EAAO,MAAM,OAC/Cd,EAAM,cAAc,EAAE,YAAcb,EAAW,QAAU,KAAO,UAAYS,EAAO,UAAU,KAAKiB,CAAK,EAEvG,IAAII,EAAgB,GAChBC,EAAiB,GAoCrB,OAnCAF,EAAK,YAAY,mBAAoB,IAAI,EACzCA,EAAK,YAAY,uBAAwB,OAAO,EAGhDA,EAAK,eAAe,oBAAoB,EACxCA,EAAK,eAAe,gBAAgB,EACpCA,EAAK,eAAe,iBAAiB,EACrCA,EAAK,eAAe,gBAAgB,EACpCA,EAAK,eAAe,gBAAgB,EACpCA,EAAK,eAAe,iBAAiB,EACrCA,EAAK,eAAe,gBAAgB,EACpCA,EAAK,eAAe,mBAAmB,EACvCA,EAAK,eAAe,cAAc,EAClCA,EAAK,eAAe,gBAAgB,EACpCA,EAAK,eAAe,mBAAmB,EACvCA,EAAK,eAAe,gBAAgB,EACpCA,EAAK,eAAe,sBAAsB,EAC1CA,EAAK,eAAe,gBAAgB,EACpCA,EAAK,eAAe,cAAc,EAClCA,EAAK,eAAe,eAAe,EACnCA,EAAK,eAAe,aAAa,EACjCA,EAAK,eAAe,cAAc,EAElCA,EAAK,eAAe,aAAa,EACjCA,EAAK,eAAe,eAAe,EACnCA,EAAK,eAAe,aAAa,EACjCA,EAAK,eAAe,eAAe,EACnCA,EAAK,eAAe,mBAAmB,EACvCA,EAAK,eAAe,mBAAmB,EACvCA,EAAK,eAAe,YAAY,EAChCA,EAAK,eAAe,cAAc,EAClCA,EAAK,eAAe,eAAe,EAI3BH,EAAO,CACX,IAAK,GACD,QAAWM,IAAQ,CAAC,UAAW,SAAS,EACpCnB,EAAM,GAAGmB,CAAI,MAAM,EAAE,MAAM,MAAQ,GACnCnB,EAAM,GAAGmB,CAAI,QAAQ,EAAE,MAAM,MAAQ,GACrCnB,EAAM,GAAGmB,CAAI,MAAM,EAAE,MAAM,MAAQ,GAEvC,MACJ,IAAK,GACD,QAAWA,IAAQ,CAAC,UAAW,SAAS,EACpCnB,EAAM,GAAGmB,CAAI,MAAM,EAAE,MAAM,MAAQ,oBACnCnB,EAAM,GAAGmB,CAAI,QAAQ,EAAE,MAAM,MAAQ,oBACrCnB,EAAM,GAAGmB,CAAI,MAAM,EAAE,MAAM,MAAQ,mBAEvCH,EAAK,YAAY,qBAAsB,SAAS,EAChDA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,kBAAmB,MAAM,EAC1CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,kBAAmB,SAAS,EAC7CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,eAAgB,YAAY,EAC7CA,EAAK,YAAY,cAAe,kBAAkB,EAClDA,EAAK,YAAY,cAAe,SAAS,EACzCA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,aAAc,SAAS,EACpCF,EAAO,MAAM,SAAW,IACxBG,EAAgB,UAChBC,EAAiB,WAErB,MACJ,IAAK,GACD,QAAWC,IAAQ,CAAC,UAAW,SAAS,EACpCnB,EAAM,GAAGmB,CAAI,MAAM,EAAE,MAAM,MAAQ,qBACnCnB,EAAM,GAAGmB,CAAI,QAAQ,EAAE,MAAM,MAAQ,GACrCnB,EAAM,GAAGmB,CAAI,MAAM,EAAE,MAAM,MAAQ,oBAEvCH,EAAK,YAAY,qBAAsB,SAAS,EAChDA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,kBAAmB,SAAS,EAC7CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,kBAAmB,SAAS,EAC7CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,iBAAkB,mBAAmB,EACtDA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,uBAAwB,SAAS,EAClDA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,cAAe,kBAAkB,EAClDA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,gBAAiB,SAAS,EAC3CA,EAAK,YAAY,eAAgB,SAAS,EACtCF,EAAO,MAAM,SAAW,IACxBG,EAAgB,UAChBC,EAAiB,WAErB,MACJ,IAAK,GACD,QAAWC,IAAQ,CAAC,UAAW,SAAS,EACpCnB,EAAM,GAAGmB,CAAI,MAAM,EAAE,MAAM,MAAQ,mBACnCnB,EAAM,GAAGmB,CAAI,QAAQ,EAAE,MAAM,MAAQ,oBACrCnB,EAAM,GAAGmB,CAAI,MAAM,EAAE,MAAM,MAAQ,mBAEvCH,EAAK,YAAY,qBAAsB,SAAS,EAChDA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,kBAAmB,SAAS,EAC7CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,kBAAmB,SAAS,EAC7CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,iBAAkB,mBAAmB,EACtDA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,uBAAwB,SAAS,EAClDA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,gBAAiB,SAAS,EAC3CA,EAAK,YAAY,cAAe,oBAAoB,EACpDA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,cAAe,SAAS,EACzCA,EAAK,YAAY,cAAe,SAAS,EACzCA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,aAAc,KAAK,EACpCA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,gBAAiB,mBAAmB,EACrD,MACJ,IAAK,GACD,QAAWG,IAAQ,CAAC,UAAW,SAAS,EACpCnB,EAAM,GAAGmB,CAAI,MAAM,EAAE,MAAM,MAAQ,qBACnCnB,EAAM,GAAGmB,CAAI,QAAQ,EAAE,MAAM,MAAQ,oBACrCnB,EAAM,GAAGmB,CAAI,MAAM,EAAE,MAAM,MAAQ,kBAEvCH,EAAK,YAAY,qBAAsB,SAAS,EAChDA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,kBAAmB,SAAS,EAC7CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,kBAAmB,SAAS,EAC7CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,uBAAwB,SAAS,EAClDA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,gBAAiB,SAAS,EAC3CA,EAAK,YAAY,cAAe,wBAAwB,EACxDA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,gBAAiB,SAAS,EAC3CA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,gBAAiB,wBAAwB,EAC1D,MACJ,IAAK,GACD,QAAWG,IAAQ,CAAC,UAAW,SAAS,EACpCnB,EAAM,GAAGmB,CAAI,MAAM,EAAE,MAAM,MAAQ,qBACnCnB,EAAM,GAAGmB,CAAI,QAAQ,EAAE,MAAM,MAAQ,kBACrCnB,EAAM,GAAGmB,CAAI,MAAM,EAAE,MAAM,MAAQ,GAEvCH,EAAK,YAAY,qBAAsB,OAAO,EAC9CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,kBAAmB,SAAS,EAC7CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,kBAAmB,SAAS,EAC7CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,iBAAkB,SAAS,EAC5CA,EAAK,YAAY,eAAgB,KAAK,EACtCA,EAAK,YAAY,gBAAiB,SAAS,EAC3CA,EAAK,YAAY,cAAe,wBAAwB,EACxDA,EAAK,YAAY,cAAe,SAAS,EACzCA,EAAK,YAAY,oBAAqB,SAAS,EAC/CA,EAAK,YAAY,eAAgB,SAAS,EAC1CA,EAAK,YAAY,aAAc,KAAK,EACpCA,EAAK,YAAY,gBAAiB,iBAAiB,CAC3D,CACAI,EAAS,kBAAkB,EAAE,MAAM,MAAQH,EAC3CG,EAAS,kBAAkB,EAAE,MAAM,MAAQF,EAE3C,WAAW,IAAM,CACbF,EAAK,eAAe,kBAAkB,EACtCA,EAAK,eAAe,sBAAsB,CAC9C,EAAG,GAAI,CACX,EAEalB,EAAQ,MAAMqB,GAChB,MAAM,IAAI,QAASE,GAAY,CAClC,IAAMC,EAAUtB,EAAM,SAAS,EAC/B,GAAIsB,EAAQ,MAAM,UAAY,OAAQ,CAClCD,EAAQ,EACRE,EAAO,iCAAiC,EACxC,MACJ,CAEAvB,EAAM,WAAW,EAAE,YAAcmB,EACjC,IAAMH,EAAO,SAAS,KAChBQ,EAAUxB,EAAM,cAAc,EACpCsB,EAAQ,MAAM,QAAU,GACxBE,EAAQ,MAAM,EAEd,IAAMC,EAAM,MAAMC,GAA0B,EACpCA,EAAO,MAAQ,UAAYA,EAAO,MAAQ,SAAWA,EAAO,MAAQ,OACpEA,EAAO,eAAe,EACtBC,EAAM,EAEd,EACMA,EAAQ,IAAM,CAChBL,EAAQ,MAAM,QAAU,OACxBN,EAAK,oBAAoB,UAAWS,CAAG,EACvCD,EAAQ,oBAAoB,QAASG,CAAK,EAC1CN,EAAQ,CACZ,EACAL,EAAK,iBAAiB,UAAWS,CAAG,EACpCD,EAAQ,iBAAiB,QAASG,CAAK,CAC3C,CAAC,EAGQhC,EAAU,MAAMwB,GAClB,MAAM,IAAI,QAASE,GAAY,CAClC,IAAMC,EAAUtB,EAAM,SAAS,EAC/B,GAAIsB,EAAQ,MAAM,UAAY,OAAQ,CAClCD,EAAQ,EAAK,EACbE,EAAO,iCAAiC,EACxC,MACJ,CAEAvB,EAAM,WAAW,EAAE,YAAcmB,EACjC,IAAMH,EAAO,SAAS,KAChBY,EAAS5B,EAAM,aAAa,EAC5BwB,EAAUxB,EAAM,cAAc,EACpCsB,EAAQ,MAAM,QAAU,GACxBM,EAAO,MAAM,QAAU,GACvBJ,EAAQ,MAAM,EAEd,IAAMK,EAAM,IAAM,CAAEF,EAAM,EAAI,CAAG,EAC3BG,EAAK,IAAM,CAAEH,EAAM,EAAK,CAAG,EAC3BF,EAAOC,GAA0B,CACnC,GAAIA,EAAO,MAAQ,SACfA,EAAO,eAAe,EACtBI,EAAG,UACIJ,EAAO,MAAQ,SAAWA,EAAO,MAAQ,IAAK,CACrD,GAAI,SAAS,gBAAkBE,EAAU,OACzCF,EAAO,eAAe,EACtBG,EAAI,CACR,CACJ,EACMF,EAASI,GAAoB,CAC/BT,EAAQ,MAAM,QAAU,OACxBM,EAAO,MAAM,QAAU,OACvBZ,EAAK,oBAAoB,UAAWS,CAAG,EACvCD,EAAQ,oBAAoB,QAASK,CAAG,EACxCD,EAAO,oBAAoB,QAASE,CAAE,EACtCT,EAAQU,CAAM,CAClB,EACAf,EAAK,iBAAiB,UAAWS,CAAG,EACpCD,EAAQ,iBAAiB,QAASK,CAAG,EACrCD,EAAO,iBAAiB,QAASE,CAAE,CACvC,CAAC,EAGQE,GAAS,MAAMb,EAAcc,EAAc,KAC7C,MAAM,IAAI,QAASZ,GAAY,CAClC,IAAMC,EAAUtB,EAAM,SAAS,EAC/B,GAAIsB,EAAQ,MAAM,UAAY,OAAQ,CAClCD,EAAQ,IAAI,EACZE,EAAO,iCAAiC,EACxC,MACJ,CAEAvB,EAAM,WAAW,EAAE,YAAcmB,EACjC,IAAMH,EAAO,SAAS,KAChBkB,EAAQlC,EAAM,YAAY,EAC1B4B,EAAS5B,EAAM,aAAa,EAC5BwB,EAAUxB,EAAM,cAAc,EACpCsB,EAAQ,MAAM,QAAU,GACxBM,EAAO,MAAM,QAAU,GACvBM,EAAM,MAAM,QAAU,GACtBA,EAAM,YAAcD,EACpBC,EAAM,MAAQ,GACdA,EAAM,MAAM,EAEZ,IAAML,EAAM,IAAM,CAAEF,EAAMO,EAAM,QAAU,GAAKA,EAAM,YAAcA,EAAM,KAAK,CAAG,EAC3EJ,EAAK,IAAM,CAAEH,EAAM,IAAI,CAAG,EAC1BF,EAAOC,GAA0B,CACnC,GAAIA,EAAO,MAAQ,SACfA,EAAO,eAAe,EACtBI,EAAG,UACI,SAAS,gBAAkBF,GAClC,GAAIF,EAAO,MAAQ,QACfA,EAAO,eAAe,EACtBG,EAAI,UACGH,EAAO,MAAQ,IAAK,CAC3B,GAAI,SAAS,gBAAkBQ,EAAS,OACxCR,EAAO,eAAe,EACtBG,EAAI,CACR,EAER,EACMF,EAASI,GAA0B,CACrCT,EAAQ,MAAM,QAAU,OACxBM,EAAO,MAAM,QAAU,OACvBM,EAAM,MAAM,QAAU,OACtBlB,EAAK,oBAAoB,UAAWS,CAAG,EACvCD,EAAQ,oBAAoB,QAASK,CAAG,EACxCD,EAAO,oBAAoB,QAASE,CAAE,EACtCT,EAAQU,CAAM,CAClB,EACAf,EAAK,iBAAiB,UAAWS,CAAG,EACpCD,EAAQ,iBAAiB,QAASK,CAAG,EACrCD,EAAO,iBAAiB,QAASE,CAAE,CACvC,CAAC,EAGQP,EAAUJ,GAAiB,CAEpC,GAAM,CAAE,cAAAgB,CAAc,EAAIlC,EAEtBmC,EACJ,QAASzB,EAAI,EAAGA,EAAIwB,EAAc,OAAQxB,IACtC,GAAIwB,EAAcxB,CAAC,EAAE,CAAC,IAAMQ,EAAM,CAC9BiB,EAAQzB,EACR,KACJ,CAGJ,GAAIyB,IAAU,OAAW,CACrB,IAAIC,EAAQ,EACRC,EAEEC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,YAAcpB,EACnBoB,EAAK,MAAM,UAAY,kCACvBA,EAAK,MAAM,cAAgB,OACvBpD,EAAW,WAAW,CAAC,GAAKoD,EAAK,aAAa,OAAQ,OAAO,EACjEvC,EAAM,eAAe,EAAE,OAAOuC,CAAI,EAElC,IAAMC,EAAUL,EAAcA,EAAc,KAAK,CAAChB,EAAM,IAAM,CAC1DoB,EAAK,YAAc,GAAGpB,CAAI,OAAO,EAAEkB,CAAK,GACxC,aAAaC,CAAO,EACpBA,EAAU,WAAWG,EAAQ,IAAI,CACrC,CAAC,CAAC,EAAI,CAAC,EACDA,EAAS,IAAM,CACjBN,EAAc,OAAOA,EAAc,QAAQK,CAAO,EAAG,CAAC,EACtDD,EAAK,oBAAoB,QAASE,CAAM,EACxCF,EAAK,MAAM,UAAY,mCACvBA,EAAK,MAAM,cAAgB,OAC3B,WAAW,IAAMA,EAAK,OAAO,EAAG,GAAG,EACnC,aAAaD,CAAO,CACxB,EACA,WAAW,IAAM,CACbC,EAAK,MAAM,UAAY,GACvBA,EAAK,MAAM,cAAgB,GAC3BD,EAAU,WAAWG,EAAQ,IAAI,EACjCF,EAAK,iBAAiB,QAASE,CAAM,CACzC,EAAG,GAAG,CACV,MAASN,EAAcC,CAAK,EAAE,CAAC,EAAE,CACrC,EAEaM,GAAa,IAAM,CAC5B,IAAMC,EAAa3C,EAAM,YAAY,EAAE,QACvC,GAAI2C,EAAW,WAAa,OAAU,OACtC,IAAMxC,EAASH,EAAM,QAAQ,EACvB4C,EAAa5C,EAAM,YAAY,EAC/B6C,EAAQ7C,EAAM,WAAW,EAEzB8C,EAAiB,IAAM,CACzB3C,EAAO,MAAM,UAAY,GACzB0C,EAAM,MAAM,UAAY,GACxBF,EAAW,SAAW,EAC1B,EAEA/C,EAAO,OAAS,CAACA,EAAO,OACxB+C,EAAW,SAAW,OAClB/C,EAAO,QACPgD,EAAW,MAAM,QAAU,GAC3BC,EAAM,MAAM,UAAY,GACxB1C,EAAO,MAAM,UAAY,sBACzB0C,EAAM,MAAM,UAAY,uBACxB7C,EAAM,UAAU,EAAE,YAAc,OAChCA,EAAM,aAAa,EAAE,UAAU,IAAI,QAAQ,EAC3C,WAAW8C,EAAgB,GAAG,EAE9BC,EAAc,EACdC,GAAa,IAEb7C,EAAO,MAAM,UAAY,wBACzB0C,EAAM,MAAM,UAAY,yBACxB7C,EAAM,UAAU,EAAE,YAAc,OAChCA,EAAM,aAAa,EAAE,UAAU,OAAO,QAAQ,EAC9C,WAAW,IAAM,CACb4C,EAAW,MAAM,QAAU,OAC3BC,EAAM,MAAM,UAAY,iBACxBC,EAAe,CACnB,EAAG,GAAG,EAEd,EAEaG,GAAiB,CAACzD,EAAS,KAAU,CAC9C,IAAM0C,EAAQlC,EAAM,gBAAgB,EAC9BkD,EAAO,KAAK,IAAI,KAAK,IAAI1D,EAAU0C,EAAM,QAAU,GAAK,GAAK,KAAK,MAAM,OAAOA,EAAM,KAAK,EAAI,GAAG,EAAI,IAAO/C,EAAW,SAAU,EAAE,EAAG,EAAE,EAC1IK,IACAL,EAAW,SAAW+D,EACtB9D,GAAmB,GAGvB,SAAS,gBAAgB,MAAM,SAAW8D,IAAS,GAAK,GAAK,GAAGA,CAAI,KACpEhB,EAAM,MAAQ,GAAGgB,CAAI,EACzB,EAEaC,GAAgBC,GAAmB,CAC5C,IAAMC,EAAaD,EAAQpD,EAAM,cAAc,EAAIA,EAAM,mBAAmB,GAExE,CADY,CAAC,IAAK,OAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAG,EAAE,SAASqD,EAAU,KAAK,GACtElE,EAAW,OAAOiE,EAAQ,EAAI,CAAC,IAAMC,EAAU,SACvDD,GAASjE,EAAW,OAAO,CAAC,IAAM,MACjCa,EAAM,mBAAmB,EAAuB,MAAQ,GACzDb,EAAW,OAAO,CAAC,EAAI,IAE3BkE,EAAU,MAAQD,EAAQ,IAAM,IAEpCjE,EAAW,OAAOiE,EAAQ,EAAI,CAAC,EAAIC,EAAU,MAC7CjE,GAAmB,CACvB,EAEakE,GAAqBC,GAAuB,CACrD,QAAS,EAAI,EAAG,GAAK,EAAG,IAAOvD,EAAM,qBAAqB,CAAC,EAAE,EAAE,MAAM,QAAU,OAC/EA,EAAM,qBAAqBuD,CAAU,EAAE,EAAE,MAAM,QAAU,EAC7D,EAEaC,GAAc,SAAW,CAClC,GAAIxD,EAAM,SAAS,EAAE,MAAM,UAAY,OAAU,OAEjD,IAAIyD,EACJ,GAAI3C,EAAO,MAAM,MAAQ,EACrB2C,EAAO,UAEPA,EAAO3C,EAAO,MAAM,MAAQA,EAAO,OAAO,CAAC,EAAI,EAAI,GAC/C2C,EAAO,EAAK,OAAO,KAAK3D,EAAM,8BAA8B,EAGpE,IAAIqB,EAAO;AAAA,gCACPsC,GAAQ,IAAKtC,GAAQ;AAAA,0BACrBsC,GAAQ,IAAKtC,GAAQ;AAAA,oBACrBsC,GAAQ,IAAKtC,GAAQ;AAAA,8BACrBsC,GAAQ,IAAKtC,GAAQ;AAAA,+BACrBsC,GAAQ,IAAKtC,GAAQ;AAAA,uBAEzB,IAAMuC,EAAQ,OAAO,MAAM1B,GAAOb,EAAM,GAAGsC,CAAI,EAAE,CAAC,EAC9CC,EAAQD,GAEPE,GAAUD,EAAO,EAAE,CAC5B,EAEaC,GAAY,MAAMD,EAAetB,IAAkB,CAC5D,GAAIpC,EAAM,SAAS,EAAE,MAAM,UAAY,OAGvC,OAFIoC,GAAS,IAAKtB,EAAO,OAAOsB,CAAK,EAAI,IAEjCsB,EAAO,CACX,IAAK,GACD,OAAO,KAAK5D,EAAM,oFAAoF,EAC1G,IAAK,GACD,OAAO,KAAKA,EAAM,oEAAoE,EAC1F,IAAK,GACD,OAAIsC,GAAS,IACTxC,EAAO,MAAM,YAAc,GAC3BgE,GAAc,GAEX,KAAK9D,EAAM,kFAAkF,EACxG,IAAK,GACD,OAAO,KAAKA,EAAM,oFAAoF,EAC1G,IAAK,GACD,OAAO,KAAKA,EAAM,wIAAwI,EAC9J,IAAK,GACD,aAAMA,EAAM,wDAAwD,EAC7D,KAAKA,EAAM,8DAA8D,CACxF,CACJ,EC/wBA,IAAqB+D,EAArB,MAAqBC,UAAkB,KAAc,CACjD,YAAYC,EAAwD,CAChE,IAAMC,EAAOC,EAAU,QAAQF,CAAM,EACrC,MAAMC,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,CAC1B,CACA,IAAI,UAAW,CAAE,OAAO,KAAK,CAAC,CAAG,CACjC,IAAI,UAAW,CAAE,OAAO,KAAK,CAAC,CAAG,CAGjC,OAAmB,CAAE,OAAO,IAAIF,EAAU,IAAI,CAAG,CACjD,SAASI,EAA0D,CAAE,OAAO,KAAKC,GAAYF,EAAU,QAAQC,CAAQ,CAAC,CAAG,CAC3HC,GAAYD,EAAwC,CAChD,YAAK,CAAC,EAAIA,EAAS,CAAC,EACpB,KAAK,CAAC,EAAIA,EAAS,CAAC,EACb,IACX,CAGA,QAAQE,EAAgE,CACpE,IAAIC,EAAuC,KAC3C,QAASC,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,IAChCD,EAASJ,EAAU,IAAII,EAAQJ,EAAU,QAAQG,EAAQE,CAAC,CAAC,CAAC,EAGhE,OAAO,KAAKH,GAAYE,CAAM,CAClC,CAEA,SAASD,EAAgE,CACrE,IAAIC,EAAuC,KAC3C,QAASC,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,IAChCD,EAASJ,EAAU,IAAII,EAAQJ,EAAU,QAAQG,EAAQE,CAAC,CAAC,CAAC,EAGhE,OAAO,KAAKH,GAAYE,CAAM,CAClC,CAEA,YAAYD,EAAgE,CACxE,IAAIC,EAAuC,KAC3C,QAASC,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,IAChCD,EAASJ,EAAU,KAAKI,EAAQJ,EAAU,QAAQG,EAAQE,CAAC,CAAC,CAAC,EAGjE,OAAO,KAAKH,GAAYE,CAAM,CAClC,CAEA,UAAUD,EAAgE,CACtE,IAAIC,EAAuC,KAC3C,QAASC,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,IAChCD,EAASJ,EAAU,IAAII,EAAQJ,EAAU,QAAQG,EAAQE,CAAC,CAAC,CAAC,EAGhE,OAAO,KAAKH,GAAYE,CAAM,CAClC,CAEA,MAAME,EAAe,CAAE,OAAO,KAAKJ,GAAYF,EAAU,IAAI,KAAMM,CAAK,CAAC,CAAG,CAI5E,IAAIC,EAAO,kBAAmB,CAAE,OAAO,KAAKL,GAAYF,EAAU,IAAI,KAAMO,CAAI,CAAC,CAAG,CAEpF,KAAM,CACF,YAAK,CAAC,EAAI,KAAK,IAAI,KAAK,CAAC,CAAC,EACnB,IACX,CAEA,OAAQ,CAAE,OAAO,KAAKL,GAAYF,EAAU,MAAM,IAAI,CAAC,CAAG,CAC1D,OAAQ,CAAE,OAAO,KAAKE,GAAYF,EAAU,MAAM,IAAI,CAAC,CAAG,CAC1D,MAAO,CAAE,OAAO,KAAKE,GAAYF,EAAU,KAAK,IAAI,CAAC,CAAG,CACxD,OAAQ,CAAE,OAAO,KAAKE,GAAYF,EAAU,MAAM,IAAI,CAAC,CAAG,CAG1D,OAAiB,CAAE,OAAO,MAAM,KAAK,CAAC,CAAC,CAAyB,CAEhE,UAAoB,CAAE,OAAO,SAAS,KAAK,CAAC,CAAC,CAA4B,CAEzE,SAASQ,EAAkE,CAAE,OAAOR,EAAU,KAAK,KAAMA,EAAU,QAAQQ,CAAO,CAAC,CAAG,CACtI,YAAYA,EAAkE,CAAE,OAAOR,EAAU,YAAY,KAAMA,EAAU,QAAQQ,CAAO,CAAC,CAAG,CAChJ,SAASA,EAAkE,CAAE,OAAOR,EAAU,KAAK,KAAMA,EAAU,QAAQQ,CAAO,CAAC,CAAG,CACtI,YAAYA,EAAkE,CAAE,OAAOR,EAAU,YAAY,KAAMA,EAAU,QAAQQ,CAAO,CAAC,CAAG,CAChJ,SAASA,EAAkE,CAAE,OAAOR,EAAU,SAAS,KAAMA,EAAU,QAAQQ,CAAO,CAAC,CAAG,CAE1I,YAAYA,EAAyE,CACjF,IAAIC,EAAyC,KAC7C,QAASJ,EAAI,EAAGA,EAAIG,EAAQ,OAAQH,IAAK,CACrC,IAAMK,EAAOV,EAAU,QAAQQ,EAAQH,CAAC,CAAC,EACzC,GAAIL,EAAU,SAASS,EAAUC,CAAI,EAAK,MAAO,GACjDD,EAAWC,CACf,CAEA,MAAO,EACX,CAGA,OAAOF,EAAgE,CACnE,IAAIJ,EAAuC,KAE3C,QAASC,EAAI,EAAGA,EAAIG,EAAQ,OAAQH,IAAK,CACrC,IAAMM,EAAQX,EAAU,QAAQQ,EAAQH,CAAC,CAAC,EAC1C,GAAI,MAAMM,EAAM,CAAC,CAAC,EAAK,OAAO,KAAKT,GAAY,CAAC,IAAK,GAAG,CAAC,EAErDF,EAAU,KAAKI,EAAQO,CAAK,IAAKP,EAASO,EAClD,CAEA,OAAO,KAAKT,GAAYE,CAAM,CAClC,CAEA,OAAOI,EAAgE,CACnE,IAAIJ,EAAuC,KAE3C,QAASC,EAAI,EAAGA,EAAIG,EAAQ,OAAQH,IAAK,CACrC,IAAMM,EAAQX,EAAU,QAAQQ,EAAQH,CAAC,CAAC,EAC1C,GAAI,MAAMM,EAAM,CAAC,CAAC,EAAK,OAAO,KAAKT,GAAY,CAAC,IAAK,GAAG,CAAC,EAErDF,EAAU,KAAKI,EAAQO,CAAK,IAAKP,EAASO,EAClD,CAEA,OAAO,KAAKT,GAAYE,CAAM,CAClC,CAOA,OAAOQ,EAAW,CAAC,EAAgF,CAAE,OAAOZ,EAAU,OAAO,KAAMY,CAAQ,CAAG,CAE9I,UAAmB,CAAE,OAAO,OAAOZ,EAAU,WAAW,IAAI,CAAC,CAAG,CAEhE,UAAmB,CAAE,OAAOA,EAAU,WAAW,IAAI,CAAG,CAG5D,EAEMA,EAAY,CACd,QAAUF,GAAyF,CAC/F,GAAI,OAAOA,GAAW,UAAYA,IAAW,KAAQ,OAAOA,EACxD,OAAOA,GAAW,WAAYA,EAAS,GAAGA,CAAM,IACpD,IAAMe,EAAQf,EAAO,QAAQ,GAAG,EAC1BM,EAA2BS,IAAU,GAAK,CAAC,OAAOf,CAAM,EAAG,CAAC,EAAI,CAAC,OAAOA,EAAO,MAAM,EAAGe,CAAK,CAAC,EAAG,OAAOf,EAAO,MAAMe,EAAQ,CAAC,CAAC,CAAC,EAEtI,GAAI,CAAC,SAAST,EAAO,CAAC,CAAC,GAAK,CAAC,SAASA,EAAO,CAAC,CAAC,EAC3C,OAAIA,EAAO,CAAC,IAAM,GAAKA,EAAO,CAAC,IAAM,KAAoB,CAAC,EAAG,CAAC,EAC1D,MAAMA,EAAO,CAAC,CAAC,GAAK,MAAMA,EAAO,CAAC,CAAC,EAAY,CAAC,IAAK,GAAG,EACrD,CAACA,EAAO,CAAC,EAAI,EAAI,KAAY,IAAU,GAAQ,EAG1D,IAAMO,EAAQ,KAAK,IAAIP,EAAO,CAAC,CAAC,EAChC,GAAIO,IAAU,EACV,MAAO,CAAC,EAAG,CAAC,EACT,GAAIA,EAAQ,GAAKA,GAAS,GAAI,CACjC,IAAMG,EAAS,KAAK,MAAM,KAAK,MAAMH,CAAK,CAAC,EAC3CP,EAAO,CAAC,GAAK,IAAMU,EACnBV,EAAO,CAAC,GAAKU,EAET,KAAK,IAAIV,EAAO,CAAC,CAAC,EAAI,IACtBA,EAAO,CAAC,GAAK,GACbA,EAAO,CAAC,IAEhB,CAGA,OAAAA,EAAO,CAAC,EAAI,KAAK,MAAMA,EAAO,CAAC,EAAI,IAAI,EAAI,KACvC,KAAK,IAAIA,EAAO,CAAC,CAAC,IAAM,KACxBA,EAAO,CAAC,GAAK,GACbA,EAAO,CAAC,KAGLA,CACX,EAEA,WAAaN,GAAiDA,EAAO,CAAC,IAAM,GAAK,CAAC,SAASA,EAAO,CAAC,CAAC,EAAI,GAAGA,EAAO,CAAC,CAAC,GAAK,GAAGA,EAAO,CAAC,CAAC,IAAIA,EAAO,CAAC,CAAC,GAElJ,IAAK,CAACiB,EAAoCC,IAAsE,CAC5G,GAAIA,EAAM,CAAC,IAAM,EAAK,OAAOD,EAC7B,GAAIA,EAAK,CAAC,IAAM,EAAK,MAAO,CAACC,EAAM,CAAC,EAAGA,EAAM,CAAC,CAAC,EAC/C,GAAI,CAAC,SAASD,EAAK,CAAC,CAAC,GAAK,CAAC,SAASC,EAAM,CAAC,CAAC,EAAG,CAC3C,IAAMC,EAAQF,EAAK,CAAC,EAAIC,EAAM,CAAC,EAC/B,OAAO,MAAMC,CAAK,EAAI,CAAC,IAAK,GAAG,EAAI,CAACA,EAAO,GAAQ,CACvD,CAEA,IAAMC,EAAaH,EAAK,CAAC,EAAIC,EAAM,CAAC,EACpC,GAAI,KAAK,IAAIE,CAAU,EAAI,GAAM,OAAOA,EAAa,EAAIH,EAAO,CAACC,EAAM,CAAC,EAAGA,EAAM,CAAC,CAAC,EAE/EE,IAAe,EACfH,EAAK,CAAC,GAAKC,EAAM,CAAC,EACXE,EAAa,EACpBH,EAAK,CAAC,GAAKC,EAAM,CAAC,EAAI,IAAME,GAE5BH,EAAK,CAAC,EAAIC,EAAM,CAAC,EAAKD,EAAK,CAAC,EAAI,IAAMG,EACtCH,EAAK,CAAC,EAAIC,EAAM,CAAC,GAGrB,IAAML,EAAQ,KAAK,IAAII,EAAK,CAAC,CAAC,EAC9B,GAAIJ,IAAU,EACV,MAAO,CAAC,EAAG,CAAC,EACT,GAAIA,GAAS,GAChBI,EAAK,CAAC,GAAK,GACXA,EAAK,CAAC,YACCJ,EAAQ,EAAG,CAClB,IAAMG,EAAS,CAAC,KAAK,MAAM,KAAK,MAAMH,CAAK,CAAC,EAC5CI,EAAK,CAAC,GAAK,IAAMD,EACjBC,EAAK,CAAC,GAAKD,CACf,CAEA,OAAAC,EAAK,CAAC,EAAI,KAAK,MAAMA,EAAK,CAAC,EAAI,IAAI,EAAI,KACnC,KAAK,IAAIA,EAAK,CAAC,CAAC,IAAM,KACtBA,EAAK,CAAC,GAAK,GACXA,EAAK,CAAC,KAGHA,CACX,EAEA,IAAK,CAACA,EAAoCC,IAAsEhB,EAAU,IAAIe,EAAM,CAAC,CAACC,EAAM,CAAC,EAAGA,EAAM,CAAC,CAAC,CAAC,EAEzJ,KAAM,CAACD,EAAoCC,IACnCD,EAAK,CAAC,IAAM,GAAKC,EAAM,CAAC,IAAM,EAAY,CAAC,EAAG,CAAC,GAEnDD,EAAK,CAAC,GAAKC,EAAM,CAAC,EAClBD,EAAK,CAAC,GAAKC,EAAM,CAAC,EAEb,SAASD,EAAK,CAAC,CAAC,GAKjB,KAAK,IAAIA,EAAK,CAAC,CAAC,GAAK,KACrBA,EAAK,CAAC,GAAK,GACXA,EAAK,CAAC,KAGVA,EAAK,CAAC,EAAI,KAAK,MAAMA,EAAK,CAAC,EAAI,IAAI,EAAI,KACnC,KAAK,IAAIA,EAAK,CAAC,CAAC,IAAM,KACtBA,EAAK,CAAC,GAAK,GACXA,EAAK,CAAC,KAGHA,GAfCA,EAAK,CAAC,IAAM,KAAoB,CAAC,EAAG,CAAC,EAClC,MAAMA,EAAK,CAAC,CAAC,EAAI,CAAC,IAAK,GAAG,EAAI,CAAC,IAAU,GAAQ,GAiBhE,IAAK,CAACA,EAAoCC,IAClCA,EAAM,CAAC,IAAM,EAAY,CAAC,IAAK,GAAG,EAClCD,EAAK,CAAC,IAAM,EAAY,CAAC,EAAG,CAAC,GAEjCA,EAAK,CAAC,GAAKC,EAAM,CAAC,EAClBD,EAAK,CAAC,GAAKC,EAAM,CAAC,EAEb,SAASD,EAAK,CAAC,CAAC,GAKjB,KAAK,IAAIA,EAAK,CAAC,CAAC,EAAI,IACpBA,EAAK,CAAC,GAAK,GACXA,EAAK,CAAC,KAGVA,EAAK,CAAC,EAAI,KAAK,MAAMA,EAAK,CAAC,EAAI,IAAI,EAAI,KACnC,KAAK,IAAIA,EAAK,CAAC,CAAC,IAAM,KACtBA,EAAK,CAAC,GAAK,GACXA,EAAK,CAAC,KAGHA,GAfCA,EAAK,CAAC,IAAM,KAAoB,CAAC,EAAG,CAAC,EAClC,MAAMA,EAAK,CAAC,CAAC,EAAI,CAAC,IAAK,GAAG,EAAI,CAAC,IAAU,GAAQ,GAgBhE,IAAK,CAACA,EAAoCT,IAAgD,CACtF,GAAIA,IAAU,EAAK,OAAOS,EAAK,CAAC,IAAM,GAAK,MAAMA,EAAK,CAAC,CAAC,EAAI,CAAC,IAAK,GAAG,EAAI,CAAC,EAAG,CAAC,EAC9E,GAAIA,EAAK,CAAC,IAAM,EAAK,OAAOT,EAAQ,EAAI,CAAC,IAAK,GAAG,EAAI,CAAC,EAAG,CAAC,EAC1D,GAAI,CAAC,SAASA,CAAK,EACf,OAAKS,EAAK,CAAC,IAAM,GAAKA,EAAK,CAAC,IAAM,GAAMA,EAAK,CAAC,EAAI,EAAYA,EAAK,CAAC,IAAM,EAAI,CAAC,EAAG,CAAC,EAAI,CAAC,IAAK,GAAG,EAC3FT,IAAU,MAAaS,EAAK,CAAC,GAAK,GAAOT,IAAU,KAAYS,EAAK,CAAC,EAAI,EAAa,CAAC,EAAG,CAAC,EACzF,MAAMT,CAAK,GAAK,MAAMS,EAAK,CAAC,CAAC,EAAI,CAAC,IAAK,GAAG,EAAI,CAAC,IAAU,GAAQ,EAG5E,IAAMI,EAAWJ,EAAK,CAAC,EAAI,EAAI,KAAK,IAAIT,CAAK,EAAI,EAAI,KACrD,GAAIa,IAAa,KAAM,CACnB,GAAI,KAAK,MAAMb,CAAK,IAAMA,EAAS,MAAO,CAAC,IAAK,GAAG,EACnDS,EAAK,CAAC,GAAK,EACf,CAEA,IAAMK,EAASd,GAAS,KAAK,MAAMS,EAAK,CAAC,CAAC,EAAIA,EAAK,CAAC,GACpD,GAAI,CAAC,SAASK,CAAM,EAChB,OAAIA,IAAW,KAAoB,CAAC,EAAG,CAAC,EACpC,MAAML,EAAK,CAAC,CAAC,EAAY,CAAC,IAAK,GAAG,EAC/B,CAACI,IAAa,EAAI,KAAY,IAAU,GAAQ,EAG3D,IAAME,EAAS,KAAK,MAAMD,CAAM,EAChC,OAAAL,EAAK,CAAC,EAAI,KAAOK,EAASC,GAC1BN,EAAK,CAAC,EAAIM,EAEVN,EAAK,CAAC,EAAI,KAAK,MAAMA,EAAK,CAAC,EAAI,IAAI,EAAI,KACnCA,EAAK,CAAC,IAAM,KACZA,EAAK,CAAC,EAAI,EACVA,EAAK,CAAC,KAGNI,IAAa,IAAKJ,EAAK,CAAC,GAAK,IAC1BA,CACX,EACA,IAAK,CAACA,EAAoCR,IAA+C,CACrF,GAAI,KAAK,IAAIA,CAAI,IAAM,GAAMQ,EAAK,CAAC,IAAM,IAAMA,EAAK,CAAC,IAAM,EAAM,MAAO,CAAC,IAAK,GAAG,EACjF,GAAIA,EAAK,CAAC,IAAM,GAAKA,EAAK,CAAC,IAAM,EAAK,MAAO,CAAC,EAAG,CAAC,EAClD,GAAIR,IAAS,EAAK,MAAO,CAAC,IAAK,GAAG,EAClC,GAAIQ,EAAK,CAAC,IAAM,EAAK,OAAO,MAAMR,CAAI,EAAI,CAAC,IAAK,GAAG,EAAI,CAAC,KAAK,IAAIA,CAAI,EAAI,EAAI,KAAY,IAAU,GAAQ,EAC3G,GAAI,CAAC,SAASA,CAAI,EAAK,MAAO,CAAC,IAAK,GAAG,EACvC,GAAI,CAAC,SAASQ,EAAK,CAAC,CAAC,EACjB,OAAI,MAAMA,EAAK,CAAC,CAAC,GAAKA,EAAK,CAAC,IAAM,KAAoB,CAAC,IAAK,GAAG,EACxD,CAAC,KAAK,IAAIR,CAAI,EAAI,EAAI,KAAY,IAAU,GAAQ,EAG/D,IAAMY,EAAWJ,EAAK,CAAC,EAAI,EAC3B,GAAII,EAAU,CACV,GAAIZ,EAAO,EAAK,MAAO,CAAC,IAAK,GAAG,EAChCQ,EAAK,CAAC,GAAK,EACf,CAEA,IAAMO,EAAWP,EAAK,CAAC,EAAI,EACrBK,EAAS,KAAK,MAAM,KAAK,IAAI,KAAK,MAAML,EAAK,CAAC,CAAC,EAAIA,EAAK,CAAC,CAAC,CAAC,EAC3DM,EAAS,KAAK,MAAMD,CAAM,EAKhC,GAJAL,EAAK,CAAC,EAAI,KAAOK,EAASC,GAC1BN,EAAK,CAAC,EAAIM,EAENC,IAAYP,EAAK,CAAC,GAAK,IACvBR,IAAS,GAAI,CACbQ,EAAK,CAAC,GAAK,KAAK,MAAM,KAAK,IAAIR,CAAI,CAAC,EAEpC,IAAMI,EAAQ,KAAK,IAAII,EAAK,CAAC,CAAC,EAC9B,GAAIJ,EAAQ,GAAKA,GAAS,GAAI,CAC1B,IAAMG,EAAS,KAAK,MAAM,KAAK,MAAMH,CAAK,CAAC,EAC3CI,EAAK,CAAC,GAAK,IAAMD,EACjBC,EAAK,CAAC,GAAKD,CACf,CACJ,CAEA,GAAIP,EAAO,GAAKY,EAAU,CACtB,GAAIJ,EAAK,CAAC,EAAI,EAAK,MAAO,CAAC,IAAK,GAAG,EAEnC,IAAMQ,EAAOR,EAAK,CAAC,EAAI,GAAK,KAAK,IAAI,KAAK,MAAMA,EAAK,CAAC,EAAI,IAAI,EAAI,KAAO,GAAKA,EAAK,CAAC,EAAE,EAAI,EAAI,EAC9F,GAAIR,EAAO,GAAK,CAACY,GACb,GAAII,IAAS,EAAK,MAAO,CAAC,IAAK,GAAG,UAE9BA,IAAS,EAAK,MAAO,CAAC,IAAK,GAAG,CAE1C,CAEA,OAAAR,EAAK,CAAC,EAAI,KAAK,MAAMA,EAAK,CAAC,EAAI,IAAI,EAAI,KACnC,KAAK,IAAIA,EAAK,CAAC,CAAC,IAAM,KACtBA,EAAK,CAAC,GAAK,GACXA,EAAK,CAAC,KAGHA,CACX,EAEA,KAAM,CAACA,EAAoCC,IACnCD,EAAK,CAAC,IAAM,GAAKC,EAAM,CAAC,IAAM,GAAKD,EAAK,CAAC,IAAMC,EAAM,CAAC,EAAYD,EAAK,CAAC,EAAIC,EAAM,CAAC,EACnFD,EAAK,CAAC,EAAI,GAAKC,EAAM,CAAC,EAAI,EAAYD,EAAK,CAAC,EAAIC,EAAM,CAAC,EACvDD,EAAK,CAAC,EAAI,GAAKC,EAAM,CAAC,EAAI,EAAY,GACtCA,EAAM,CAAC,EAAI,GAAKD,EAAK,CAAC,EAAI,EAAY,GACnCA,EAAK,CAAC,EAAIC,EAAM,CAAC,EAG5B,YAAa,CAACD,EAAoCC,IAC1CD,EAAK,CAAC,IAAM,GAAKC,EAAM,CAAC,IAAM,GAAKD,EAAK,CAAC,IAAMC,EAAM,CAAC,EAAYD,EAAK,CAAC,GAAKC,EAAM,CAAC,EACpFD,EAAK,CAAC,EAAI,GAAKC,EAAM,CAAC,EAAI,EAAYD,EAAK,CAAC,EAAIC,EAAM,CAAC,EACvDD,EAAK,CAAC,EAAI,GAAKC,EAAM,CAAC,EAAI,EAAY,GACtCA,EAAM,CAAC,EAAI,GAAKD,EAAK,CAAC,EAAI,EAAY,GACnCA,EAAK,CAAC,EAAIC,EAAM,CAAC,EAG5B,KAAM,CAACD,EAAoCC,IACnCD,EAAK,CAAC,IAAM,GAAKC,EAAM,CAAC,IAAM,GAAKD,EAAK,CAAC,IAAMC,EAAM,CAAC,EAAYD,EAAK,CAAC,EAAIC,EAAM,CAAC,EACnFD,EAAK,CAAC,EAAI,GAAKC,EAAM,CAAC,EAAI,EAAYD,EAAK,CAAC,EAAIC,EAAM,CAAC,EACvDD,EAAK,CAAC,EAAI,GAAKC,EAAM,CAAC,EAAI,EAAY,GACtCA,EAAM,CAAC,EAAI,GAAKD,EAAK,CAAC,EAAI,EAAY,GACnCA,EAAK,CAAC,EAAIC,EAAM,CAAC,EAG5B,YAAa,CAACD,EAAoCC,IAC1CD,EAAK,CAAC,IAAM,GAAKC,EAAM,CAAC,IAAM,GAAKD,EAAK,CAAC,IAAMC,EAAM,CAAC,EAAYD,EAAK,CAAC,GAAKC,EAAM,CAAC,EACpFD,EAAK,CAAC,EAAI,GAAKC,EAAM,CAAC,EAAI,EAAYD,EAAK,CAAC,EAAIC,EAAM,CAAC,EACvDD,EAAK,CAAC,EAAI,GAAKC,EAAM,CAAC,EAAI,EAAY,GACtCA,EAAM,CAAC,EAAI,GAAKD,EAAK,CAAC,EAAI,EAAY,GACnCA,EAAK,CAAC,EAAIC,EAAM,CAAC,EAG5B,SAAU,CAACD,EAAoCC,IACpCD,EAAK,CAAC,IAAMC,EAAM,CAAC,GAAKD,EAAK,CAAC,IAAMC,EAAM,CAAC,EAEtD,MAAQD,GACAA,EAAK,CAAC,EAAI,EACH,CAAC,EAAG,CAAC,GACLA,EAAK,CAAC,IAAM,EACnBA,EAAK,CAAC,EAAI,KAAK,MAAMA,EAAK,CAAC,CAAC,EACrBA,EAAK,CAAC,GAAK,KAClBA,EAAK,CAAC,EAAI,KAAK,MAAMA,EAAK,CAAC,EAAI,IAAMA,EAAK,CAAC,CAAC,EAAI,IAAMA,EAAK,CAAC,GAGzDA,GAEX,MAAQA,GACAA,EAAK,CAAC,EAAI,EACH,CAACA,EAAK,CAAC,EAAI,EAAI,GAAK,EAAG,CAAC,GACxBA,EAAK,CAAC,IAAM,EACnBA,EAAK,CAAC,EAAI,KAAK,MAAMA,EAAK,CAAC,CAAC,EACrBA,EAAK,CAAC,GAAK,KAClBA,EAAK,CAAC,EAAI,KAAK,MAAMA,EAAK,CAAC,EAAI,IAAMA,EAAK,CAAC,CAAC,EAAI,IAAMA,EAAK,CAAC,GAG5DA,EAAK,CAAC,IAAM,MACZA,EAAK,CAAC,EAAI,GACVA,EAAK,CAAC,KAEHA,GAEX,KAAOA,GACCA,EAAK,CAAC,EAAI,EACH,CAACA,EAAK,CAAC,EAAI,EAAI,EAAI,EAAG,CAAC,GACvBA,EAAK,CAAC,IAAM,EACnBA,EAAK,CAAC,EAAI,KAAK,KAAKA,EAAK,CAAC,CAAC,EACpBA,EAAK,CAAC,GAAK,KAClBA,EAAK,CAAC,EAAI,KAAK,KAAKA,EAAK,CAAC,EAAI,IAAMA,EAAK,CAAC,CAAC,EAAI,IAAMA,EAAK,CAAC,GAG3DA,EAAK,CAAC,IAAM,KACZA,EAAK,CAAC,EAAI,EACVA,EAAK,CAAC,KAEHA,GAEX,MAAQA,GACAA,EAAK,CAAC,EAAI,EACH,CAACA,EAAK,CAAC,IAAM,GAAK,KAAK,MAAMA,EAAK,CAAC,EAAI,EAAE,EAAI,EAAG,CAAC,GACjDA,EAAK,CAAC,IAAM,EACnBA,EAAK,CAAC,EAAI,KAAK,MAAMA,EAAK,CAAC,CAAC,EACrBA,EAAK,CAAC,GAAK,KAClBA,EAAK,CAAC,EAAI,KAAK,MAAMA,EAAK,CAAC,EAAI,IAAMA,EAAK,CAAC,CAAC,EAAI,IAAMA,EAAK,CAAC,GAG5D,KAAK,IAAIA,EAAK,CAAC,CAAC,IAAM,KACtBA,EAAK,CAAC,GAAK,GACXA,EAAK,CAAC,KAEHA,GAGX,OAAQ,CAACA,EAAoCH,IAAwF,CACjI,GAAM,CAACL,EAAMD,CAAK,EAAIS,EACtB,GAAI,CAAC,SAASR,CAAI,EAAK,MAAO,GAAGA,CAAI,GAGrC,GAAID,GAAS,KAAOA,GAAS,KAAM,CAC/B,IAAMQ,EAASF,EAAS,QAAU,EAC9BY,EAAWlB,EACXmB,EAAW,KAAK,MAAMlB,EAAO,IAAMO,CAAM,EAAI,IAAMA,EACnD,KAAK,IAAIW,CAAQ,IAAM,KACvBA,GAAY,GACZD,KAGJA,EAAW,KAAK,MAAM,KAAK,MAAM,KAAK,IAAIA,CAAQ,CAAC,CAAC,EACpD,IAAIE,EAAgB,KAAK,MAAMpB,EAAQ,KAAOkB,EAAWV,EAAO,EAAI,IAAMA,EACtE,KAAK,IAAIY,CAAa,IAAM,KAC5BA,GAAiB,GACjBF,KAGJ,IAAMG,EAAgBf,EAAS,QAAUc,EAAc,QAAQZ,CAAM,EAAI,GAAGY,CAAa,GACzF,GAAId,EAAS,OAAS,QAClB,OAAAc,EAAgB,KAAK,IAAIA,CAAa,EAClCnB,EAAO,IAAKmB,GAAiB,IAC1B,GAAGC,EAAc,QAAQ,IAAKC,EAAW,OAAO,CAAC,CAAC,CAAC,IAAItB,EAAQ,EAAI,IAAM,EAAE,IAAIkB,CAAQ,GAGlG,IAAMK,EAAejB,EAAS,QAAUa,EAAS,QAAQX,CAAM,EAAI,GAAGW,CAAQ,GAC9E,OAAOb,EAAS,OAAS,QAAU,GAAGiB,CAAY,IAAIF,CAAa,IAAIH,CAAQ,GAAK,GAAGK,EAAa,QAAQ,IAAKD,EAAW,OAAO,CAAC,CAAC,CAAC,IAAID,EAAc,QAAQ,IAAKC,EAAW,OAAO,CAAC,CAAC,CAAC,IAAIJ,CAAQ,EAC1M,CAGA,GAAIlB,GAAS,GAAKA,EAAQ,GAAI,CAC1B,IAAMQ,EAASF,EAAS,QAAU,EAC9BY,EAAWlB,EACXmB,EAAW,KAAK,MAAMlB,EAAO,IAAMO,CAAM,EAAI,IAAMA,EACnD,KAAK,IAAIW,CAAQ,IAAM,KACvBA,GAAY,GACZD,KAEJ,IAAMM,EAAWlB,EAAS,QAAUa,EAAS,QAAQX,CAAM,EAAI,GAAGW,CAAQ,GAC1E,OAAOb,EAAS,OAAS,QAAU,GAAGkB,CAAQ,IAAIN,CAAQ,GAAK,GAAGM,EAAS,QAAQ,IAAKF,EAAW,OAAO,CAAC,CAAC,CAAC,IAAIJ,CAAQ,EAC7H,CAGA,IAAMV,EAASF,EAAS,QAAU,KAAK,IAAI,EAAI,KAAK,IAAIN,EAAO,CAAC,EAAG,CAAC,EAC9DmB,EAAW,KAAK,MAAMlB,EAAO,KAAOO,EAASR,EAAM,EAAI,IAAMQ,EAC7DgB,EAAWlB,EAAS,QAAUa,EAAS,QAAQX,CAAM,EAAI,GAAGW,CAAQ,GAC1E,OAAOb,EAAS,OAAS,QAAUkB,EAAWL,GAAY,IAAMK,EAAS,QAAQ,IAAKF,EAAW,OAAO,CAAC,CAAC,EAAE,QAAQ,uBAAwBA,EAAW,OAAO,CAAC,CAAC,EAAIE,EAAS,QAAQ,IAAKF,EAAW,OAAO,CAAC,CAAC,CAClN,CACJ,EC9eO,IAAMG,EAAqB,CAC9B,QAAS,SACT,SAAU,gDACV,MAAO,CACH,KAAM,EACN,QAAS,EACT,OAAQ,EACR,OAAQ,EACR,OAAQ,MACR,KAAM,EACN,KAAM,EACN,KAAM,EACN,MAAO,EACX,EACA,UAAW,CACP,OAAQ,EACR,UAAW,EACX,QAAS,CACb,EACA,aAAc,CACV,OAAQ,IAAIC,EAAU,GAAG,EACzB,UAAW,IAAIA,EAAU,GAAG,EAC5B,MAAO,CACX,EACA,UAAW,CACP,KAAM,CACV,EACA,SAAU,CACN,KAAM,OACN,QAAS,OACT,MAAO,CAAC,EAAG,EAAG,CAAC,EACf,KAAM,EACN,MAAO,CACX,EACA,UAAW,CACP,OAAQ,GACR,IAAK,CACT,EACA,KAAM,CACF,QAAS,KAAK,IAAI,EAClB,QAAS,KAAK,IAAI,EAClB,QAAS,EACT,OAAQ,EACR,MAAO,EACP,SAAU,CACd,EACA,UAAW,CACP,CAAC,EAA4C,CACzC,CACI,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,CACJ,EAAG,CACC,CACI,QAAS,IAAIA,EAAU,QAAQ,EAC/B,MAAO,IAAIA,EAAU,QAAQ,EAC7B,UAAW,IAAIA,EAAU,QAAQ,EACjC,QAAS,IAAIA,EAAU,QAAQ,CACnC,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,CACJ,EAAG,CACC,CACI,QAAS,IAAIA,EAAU,OAAO,EAC9B,MAAO,IAAIA,EAAU,OAAO,EAC5B,UAAW,IAAIA,EAAU,OAAO,EAChC,QAAS,IAAIA,EAAU,OAAO,CAClC,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,CACJ,EAAG,CACC,CACI,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,CACJ,EAAG,CACC,CACI,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,EAAG,CACC,KAAM,EACN,QAAS,IAAIA,EAAU,GAAG,EAC1B,MAAO,IAAIA,EAAU,GAAG,EACxB,UAAW,IAAIA,EAAU,GAAG,EAC5B,QAAS,IAAIA,EAAU,GAAG,CAC9B,CACJ,CACJ,EACA,QAAS,CACL,CACI,QAAS,EACT,MAAO,CACX,EAAG,CACC,QAAS,EACT,MAAO,CACX,CACJ,EAEA,SAAU,CAAC,EACX,WAAY,CAAC,EACb,gBAAiB,CAAC,EAClB,eAAgB,CAAC,EACjB,IAAK,CAAC,EACN,OAAQ,CAAC,EACT,SAAU,CAAC,EACX,YAAa,CAAC,EACd,WAAY,CAAC,EACb,WAAY,CACR,OAAQ,GACR,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,CAC3B,EACA,QAAS,CACL,QAAS,CAAC,EAEV,UAAW,CAAC,EACZ,MAAO,CAAC,EAER,IAAK,CAAC,EAEN,KAAM,CAAC,EAGP,KAAM,CACF,MAAO,EACP,KAAM,CAAC,CAAC,CACZ,CACJ,EACA,QAAS,CACL,MAAO,CACH,KAAM,CAAC,EAAG,EAAG,CAAC,EACd,KAAM,CAAC,EACP,MAAO,CAAC,EAAG,EAAE,CACjB,CACJ,EACA,OAAQ,CAAC,EAAK,CAElB,EAEaC,EAAqB,CAC9B,IAAK,QACL,OAAQ,CACJ,aAAc,aACd,gBAAiB,WACjB,eAAgB,WAChB,mBAAoB,QACxB,EACA,QAAS,CACL,KAAM,CAAC,QAAS,UAAW,cAAe,UAAU,EACpD,aAAc,CAAC,aAAc,UAAU,EACvC,gBAAiB,CAAC,WAAY,UAAW,OAAO,EAChD,eAAgB,CAAC,WAAY,UAAU,EACvC,mBAAoB,CAAC,SAAU,YAAY,CAC/C,EACA,MAAO,CACH,QAAS,GACT,WAAY,GACZ,UAAW,GACX,YAAa,GACb,aAAc,EAClB,EACA,WAAY,EACZ,SAAU,EACV,OAAQ,GACR,OAAQ,GACR,QAAS,CACL,MAAO,GACP,KAAM,EACV,EACA,eAAgB,CACZ,MAAO,CACH,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,CACL,EACA,MAAO,CACH,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,CACL,EACA,MAAO,CACH,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,CACL,EACA,SAAU,CAAC,CACf,EACA,cAAe,CACX,UAAW,CAACC,EAAeC,IAAuB,CAC9C,IAAIC,EAAQH,EAAO,cAAc,WAAWE,CAAU,EAAED,CAAK,EAC7D,OAAIC,IAAe,GAAKD,IAAU,IAAKE,GAASL,EAAO,YAAY,CAAC,EAAE,CAAC,GACnEA,EAAO,UAAU,SACjBK,GAAS,KAAK,MAAMA,EAAQ,IAAMH,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,CAAC,EAChEF,EAAO,WAAW,SAAW,IAAKK,GAAS,KAAK,KAAKA,EAAQ,CAAC,IAE/DA,CACX,EACA,WAAY,CACR,CAAC,EACD,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,EAAE,EACnB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAG,EAC3B,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,GAAG,EACxB,CAAC,EAAG,GAAI,IAAK,IAAK,IAAK,GAAG,EAC1B,CAAC,EAAG,IAAK,IAAK,GAAI,CACtB,EACA,WAAY,EACZ,QAAS,IAAIJ,EAAU,GAAG,EAC1B,KAAM,EACN,MAAO,EACP,KAAM,CACV,EACA,iBAAkB,CACd,SAAU,IAAIA,EAAU,GAAG,EAC3B,UAAW,EACX,UAAW,EACX,IAAK,IAAIA,EAAU,GAAG,CAC1B,EACA,cAAe,CACX,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAC7C,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjC,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EACrB,QAAS,EACT,SAAU,CAAC,SAAW,KAAM,KAAM,KAAM,KAAM,YAAa,EAC3D,UAAW,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,aAAc,QAAQ,EAC1E,SAAU,CAAC,cAAe,cAAe,YAAa,WAAY,SAAU,gBAAiB,WAAW,EACxG,UAAW,CAAC,oBAAqB,WAAY,iBAAkB,eAAgB,aAAc,YAAa,eAAe,CAC7H,EACA,aAAc,CACV,WAAY,EACZ,WAAY,CAAC,EAAG,EAAG,CAAC,EACpB,QAAS,CAAC,EAAG,OAAS,IAAM,GAAI,GAAI,GAAI,EACxC,QAAS,CAAC,OAAS,KAAO,IAAK,GAAI,EAAE,EACrC,QAAS,CAAC,IAAM,GAAK,GAAK,GAAG,EAC7B,QAAS,EACT,UAAW,CAAC,EAAG,EAAG,CAAC,EACnB,UAAW,CACf,EACA,cAAe,CACX,YAAa,EACb,SAAU,IAAIA,EAAU,MAAM,EAC9B,QAAS,IAAIA,EAAU,MAAM,EAC7B,QAAS,OACT,UAAW,IAAIA,EAAU,GAAG,EAC5B,SAAU,IAAIA,EAAU,GAAG,CAC/B,EACA,YAAa,CACT,KAAM,OACN,QAAS,OACT,OAAQ,OACR,SAAU,OACV,YAAa,MACjB,EACA,UAAW,CACP,KAAM,CAAC,GAAI,aAAc,YAAa,YAAa,eAAgB,gBAAiB,MAAM,EAC1F,UAAW,CAAC,GAAI,OAAQ,OAAQ,OAAQ,SAAU,aAAc,YAAY,EAC5E,aAAc,CAAC,GAAI,WAAY,UAAW,UAAW,UAAW,UAAW,SAAS,EACpF,iBAAkB,CAAC,GAAI,UAAW,UAAW,UAAW,UAAW,UAAW,SAAS,EACvF,UAAW,CAAC,CAAC,CACjB,EACA,cAAe,CACX,UAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAC5B,KAAM,CACF,CAAC,EACD,CAAC,OAAQ,SAAU,SAAU,YAAa,QAAS,WAAW,EAC9D,CAAC,QAAS,QAAS,UAAW,QAAS,QAAS,OAAQ,QAAQ,EAChE,CAAC,OAAQ,cAAe,gBAAiB,eAAgB,aAAc,eAAe,EACtF,CAAC,WAAY,eAAgB,gBAAiB,kBAAmB,mBAAoB,aAAa,EAClG,CAAC,QAAS,UAAW,gBAAiB,UAAU,CACpD,EACA,UAAW,CACP,CAAC,EACD,CAAC,OAAQ,SAAU,SAAU,YAAa,OAAO,EACjD,CAAC,UAAW,QAAS,UAAW,QAAS,QAAS,MAAM,EACxD,CAAC,iBAAkB,cAAe,gBAAiB,eAAgB,YAAY,EAC/E,CAAC,WAAY,WAAY,WAAY,WAAY,UAAU,EAC3D,CAAC,qBAAsB,qBAAsB,2BAA2B,CAC5E,EACA,KAAM,CACF,CAAC,EACD,CAAC,GAAI,YAAa,YAAa,YAAa,YAAa,WAAW,EACpE,CAAC,GAAI,YAAa,YAAa,YAAa,YAAa,YAAa,WAAW,EACjF,CAAC,GAAI,YAAa,YAAa,YAAa,YAAa,WAAW,EACpE,CAAC,GAAI,YAAa,YAAa,YAAa,YAAa,WAAW,EACpE,CAAC,GAAI,YAAa,YAAa,WAAW,CAC9C,EACA,UAAW,CACP,CAAC,EACD,CAAC,EAAG,QAAU,EAAG,EAAG,GAAI,CAAC,EACzB,CAAC,EAAG,MAAQ,IAAK,IAAK,KAAM,KAAM,OAAQ,EAC1C,CAAC,EAAG,MAAO,KAAM,KAAM,KAAM,IAAI,EACjC,CAAC,EAAG,EAAG,IAAK,KAAM,KAAM,IAAI,EAC5B,CAAC,EAAG,KAAM,KAAM,GAAG,CACvB,EACA,SAAU,CACN,CAAC,EACD,CAAC,EAAG,IAAK,IAAK,IAAK,IAAK,GAAG,EAC3B,CAAC,EAAG,KAAM,IAAK,KAAM,KAAM,IAAK,CAAC,EACjC,CAAC,EAAG,KAAM,KAAM,KAAM,GAAI,EAAE,EAC5B,CAAC,EAAG,IAAK,KAAM,IAAM,KAAM,CAAC,EAC5B,CAAC,EAAG,EAAG,EAAG,IAAI,CAClB,EACA,UAAW,CAAC,CAChB,EACA,YAAa,CACT,KAAOK,GAAkB,CACrB,IAAMC,EAAeD,GAAS,GAAKN,EAAO,UAAU,OAEhDQ,EAAOD,EAAeE,EAAiB,UAAU,EAAI,EACzD,OAAIT,EAAO,UAAU,QACjBQ,GAAQR,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,EAAI,EACxCA,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKQ,GAAQC,EAAiB,WAAW,IACpED,GAAQN,EAAO,YAAY,YAChCK,IAAgBC,IAASR,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAAO,GAAM,GAAKA,EAAO,YAAY,CAAC,EAAE,CAAC,GACtF,KAAK,MAAMQ,CAAI,CAC1B,EACA,KAAM,CAAC,iBAAkB,aAAa,EACtC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAC7B,YAAa,CACjB,EACA,aAAc,CACV,CAAC,EAAoC,CACjC,KAAM,CACF,aACA,eACA,mBACA,mBACA,gBACA,gBACA,UACA,YACA,UACA,gBACJ,EACA,WAAY,CACR,IAAM,8CACN,IAAM,0FACN,IAAM,GAAGR,EAAO,UAAU,OAAS,QAAU,WAAW,6BACxD,IAAM,GAAGA,EAAO,UAAU,OAAS,QAAU,WAAW,8BAA8BA,EAAO,UAAU,OAAS,YAAc,QAAQ,IACtI,IAAM,GAAGA,EAAO,UAAU,OAAS,YAAc,OAAO,8BAA8BA,EAAO,UAAU,OAAS,QAAU,WAAW,IACrI,IAAM,4GAA4GU,EAAOR,EAAO,cAAc,IAAI,CAAC,IACnJ,IAAM,wCAAwCQ,EAAOD,EAAiB,WAAW,EAAI,GAAG,CAAC,IACzF,IAAM,iDAAiDC,EAAOD,EAAiB,WAAW,CAAC,CAAC,IAC5F,IAAM,uDACN,IAAM,iBAAiBT,EAAO,UAAU,OAAS,KAAKU,EAAO,EAAG,CAAC,GAAK,EAAE,gDAAgDV,EAAO,UAAU,OAAS,GAAK,SAAS;AAAA,UAAcU,EAAO,KAAK,IAAIV,EAAO,UAAU,OAAQ,CAAC,IAAMA,EAAO,UAAU,OAAS,GAAM,GAAI,CAAE,QAAS,EAAK,CAAC,CAAC,GACxR,EACA,UAAW,CAAC,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAM,IAAM,KAAO,IAAK,EAChE,UAAW,EACf,EAAG,CACC,KAAM,CACF,qBACA,eACA,eACA,kBACA,iBACA,SACA,QACA,UACA,MACJ,EACA,WAAY,CACR,IAAM,cAAcA,EAAO,UAAU,OAAS,kBAAoB,eAAe,IAAIU,EAAOV,EAAO,UAAU,OAAS,KAAO,IAAI,CAAC,UAAUA,EAAO,UAAU,OAAS,OAAS,QAAQ,6BACvL,IAAM;AAAA,iBAAyFU,EAAOD,EAAiB,WAAW,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IACvJ,IAAM;AAAA,iCAAqIC,EAAOD,EAAiB,WAAW,CAAC,CAAC,MAAMC,EAAOV,EAAO,UAAU,OAAS,GAAM,EAAG,CAAC,IACjO,IAAM,CACF,IAAMW,EAAQF,EAAiB,WAAW,EAC1C,MAAO,4CAA4CC,EAAOC,CAAK,CAAC;AAAA,UAAcD,EAAO,IAAIT,EAAUD,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,MAAMW,CAAK,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,GAChL,EACA,IAAM,CACF,IAAMA,EAAQF,EAAiB,WAAW,EAC1C,MAAO,4CAA4CC,EAAOC,CAAK,CAAC;AAAA,UAAcD,EAAO,IAAIT,EAAUD,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,MAAMW,CAAK,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,GAChL,EACA,IAAM,yCAAyCD,EAAOD,EAAiB,WAAW,CAAC,CAAC,2BACpF,IAAM,uCAAuCC,EAAOD,EAAiB,WAAW,CAAC,CAAC,yBAClF,IAAM,6DACN,IAAM,gDACV,EACA,UAAW,CAAC,GAAI,IAAK,KAAM,IAAK,IAAK,IAAK,KAAM,KAAM,IAAI,EAC1D,UAAW,CACf,EAAG,CACC,KAAM,CACF,kBACA,MACA,iBACA,wBACA,sBACA,cACA,cACA,0BACA,mBACA,aACA,mBACA,cACA,aACJ,EACA,WAAY,CACR,IAAM,8DAA8DT,EAAO,UAAU,OAAS,iCAAmC,wBAAwB;AAAA,MAAUU,EAAOD,EAAiB,WAAW,CAAC,CAAC,8BACxM,IAAM,CACF,IAAME,EAAQF,EAAiB,WAAW,EAC1C,MAAO,iGAAiGC,EAAOC,CAAK,CAAC;AAAA,UAAcD,EAAO,IAAIT,EAAUD,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,MAAMW,CAAK,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,GAC5N,EACA,IAAM;AAAA,0DACN,IAAM;AAAA,oDAA+GD,EAAOD,EAAiB,WAAW,CAAC,CAAC,IAC1J,IAAM;AAAA,4DACN,IAAM,6CAA6CT,EAAO,UAAU,OAAS,uBAAyB,iBAAiB,4CACvH,IAAM;AAAA,6CAA0FU,EAAO,EAAI,KAAOV,EAAO,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,IAC1I,IAAM,8EAA8EU,EAAO,IAAI,CAAC,IAChG,IAAM,gCACN,IAAM,GAAGV,EAAO,UAAU,OAAS,uBAAyB,iBAAiB,yFAC7E,IAAM,GAAGA,EAAO,UAAU,OAAS,uBAAyB,iBAAiB,kDAAkD,EAAI,GAAKA,EAAO,WAAW,CAAC,EAAE,CAAC,CAAC,IAC/J,IAAM,uDAAuDA,EAAO,UAAU,OAAS;AAAA,8BAAmC,EAAE,GAC5H,IAAM,sCACV,EACA,UAAW,CAAC,MAAO,MAAO,MAAO,EAAG,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAK,KAAM,IAAI,EACvF,UAAW,EACf,EAAG,CACC,KAAM,CACF,yBACA,sBACA,+BACA,gBACA,iBACJ,EACA,WAAY,CACR,IAAM;AAAA,mDAA0KA,EAAO,UAAU,OAAS,4DAA8D,EAAE,IAC1Q,IAAM,qFACN,IAAM,0FACN,IAAM,sEACN,IAAM;AAAA,8DACV,EACA,UAAW,CAAC,IAAK,IAAM,IAAK,KAAM,IAAI,EACtC,UAAW,CACf,EAAG,CACC,KAAM,CACF,oBACA,qBACA,QAYJ,EACA,WAAY,CACR,IAAM,wFAAwFU,EAAOD,EAAiB,WAAW,CAAC,CAAC,UACnI,IAAM,0DAA0DC,EAAOD,EAAiB,WAAW,CAAC,CAAC,IACrG,IAAM,0CAA0CC,EAAOD,EAAiB,WAAW,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC;AAAA,qDAAyDC,EAAO,GAAG,CAAC,gBAIhL,EACA,UAAW,CAAC,KAAM,KAAM,MAAO,KAAK,EACpC,UAAW,CACf,CACJ,EACA,eAAgB,CACZ,CAAC,EAAsC,CACnC,KAAM,CACF,mBACA,mBACA,mBACA,uBACA,wBACA,uBACJ,EACA,WAAY,CACR,IAAM,yBAAyBA,EAAO,GAAI,CAAC,4BAC3C,IAAM,6DAA6DA,EAAO,GAAI,CAAC,IAC/E,IAAM,qCAAqCA,EAAOD,EAAiB,YAAY,CAAC,CAAC,kBACjF,IAAM;AAAA,6DAAoHC,GAAQE,GAAkB,EAAI,IAAMZ,EAAO,UAAU,OAAO,CAAC,WACvL,IAAM,CACF,IAAMa,EAAUJ,EAAiB,cAAcT,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI,CAAC,EAC1E,MAAO,8DAA8DU,EAAOG,EAAUX,EAAO,cAAc,IAAI,CAAC;AAAA,mBAAuBQ,GAAQG,EAAUX,EAAO,cAAc,OAASA,EAAO,cAAc,MAAO,CAAE,QAAS,EAAK,CAAC,CAAC,GACzO,EACA,IAAM;AAAA,mBAA0EF,EAAO,UAAU,OAAS,GAAGU,EAAOD,EAAiB,YAAY,CAAC,CAAC,WAAa,GAAGT,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAIU,EAAOR,EAAO,cAAc,OAASO,EAAiB,YAAY,CAAC,EAAI,CAAC,WAAMC,EAAOR,EAAO,cAAc,OAASO,EAAiB,YAAY,CAAC,CAAC,CAAC,EAAE,GAC3V,EACA,KAAM,CAAC,EACP,UAAW,CAAC,KAAM,IAAM,IAAO,KAAO,IAAO,IAAK,EAClD,QAAS,CAAC,IAAK,IAAM,IAAM,KAAO,KAAO,IAAK,EAC9C,IAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACtB,UAAW,CACf,EAAG,CACC,KAAM,CACF,yBACA,yBACA,2BACA,0BACA,eACA,sBACJ,EACA,WAAY,CACR,IAAM,cAAcT,EAAO,UAAU,OAAS,kBAAoB,eAAe,iBAAiBE,EAAO,iBAAiB,YAAcF,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI;AAAA,qBAAwBA,EAAO,UAAU,OAAS,QAAU,cAAc,wBAAwBU,EAAOR,EAAO,iBAAiB,SAAS,CAAC,6BAA6BQ,EAAO,IAAIT,EAAU,GAAK,MAAQC,EAAO,iBAAiB,SAAS,EAAE,MAAMF,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAAK,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,gBAAkB,EAAE,GAC1d,IAAM,2CAA2CE,EAAO,iBAAiB,YAAcF,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI;AAAA,qBAAwBA,EAAO,UAAU,OAAS,QAAU,cAAc,wBAAwBU,EAAOR,EAAO,iBAAiB,SAAS,CAAC,6BAA6BQ,EAAO,IAAIT,GAAW,IAAMC,EAAO,iBAAiB,UAAY,GAAK,GAAK,GAAG,EAAE,MAAMF,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,KAAK,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,gBAAkB,EAAE,GACnb,IAAM,mCAAmCU,EAAO,IAAK,CAAC;AAAA,oBAAiCA,EAAO,IAAIT,EAAUD,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,MAAMS,EAAiB,WAAWT,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI,CAAC,EAAIS,EAAiB,WAAW,CAAC,EAAE,SAAS,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IACnR,IAAM,kCAAkCC,EAAO,IAAK,CAAC;AAAA,oBAAiCA,EAAO,IAAIT,EAAUD,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,MAAMS,EAAiB,WAAWT,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI,CAAC,EAAIS,EAAiB,WAAW,CAAC,EAAE,SAAS,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IAClR,IAAM,+FACN,IAAM,uFACV,EACA,KAAM,CAAC,EACP,UAAW,CAAC,GAAI,IAAK,IAAK,IAAK,KAAM,IAAI,EACzC,QAAS,CAAC,KAAM,EAAG,IAAK,IAAK,IAAK,GAAG,EACrC,IAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACtB,UAAW,CACf,EAAG,CACC,KAAM,CACF,sBACA,WACA,mBACA,uBACA,yBACA,iBACA,UACA,4BACA,kBACJ,EACA,WAAY,CACR,IAAM,yCACN,IAAM,qDAAqDC,EAAO,GAAI,CAAC,yBACvE,IAAM,8DACN,IAAM;AAAA,EAAsEV,EAAO,UAAU,OAAS,uBAAyB,iBAAiB,4CAChJ,IAAM;AAAA,uDAA0HU,EAAO,IAAK,CAAC,IAC7I,IAAM;AAAA,EAAyFV,EAAO,UAAU,OAAS,uBAAyB,iBAAiB,4CACnK,IAAM,CACF,IAAMW,EAAQF,EAAiB,YAAY,EACrCK,EAAO,IAAIb,EAAUD,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,GAAG,EAClE,MAAO,oGAAoGU,EAAOC,CAAK,CAAC;AAAA,UAAcD,EAAO,IAAIT,EAAUa,CAAI,EAAE,MAAMH,CAAK,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,WAAMD,EAAOI,EAAK,MAAML,EAAiB,YAAYT,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI,CAAC,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,GAC3S,EACA,IAAM,0CAA0CU,EAAO,GAAG,CAAC,IAC3D,IAAM;AAAA,EAA0DV,EAAO,UAAU,OAAS,uBAAyB,iBAAiB,wCACxI,EACA,KAAM,CAAC,EACP,UAAW,CAAC,MAAO,MAAO,KAAM,IAAK,KAAM,KAAM,KAAM,KAAM,IAAI,EACjE,QAAS,CAAC,GAAI,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,IAAK,GAAG,EACjD,IAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAC/B,UAAW,CACf,EAAG,CACC,KAAM,CACF,mBACA,cACA,sBACA,mBACA,iBACJ,EACA,WAAY,CACR,IAAM,CACF,IAAMe,EAAON,EAAiB,YAAY,EAC1C,MAAO,2CAA2CC,EAAOK,CAAI,CAAC;AAAA,gBAAkDL,EAAOK,GAAQf,EAAO,WAAW,CAAC,EAAE,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,GAC9K,EACA,IAAM,CACF,IAAMe,EAAON,EAAiB,YAAY,EAC1C,MAAO,sCAAsCC,EAAOK,CAAI,CAAC;AAAA,gBAAoBL,EAAO,IAAIT,EAAUc,CAAI,EAAE,MAAMb,EAAO,aAAa,SAAS,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,WAAMQ,EAAO,IAAIT,EAAUQ,EAAiB,YAAYT,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI,CAAC,CAAC,EAAE,MAAME,EAAO,aAAa,SAAS,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,GAClT,EACA,IAAM;AAAA,4DAAkJQ,GAAQD,EAAiB,YAAYT,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI,CAAC,EAAIS,EAAiB,YAAY,IAAMT,EAAO,WAAW,CAAC,EAAE,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IAC1S,IAAM,kIACN,IAAM,iEAAiEU,EAAOD,EAAiB,YAAY,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,GAAGT,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI,EAAI,WAAMU,EAAOD,EAAiB,YAAY,GAAOT,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,GAAK,EAAE;AAAA,gDAAoDA,EAAO,SAAS,EAAE,IAAM,EAAI,kBAAoB,EAAE,GACnX,EACA,KAAM,CAAC,EACP,UAAW,CAAC,IAAK,IAAK,IAAK,KAAM,IAAI,EACrC,QAAS,CAAC,GAAI,IAAK,KAAM,EAAG,GAAG,EAC/B,IAAK,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EACnB,UAAW,CACf,EAAG,CACC,KAAM,CACF,iBACA,gBACJ,EACA,WAAY,CACR,IAAM;AAAA,oBAAmLE,EAAO,cAAc,KAAK,CAAC,EAAE,KAAK,IAAIF,EAAO,WAAW,CAAC,EAAE,CAAC,EAAI,EAAG,CAAC,CAAC,CAAC,IAC/P,IAAM;AAAA,oBAA6KE,EAAO,cAAc,KAAK,CAAC,EAAE,KAAK,IAAI,EAAIF,EAAO,WAAW,CAAC,EAAE,CAAC,EAAG,CAAC,CAAC,CAAC,GAC7P,EACA,KAAM,CAAC,EACP,UAAW,CAAC,KAAM,IAAI,EACtB,QAAS,CAAC,IAAK,GAAG,EAClB,IAAK,CAAC,EAAG,CAAC,EACV,UAAW,CACf,CACJ,EACA,oBAAqB,CACjB,CAAC,EAA2C,CACxC,KAAM,CACF,qBACA,mBACA,YACA,eACA,SACJ,EACA,WAAY,CACR,IAAM;AAAA,kCACN,IAAM,gEAAgEU,EAAOD,EAAiB,SAAS,CAAC,CAAC,GAAGT,EAAO,gBAAgB,CAAC,EAAE,CAAC,EAAI,EAAI,cAASU,EAAOD,EAAiB,SAAST,EAAO,gBAAgB,CAAC,EAAE,CAAC,EAAI,CAAC,CAAC,CAAC,GAAK,EAAE,IAClO,IAAM;AAAA,uFACN,IAAM,CACF,IAAMW,EAAQF,EAAiB,SAAS,EACxC,MAAO,2CAA2CC,EAAOC,CAAK,CAAC;AAAA,WAAeD,EAAO,KAAK,IAAIV,EAAO,UAAU,OAAQ,CAAC,GAAKW,EAAO,CAAE,QAAS,EAAK,CAAC,CAAC,WAAMD,EAAO,KAAK,IAAIV,EAAO,UAAU,OAAQ,CAAC,GAAKS,EAAiB,SAAST,EAAO,gBAAgB,CAAC,EAAE,CAAC,EAAI,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,GAC9R,EACA,IAAM,CACF,IAAMe,EAAON,EAAiB,SAAS,EACvC,MAAO;AAAA,kBAA2GC,EAAOK,CAAI,CAAC,oBAAoBL,EAAO,IAAIT,EAAUc,CAAI,EAAE,MAAMb,EAAO,cAAc,KAAK,CAAC,CAAC,GACnN,CACJ,EACA,KAAM,CAAC,EACP,UAAW,CAAC,IAAM,KAAO,KAAO,IAAO,IAAM,EAC7C,QAAS,CAAC,EAAG,KAAO,KAAO,KAAO,CAAC,EACnC,IAAK,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EACnB,UAAW,CACf,EAAG,CACC,KAAM,CACF,uBACA,cACA,eACA,iBAEJ,EACA,WAAY,CACR,IAAM,iFACN,IAAM;AAAA,WAAwIQ,EAAOD,EAAiB,WAAW,GAAO,CAAC,EAAE,CAAC,GAAKT,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,YAAY,GAAG,EAAI,EAAI,GAAI,CAAE,QAAS,EAAK,CAAC,CAAC,IAC7Q,IAAM;AAAA,kBAAkFU,EAAOD,EAAiB,WAAW,GAAO,OAAW,CAAC,EAAE,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IACtK,IAAM,CACF,IAAMO,EAAQhB,EAAO,gBAAgB,CAAC,EAAE,CAAC,EACnCiB,EAAUjB,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,IAAIC,EAAUD,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,MAAMS,EAAiB,WAAW,CAAC,EAAE,SAAS,EAAI,EACjJS,EAASlB,EAAO,SAAS,CAAC,EAAE,CAAC,IAAM,EAAI,IAAIC,EAAUD,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,MAAMS,EAAiB,WAAW,CAAC,EAAE,SAAS,EAAI,EACtJ,MAAO,gFAAgFC,EAAO,EAAG,CAAC;AAAA,mBAAyDM,EAAQ,EAAI,GAAGN,EAAOM,EAAQ,EAAI,EAAIC,GAAWD,EAAQ,EAAIE,GAAU,GAAM,GAAI,CAAE,QAAS,EAAK,CAAC,CAAC,WAAQ,EAAE,GAAGR,EAAOO,GAAWD,EAAQ,EAAI,EAAIE,IAAWF,EAAQ,EAAI,EAAI,KAAO,CAAE,QAAS,EAAK,CAAC,CAAC,GACrW,CAEJ,EACA,KAAM,CAAC,EACP,UAAW,CAAC,KAAM,KAAM,KAAM,IAAI,EAClC,QAAS,CAAC,EAAG,EAAG,EAAG,GAAG,EACtB,IAAK,CAAC,EAAG,EAAG,EAAG,CAAC,EAChB,UAAW,CACf,EAAG,CACC,KAAM,CACF,aACA,mBACA,SACA,YACA,sBACJ,EACA,WAAY,CACR,IAAM,+CAA+CN,EAAO,GAAG,CAAC;AAAA,mBAAkCA,EAAO,KAAOV,EAAO,gBAAgB,CAAC,EAAE,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IAChK,IAAM,GAAGA,EAAO,UAAU,OAAS,uBAAyB,iBAAiB;AAAA,gBAAuFU,EAAOD,EAAiB,SAAS,CAAC,CAAC,WAAMC,EAAOD,EAAiB,SAAST,EAAO,gBAAgB,CAAC,EAAE,CAAC,EAAI,CAAC,CAAC,CAAC,IAChR,IAAM,oGACN,IAAM;AAAA,UAA6CU,EAAO,IAAIT,EAAUD,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,MAAMS,EAAiB,WAAWT,EAAO,gBAAgB,CAAC,EAAE,CAAC,EAAI,CAAC,EAAIS,EAAiB,WAAW,CAAC,EAAE,SAAS,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IAC3O,IAAM;AAAA,kBAAoFC,EAAOD,EAAiB,SAAS,CAAC,CAAC,WAAMC,EAAOD,EAAiB,SAAST,EAAO,gBAAgB,CAAC,EAAE,CAAC,EAAI,CAAC,CAAC,CAAC,GAC1M,EACA,KAAM,CAAC,EACP,UAAW,CAAC,MAAO,MAAO,KAAM,KAAM,KAAK,EAC3C,QAAS,CAAC,GAAI,IAAK,EAAG,IAAK,IAAI,EAC/B,IAAK,CAAC,GAAI,EAAG,EAAG,EAAG,CAAC,EACpB,UAAW,CACf,EAAG,CACC,KAAM,CACF,OACA,gBACA,cACJ,EACA,WAAY,CACR,IAAM;AAAA,uEACN,IAAM,kFAAkFA,EAAO,UAAU,OAAS,kCAAoC,EAAE,OAAOU,EAAOD,EAAiB,SAAS,CAAC,CAAC;AAAA,uGAA2GC,EAAO,IAAIT,EAAUQ,EAAiB,YAAY,OAAW,CAAC,EAAIA,EAAiB,YAAY,OAAW,CAAC,CAAC,EAAE,MAAMP,EAAO,aAAa,SAAS,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,KACnd,IAAM,yHAAyHQ,EAAO,EAAG,CAAC,iDAC9I,EACA,KAAM,CAAC,EACP,UAAW,CAAC,IAAK,IAAK,IAAI,EAC1B,QAAS,CAAC,KAAM,EAAG,CAAC,EACpB,IAAK,CAAC,EAAG,EAAG,CAAC,EACb,UAAW,CACf,EAAG,CACC,KAAM,CACF,6BACJ,EACA,WAAY,CACR,IAAM,iLAAiLV,EAAO,UAAU,OAAS,MAAQ,gCAAgC,UAC7P,EACA,KAAM,CAAC,EACP,UAAW,CAAC,IAAI,EAChB,QAAS,CAAC,CAAC,EACX,IAAK,CAAC,CAAC,EACP,UAAW,CACf,CACJ,EACA,mBAAoB,CAChB,KAAM,CACF,wBACJ,EACA,WAAY,CACR,IAAM,4BAA4B,CAAC,WAAY,mBAAoB,oBAAoB,EAAE,KAAK,IAAIA,EAAO,eAAe,CAAC,EAAG,CAAC,CAAC,CAAC,mDACnI,EACA,UAAW,CACP,CAAC,KAAM,KAAM,IAAI,CACrB,EACA,UAAW,CACP,CAAC,EAAG,EAAG,CAAC,CACZ,EACA,IAAK,CAAC,CAAC,CACX,EACA,QAAS,CACL,KAAM,kBACN,WAAY,IAAM,CACd,IAAMI,EAAaJ,EAAO,MAAM,OAC1BmB,EAAY,KAAK,IAAInB,EAAO,IAAII,CAAU,EAAI,EAAGF,EAAO,QAAQ,IAAIE,CAAU,CAAC,EACrF,MAAO,sBAAsBJ,EAAO,UAAUI,CAAU,EAAEe,CAAS,EAAE,QAAQ,SAAS,GAAG,EAAIjB,EAAO,cAAc,KAAKE,CAAU,EAAEe,CAAS,EAAI,WAAW;AAAA,wBAAkDT,EAAOV,EAAO,MAAM,MAAQ,EAAIA,EAAO,QAAQ,KAAK,KAAKI,CAAU,EAAI,CAAC,CAAC,+BAC1R,EACA,UAAW,CACP,CAAC,EACD,CAAC,IAAM,KAAO,IAAO,KAAO,GAAK,EACjC,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EACnC,CAAC,KAAM,KAAM,KAAM,KAAM,IAAI,EAC7B,CAAC,IAAK,KAAM,KAAM,KAAM,IAAI,EAC5B,CAAC,KAAM,KAAM,KAAK,CACtB,EACA,IAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,CAC1B,EACA,aAAc,CACV,KAAM,CACF,iBACA,eACA,aACA,cACA,gBACA,YACA,aACA,eACA,aACA,eACA,YACA,cACA,iBACA,iBACA,eACA,kBACA,cACA,gBACA,aACA,iBACA,eACA,gBACA,gBACA,gBACA,gBACA,iBACA,YACA,cACA,cACA,aACJ,EACA,WAAY,CACR,IAAM;AAAA,cAAkE,KAAK,OAAO,EAAI,GAAO,KAAK,OAAO,EAAI,GAAM,iGAAmG,8CAAiD,oEAAoE,GAC7U,IAAM,6DACN,IAAM,oEAAoEM,EAAO,EAAG,CAAC,SACrF,IAAM,+BAA+BV,EAAO,UAAU,OAAS,iCAAmC,EAAE,8CACpG,IAAM,+DAA+DU,EAAO,GAAG,CAAC,kBAChF,IAAM,kDAAkDV,EAAO,UAAU,OAAS,sCAAwC,EAAE,yCAC5H,IAAM,sEAAsEU,EAAOD,EAAiB,SAAS,CAAC,CAAC,IAC/G,IAAM,sHACN,IAAM,kFAAkFC,EAAO,GAAI,CAAC,SACpG,IAAM,qEACN,IAAM,sCAAsCV,EAAO,UAAU,OAAS,+BAAiC,EAAE,IACzG,IAAM,oEACN,IAAM,iFAAiFU,EAAOD,EAAiB,UAAU,CAAC,CAAC,IAC3H,IAAM,6EAA6EC,EAAO,GAAG,CAAC,IAC9F,IAAM,yDAAyDA,EAAO,GAAG,CAAC,wBAC1E,IAAM,8EAA8EV,EAAO,UAAU,OAAS,sCAAwC,EAAE,IACxJ,IAAM,6DACN,IAAM,sFACN,IAAM,wDACN,IAAM,8DACN,IAAM,oDACN,IAAM,qCAAqCU,EAAO,EAAG,CAAC,yBACtD,IAAM,uFACN,IAAM,kGAAkGA,EAAO,EAAG,CAAC;AAAA,oBAAwBA,EAAOV,EAAO,SAAS,MAAQ,GAAK,CAAE,QAAS,EAAK,CAAC,CAAC,IACjM,IAAM,CACF,IAAMW,EAAQF,EAAiB,UAAU,EACzC,MAAO,4EAA4EC,EAAOC,CAAK,CAAC;AAAA,mBAAuBD,EAAO,IAAIT,EAAUD,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,MAAMW,CAAK,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,GAChN,EACA,IAAM,sEACN,IAAM,sDAAsDX,EAAO,UAAU,OAAS,uBAAuBA,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,2BAA6B,EAAE,GAAK,2BAA2B;AAAA,GAAOA,EAAO,UAAU,QAAUA,EAAO,QAAQ,CAAC,EAAE,OAAS,EAAI,QAAQE,EAAO,YAAY,KAAKF,EAAO,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,wDAA0D,qCAAqC,IACra,IAAM,0GACN,IAAM,+DAA+DA,EAAO,UAAU,QAAUA,EAAO,WAAW,CAAC,EAAE,CAAC,GAAK,EAAIU,EAAO,EAAG,EAAI,GAAGA,EAAO,GAAI,CAAC,+CAA+C,IAC3M,IAAM,0HACV,EACA,UAAW,CACP,EAAG,IAAM,IAAM,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KAChD,KAAM,KAAM,KAAM,KAAM,MAAQ,KAAM,KAAM,KAAM,KAAM,KACxD,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAC1D,CACJ,EACA,gBAAiB,CACb,CAAC,EAAuC,CACpC,KAAM,CACF,oBACA,qBACA,oBACA,iBACA,sBACA,kBACA,gBACA,kBACA,uBACA,wBACJ,EACA,WAAY,CACR,IAAM,wCACN,IAAM,6DACN,IAAM,oDAAoDA,EAAO,EAAG,CAAC,IACrE,IAAM,WAAWA,EAAO,EAAG,CAAC,0BAC5B,IAAM,uGACN,IAAM;AAAA,kDAAsHV,EAAO,OAAO,CAAC,CAAC,IAC5I,IAAM;AAAA,mBAA+FU,EAAOR,EAAO,YAAY,WAAW,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IAChK,IAAM,4CACN,IAAM,6CACN,IAAM;AAAA,6DACV,EACA,KAAM,CAAC,EACP,UAAW,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAC9C,QAAS,CAAC,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACxC,IAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAClC,UAAW,CACf,EAAG,CACC,KAAM,CACF,aACA,iBACA,cACA,gBACA,yBACA,kBACA,gBACA,cACA,mBACJ,EACA,WAAY,CACR,IAAM,cAAcF,EAAO,UAAU,OAAS,UAAY,SAAS,iBACnE,IAAM,wBAAwBU,EAAO,GAAG,CAAC,eACzC,IAAM,CACF,IAAIU,EAAY,OAChB,OAAIpB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoB,EAAY,+CAC7CpB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoB,GAAa,oCAC9CpB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoB,GAAa,+BAC3C;AAAA;AAAA,mBAA+GA,CAAS,GACnI,EACA,IAAM,2DACN,IAAM,qGAAqGlB,EAAO,gBAAgB,CAAC,EAAE,IAAI,CAAC,EAAI,EAAI;AAAA,4FAAiG,EAAE,GACrP,IAAM;AAAA,kDAAqHF,EAAO,OAAO,CAAC,CAAC,IAC3I,IAAM;AAAA,mBAAuFU,EAAOR,EAAO,YAAY,WAAW,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IACxJ,IAAM;AAAA,mBAAgFQ,EAAOD,EAAiB,WAAW,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IAC9I,IAAM,CACF,IAAIW,EAAY,OAChB,OAAIpB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoB,EAAY,2DAC7CpB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoB,GAAa,uCAC9CpB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoB,GAAa,4BAC3C;AAAA;AAAA,mBAA4HA,CAAS,GAChJ,CACJ,EACA,KAAM,CAAC,EACP,UAAW,CAAC,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,IAAK,GAAI,EAC9C,QAAS,CAAC,IAAK,IAAK,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,CAAC,EACzC,IAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAC/B,UAAW,CACf,EAAG,CACC,KAAM,CACF,mBACA,qBACA,cACA,sBACA,iBACA,kBACA,yBACA,gBACA,aACA,YACJ,EACA,WAAY,CACR,IAAM,yCACN,IAAM,gEAAgEV,EAAO,GAAG,CAAC,iBACjF,IAAM,CACF,IAAIU,EAAY,OAChB,OAAIpB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoB,EAAY,6CAC7CpB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoB,GAAa,gCAC9CpB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoB,GAAa,+CAC3C;AAAA;AAAA,mBAAwHA,CAAS,GAC5I,EACA,IAAM,6CAA6CpB,EAAO,UAAU,OAAS,cAAgB,EAAE,iDAAiDU,EAAOV,EAAO,UAAU,OAAS,GAAM,EAAG,CAAC,KAC3L,IAAM,8EAA8EE,EAAO,gBAAgB,CAAC,EAAE,IAAI,CAAC,EAAI,EAAI;AAAA,+IAAoJ,EAAE,GACjR,IAAM;AAAA,kDAAqHF,EAAO,OAAO,CAAC,CAAC,IAC3I,IAAM,mCAAmC,CAAC,WAAY,mBAAoB,oBAAoB,EAAE,KAAK,IAAIA,EAAO,YAAY,CAAC,EAAE,CAAC,EAAG,CAAC,CAAC,CAAC,oDACtI,IAAM;AAAA,mBAAmGU,EAAOR,EAAO,YAAY,WAAW,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IACpK,IAAM;AAAA,wBAAsIQ,EAAO,GAAG,CAAC,mCACvJ,IAAM,2DACV,EACA,KAAM,CAAC,EACP,UAAW,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,KAAM,CAAC,EAC7C,QAAS,CAAC,IAAK,IAAK,EAAG,EAAG,IAAK,EAAG,IAAK,EAAG,EAAG,CAAC,EAC9C,IAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAClC,UAAW,CACf,EAAG,CACC,KAAM,CACF,eACA,gBACA,cACA,cACA,qBACA,kBACA,yBACA,gBACA,aACA,eACJ,EACA,WAAY,CACR,IAAM,0BAA0BA,EAAO,GAAG,CAAC,wBAC3C,IAAM,iCACN,IAAM,CACF,IAAIU,EAAY,OAChB,OAAIpB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoB,EAAY,uCAC7CpB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoB,GAAa,+BAC9CpB,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,IAAKoB,GAAa,wCAC3C;AAAA,oBAA4CA,CAAS,GAChE,EACA,IAAM,iDACN,IAAM,qFAAqFlB,EAAO,gBAAgB,CAAC,EAAE,IAAI,CAAC,EAAI,EAAI;AAAA,gEAAqE,EAAE,GACzM,IAAM;AAAA,kDAAwHF,EAAO,OAAO,CAAC,CAAC,IAC9I,IAAM;AAAA,uDAA4GE,EAAO,gBAAgB,CAAC,EAAE,IAAI,CAAC,EAAI,EAAI,iCAAmC,yCAAyC,IACrO,IAAM;AAAA,mBAA4FQ,EAAOR,EAAO,YAAY,WAAW,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IAC7J,IAAM,iFACN,IAAM;AAAA,oBAAsDF,EAAO,YAAY,CAAC,EAAE,CAAC,GAAK,EAAI,8BAAgC,MAAM,GACtI,EACA,KAAM,CAAC,EACP,UAAW,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,KAAM,IAAK,EACjD,QAAS,CAAC,IAAK,IAAK,IAAK,EAAG,IAAK,EAAG,EAAG,EAAG,IAAK,GAAG,EAClD,IAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAClC,UAAW,CACf,EAAG,CACC,KAAM,CACF,sBACA,eACA,kBACA,iBACA,kBACA,sBACA,kBACA,gBACA,gBACJ,EACA,WAAY,CACR,IAAMA,EAAO,UAAU,OAAS;AAAA,oDAA0G,GAAGE,EAAO,UAAU,KAAKF,EAAO,YAAY,CAAC,EAAE,CAAC,EAAI,CAAC,CAAC;AAAA,4CAChM,IAAM,qBAAqBE,EAAO,YAAY,KAAKF,EAAO,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQA,EAAO,UAAU,OAAS,GAAK,eAAe,iBAClI,IAAM,sEACN,IAAM;AAAA,+CACN,IAAM,kEACN,IAAMA,EAAO,UAAU,OAAS,8BAAgC;AAAA,4CAChE,IAAM;AAAA,kDAAyHA,EAAO,OAAO,CAAC,CAAC,IAC/I,IAAM;AAAA,mBAAoGU,EAAOR,EAAO,YAAY,WAAW,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IACrK,IAAM,iGAAiGA,EAAO,YAAY,KAAK,KAAK,IAAIF,EAAO,YAAY,CAAC,EAAE,CAAC,EAAGE,EAAO,gBAAgB,CAAC,EAAE,IAAI,EAAE,EAAI,CAAC,CAAC,CAAC;AAAA,wGAC7M,EACA,KAAM,CAAC,EACP,UAAW,CAAC,EAAG,GAAI,KAAM,EAAG,GAAI,GAAI,GAAI,IAAK,GAAG,EAChD,QAAS,CAAC,EAAG,EAAG,EAAG,IAAK,IAAK,EAAG,EAAG,EAAG,CAAC,EACvC,IAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAC/B,UAAW,CACf,CACJ,EACA,YAAa,CAAC,CAAC,GAAI,UAAU,EAAG,CAAC,GAAI,UAAU,EAAG,CAAC,GAAI,UAAU,EAAG,CAAC,GAAI,UAAU,EAAG,CAAC,GAAI,UAAU,EAAG,CAAC,GAAI,YAAY,CAAC,EAC1H,YAAa,GACb,gBAAiB,CAAC,GAAI,EAAE,EACxB,cAAe,CAAC,GAAI,EAAE,EACtB,cAAe,CAAC,GAAI,EAAE,EACtB,eAAgB,CACZ,CAAC,EAAsC,CACnC,KAAM,CACF,qBACA,WACJ,EACA,SAAU,CACN,IAAM,oBAAoBQ,EAAOR,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,IAAIF,EAAO,UAAU,OAAS,SAAW,QAAQ,eACnH,IAAM,6BAA6BU,EAAOR,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,GAC/E,EACA,WAAY,CACR,IAAMF,EAAO,UAAU,OAAS,qCAAqCU,EAAOR,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,WAAa;AAAA,+BAC/I,IAAMF,EAAO,UAAU,OAAS,gDAAgDU,EAAOR,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,mBAAqB,wCACnJ,EACA,KAAM,CAAC,IAAID,EAAU,OAAO,EAAG,IAAIA,EAAU,OAAO,CAAC,EACrD,OAAQ,CAAC,EAAG,CAAC,EACb,WAAY,CACR,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,EACzC,CAAC,KAAO,KAAO,KAAO,KAAO,MAAO,GAAK,CAC7C,CACJ,EAAG,CACC,KAAM,CACF,oBACA,sBACJ,EACA,SAAU,CACN,IAAM,YAAYD,EAAO,UAAU,OAAS,KAAO,MAAM,aAAaU,EAAOR,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,IAAIF,EAAO,UAAU,OAAS,SAAW,kBAAkB,IACzK,IAAM,iBAAiBU,EAAOR,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,wBACnE,EACA,WAAY,CACR,IAAMF,EAAO,UAAU,OAAS,4BAA4BU,EAAOR,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IAAM,0CAC/H,IAAMF,EAAO,UAAU,OAAS,+BAA+BU,EAAOR,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IAAM;AAAA,8BACtI,EACA,KAAM,CAAC,IAAID,EAAU,MAAM,EAAG,IAAIA,EAAU,OAAO,CAAC,EACpD,OAAQ,CAAC,EAAG,CAAC,EACb,WAAY,CACR,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EACzC,CAAC,KAAM,KAAM,KAAM,IAAM,KAAM,IAAM,GAAK,CAC9C,CACJ,EAAG,CACC,KAAM,CACF,kBACA,0BACJ,EACA,SAAU,CACN,IAAM,oBAAoBS,EAAOR,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,oBAClE,IAAM,yBAAyBQ,EAAOR,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,cAAcF,EAAO,UAAU,OAAS,qBAAuB,EAAE,GAC5I,EACA,WAAY,CACR,IAAMA,EAAO,UAAU,OAAS,qCAAqCU,EAAOR,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IAAM,gDACxI,IAAMF,EAAO,UAAU,OAAS,iDAAiDU,EAAOR,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,IAAM;AAAA,8BACrI,EACA,KAAM,CAAC,IAAID,EAAU,MAAM,EAAG,IAAIA,EAAU,IAAI,CAAC,EACjD,OAAQ,CAAC,EAAG,CAAC,EACb,WAAY,CACR,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EACzC,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAE,CAC/B,CACJ,EAAG,CACC,KAAM,CACF,eACA,gBACJ,EACA,SAAU,CACN,IAAM,YAAYD,EAAO,UAAU,OAAS,OAAS,IAAI,aAAaU,EAAOR,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,IAAIF,EAAO,UAAU,OAAS,sBAAwB,YAAY,IAChL,IAAM,eAAeU,EAAOR,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,uBACjE,EACA,WAAY,CACR,IAAMF,EAAO,UAAU,OAAS,iBAAiBU,EAAOR,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,wBAA0B,wCACxI,IAAMF,EAAO,UAAU,OAAS,6BAA6BU,EAAOR,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IAAM;AAAA,8BACpI,EACA,KAAM,CAAC,IAAID,EAAU,KAAK,EAAG,IAAIA,EAAU,KAAK,CAAC,EACjD,OAAQ,CAAC,EAAG,CAAC,EACb,WAAY,CACR,CAAC,IAAM,KAAO,KAAO,KAAO,KAAO,KAAO,MAAO,IAAK,EACtD,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAG,CAC3C,CACJ,EAAG,CACC,KAAM,CACF,oBACA,kBACJ,EACA,SAAU,CACN,IAAM,6CAA6CS,EAAOR,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,IAC3F,IAAM,QAAQQ,EAAOR,EAAO,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,8BAC1D,EACA,WAAY,CACR,IAAMF,EAAO,UAAU,OAAS,kCAAkCU,EAAOR,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,EAAG,CAAE,QAAS,EAAK,CAAC,CAAC,IAAM;AAAA,sDACrI,IAAMF,EAAO,UAAU,OAAS,4BAA4BU,EAAOR,EAAO,eAAe,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,WAAa;AAAA,8BACvH,EACA,KAAM,CAAC,IAAID,EAAU,OAAO,EAAG,IAAIA,EAAU,GAAG,CAAC,EACjD,OAAQ,CAAC,EAAG,CAAC,EACb,WAAY,CACR,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAM,IAAI,EAC/C,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAE,CAC/B,CACJ,CACJ,EACA,eAAgB,CACZ,KAAM,CACF,MACJ,EACA,YAAa,CACT;AAAA,oCACJ,EACA,WAAY,CACR,IAAM,CACF,IAAMoB,EAAWrB,EAAO,WAAW,KACnC,GAAIqB,EAAS,CAAC,EAAI,EAAK,MAAO,wEAC9B,IAAIC,EAAO;AAAA,iCACX,OAAID,EAAS,CAAC,GAAK,IAAKC,GAAQ;AAAA;AAAA,2BAAgCD,EAAS,CAAC,GAAK,EAAI,yCAAyCX,EAAO,EAAG,CAAC,YAAOA,EAAO,EAAG,CAAC;AAAA;AAAA;AAAA,gCAAyI,8BAA8B,WAC5TW,EAAS,CAAC,GAAK,IAAKC,GAAQ;AAAA;AAAA,2BAAgCD,EAAS,CAAC,GAAK,EAAI,qDAAqDX,EAAO,EAAG,CAAC;AAAA,mDAAuDA,EAAO,EAAG,CAAC,IAAM,iCAAiC,WACxPW,EAAS,CAAC,GAAK,IAAKC,GAAQ;AAAA;AAAA,iCAAsCD,EAAS,CAAC,GAAK,EAAI;AAAA,uCAAuEX,EAAO,EAAG,CAAC;AAAA,2BAAiC,mCAAmC,WAC3OW,EAAS,CAAC,GAAK,IAAKC,GAAQ;AAAA;AAAA,2BAAgCD,EAAS,CAAC,GAAK,EAAI,sDAAsDX,EAAO,EAAG,CAAC;AAAA,6CAAkD,kCAAkC,WACjOY,CACX,CACJ,EACA,SAAU,CACN,CACI,CAAC,EACD,CAAC,oBAAqB,iCAAkC,iCAAiC,EACzF,CAAC,yBAA0B,2BAA2B,EACtD,CAAC,yBAA0B,wBAAyB,sBAAuB,6BAA8B,wBAAwB,EACjI,CAAC,qBAAsB,sBAAuB,yBAA0B,sBAAsB,EAC9F,CAAC,uBAAwB,iBAAiB,CAC9C,CACJ,EACA,WAAY,CACR,CACI,CAAC,EACD,CAAC,iCAAkC,sCAAuC,2BAA2B,EACrG,CAAC,4BAA6B,iCAAiC,EAC/D,CAAC,+BAAgC,+BAAgC,+BAAgC,+BAAgC,kCAAkC,EACnK,CAAC,cAAe,wCAAyC,8BAA+B,0BAA0B,EAClH,CAAC,iCAAkC,0BAA0B,CACjE,CACJ,EACA,MAAO,CACH,YACJ,CACJ,EACA,eAAgB,CACZ,MAAO,CAAC,CACZ,CACJ,EAGaC,GAAS,CAACC,EAAgBT,IAAiB,KAAK,IAAIS,CAAM,EAAI,KAAK,IAAIT,CAAI,EAG3EU,EAAsFC,GAAsBA,EAAM,MAAM,CAAC,EAIzHC,EAAwBC,GAAkC,CACnE,GAAI,OAAOA,GAAY,UAAYA,IAAY,KAAQ,OAAOA,EAE9D,IAAIvB,EACJ,GAAI,MAAM,QAAQuB,CAAO,EAAG,CACxB,GAAIA,aAAmB3B,EAAa,OAAO,IAAIA,EAAU2B,CAAO,EAEhEvB,EAAQ,CAAC,EACT,QAASwB,EAAI,EAAGA,EAAID,EAAQ,OAAQC,IAAOxB,EAAM,KAAKsB,EAAUC,EAAQC,CAAC,CAAC,CAAC,CAC/E,KAAO,CACHxB,EAAQ,CAAC,EACT,QAAWyB,KAASF,EAAWvB,EAAMyB,CAAK,EAAIH,EAAUC,EAAQE,CAAK,CAAC,CAC1E,CACA,OAAOzB,CACX,EAGa0B,EAAc,CAAkEC,EAAgB3B,IAAsB,CAC/H,IAAMqB,EAAQ,CAAC,EACf,QAASG,EAAI,EAAGA,EAAIG,EAAQH,IACxBH,EAAM,KAAKrB,CAAK,EAEpB,OAAOqB,CACX,EAEA,QAASO,EAAI,EAAGA,EAAI/B,EAAO,cAAc,UAAU,OAAQ+B,IAAK,CAC5D/B,EAAO,cAAc,UAAU+B,CAAC,EAAI,CAAC,EACrC,QAASJ,EAAI,EAAGA,EAAI3B,EAAO,cAAc,UAAU+B,CAAC,EAAE,OAAQJ,IAC1D3B,EAAO,cAAc,UAAU+B,CAAC,EAAE,KAAK,IAAIhC,EAAU,GAAG,CAAC,CAEjE,CACA,QAAWiC,IAAe,CAAC,aAAc,kBAAmB,aAAa,EAAY,CACjF,IAAMC,EAAUjC,EAAO,GAAGgC,CAAW,MAAM,EAC3C,QAASD,EAAI,EAAGA,EAAIE,EAAQ,OAAQF,IAChCE,EAAQF,CAAC,EAAE,KAAOR,EAAWU,EAAQF,CAAC,EAAE,SAAS,CAEzD,CAEA,OAAO,OAAOjC,EAAQ,CAClB,SAAU,CACN,CAAC,EACD+B,EAAY7B,EAAO,aAAa,CAAC,EAAE,UAAU,OAAQ,CAAC,EACtD6B,EAAY7B,EAAO,aAAa,CAAC,EAAE,UAAU,OAAQ,CAAC,EACtD6B,EAAY7B,EAAO,aAAa,CAAC,EAAE,UAAU,OAAQ,CAAC,EACtD6B,EAAY7B,EAAO,aAAa,CAAC,EAAE,UAAU,OAAQ,CAAC,EACtD6B,EAAY7B,EAAO,aAAa,CAAC,EAAE,UAAU,OAAQ,CAAC,CAC1D,EACA,WAAY,CACR,CAAC,EACD6B,EAAY7B,EAAO,eAAe,CAAC,EAAE,UAAU,OAAQ,CAAC,EACxD6B,EAAY7B,EAAO,eAAe,CAAC,EAAE,UAAU,OAAQ,CAAC,EACxD6B,EAAY7B,EAAO,eAAe,CAAC,EAAE,UAAU,OAAQ,CAAC,EACxD6B,EAAY7B,EAAO,eAAe,CAAC,EAAE,UAAU,OAAQ,CAAC,EACxD6B,EAAY7B,EAAO,eAAe,CAAC,EAAE,UAAU,OAAQ,CAAC,CAC5D,EACA,gBAAiB,CACb,CAAC,EACD6B,EAAY7B,EAAO,oBAAoB,CAAC,EAAE,UAAU,OAAQ,CAAC,EAC7D6B,EAAY7B,EAAO,oBAAoB,CAAC,EAAE,UAAU,OAAQ,CAAC,EAC7D6B,EAAY7B,EAAO,oBAAoB,CAAC,EAAE,UAAU,OAAQ,CAAC,EAC7D6B,EAAY7B,EAAO,oBAAoB,CAAC,EAAE,UAAU,OAAQ,CAAC,EAC7D6B,EAAY7B,EAAO,oBAAoB,CAAC,EAAE,UAAU,OAAQ,CAAC,CACjE,EACA,eAAgB6B,EAAY7B,EAAO,mBAAmB,UAAU,OAAQ,CAAC,EACzE,IAAK6B,EAAY7B,EAAO,QAAQ,UAAU,OAAQ,CAAC,EACnD,OAAQ6B,EAAY7B,EAAO,QAAQ,UAAU,OAAQ,CAAC,EACtD,SAAU6B,EAAY7B,EAAO,aAAa,UAAU,OAAQ,CAAC,EAC7D,YAAa,CACT,CAAC,EACD6B,EAAY7B,EAAO,gBAAgB,CAAC,EAAE,UAAU,OAAQ,CAAC,EACzD6B,EAAY7B,EAAO,gBAAgB,CAAC,EAAE,UAAU,OAAQ,CAAC,EACzD6B,EAAY7B,EAAO,gBAAgB,CAAC,EAAE,UAAU,OAAQ,CAAC,EACzD6B,EAAY7B,EAAO,gBAAgB,CAAC,EAAE,UAAU,OAAQ,CAAC,EACzD6B,EAAY7B,EAAO,gBAAgB,CAAC,EAAE,UAAU,OAAQ,CAAC,CAC7D,EACA,WAAY,CACR,CAAC,EACD6B,EAAY7B,EAAO,eAAe,CAAC,EAAE,KAAK,OAAQ,CAAC,EACnD6B,EAAY7B,EAAO,eAAe,CAAC,EAAE,KAAK,OAAQ,CAAC,EACnD6B,EAAY7B,EAAO,eAAe,CAAC,EAAE,KAAK,OAAQ,CAAC,EACnD6B,EAAY7B,EAAO,eAAe,CAAC,EAAE,KAAK,OAAQ,CAAC,EACnD6B,EAAY7B,EAAO,eAAe,CAAC,EAAE,KAAK,OAAQ,CAAC,CACvD,CACJ,CAAC,EACD,OAAO,OAAOF,EAAO,QAAS,CAC1B,QAAS+B,EAAY,SAAS,uBAAuB,eAAe,EAAE,OAAQ,KAAK,EACnF,UAAW,CACP,CAAC,EACDA,EAAY/B,EAAO,UAAU,CAAC,EAAE,OAAQ,EAAK,EAC7C+B,EAAY/B,EAAO,UAAU,CAAC,EAAE,OAAQ,EAAK,EAC7C+B,EAAY/B,EAAO,UAAU,CAAC,EAAE,OAAQ,EAAK,EAC7C+B,EAAY/B,EAAO,UAAU,CAAC,EAAE,OAAQ,EAAK,EAC7C+B,EAAY/B,EAAO,UAAU,CAAC,EAAE,OAAQ,EAAK,CACjD,EACA,MAAO+B,EAAY,SAAS,uBAAuB,aAAa,EAAE,OAAQ,EAAK,EAC/E,IAAKA,EAAY,SAAS,uBAAuB,WAAW,EAAE,OAAQ,EAAK,EAC3E,KAAMA,EAAY,SAAS,uBAAuB,YAAY,EAAE,OAAQ,EAAK,CACjF,CAAC,EAGM,IAAMK,EAAcT,EAAU3B,CAAM,EAE9BqC,GAAgBC,GAA6B,CAEtD,GADIA,EAAK,SAA+B,SAAaA,EAAOA,EAAK,QAC7DA,EAAK,eAAiB,OAAa,MAAM,IAAI,eAAe,iDAAiD,EAC7GA,EAAK,UAAY,SAAaA,EAAK,QAAU,SACjDC,GAAc,EAAQD,EAAK,WAAW,MAAO,EAE7C,IAAME,EAAaF,EAAK,QACxB,GAAIE,IAAeJ,EAAY,QAAS,CA+BpC,GA9BIE,EAAK,UAAY,UACjBA,EAAK,QAAU,SACfA,EAAK,gBAAkB,CAAC,GAExBA,EAAK,UAAY,WACjBA,EAAK,QAAU,SACfA,EAAK,MAAM,OAASA,EAAK,MAAM,QAAU,GAEzCA,EAAK,UAAY,WACjBA,EAAK,QAAU,SACfA,EAAK,UAAYX,EAAUS,EAAY,SAAS,GAEhDE,EAAK,UAAY,WACjBA,EAAK,QAAU,SACf,OAAOA,EAAK,OACZ,OAAOA,EAAK,WAEZA,EAAK,UAAY,WACjBA,EAAK,QAAU,SACfA,EAAK,SAAWb,EAAWW,EAAY,QAAQ,EAC/CE,EAAK,SAAWX,EAAUS,EAAY,QAAQ,IAE9CE,EAAK,UAAY,UAAYA,EAAK,UAAY,YAC9CA,EAAK,QAAU,SACfA,EAAK,SAAWF,EAAY,SAC5BE,EAAK,QAAUX,EAAUS,EAAY,OAAO,EAC5CE,EAAK,YAAcX,EAAUS,EAAY,WAAW,EACpDE,EAAK,aAAa,MAAQ,EAC1BA,EAAK,MAAM,MAAQ,IAEnBA,EAAK,UAAY,UAAYA,EAAK,UAAY,SAAU,CACxDA,EAAK,QAAU,SACfA,EAAK,MAAM,OAAS,MACpBA,EAAK,MAAM,OAAS,KAAK,IAAIA,EAAK,MAAM,QAAS,CAAC,EAClD,IAAMG,EAAIH,EAAK,MAAM,OACfI,EAAOJ,EAAK,UAClBA,EAAK,UAAYX,EAAUS,EAAY,SAAS,EAChDE,EAAK,UAAUG,CAAC,EAAIC,EACpB,IAAMC,EAAOL,EAAK,SAClBA,EAAK,SAAWX,EAAUS,EAAY,QAAQ,EAC9CE,EAAK,SAASG,CAAC,EAAIE,EACnB,IAAMC,EAAON,EAAK,WAClBA,EAAK,WAAaX,EAAUS,EAAY,UAAU,EAClDE,EAAK,WAAWG,CAAC,EAAIG,EACrB,IAAMC,EAAOP,EAAK,gBAClBA,EAAK,gBAAkBX,EAAUS,EAAY,eAAe,EAC5DE,EAAK,gBAAgBG,CAAC,EAAII,EACtBP,EAAK,YAAY,OAAS,GAAKA,EAAK,YAAY,QAAQ,CAAC,CAAC,EAC9DA,EAAK,IAAMb,EAAWW,EAAY,GAAG,EACrCE,EAAK,WAAaX,EAAUS,EAAY,UAAU,CACtD,CAOA,IANIE,EAAK,UAAY,UAAYA,EAAK,UAAY,YAC9CA,EAAK,QAAU,SACfA,EAAK,UAAU,OAAS,EACxBA,EAAK,SAAS,QAAUA,EAAK,SAAS,KACtC,OAAOA,EAAK,UAAU,WAEtBA,EAAK,UAAY,SAAU,CAC3BA,EAAK,QAAU,SACf,QAASL,EAAI,EAAGA,EAAIK,EAAK,UAAU,OAAQL,IACvC,QAASJ,EAAI,EAAGA,EAAIS,EAAK,UAAUL,CAAC,EAAE,OAAQJ,IAAK,CAC/C,IAAMiB,EAAWR,EAAK,UAAUL,CAAC,EAAEJ,CAAC,EACpCiB,EAAS,QAAU,IAAI7C,EAAU6C,EAAS,OAAO,EACjDA,EAAS,MAAQ,IAAI7C,EAAU6C,EAAS,KAAK,EAC7CA,EAAS,UAAY,IAAI7C,EAAU6C,EAAS,KAAK,EACjDA,EAAS,QAAU,IAAI7C,EAAU6C,EAAS,OAAO,CACrD,CAEAR,EAAK,QAAQ,CAAC,EAAE,OAA6B,SAAaA,EAAK,QAAQ,CAAC,EAAE,QAAUA,EAAK,QAAQ,CAAC,EAAE,MACxGA,EAAK,QAAQ,CAAC,EAAE,MAAQA,EAAK,QAAQ,CAAC,EAAE,QACxCA,EAAK,UAAYX,EAAUS,EAAY,SAAS,EAChD,OAAOE,EAAK,aAAa,QACzB,OAAOA,EAAK,QAAQ,CAAC,EAAE,KACvBA,EAAK,KAAK,QAAU,CACxB,CAwEA,GAvEIA,EAAK,UAAY,WACjBA,EAAK,QAAU,SACfA,EAAK,MAAM,KAAO,EAClBA,EAAK,MAAM,KAAO,EAClBA,EAAK,UAAU,IAAM,EACrBA,EAAK,UAAU,UAAYA,EAAK,UAAU,OAC1CA,EAAK,aAAa,UAAY,IAAIrC,EAAUqC,EAAK,aAAa,MAAM,GAEpEA,EAAK,UAAY,WACjBA,EAAK,QAAU,SACf,OAAOA,EAAK,SAAS,SACrB,OAAOA,EAAK,SAAS,OACrB,OAAOA,EAAK,SAAS,SAErBA,EAAK,UAAY,UAAYA,EAAK,UAAY,YAC9CA,EAAK,QAAU,SACfA,EAAK,SAAS,KAAO,EACrBA,EAAK,SAAS,MAAQ,EACtBA,EAAK,QAAUX,EAAUS,EAAY,OAAO,EAC5CE,EAAK,WAAaX,EAAUS,EAAY,UAAU,EAClD,OAAOE,EAAK,KAAK,SACjB,OAAOA,EAAK,UAAU,QAEtBA,EAAK,UAAY,WACjBA,EAAK,QAAU,SACXA,EAAK,UAAU,CAAC,EAAE,OAAS,IAAKA,EAAK,UAAU,CAAC,EAAE,OAAS,GAC/D,OAAOA,EAAK,cACZ,OAAOA,EAAK,UAAU,MACtB,OAAOA,EAAK,SAAS,aAErBA,EAAK,UAAY,WACjBA,EAAK,QAAU,SACfA,EAAK,KAAK,OAASA,EAAK,UAAU,IAClCA,EAAK,KAAK,SAAWA,EAAK,UAAU,IACpCA,EAAK,KAAK,MAAQA,EAAK,MAAM,MAE7BA,EAAK,UAAY,WACjBA,EAAK,QAAU,SACfA,EAAK,QAAUX,EAAUS,EAAY,OAAO,EAC5CE,EAAK,eAAiBb,EAAWW,EAAY,cAAc,EAC3D,OAAOE,EAAK,UAAU,OAEtBA,EAAK,UAAY,WACjBA,EAAK,QAAU,SACfA,EAAK,MAAM,KAAO,EAClBA,EAAK,OAASb,EAAWa,EAAK,GAAG,EACjCA,EAAK,OAASb,EAAWW,EAAY,MAAM,EAC3C,OAAOE,EAAK,MACZ,OAAOA,EAAK,UACZ,OAAOA,EAAK,UACZ,OAAOA,EAAK,QAAQ,OACpB,OAAOA,EAAK,QAAQ,KAAK,QAGzBA,EAAK,eAAe,CAAC,EAAI,EACzBA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,EAAGA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,CAAC,EAAE,CAAC,CAAC,EACpEA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,CAAC,EAC/BA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,CAAC,EAC/BA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,CAAC,EAC/BA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,CAAC,EAC/BA,EAAK,YAAY,CAAC,EAAE,OAAO,GAAI,CAAC,EAChCA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,CAAC,EAC/BA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,EAAGA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,CAAC,EAAE,CAAC,CAAC,EACpEA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,CAAC,EAC/BA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,CAAC,EAC/BA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,CAAC,EAC/BA,EAAK,YAAY,CAAC,EAAE,OAAO,EAAG,CAAC,EAC/BA,EAAK,SAAWA,EAAK,SAAS,QAAQ,SAAU,aAAa,EAC7DA,EAAK,SAAWA,EAAK,SAAS,QAAQ,SAAU,aAAa,GAG7DA,EAAK,UAAYF,EAAY,QAC7B,MAAM,IAAI,eAAe,+CAA+C,CAEhF,CAEA,QAASH,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,QAASJ,EAAIS,EAAK,UAAUL,CAAC,EAAE,OAAQJ,EAAIO,EAAY,UAAUH,CAAC,EAAE,OAAQJ,IACxES,EAAK,UAAUL,CAAC,EAAEJ,CAAC,EAAIF,EAAUS,EAAY,UAAUH,CAAC,EAAEJ,CAAC,CAAC,EAE5DS,EAAK,QAAQ,UAAUL,CAAC,EAAE,SAAWG,EAAY,QAAQ,UAAUH,CAAC,EAAE,SACtEK,EAAK,QAAQ,UAAUL,CAAC,EAAE,OAASG,EAAY,QAAQ,UAAUH,CAAC,EAAE,QAEpE,MAAMK,EAAK,QAAQ,KAAK,KAAKL,CAAC,CAAC,IAAKK,EAAK,QAAQ,KAAK,KAAKL,CAAC,EAAI,GAEpE,QAASJ,EAAIS,EAAK,SAASL,CAAC,EAAE,OAAQJ,EAAIO,EAAY,SAASH,CAAC,EAAE,OAAQJ,IACtES,EAAK,SAASL,CAAC,EAAEJ,CAAC,EAAI,EAE1B,QAASA,EAAIS,EAAK,WAAWL,CAAC,EAAE,OAAQJ,EAAIO,EAAY,WAAWH,CAAC,EAAE,OAAQJ,IAC1ES,EAAK,WAAWL,CAAC,EAAEJ,CAAC,EAAI,EAE5B,QAASA,EAAIS,EAAK,gBAAgBL,CAAC,EAAE,OAAQJ,EAAIO,EAAY,gBAAgBH,CAAC,EAAE,OAAQJ,IACpFS,EAAK,gBAAgBL,CAAC,EAAEJ,CAAC,EAAI,EAE7BS,EAAK,IAAIL,CAAC,IAAM,SAChBK,EAAK,IAAIL,CAAC,EAAI,EACdK,EAAK,OAAOL,CAAC,EAAI,GAGrB,QAASJ,EAAIS,EAAK,YAAYL,CAAC,EAAE,OAAQJ,EAAIO,EAAY,YAAYH,CAAC,EAAE,OAAQJ,IAC5ES,EAAK,YAAYL,CAAC,EAAEJ,CAAC,EAAI,EAE7B,QAASA,EAAIS,EAAK,WAAWL,CAAC,EAAE,OAAQJ,EAAIO,EAAY,WAAWH,CAAC,EAAE,OAAQJ,IAC1ES,EAAK,WAAWL,CAAC,EAAEJ,CAAC,EAAI,CAEhC,CACA,QAASA,EAAIS,EAAK,QAAQ,OAAQT,EAAIO,EAAY,QAAQ,OAAQP,IAC9DS,EAAK,QAAQT,CAAC,EAAIF,EAAUS,EAAY,QAAQP,CAAC,CAAC,EAGtD,QAASA,EAAIS,EAAK,eAAe,OAAQT,EAAIO,EAAY,eAAe,OAAQP,IAC5ES,EAAK,eAAeT,CAAC,EAAI,EAE7B,QAASA,EAAIS,EAAK,SAAS,OAAQT,EAAIO,EAAY,SAAS,OAAQP,IAChES,EAAK,SAAST,CAAC,EAAI,EAGvB,QAASA,EAAIS,EAAK,QAAQ,QAAQ,OAAQT,EAAIO,EAAY,QAAQ,QAAQ,OAAQP,IAC9ES,EAAK,QAAQ,QAAQT,CAAC,EAAI,MAE1BS,EAAK,QAAQ,MAAM,SAAWF,EAAY,QAAQ,MAAM,SACxDE,EAAK,QAAQ,MAAM,OAASF,EAAY,QAAQ,MAAM,QAEtDE,EAAK,QAAQ,IAAI,SAAWF,EAAY,QAAQ,IAAI,SACpDE,EAAK,QAAQ,IAAI,OAASF,EAAY,QAAQ,IAAI,QAElDE,EAAK,QAAQ,KAAK,SAAWF,EAAY,QAAQ,KAAK,SACtDE,EAAK,QAAQ,KAAK,OAASF,EAAY,QAAQ,KAAK,QAGpDE,EAAK,OAAO,SAAWF,EAAY,OAAO,SAAUE,EAAK,OAAO,OAASF,EAAY,OAAO,QAGhGE,EAAK,aAAa,OAAS,IAAIrC,EAAUqC,EAAK,aAAa,MAAM,EACjEA,EAAK,aAAa,UAAY,IAAIrC,EAAUqC,EAAK,aAAa,SAAS,EACvE,QAASL,EAAI,EAAGA,EAAIK,EAAK,UAAU,OAAQL,IACvC,QAASJ,EAAI,EAAGA,EAAIS,EAAK,UAAUL,CAAC,EAAE,OAAQJ,IAAK,CAC/C,IAAMiB,EAAWR,EAAK,UAAUL,CAAC,EAAEJ,CAAC,EACpCiB,EAAS,QAAU,IAAI7C,EAAU6C,EAAS,OAAO,EACjDA,EAAS,MAAQ,IAAI7C,EAAU6C,EAAS,KAAK,EAC7CA,EAAS,UAAY,IAAI7C,EAAU6C,EAAS,SAAS,EACrDA,EAAS,QAAU,IAAI7C,EAAU6C,EAAS,OAAO,CACrD,CAGJ,OAAO,OAAO9C,EAAQsC,CAAI,EAG1BpC,EAAO,MAAM,QAAU,GACvBA,EAAO,MAAM,WAAa,GAC1BA,EAAO,MAAM,UAAY,GAEzBA,EAAO,iBAAiB,UAAY,EACpCA,EAAO,iBAAiB,UAAY,EACpC,IAAM6C,EAAQ/C,EAAO,UAAU,CAAC,EAChCE,EAAO,aAAa,UAAY6C,EAAM,CAAC,EAAE,KAAOA,EAAM,CAAC,EAAE,KAAOA,EAAM,CAAC,EAAE,KAAOA,EAAM,CAAC,EAAE,KAAOA,EAAM,CAAC,EAAE,KACzG7C,EAAO,eAAe,MAAQF,EAAO,QAAQ,MAAM,KAC/CA,EAAO,UAAU,QACjBA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAASA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,OAAO,eAAe,EAC9FA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAASA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,SAAS,gBAAgB,EACjGA,EAAO,OAAO,CAAC,EAAI,KAEnBA,EAAO,eAAe,CAAC,EAAIA,EAAO,YAAY,CAAC,EAAE,CAAC,EAC9CA,EAAO,UAAU,OAAS,GAAKA,EAAO,UAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,SAAS,WAAW,EACtFgD,GAAqB,GAErBhD,EAAO,MAAM,QAAU,GAAKA,EAAO,SAAS,EAAE,IAAM,IAAKA,EAAO,SAAS,EAAE,EAAI,GAEnF,QAASiC,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,IAAMgB,EAAcjD,EAAO,YAAYiC,CAAC,EAClCiB,EAAiBhD,EAAO,gBAAgB+B,CAAC,EAAE,IACjD,QAASJ,EAAI,EAAGA,EAAI3B,EAAO,gBAAgB+B,CAAC,EAAE,UAAWJ,IACrDsB,EAAkBtB,EAAGI,EAAG,aAAa,EACjCgB,EAAYpB,CAAC,EAAIqB,EAAerB,CAAC,IACjCoB,EAAYpB,CAAC,EAAIqB,EAAerB,CAAC,EACjCuB,EAAuBvB,EAAGI,EAAG,aAAa,GAGlD,QAASJ,EAAI,EAAGA,EAAIO,EAAY,WAAWH,CAAC,EAAE,OAAQJ,IAClDwB,GAA8BxB,EAAGI,CAAC,EAGtC,IAAMqB,EAAQtD,EAAO,gBAAgBiC,CAAC,EAChCsB,EAAWrD,EAAO,oBAAoB+B,CAAC,EAAE,IAC/C,QAASJ,EAAI,EAAGA,EAAI3B,EAAO,oBAAoB+B,CAAC,EAAE,UAAWJ,IACzDsB,EAAkBtB,EAAGI,EAAG,iBAAiB,EACrCqB,EAAMzB,CAAC,EAAI0B,EAAS1B,CAAC,IACrByB,EAAMzB,CAAC,EAAI0B,EAAS1B,CAAC,GAG7B,IAAM2B,EAAaxD,EAAO,WAAWiC,CAAC,EAChCwB,EAAgBvD,EAAO,eAAe+B,CAAC,EAAE,IAC/C,QAASJ,EAAI,EAAGA,EAAI3B,EAAO,eAAe+B,CAAC,EAAE,UAAWJ,IACpDsB,EAAkBtB,EAAGI,EAAG,YAAY,EAChCuB,EAAW3B,CAAC,EAAI4B,EAAc5B,CAAC,IAC/B2B,EAAW3B,CAAC,EAAI4B,EAAc5B,CAAC,GAGvCsB,EAAkB,EAAGlB,EAAG,KAAK,CACjC,CACA,QAASJ,EAAI,EAAGA,EAAIO,EAAY,eAAe,OAAQP,IACnDsB,EAAkBtB,EAAG,EAAG,gBAAgB,EAG5C6B,GAAmB,EACnBC,GAAc,EAAI,EAClBC,GAAa,EAGZC,EAAM,mBAAmB,EAAuB,MAAQ7D,EAAO,SAC/D6D,EAAM,YAAY,EAAuB,MAAQnD,EAAOV,EAAO,MAAM,MAAO,CAAE,KAAM,OAAQ,CAAC,EAC7F6D,EAAM,mBAAmB,EAAuB,MAAQnD,EAAOV,EAAO,aAAa,MAAO,CAAE,KAAM,OAAQ,CAAC,EAC3G6D,EAAM,oBAAoB,EAAuB,MAAQnD,EAAOV,EAAO,SAAS,MAAO,CAAE,KAAM,OAAQ,CAAC,EACxG6D,EAAM,iBAAiB,EAAuB,MAAQ,GAAG7D,EAAO,QAAQ,MAAM,MAAM,CAAC,CAAC,GACtF6D,EAAM,iBAAiB,EAAuB,MAAQ,GAAG7D,EAAO,QAAQ,MAAM,MAAM,CAAC,CAAC,GACvF,QAAS6B,EAAI,EAAGA,EAAIO,EAAY,QAAQ,QAAQ,OAAQP,IAAOiC,GAAcjC,CAAC,EAC9E,QAASA,EAAI,EAAGA,EAAIO,EAAY,QAAQ,MAAM,OAAQP,IAAOkC,EAAWlC,EAAG,OAAO,EAClF,QAASA,EAAI,EAAGA,EAAIO,EAAY,QAAQ,IAAI,OAAQP,IAAOkC,EAAWlC,EAAG,KAAK,EAC9E,QAASA,EAAI,EAAGA,EAAIO,EAAY,QAAQ,KAAK,OAAQP,IAAOkC,EAAWlC,EAAG,MAAM,EAChF,OAACgC,EAAM,aAAa,EAAuB,MAAQnD,EAAOV,EAAO,QAAQ,KAAK,MAAO,CAAE,KAAM,OAAQ,CAAC,EAE/FwC,CACX,EAEawB,GAAmB,IAAM,CAC9BH,EAAM,mBAAoB,EAAI,IAAM,OAExCA,EAAM,aAAa,EAAE,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA2BjCI,EAAY,WAAW,aAAe,wqBACtCJ,EAAM,kBAAkB,EAAE,iBAAiB,QAAS,IAAM,CAAEA,EAAM,aAAa,EAAE,MAAM,QAAU,MAAQ,CAAC,EAC9G,EChrDO,IAAMK,GAAgBC,GAAyB,CAClD,GAAIA,EAAM,OAAS,MAAO,CACtB,SAAS,KAAK,UAAU,IAAI,gBAAgB,EAC5C,MACJ,KAAO,CACH,IAAMC,EAAc,SAAS,eAAoC,KACjE,GAAIA,IAAe,QAAUA,IAAe,SAAY,OACxD,SAAS,KAAK,UAAU,OAAO,gBAAgB,CACnD,CACA,GAAIC,EAAO,OAAU,OACrB,GAAM,CAAE,IAAAC,EAAK,KAAAC,CAAK,EAAIJ,EAClB,CAAE,SAAAK,CAAS,EAAIL,EAGnB,GADIK,IAAYH,EAAO,QAAQ,MAAQ,IACnCF,EAAM,QAAS,CACfE,EAAO,QAAQ,KAAO,GACtB,MACJ,CACA,GAAIF,EAAM,OAAU,OAEpB,IAAMM,EAAY,OAAOF,EAAK,MAAM,EAAE,CAAC,EACvC,GAAK,MAAME,CAAS,GAab,GAAIH,EAAI,SAAW,EAAG,CACzB,IAAMI,GAAaC,EAAW,QAAQ,CAAC,EAAIL,EAAMC,EAAK,QAAQ,MAAO,EAAE,GAAG,YAAY,EAClFC,EACIE,IAAc,KACdE,EAAW,EAAG,YAAa,EAAI,EAG/BF,IAAc,IACdG,GAAO,EACAH,IAAc,KACrBP,EAAM,eAAe,EAChBW,GAAS,GACPJ,IAAc,IAChBK,GAAgB,EACdL,IAAc,IACjBL,EAAO,UAAU,UAAU,SAAS,CAAC,GAAUW,GAAoB,EAChEN,IAAc,IACjBL,EAAO,UAAU,UAAU,SAAS,CAAC,GAAUY,GAAuB,EACnEP,IAAc,IACjBL,EAAO,UAAU,UAAU,SAAS,CAAC,GAAUa,GAAe,EAC3DR,IAAc,KACjBL,EAAO,UAAU,UAAU,SAAS,CAAC,GAAUc,GAAmB,CAGlF,SAAWb,IAAQ,aAAeA,IAAQ,aAAc,CACpD,GAAIH,EAAM,OAAU,OACpB,GAAIK,EAAU,CACV,IAAMY,EAAYf,EAAO,UAAU,UACnC,GAAIe,EAAU,SAAW,EAAK,OAC9B,IAAIC,EAAQD,EAAU,QAAQE,EAAO,MAAM,MAAM,EAE7ChB,IAAQ,aACJe,GAAS,EACTA,EAAQD,EAAU,OAAS,EACtBC,IACTE,GAAYH,EAAUC,CAAK,CAAC,IAExBA,GAASD,EAAU,OAAS,EAC5BC,EAAQ,EACHA,IACTE,GAAYH,EAAUC,CAAK,CAAC,EAEpC,KAAO,CACH,IAAMG,EAAOnB,EAAO,QAAQ,KACxBgB,EAAQG,EAAK,QAAQnB,EAAO,GAAG,EAEnC,GAAIC,IAAQ,YAAa,CACrB,GACQe,GAAS,EACTA,EAAQG,EAAK,OAAS,EACjBH,UACJ,CAACI,GAASD,EAAKH,CAAK,CAAC,GAC9BK,EAAUF,EAAKH,CAAK,CAAC,CACzB,KAAO,CACH,GACQA,GAASG,EAAK,OAAS,EACvBH,EAAQ,EACHA,UACJ,CAACI,GAASD,EAAKH,CAAK,CAAC,GAC9BK,EAAUF,EAAKH,CAAK,CAAC,CACzB,CACJ,CACJ,SAAWf,IAAQ,aAAeA,IAAQ,UAAW,CACjD,IAAMqB,EAAStB,EAAO,OAAO,GAAGA,EAAO,GAAG,SAA0B,EACpE,GAAIG,GAAYL,EAAM,QAAUwB,IAAW,OAAa,OACxD,IAAMC,EAAUvB,EAAO,QAAQ,GAAGA,EAAO,GAAc,SAAS,EAC5DgB,EAAQO,EAAQ,QAAQD,CAAM,EAElC,GAAIrB,IAAQ,YAAa,CACrB,GACQe,GAAS,EACTA,EAAQO,EAAQ,OAAS,EACpBP,UACJ,CAACI,GAASpB,EAAO,IAAKuB,EAAQP,CAAK,CAAC,GAC7CK,EAAUrB,EAAO,IAAKuB,EAAQP,CAAK,CAAC,CACxC,KAAO,CACH,GACQA,GAASO,EAAQ,OAAS,EAC1BP,EAAQ,EACHA,UACJ,CAACI,GAASpB,EAAO,IAAKuB,EAAQP,CAAK,CAAC,GAC7CK,EAAUrB,EAAO,IAAKuB,EAAQP,CAAK,CAAC,CACxC,CACJ,MAhGuB,CACnB,GAAI,MAAM,OAAOf,CAAG,CAAC,EAAG,CACpB,GAAIC,IAAS,IAAMA,EAAK,CAAC,IAAM,IAAO,OACjCC,IACDA,EAAW,GACXL,EAAM,eAAe,EAE7B,CAEA,GAAIK,EAAU,CACV,GAAIL,EAAM,OAAU,OACpBS,EAAWH,EAAW,YAAa,EAAI,CAC3C,MAASoB,GAAYpB,CAAS,CAClC,CAoFJ,ECrHO,IAAMqB,EAAQ,CAACC,EAAYC,EAAU,KAAuB,CAC/D,IAAMC,EAAOC,EAAY,MAAM,MAAM,IAAIH,CAAE,EAC3C,GAAIE,IAAS,OAAa,OAAOA,EAEjC,IAAME,EAAQ,SAAS,eAAeJ,CAAE,EACxC,GAAII,IAAU,KACV,OAAAD,EAAY,MAAM,MAAM,IAAIH,EAAII,CAAK,EAC9BA,EAGX,GAAIH,EAAW,OAAO,KACtB,MAAII,EAAO,MAAM,UACbA,EAAO,MAAM,QAAU,GACvBC,EAAO,4BAA4BN,CAAE,iBAAiB,EACtD,WAAW,IAAM,CAAEK,EAAO,MAAM,QAAU,EAAM,EAAG,GAAG,GAEpD,IAAI,eAAe,SAASL,CAAE,iBAAiB,CACzD,EAEaO,GAAYP,GAAe,CAAEG,EAAY,MAAM,SAAS,OAAOH,CAAE,CAAG,EAGpEQ,GAAYC,GAAwD,CAC7E,IAAMP,EAAOC,EAAY,MAAM,SAAS,IAAIM,CAAY,EACxD,GAAIP,IAAS,OAAa,OAAOA,EAEjC,IAAME,EAAQ,SAAS,uBAAuBK,CAAY,EAC1D,OAAAN,EAAY,MAAM,SAAS,IAAIM,EAAcL,CAAK,EAC3CA,CACX,EAIaM,EAAYC,GAA+B,CACpD,IAAMT,EAAOC,EAAY,MAAM,SAAS,IAAIQ,CAAK,EACjD,GAAIT,IAAS,OAAa,OAAOA,EAEjC,IAAME,EAAQ,SAAS,cAAcO,CAAK,EAC1C,GAAIP,IAAU,KACV,OAAAD,EAAY,MAAM,SAAS,IAAIQ,EAAOP,CAAK,EACpCA,EAGX,MAAIC,EAAO,MAAM,aACbA,EAAO,MAAM,WAAa,GAC1BC,EAAO,+BAA+BK,CAAK,2BAA2B,EACtE,WAAW,IAAM,CAAEN,EAAO,MAAM,WAAa,EAAM,EAAG,GAAG,GAEvD,IAAI,eAAe,YAAYM,CAAK,UAAU,CACxD,EAEMC,GAAoB,IAAc,CACpC,IAAMC,EAAOC,EAAO,KACdC,EAAU,KAAK,IAAI,EACnBC,GAAeD,EAAUF,EAAK,SAAW,IAC/C,OAAAA,EAAK,QAAUE,EACfF,EAAK,QAAU,KAAK,IAAIA,EAAK,QAAUG,EAAaC,GAAe,CAAC,EACpEH,EAAO,MAAM,OAAS,KAAK,IAAIA,EAAO,MAAM,OAASE,EAAa,KAAK,EAChEA,CACX,EAEaE,EAAkB,IAAM,CACjC,IAAMC,EAAcd,EAAO,YACrBe,EAAYC,EAAW,UACvBC,EAASjB,EAAO,OAEtB,cAAcc,EAAY,IAAI,EAC9B,cAAcA,EAAY,OAAO,EACjC,cAAcA,EAAY,MAAM,EAChC,cAAcA,EAAY,QAAQ,EAClCA,EAAY,KAAOG,EAAS,OAAY,YAAYC,GAAYH,EAAU,IAAI,EAC9ED,EAAY,QAAUG,EAAS,OAAY,YAAYE,EAAeJ,EAAU,OAAO,EACvFD,EAAY,OAASG,EAAS,OAAY,YAAYG,GAAcL,EAAU,MAAM,EACpFD,EAAY,SAAWG,EAAS,OAAY,YAAYI,GAAUN,EAAU,QAAQ,CACxF,EAEMM,GAAW,MAAMC,EAAa,KAAkC,CAClE,GAAItB,EAAO,OACP,OAAAC,EAAO,gCAAgC,EAChC,KAEX,GAAI,CACAQ,EAAO,QAAQ,MAAM,KAAOT,EAAO,eAAe,MAAM,MAAM,EAAGS,EAAO,QAAQ,MAAM,MAAM,CAAC,CAAC,EAE9F,IAAMc,EAAO,KAAK,KAAK,UAAUd,CAAM,CAAC,EACxC,OAAKa,IACD,aAAa,QAAQ,OAAQC,CAAI,EACjC,cAAcvB,EAAO,YAAY,QAAQ,EACzCA,EAAO,YAAY,SAAW,YAAYqB,GAAUL,EAAW,UAAU,QAAQ,EACjFtB,EAAM,SAAS,EAAE,YAAc,QAC/BM,EAAO,SAAW,GAEfuB,CACX,OAASC,EAAO,CAAOC,EAAM;AAAA,eAAqCD,CAAK,GAAG,CAAG,CAC7E,OAAO,IACX,EACME,GAAYH,GAAiB,CAC/B,GAAIvB,EAAO,OAAU,OAAOC,EAAO,iCAAiC,EACpED,EAAO,OAAS,GAChBa,EAAgB,EAChB,GAAI,CACA,IAAMc,EAAeC,GAAa,KAAK,MAAM,KAAKL,CAAI,CAAC,CAAC,EAExDvB,EAAO,SAAWO,GAAkB,EACpCN,EAAO,gBAAgB4B,EAAO7B,EAAO,SAAU,CAAE,KAAM,OAAQ,QAAS,EAAM,CAAC,CAAC,8BAA8B2B,CAAY,EAAE,EAC5HG,EAAY,QAAQ,CACxB,OAASN,EAAO,CAAOC,EAAM;AAAA,eAA4CD,CAAK,GAAG,CAAG,CACpFxB,EAAO,OAAS,GAChBa,EAAgB,CACpB,EACMkB,GAAiB,SAAW,CAC9B,GAAItB,EAAO,MAAM,SAAWA,EAAO,UAAU,OAAS,EAAI,IAAMA,EAAO,MAAM,OAAS,EAAG,CACrF,IAAMuB,EAAavB,EAAO,YAAY,CAAC,EAAE,CAAC,EACpCwB,EAAaC,GAAiB,EAEhCC,EACAH,GAAc,GACdG,EAAc1B,EAAO,MAAM,OAASwB,EAAa,MAAQ,MAAQD,EACjEvB,EAAO,MAAM,OAAS,IAEtB0B,EAAc,KAAK,MAAM1B,EAAO,MAAM,OAASwB,EAAa,KAAK,EACjExB,EAAO,MAAM,QAAU0B,EAAc,MAAQF,GAEjDxB,EAAO,QAAQuB,CAAU,EAAE,SAAWG,EACtC1B,EAAO,QAAQuB,CAAU,EAAE,OAASG,EAChCH,IAAe,GAAKI,GAAmB,CAC/C,CAEA,IAAMb,EAAO,MAAMF,GAAS,EAAI,EAChC,GAAIE,IAAS,KAAQ,OACrB,IAAMc,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAO,mBAAmBd,CAAI,GAChCc,EAAE,SAAWC,GAAwB,EACrCD,EAAE,MAAM,CACZ,EACME,GAAc,SAAW,CAC3B,IAAMC,EAAQ,MAAMC,GAAO;AAAA;AAAA;AAAA;AAAA;AAAA,2CAA+M,EAC1O,GAAID,IAAU,MAAQA,IAAU,GAAM,OACtC,IAAME,EAAQF,EAAM,YAAY,EAEhC,GAAIE,IAAU,OAAQ,CAClB,IAAMnB,EAAO,MAAMF,GAAS,EAAI,EAC5BE,IAAS,MAAa,UAAU,UAAU,UAAUA,CAAI,CAChE,SAAWmB,IAAU,UAAYA,IAAU,SAAWA,IAAU,QACxDA,IAAU,SACV,aAAa,WAAW,MAAM,EACvBA,IAAU,QACjB,aAAa,WAAW,qBAAqB,EACxC,aAAa,MAAM,EAC5B,OAAO,SAAS,OAAO,EAClBjB,EAAM,sBAAsB,UAC1Be,IAAU,UACjBxB,EAAW,cAAgB,CAACA,EAAW,cACvCf,EAAO,qBAAqBe,EAAW,cAAgB,MAAQ,WAAW,SAAS,EACnF2B,GAAmB,UACZD,IAAU,cACjBzC,EAAO,4BAA4B,UAC5ByC,IAAU,QAAUA,IAAU,OACrCzC,EAAO,gCAAgC,UAChCyC,IAAU,cAAgBA,IAAU,WAC3CzC,EAAO,GAAGD,EAAO,aAAa,WAAW,CAAC,EAAE,EAAE,QAAQ,OAAQ,UAAU,CAAC,EAAE,MACxE,CACH,GAAIwC,EAAM,OAAS,GAAM,OAAO,KAAKf,EAAM,UAAUe,CAAK,0BAA0B,EACpF,GAAI,CAAC,MAAMI,EAAQ;AAAA,oCAAmF,EAAK,OAC3GlB,GAASc,CAAK,CAClB,CACJ,EAEMK,GAAqB,IAAM,CAC7B,IAAMC,EAAQpD,EAAM,mBAAmB,EACjCqD,EAAWD,EAAM,MAAM,SAAW,EAAIE,EAAY,SAAWF,EAAM,MAAM,WAAW,gBAAiB,GAAG,EAE9G,GAAI,CACA,KAAKC,CAAQ,EACbtC,EAAO,SAAWsC,EAClBD,EAAM,MAAQC,CAClB,OAASvB,EAAO,CACPC,EAAM;AAAA,eAA+CD,CAAK,GAAG,CACtE,CACJ,EACMc,GAA0B,IAAc,CAC1C,IAAIW,EAAWxC,EAAO,SAEhByC,EAAO,IAAI,KACXC,EAAYF,EAAS,QAAQ,OAAO,EAC1C,GAAIE,GAAa,EAAG,CAChB,IAAMC,EAAWH,EAAS,QAAQ,IAAKE,EAAY,CAAC,EACpD,GAAIC,GAAY,EAAG,CACf,IAAIC,EAAWJ,EAAS,UAAUE,EAAY,EAAGC,CAAQ,EACnDE,EAAU,CACZ,IACA,IACA,GACJ,EACMC,EAAc,CAChB,GAAGL,EAAK,YAAY,CAAC,GACrB,GAAGA,EAAK,SAAS,EAAI,CAAC,GAAG,SAAS,EAAG,GAAG,EACxC,GAAGA,EAAK,QAAQ,CAAC,GAAG,SAAS,EAAG,GAAG,CACvC,EACA,QAASM,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,IAChCH,EAAWA,EAAS,QAAQC,EAAQE,CAAC,EAAGD,EAAYC,CAAC,CAAC,EAE1DP,EAAWA,EAAS,QAAQA,EAAS,UAAUE,EAAWC,EAAW,CAAC,EAAGC,CAAQ,CACrF,CACJ,CACA,IAAMI,EAAYR,EAAS,QAAQ,OAAO,EAC1C,GAAIQ,GAAa,EAAG,CAChB,IAAML,EAAWH,EAAS,QAAQ,IAAKQ,EAAY,CAAC,EACpD,GAAIL,GAAY,EAAG,CACf,IAAIC,EAAWJ,EAAS,UAAUQ,EAAY,EAAGL,CAAQ,EACnDE,EAAU,CACZ,IACA,IACA,GACJ,EACMC,EAAc,CAChB,GAAGL,EAAK,SAAS,CAAC,GAAG,SAAS,EAAG,GAAG,EACpC,GAAGA,EAAK,WAAW,CAAC,GAAG,SAAS,EAAG,GAAG,EACtC,GAAGA,EAAK,WAAW,CAAC,GAAG,SAAS,EAAG,GAAG,CAC1C,EACA,QAASM,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,IAChCH,EAAWA,EAAS,QAAQC,EAAQE,CAAC,EAAGD,EAAYC,CAAC,CAAC,EAE1DP,EAAWA,EAAS,QAAQA,EAAS,UAAUQ,EAAWL,EAAW,CAAC,EAAGC,CAAQ,CACrF,CACJ,CAEA,IAAMC,EAAU,CACZ,UACA,SACA,YACA,WACA,UACJ,EACMC,EAAc,CAChBvD,EAAO,UAAU,KAAKS,EAAO,MAAM,MAAM,EACzCT,EAAO,UAAU,KAAKS,EAAO,MAAM,IAAI,EACvC,GAAGT,EAAO,YAAY,KAAKS,EAAO,MAAM,MAAM,CAAC,GAC/C,GAAGT,EAAO,YAAY,KAAKS,EAAO,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,GACpD,GAAGA,EAAO,UAAU,MAAM,EAC9B,EACA,QAAS+C,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,IAChCP,EAAWA,EAAS,QAAQK,EAAQE,CAAC,EAAGD,EAAYC,CAAC,CAAC,EAE1D,MAAO,GAAGP,CAAQ,MACtB,EAGMS,EAAkBC,GAAsB,CACtC3D,EAAO,YAAY,cAAgB,SACvCA,EAAO,YAAY,YAAc,WAAW,IAAM,CAC9CA,EAAO,YAAY,YAAc,YAAY2D,EAAQ,EAAE,CAC3D,EAAG,GAAG,EACV,EACMC,GAAe,IAAM,CACvB,cAAc5D,EAAO,YAAY,WAAW,EAC5CA,EAAO,YAAY,YAAc,MACrC,EAEM6D,GAAgB,CAACC,EAAeC,IAAgG,CAC9HtD,EAAO,QAAQ,MAAM,CAAC,GAAKA,EAAO,MAAM,MAAQ,GAAKuD,EAAYF,EAAOrD,EAAO,MAAM,OAAQsD,CAAI,EACjGA,IAAS,WACT/D,EAAO,YAAc8D,EAChB9D,EAAO,YAAYS,EAAO,MAAM,MAAM,EAAI,CAACqD,EAAOC,CAAI,EAC/DE,GAAsBH,EAAOC,CAAI,CACrC,EACMG,GAAmB,CAACJ,EAAeK,EAAoBJ,IAAuC,CAC5FA,IAAS,cACT/D,EAAO,gBAAkB,CAAC8D,EAAOK,CAAU,EACtCnE,EAAO,cAAgB,CAAC8D,EAAOK,CAAU,EAClDC,GAA0BN,EAAOK,EAAYJ,CAAI,CACrD,EACMM,GAAiB,CAACP,EAAeC,IAAiC,CAChEA,IAAS,aACT/D,EAAO,cAAc,CAAC,EAAI8D,EAC1BQ,GAAwBR,CAAK,IAE7B9D,EAAO,cAAc,CAAC,EAAI8D,EAC1BS,GAAmBT,CAAK,EAEhC,EAEaU,GAAS,IAAM,CACxB,IAAMC,EAAShE,EAAO,MAAM,OAC5B,QAAS+C,EAAI,EAAGA,EAAI1D,EAAY,gBAAiB0D,IAC7CkB,GAAYlB,EAAGiB,EAAQ,CAAC,CAEhC,EAEaE,GAAW,SAAW,CAC/B,GAAI3E,EAAO,OAAU,OAAOC,EAAO,iCAAiC,EACpE,IAAM2E,EAAUnE,EAAO,KAAK,QAC5B,GAAImE,EAAU,GAAM,OAAO,KAAKnD,EAAM,mDAAmD,EACzF,IAAIoD,EAAmBpE,EAAO,MAAM,KAAO,EAAK,MAAMmC,EAAQ;AAAA,sBAA8Cf,EAAO+C,EAAS,CAAE,KAAM,OAAQ,QAAS,EAAM,CAAC,CAAC,GAAG,EAAIA,EAAU,EAC1K,KAAK,IAAI,OAAO,MAAMnC,GAAO;AAAA,sBAAkDZ,EAAO+C,EAAS,CAAE,OAAQ,CAAE,CAAC,CAAC;AAAA,+IAA4J,MAAM,CAAC,EAAGA,CAAO,EAC9R,GAAIC,EAAW,IAAM,CAAC,SAASA,CAAQ,EAAK,OAAOA,EAAW,EAAI,KAAKpD,EAAM,kCAAkC,EAAI,OACnH,GAAIoD,EAAWD,EAAS,CACpB,IAAME,EAAS,KAAK,IAAID,EAAU,IAAI,EAClCA,EAAWC,GAAUF,EACrBC,EAAWD,EACNnE,EAAO,KAAK,SAAWqE,CACpC,CAEA9E,EAAO,OAAS,GAChBa,EAAgB,EAChBnB,EAAM,WAAW,EAAE,MAAM,QAAU,OACnCA,EAAM,UAAU,EAAE,MAAM,QAAU,GAClCA,EAAM,SAAS,EAAE,MAAM,QAAU,GACjCqF,GAASF,CAAQ,EACjBpE,EAAO,KAAK,SAAWoE,CAC3B,EACME,GAAW,CAACF,EAAkBG,EAAQH,IAAa,CACrD,IAAMrE,EAAO,KAAK,IAAI,IAAKqE,CAAQ,EACnCA,GAAYrE,EACZ,GAAI,CACAU,GAAWV,CAAI,CACnB,OAASgB,EAAO,CACZ,OAAAyD,GAAQ,EACD,KAAKxD,EAAM;AAAA,EAA8BD,CAAK,EAAE,CAC3D,CACIqD,EAAW,GACX,WAAWE,GAAU,EAAGF,EAAUG,CAAK,EACvCtF,EAAM,aAAa,EAAE,YAAcmC,EAAOgD,EAAU,CAAE,KAAM,MAAO,CAAC,EACpEnF,EAAM,gBAAgB,EAAE,YAAcmC,EAAO,IAAMgD,EAAWG,EAAQ,IAAK,CAAE,QAAS,EAAK,CAAC,EACxFhE,EAAW,WAAW,CAAC,GAAKtB,EAAM,UAAU,EAAE,aAAa,iBAAkB,GAAGmC,EAAO,IAAMgD,EAAWG,EAAQ,GAAG,CAAC,QAAQ,GAC3HC,GAAQ,EACjB9D,EAAc,EACdC,GAAa,CACjB,EACM6D,GAAU,IAAM,CAClBhF,EAAO,oBAAoB4B,EAAOtB,GAAkB,EAAG,CAAE,KAAM,OAAQ,QAAS,EAAM,CAAC,CAAC,EAAE,EAC1FP,EAAO,OAAS,GAChBa,EAAgB,EAChBnB,EAAM,SAAS,EAAE,MAAM,QAAU,OACjCA,EAAM,UAAU,EAAE,MAAM,QAAU,OAClCA,EAAM,WAAW,EAAE,MAAM,QAAU,EACvC,EAEMwF,GAAY,SAAW,CACzB,GAAIlF,EAAO,OAAU,OAAOC,EAAO,wBAAwB,EAC3DD,EAAO,OAAS,GAChBa,EAAgB,EAChB,MAAMY,EAAM,6GAA6G,EAEzH,IAAMmD,EAAUrE,GAAkB,EAClCN,EAAO,uBAAuB4B,EAAO+C,EAAS,CAAE,KAAM,OAAQ,QAAS,EAAM,CAAC,CAAC,EAAE,EACjF5E,EAAO,UAAY4E,EACnB5E,EAAO,OAAS,GAChBa,EAAgB,EAChBM,EAAc,EACdC,GAAa,CACjB,EAEA,GAAI,CACA+D,GAAmB,EAEnB,IAAMC,EAAiB,aAAa,QAAQ,qBAAqB,EACjE,GAAIA,IAAmB,KAAM,CACzB,OAAO,OAAOpE,EAAY,KAAK,MAAM,KAAKoE,CAAc,CAAC,CAAC,EACzD1F,EAAM,cAAc,EAAuB,MAAQsB,EAAW,OAAO,CAAC,EACtEtB,EAAM,mBAAmB,EAAuB,MAAQsB,EAAW,OAAO,CAAC,EAC3EtB,EAAM,cAAc,EAAuB,MAAQ,GAAGsB,EAAW,UAAU,IAAI,GAC/EtB,EAAM,iBAAiB,EAAuB,MAAQ,GAAGsB,EAAW,UAAU,OAAO,GACrFtB,EAAM,gBAAgB,EAAuB,MAAQ,GAAGsB,EAAW,UAAU,OAAS,GAAI,GAC1FtB,EAAM,kBAAkB,EAAuB,MAAQ,GAAGsB,EAAW,UAAU,SAAW,GAAI,GAC/F,QAASwC,EAAI,EAAGA,EAAIxC,EAAW,QAAQ,OAAQwC,IAAO6B,GAAc7B,EAAG,QAAQ,EAG/E,GAFA8B,GAAe,EAEXtE,EAAW,WAAW,CAAC,EAAG,CACzB,SAAS,eAAe,YAAY,EAAkB,OAAO,EAC9DlB,EAAY,WAAW,aAAe,8DACtCA,EAAY,WAAW,aAAe,sHACrCJ,EAAM,MAAM,EAAuB,OAAS,GAE7C,IAAM6F,EAAc,SAAS,cAAc,QAAQ,EACnDA,EAAY,YAAc,QAC1BA,EAAY,GAAK,cACjBA,EAAY,KAAO,SACnB,IAAMC,EAAe,SAAS,cAAc,QAAQ,EACpDA,EAAa,GAAK,eAClBA,EAAa,KAAO,SACpB9F,EAAM,cAAc,EAAE,QAAQ8F,EAAcD,CAAW,EAEvD,IAAME,EAAkB,SAAS,cAAc,QAAQ,EACvDA,EAAgB,UAAU,IAAI,cAAc,EAC5CA,EAAgB,YAAc,SAC9BA,EAAgB,GAAK,gBACrBA,EAAgB,KAAO,SACvB3F,EAAY,WAAW,aAAe,+FACtCJ,EAAM,cAAc,EAAE,MAAM+F,CAAe,EAE3C,IAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,GAAK,mBACXA,EAAM,UAAY,qiBAClB5F,EAAY,WAAW,aAAe,2QACtCJ,EAAM,qBAAqB,EAAE,OAAOgG,CAAK,EAEzC,IAAMC,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,UAAY,0GACtBjG,EAAM,MAAM,EAAE,MAAMiG,CAAS,EAE7BjG,EAAM,WAAW,EAAE,iBAAiB,QAAS,IAAM2F,GAAc,EAAG,SAAU,GAAM,EAAI,CAAC,EACzF,QAAS7B,EAAI,EAAGA,EAAIxC,EAAW,WAAW,OAAQwC,IAAO6B,GAAc7B,EAAG,QAAQ,CACtF,CACA,GAAIxC,EAAW,WAAW,CAAC,EAAG,CACzB,SAAS,eAAe,YAAY,EAAkB,OAAO,EAC9D,QAASwC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,IAAMoC,EAAWlG,EAAM8D,IAAM,EAAI,uBAAyB,OAAOA,CAAC,aAAa,EAC/EoC,EAAS,YAAc,KAAKA,EAAS,WAAW,GACpD,CAEA,IAAMC,EAAY,SAAS,cAAc,SAAS,EAClDA,EAAU,UAAY,8JACtBA,EAAU,UAAY,SACtBnG,EAAM,YAAY,EAAE,OAAOmG,CAAS,EAEpC,IAAMC,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,UAAY,2HACtB,IAAMC,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,UAAY,0HACtBrG,EAAM,MAAM,EAAE,MAAMoG,EAAWC,CAAS,EAExCrG,EAAM,WAAW,EAAE,iBAAiB,QAAS,IAAM,CAC/C2F,GAAc,EAAG,SAAU,EAAI,EAC/BvD,EAAY,QAAQ,EACpB,QAASkE,EAAI,EAAGA,EAAIvF,EAAO,YAAY,OAAQuF,IAC3C,QAASxC,EAAI,EAAGA,EAAIxD,EAAO,gBAAgBgG,CAAC,EAAE,UAAWxC,IACrDyC,EAAuBzC,EAAGwC,EAAG,aAAa,CAGtD,CAAC,EAED,IAAME,EAAe,CAACC,EAAS,KAAU,CAChCA,GAAUd,GAAc,EAAG,SAAU,EAAI,EAC9C,IAAMe,EAASpF,EAAW,WAAW,CAAC,EAAI,EAAI,GAC9CtB,EAAM,YAAY,EAAE,SAAW0G,EAC/B1G,EAAM,cAAc,EAAE,SAAW0G,EACjC,QAAS5C,EAAI,EAAGA,EAAI1D,EAAY,gBAAiB0D,IAC7C9D,EAAM,WAAW8D,CAAC,KAAK,EAAE,SAAW4C,EACpC1G,EAAM,iBAAiB8D,CAAC,EAAE,EAAE,SAAW4C,EAE3C1G,EAAM,iBAAiB,EAAE,SAAW0G,EACpC,QAAWC,KAAWrG,EAAO,QAAQ,KAAM,CACvCN,EAAM,GAAG2G,CAAO,QAAQ,EAAE,SAAWD,EACrC,IAAME,EAAUtG,EAAO,QAAQ,GAAGqG,CAAkB,SAAS,EAC7D,GAAIC,IAAY,OAChB,QAAWC,KAAcD,EACrB5G,EAAM,GAAG2G,CAAO,YAAYE,CAAU,EAAE,EAAE,SAAWH,CAE7D,CACA,QAAS5C,EAAI,EAAGA,EAAIxD,EAAO,UAAU,KAAK,OAAQwD,IAC9C9D,EAAM,GAAGM,EAAO,UAAU,KAAKwD,CAAC,CAAC,QAAQ,EAAE,SAAW4C,CAE9D,EACA1G,EAAM,WAAW,EAAE,iBAAiB,QAAS,IAAM,CAAEwG,EAAa,CAAG,CAAC,EAElElF,EAAW,WAAW,CAAC,GAAKkF,EAAa,EAAI,EACjD,QAAS1C,EAAI,EAAGA,EAAIxC,EAAW,WAAW,OAAQwC,IAAO6B,GAAc7B,EAAG,QAAQ,EAClF1D,EAAY,WAAW,aAAe,wDAC1C,CACJ,CAEA,IAAI0G,EACEjF,EAAO,aAAa,QAAQ,MAAM,EACxC,GAAIA,IAAS,KAAM,CACf,IAAMI,EAAeC,GAAa,KAAK,MAAM,KAAKL,CAAI,CAAC,CAAC,EACxDvB,EAAO,SAAWO,GAAkB,EACpCiG,EAAY,mCAAmC3E,EAAO7B,EAAO,SAAU,CAAE,KAAM,OAAQ,QAAS,EAAM,CAAC,CAAC;AAAA,EAAK2B,IAAiBlB,EAAO,QAAU,+BAA+BkB,CAAY,OAAOlB,EAAO,OAAO,GAAK,sBAAsBA,EAAO,OAAO,EAAE,EAC9P,MACIgG,GAAc,EAAK,EACnB7E,GAAa8E,EAAU1D,CAAW,CAAC,EACnCwD,EAAY,4BAA4B/F,EAAO,OAAO;AAAA,0CAG1D,GAAIO,EAAW,QAAQ,CAAC,EAAG,CACvB,IAAM2F,EAAejH,EAAM,uBAAuB,EAClDiH,EAAa,GAAK,cAClBjH,EAAM,YAAY,EAAE,MAAMiH,CAAY,EACtCzG,GAAS,uBAAuB,EAEhC,IAAM0G,EAAiBlH,EAAM,0BAA0B,EACvDkH,EAAe,GAAK,iBACpBA,EAAe,UAAU,IAAI,eAAe,EAC5ClH,EAAM,eAAe,EAAE,MAAMkH,CAAc,EAC3C1G,GAAS,0BAA0B,EAEnC,IAAMoG,EAAUtG,EAAO,QACvBsG,EAAQ,eAAe,OAAOA,EAAQ,eAAe,QAAQ,UAAU,EAAG,CAAC,EAC3EA,EAAQ,KAAK,OAAOA,EAAQ,KAAK,QAAQ,SAAS,EAAI,EAAG,EAAG,UAAU,CAC1E,CAGA,IAAMO,EAAK7F,EAAW,WAAW,CAAC,EAC5B8F,EAAK9F,EAAW,WAAW,CAAC,EAC5B+F,EAAK,CAACF,GAAM7F,EAAW,WAAW,CAAC,EACnCgG,EAAO,SAAS,KACtBA,EAAK,iBAAiB,UAAYC,GAAuBC,GAAaD,CAAG,CAAC,EAC1E,IAAME,EAAiBC,GAAsC,CACrDpH,EAAO,QAAQ,OAAS,CAACoH,EAAM,WAAYpH,EAAO,QAAQ,MAAQ,IAClEA,EAAO,QAAQ,MAAQ,CAACoH,EAAM,UAAWpH,EAAO,QAAQ,KAAO,GACvE,EACAgH,EAAK,iBAAiB,QAASG,CAAa,EAC5CH,EAAK,iBAAiB,cAAgBI,GAAU,CACvCpG,EAAW,eAAiBoG,EAAM,eAAe,CAC1D,CAAC,EACGL,IACAC,EAAK,iBAAiB,UAAYI,GAAU,CACxCxD,GAAa,EACbuD,EAAcC,CAAK,CACvB,CAAC,EACDJ,EAAK,iBAAiB,aAAcpD,EAAY,GAEhDiD,IACAG,EAAK,iBAAiB,WAAYpD,EAAY,EAC9CoD,EAAK,iBAAiB,cAAepD,EAAY,GAIrD,QAASJ,EAAI,EAAGA,EAAIxC,EAAW,QAAQ,OAAQwC,IAC3C9D,EAAM,eAAe8D,CAAC,EAAE,EAAE,iBAAiB,QAAS,IAAM6B,GAAc7B,EAAG,SAAU,GAAMA,IAAM,CAAC,CAAC,EAEvG,QAASA,EAAI,EAAGA,EAAIR,EAAY,QAAQ,QAAQ,OAAQQ,IACpD9D,EAAM,gBAAgB8D,CAAC,EAAE,EAAE,iBAAiB,QAAS,IAAM6D,GAAc7D,EAAG,EAAI,CAAC,EAErF,QAASA,EAAI,EAAGA,EAAI1D,EAAY,gBAAiB0D,IAC7C9D,EAAM,iBAAiB8D,CAAC,EAAE,EAAE,iBAAiB,QAAS,IAAM8D,EAAW9D,EAAG,YAAa,EAAI,CAAC,EAEhG,QAASA,EAAI,EAAGA,EAAIR,EAAY,QAAQ,MAAM,OAAQQ,IAClD9D,EAAM,cAAc8D,CAAC,EAAE,EAAE,iBAAiB,QAAS,IAAM8D,EAAW9D,EAAG,QAAS,EAAI,CAAC,EAEzF,QAASA,EAAI,EAAGA,EAAIR,EAAY,QAAQ,IAAI,OAAQQ,IAChD9D,EAAM,YAAY8D,CAAC,EAAE,EAAE,iBAAiB,QAAS,IAAM8D,EAAW9D,EAAG,MAAO,EAAI,CAAC,EAErF,QAASA,EAAI,EAAGA,EAAIR,EAAY,QAAQ,KAAK,OAAQQ,IACjD9D,EAAM,aAAa8D,CAAC,EAAE,EAAE,iBAAiB,QAAS,IAAM8D,EAAW9D,EAAG,OAAQ,EAAI,CAAC,EAIvF9D,EAAM,YAAY,EAAE,iBAAiB,QAAS6H,EAAe,EACzDV,GAAMnH,EAAM,aAAa,EAAE,iBAAiB,QAAS6H,EAAe,EACxE,CACI,IAAMC,EAAY,IAAM,CACpB,IAAM/C,EAAShE,EAAO,MAAM,OACxBgE,IAAW,EACNgD,GAAoB,EAClBhD,IAAW,EACbiD,GAAuB,EACrBjD,IAAW,EACbkD,GAAe,EACblD,IAAW,GACbmD,GAAmB,CAEhC,EACAlI,EAAM,cAAc,EAAE,iBAAiB,QAAS8H,CAAS,EACrDX,GAAMnH,EAAM,cAAc,EAAE,iBAAiB,QAAS8H,CAAS,CACvE,CACA,QAAShE,EAAI,EAAGA,EAAI1D,EAAY,gBAAiB0D,IAAK,CAClD,IAAMqE,EAASnI,EAAM,WAAW8D,CAAC,KAAK,EAChCgE,EAAY,IAAM9C,GAAYlB,CAAC,EACrCqE,EAAO,iBAAiB,QAASL,CAAS,EACtCT,GAAMc,EAAO,iBAAiB,YAAa,IAAMnE,EAAe8D,CAAS,CAAC,EAC1EX,GAAMgB,EAAO,iBAAiB,aAAc,IAAMnE,EAAe8D,CAAS,CAAC,CACnF,CACA,CACI,IAAMK,EAASnI,EAAM,mBAAmB,EACxCmI,EAAO,iBAAiB,QAASrD,EAAM,EACnCuC,GAAMc,EAAO,iBAAiB,YAAa,IAAMnE,EAAec,EAAM,CAAC,EACvEqC,GAAMgB,EAAO,iBAAiB,aAAc,IAAMnE,EAAec,EAAM,CAAC,CAChF,CACA9E,EAAM,aAAa,EAAE,iBAAiB,SAAU,IAAM,CAClD,IAAMoD,EAAQpD,EAAM,aAAa,EACjCe,EAAO,QAAQ,KAAK,MAAQ,KAAK,IAAI,KAAK,MAAM,OAAOqC,EAAM,KAAK,CAAC,EAAG,CAAC,EACvEA,EAAM,MAAQjB,EAAOpB,EAAO,QAAQ,KAAK,MAAO,CAAE,KAAM,OAAQ,CAAC,EACjEU,EAAc,CAClB,CAAC,EACDzB,EAAM,eAAe,EAAE,iBAAiB,SAAU,IAAM,CACpD,IAAMoD,EAAQpD,EAAM,eAAe,EAC/B8C,EAAQ,KAAK,IAAI,OAAOM,EAAM,KAAK,EAAG,CAAC,EACvC,MAAMN,CAAK,IAAKA,EAAQ,GAC5B/B,EAAO,QAAQ,KAAK,KAAKA,EAAO,MAAM,MAAM,EAAI+B,EAChDM,EAAM,MAAQjB,EAAOW,EAAO,CAAE,KAAM,OAAQ,CAAC,CACjD,CAAC,EAED,QAASgB,EAAI,GAAIA,EAAIxD,EAAO,eAAe,KAAK,OAAQwD,IAAK,CACzD,IAAMsE,EAAQpI,EAAM,YAAY8D,EAAI,CAAC,EAAE,EACnCuD,GAAMe,EAAM,iBAAiB,YAAa,IAAMzD,GAAeb,EAAG,WAAW,CAAC,EAC9EqD,GAAMiB,EAAM,iBAAiB,aAAc,IAAMzD,GAAeb,EAAG,WAAW,CAAC,EAC/EsD,GAAMgB,EAAM,iBAAiB,QAAS,IAAMzD,GAAeb,EAAG,WAAW,CAAC,EAC9EsE,EAAM,iBAAiB,QAAStE,IAAM,GAAKuE,GAAe,IAAM,CAAOC,GAAmBxE,CAAC,CAAG,CAAC,CACnG,CACA,QAASA,EAAI,EAAGA,EAAIxD,EAAO,eAAe,WAAW,CAAC,EAAE,OAAQwD,IAAK,CACjE,IAAMsE,EAAQpI,EAAM,aAAaM,EAAO,UAAU,KAAKwD,CAAC,CAAC,EAAE,EAC3DsE,EAAM,iBAAiB,QAAS,IAAMzD,GAAeb,EAAG,QAAQ,CAAC,EAC7DqD,GAAMiB,EAAM,iBAAiB,QAAS,IAAOpI,EAAM,gBAAgB,EAAE,MAAM,QAAU,OAAQ,CACrG,CACImH,GAAMnH,EAAM,gBAAgB,EAAE,iBAAiB,QAAS,IAAOA,EAAM,gBAAgB,EAAE,MAAM,QAAU,EAAG,EAG9G,QAAS8D,EAAI,EAAGA,EAAI1D,EAAY,eAAgB0D,IAAK,CACjD,IAAMsE,EAAQpI,EAAM,UAAU8D,EAAI,CAAC,EAAE,EAC/ByE,EAAY,IAAMpE,GAAcL,EAAG,UAAU,EAEnD,GADIuD,GAAMe,EAAM,iBAAiB,YAAaG,CAAS,EACnDpB,EACAiB,EAAM,iBAAiB,aAAc,IAAM,CACvCjE,GAAcL,EAAG,UAAU,EAC3BE,EAAeuE,CAAS,CAC5B,CAAC,MACE,CACH,IAAMT,EAAY,IAAMxD,EAAYR,EAAG/C,EAAO,MAAM,OAAQ,UAAU,EACtEqH,EAAM,iBAAiB,QAASN,CAAS,EACzCM,EAAM,iBAAiB,YAAa,IAAMpE,EAAe8D,CAAS,CAAC,CACvE,CACIV,GAAMgB,EAAM,iBAAiB,QAASG,CAAS,CACvD,CACA,QAASzE,EAAI,EAAGA,EAAI1D,EAAY,gBAAiB0D,IAAK,CAClD,IAAMsE,EAAQpI,EAAM,WAAW8D,EAAI,CAAC,OAAO,EACrCyE,EAAY,IAAMpE,GAAcL,EAAG,YAAY,EAErD,GADIuD,GAAMe,EAAM,iBAAiB,YAAaG,CAAS,EACnDpB,EACAiB,EAAM,iBAAiB,aAAc,IAAM,CACvCjE,GAAcL,EAAG,YAAY,EAC7BE,EAAeuE,CAAS,CAC5B,CAAC,MACE,CACH,IAAMT,EAAY,IAAMxD,EAAYR,EAAG/C,EAAO,MAAM,OAAQ,YAAY,EACxEqH,EAAM,iBAAiB,QAASN,CAAS,EACzCM,EAAM,iBAAiB,YAAa,IAAMpE,EAAe8D,CAAS,CAAC,CACvE,CACIV,GAAMgB,EAAM,iBAAiB,QAASG,CAAS,CACvD,CACA,QAASzE,EAAI,EAAGA,EAAI1D,EAAY,qBAAsB0D,IAAK,CACvD,IAAMsE,EAAQpI,EAAM,gBAAgB8D,EAAI,CAAC,OAAO,EAC1CyE,EAAY,IAAMpE,GAAcL,EAAG,iBAAiB,EAE1D,GADIuD,GAAMe,EAAM,iBAAiB,YAAaG,CAAS,EACnDpB,EACAiB,EAAM,iBAAiB,aAAc,IAAM,CACvCjE,GAAcL,EAAG,iBAAiB,EAClCE,EAAeuE,CAAS,CAC5B,CAAC,MACE,CACH,IAAMT,EAAY,IAAMxD,EAAYR,EAAG/C,EAAO,MAAM,OAAQ,iBAAiB,EAC7EqH,EAAM,iBAAiB,QAASN,CAAS,EACzCM,EAAM,iBAAiB,YAAa,IAAMpE,EAAe8D,CAAS,CAAC,CACvE,CACIV,GAAMgB,EAAM,iBAAiB,QAASG,CAAS,CACvD,CACA,QAASzE,EAAI,EAAGA,EAAIxD,EAAO,mBAAmB,UAAU,OAAQwD,IAAK,CACjE,IAAMsE,EAAQpI,EAAM,eAAe8D,EAAI,CAAC,OAAO,EACzCyE,EAAY,IAAMpE,GAAcL,EAAG,gBAAgB,EAEzD,GADIuD,GAAMe,EAAM,iBAAiB,YAAaG,CAAS,EACnDpB,EACAiB,EAAM,iBAAiB,aAAc,IAAM,CACvCjE,GAAcL,EAAG,gBAAgB,EACjCE,EAAeuE,CAAS,CAC5B,CAAC,MACE,CACH,IAAMT,EAAY,IAAMxD,EAAYR,EAAG/C,EAAO,MAAM,OAAQ,gBAAgB,EAC5EqH,EAAM,iBAAiB,QAASN,CAAS,EACzCM,EAAM,iBAAiB,YAAa,IAAMpE,EAAe8D,CAAS,CAAC,CACvE,CACIV,GAAMgB,EAAM,iBAAiB,QAASG,CAAS,CACvD,CACA,CACI,IAAMH,EAAQpI,EAAM,UAAU,EACxBuI,EAAY,IAAMpE,GAAc,EAAG,KAAK,EAE9C,GADIkD,GAAMe,EAAM,iBAAiB,YAAaG,CAAS,EACnDpB,EACAiB,EAAM,iBAAiB,aAAc,IAAM,CACvCjE,GAAc,EAAG,KAAK,EACtBH,EAAeuE,CAAS,CAC5B,CAAC,MACE,CACH,IAAMT,EAAY,IAAMxD,EAAY,EAAGvD,EAAO,MAAM,OAAQ,KAAK,EACjEqH,EAAM,iBAAiB,QAASN,CAAS,EACzCM,EAAM,iBAAiB,YAAa,IAAMpE,EAAe8D,CAAS,CAAC,CACvE,CACIV,GAAMgB,EAAM,iBAAiB,QAASG,CAAS,CACvD,CACA,GAAIpB,EAAI,CACJ,IAAMgB,EAASnI,EAAM,eAAe,EAC9B8H,EAAY,IAAM,CACpB,IAAM/C,EAAShE,EAAO,MAAM,OAC5BuD,EAAYhE,EAAO,YAAYyE,CAAM,EAAE,CAAC,EAAGA,EAAQzE,EAAO,YAAYyE,CAAM,EAAE,CAAC,CAAC,CACpF,EACAoD,EAAO,iBAAiB,QAASL,CAAS,EAC1CK,EAAO,iBAAiB,aAAc,IAAMnE,EAAe8D,CAAS,CAAC,EACjET,GAAMc,EAAO,iBAAiB,YAAa,IAAMnE,EAAe8D,CAAS,CAAC,CAClF,CAEIT,GACArH,EAAM,UAAU,EAAE,iBAAiB,WAAY,IAAM,CACjDM,EAAO,YAAc,EACrBiE,GAAsB,EAAG,UAAU,CACvC,CAAC,EAEL,QAAST,EAAI,EAAGA,EAAIxD,EAAO,aAAa,UAAU,OAAQwD,IAAK,CAC3D,IAAMsE,EAAQpI,EAAM,UAAU8D,CAAC,EAAE,EAC3BgE,EAAY,IAAMxD,EAAYR,EAAG,EAAG,UAAU,EAChDuD,IACAe,EAAM,iBAAiB,YAAa,IAAMjE,GAAcL,EAAG,UAAU,CAAC,EACtEsE,EAAM,iBAAiB,YAAa,IAAMpE,EAAe8D,CAAS,CAAC,GAEnEX,GACAiB,EAAM,iBAAiB,aAAc,IAAM,CACvCjE,GAAcL,EAAG,UAAU,EAC3BE,EAAe8D,CAAS,CAC5B,CAAC,EAEDV,GAAMgB,EAAM,iBAAiB,QAAS,IAAMjE,GAAcL,EAAG,UAAU,CAAC,GACxEuD,GAAMD,IAAMgB,EAAM,iBAAiB,QAASN,CAAS,CAC7D,CAGA,QAASxB,EAAI,EAAGA,EAAIhG,EAAO,gBAAgB,OAAQgG,IAAK,CAChDa,GAAMnH,EAAM,kBAAkBsG,CAAC,EAAE,EAAE,iBAAiB,QAAS,IAAMkC,GAAkBlC,CAAC,CAAC,EAC3F,QAASxC,EAAI,EAAGA,EAAIxD,EAAO,gBAAgBgG,CAAC,EAAE,UAAU,OAAQxC,IAAK,CACjE,IAAMsE,EAAQpI,EAAM,UAAU8D,EAAI,CAAC,QAAQwC,CAAC,OAAO,EAC7CiC,EAAY,IAAM/D,GAAiBV,EAAGwC,EAAG,aAAa,EAE5D,GADIe,GAAMe,EAAM,iBAAiB,YAAaG,CAAS,EACnDpB,EACAiB,EAAM,iBAAiB,aAAc,IAAM,CACvC5D,GAAiBV,EAAGwC,EAAG,aAAa,CAExC,CAAC,MACE,CACH,IAAMwB,EAAY,IAAMW,GAAe3E,EAAGwC,EAAG,aAAa,EAC1D8B,EAAM,iBAAiB,QAASN,CAAS,EACzCM,EAAM,iBAAiB,YAAa,IAAMpE,EAAe8D,CAAS,CAAC,CACvE,CACIV,GAAMgB,EAAM,iBAAiB,QAASG,CAAS,CACvD,CACJ,CACA,GAAIpB,EAAI,CACJ,IAAMgB,EAASnI,EAAM,mBAAmB,EAClC8H,EAAY,IAAMW,GAAenI,EAAO,gBAAgB,CAAC,EAAGA,EAAO,gBAAgB,CAAC,EAAG,aAAa,EAC1G6H,EAAO,iBAAiB,QAASL,CAAS,EAC1CK,EAAO,iBAAiB,aAAc,IAAMnE,EAAe8D,CAAS,CAAC,EACjET,GAAMc,EAAO,iBAAiB,YAAa,IAAMnE,EAAe8D,CAAS,CAAC,CAClF,CACA,QAASxB,EAAI,EAAGA,EAAIhG,EAAO,eAAe,OAAQgG,IAC9C,QAASxC,EAAI,EAAGA,EAAIxD,EAAO,eAAegG,CAAC,EAAE,KAAK,OAAQxC,IAAK,CAC3D,IAAMsE,EAAQzH,EAAS,aAAamD,EAAI,CAAC,QAAQwC,CAAC,WAAW,EACzDe,GAAMe,EAAM,iBAAiB,YAAa,IAAM5D,GAAiBV,EAAGwC,EAAG,YAAY,CAAC,EACpFa,GAAMiB,EAAM,iBAAiB,aAAc,IAAM5D,GAAiBV,EAAGwC,EAAG,YAAY,CAAC,EACrFc,GAAMgB,EAAM,iBAAiB,QAAS,IAAM5D,GAAiBV,EAAGwC,EAAG,YAAY,CAAC,CACxF,CAIJtG,EAAM,mBAAmB,EAAE,iBAAiB,SAAU,IAAM,CACxD,IAAMoD,EAAQpD,EAAM,mBAAmB,EACvCe,EAAO,aAAa,MAAQ,KAAK,IAAI,OAAOqC,EAAM,KAAK,EAAG,CAAC,EAC3DA,EAAM,MAAQjB,EAAOpB,EAAO,aAAa,MAAO,CAAE,KAAM,OAAQ,CAAC,CACrE,CAAC,EACDf,EAAM,oBAAoB,EAAE,iBAAiB,SAAU,IAAM,CACzD,IAAMoD,EAAQpD,EAAM,oBAAoB,EACxCe,EAAO,SAAS,MAAQ,KAAK,IAAI,OAAOqC,EAAM,KAAK,EAAG,CAAC,EACvDA,EAAM,MAAQjB,EAAOpB,EAAO,SAAS,MAAO,CAAE,KAAM,OAAQ,CAAC,CACjE,CAAC,EACDf,EAAM,YAAY,EAAE,iBAAiB,SAAU,IAAM,CACjD,IAAMoD,EAAQpD,EAAM,YAAY,EAChCe,EAAO,MAAM,MAAQ,KAAK,IAAI,OAAOqC,EAAM,KAAK,EAAG,CAAC,EACpDA,EAAM,MAAQjB,EAAOpB,EAAO,MAAM,MAAO,CAAE,KAAM,OAAQ,CAAC,CAC9D,CAAC,EACDf,EAAM,eAAe,EAAE,iBAAiB,QAAS,IAAM,CACnD0I,GAAiB,EACjB1I,EAAM,aAAa,EAAE,MAAM,QAAU,EACzC,CAAC,EACDA,EAAM,MAAM,EAAE,iBAAiB,QAAS,IAAM,CAAO2B,GAAS,CAAG,CAAC,EAClE3B,EAAM,MAAM,EAAE,iBAAiB,SAAU,SAAW,CAChD,IAAMC,EAAKD,EAAM,MAAM,EACvBgC,GAAS,MAAO/B,EAAG,MAAmB,CAAC,EAAE,KAAK,CAAC,EAC/CA,EAAG,MAAQ,EACf,CAAC,EACDD,EAAM,QAAQ,EAAE,iBAAiB,QAASqC,EAAc,EACxDrC,EAAM,aAAa,EAAE,iBAAiB,QAAS6C,EAAW,EACtDsE,IACAnH,EAAM,cAAc,EAAE,iBAAiB,QAAS,IAAMA,EAAM,WAAW,EAAE,UAAU,IAAI,YAAY,CAAC,EACpGA,EAAM,WAAW,EAAE,iBAAiB,aAAc,IAAMA,EAAM,WAAW,EAAE,UAAU,OAAO,YAAY,CAAC,GAE7GA,EAAM,cAAc,EAAE,iBAAiB,QAAS,IAAM2I,GAAS,IAAI,CAAC,EACpE,QAAS7E,EAAI,EAAGA,EAAIxD,EAAO,UAAU,KAAK,OAAQwD,IAC9C9D,EAAM,cAAc8D,CAAC,EAAE,EAAE,iBAAiB,QAAS,IAAM6E,GAAS7E,CAAC,CAAC,EAExE9D,EAAM,aAAa,EAAE,iBAAiB,QAAS4I,EAAe,EAC9D5I,EAAM,aAAa,EAAE,iBAAiB,QAAS,IAAM6I,GAAgB,KAAK,CAAC,EAC3E7I,EAAM,aAAa,EAAE,iBAAiB,QAAS,IAAM8I,GAAkB,aAAc,KAAK,CAAC,EAC3F9I,EAAM,aAAa,EAAE,iBAAiB,QAAS,IAAM8I,GAAkB,kBAAmB,KAAK,CAAC,EAChG9I,EAAM,mBAAmB,EAAE,iBAAiB,SAAUmD,EAAkB,EACxE,CACI,IAAMgF,EAASnI,EAAM,qBAAqB,EACpCuI,EAAY,IAAOvI,EAAM,qBAAqB,EAAE,YAAc4C,GAAwB,EAC5FuF,EAAO,iBAAiB,YAAaI,CAAS,EAC1CnB,GAAMe,EAAO,iBAAiB,QAASI,CAAS,CACxD,CACAvI,EAAM,cAAc,EAAE,iBAAiB,SAAU,IAAM,CACnD,IAAM+I,EAAY/I,EAAM,cAAc,EACtCsB,EAAW,UAAU,KAAO,KAAK,IAAI,KAAK,IAAI,KAAK,MAAM,OAAOyH,EAAU,KAAK,CAAC,EAAG,EAAE,EAAG,GAAG,EAC3FA,EAAU,MAAQ,GAAGzH,EAAW,UAAU,IAAI,GAC9C2B,GAAmB,EACnB9B,EAAgB,CACpB,CAAC,EACDnB,EAAM,iBAAiB,EAAE,iBAAiB,SAAU,IAAM,CACtD,IAAMgJ,EAAchJ,EAAM,iBAAiB,EAC3CsB,EAAW,UAAU,QAAU,KAAK,IAAI,KAAK,IAAI,KAAK,MAAM,OAAO0H,EAAY,KAAK,CAAC,EAAG,EAAE,EAAG,GAAG,EAChGA,EAAY,MAAQ,GAAG1H,EAAW,UAAU,OAAO,GACnD2B,GAAmB,EACnB9B,EAAgB,CACpB,CAAC,EACDnB,EAAM,gBAAgB,EAAE,iBAAiB,SAAU,IAAM,CACrD,IAAMiJ,EAAcjJ,EAAM,gBAAgB,EAC1CsB,EAAW,UAAU,OAAS,KAAK,IAAI,KAAK,IAAI,KAAK,MAAM,OAAO2H,EAAY,KAAK,EAAI,GAAG,EAAG,EAAE,EAAG,GAAG,EAAI,GACzGA,EAAY,MAAQ,GAAG3H,EAAW,UAAU,OAAS,GAAI,GACzD2B,GAAmB,EACnB9B,EAAgB,CACpB,CAAC,EACDnB,EAAM,kBAAkB,EAAE,iBAAiB,SAAU,IAAM,CACvD,IAAMkJ,EAAgBlJ,EAAM,kBAAkB,EAC9CsB,EAAW,UAAU,SAAW,KAAK,IAAI,KAAK,IAAI,KAAK,MAAM,OAAO4H,EAAc,KAAK,CAAC,EAAG,CAAC,EAAG,IAAI,EAAI,IACvGA,EAAc,MAAQ,GAAG5H,EAAW,UAAU,SAAW,GAAI,GAC7D2B,GAAmB,EACnB9B,EAAgB,CACpB,CAAC,EACDnB,EAAM,mBAAmB,EAAE,iBAAiB,SAAU,IAAMmJ,GAAa,EAAK,CAAC,EAC/EnJ,EAAM,cAAc,EAAE,iBAAiB,SAAU,IAAMmJ,GAAa,EAAI,CAAC,EACzEnJ,EAAM,WAAW,EAAE,iBAAiB,QAAS,IAAM2F,GAAc,EAAG,SAAU,GAAM,EAAI,CAAC,EACzF3F,EAAM,WAAW,EAAE,iBAAiB,QAAS,IAAM2F,GAAc,EAAG,SAAU,GAAM,EAAI,CAAC,EACzF3F,EAAM,WAAW,EAAE,iBAAiB,QAASwF,EAAS,EACtDxF,EAAM,cAAc,EAAE,iBAAiB,QAASoJ,EAAW,EAC3DpJ,EAAM,aAAa,EAAE,iBAAiB,QAASiF,EAAQ,EACvDjF,EAAM,gBAAgB,EAAE,iBAAiB,SAAU,IAAM4F,GAAe,EAAI,CAAC,EAE7E5F,EAAM,iBAAiB,EAAE,iBAAiB,SAAU,IAAM,CACtD,IAAMqJ,EAAUrJ,EAAM,iBAAiB,EACvCe,EAAO,QAAQ,MAAM,MAAM,CAAC,EAAI,KAAK,IAAI,KAAK,IAAI,KAAK,MAAM,OAAOsI,EAAQ,KAAK,CAAC,EAAG,CAAC,EAAG,EAAE,EAC3FA,EAAQ,MAAQ,GAAGtI,EAAO,QAAQ,MAAM,MAAM,CAAC,CAAC,EACpD,CAAC,EACDf,EAAM,iBAAiB,EAAE,iBAAiB,SAAU,IAAM,CACtD,IAAMoD,EAAQpD,EAAM,iBAAiB,EACrCe,EAAO,QAAQ,MAAM,MAAM,CAAC,EAAI,KAAK,IAAI,KAAK,IAAI,KAAK,MAAM,OAAOqC,EAAM,KAAK,CAAC,EAAG,CAAC,EAAG,GAAG,EAC1FA,EAAM,MAAQ,GAAGrC,EAAO,QAAQ,MAAM,MAAM,CAAC,CAAC,GAC9CT,EAAO,MAAM,aAAe,GAC5BoB,GAAa,CACjB,CAAC,EAGD,CACI,IAAM4H,EAAStJ,EAAM,YAAY,EACjC,GAAImH,EAAI,CACJ,IAAMoC,EAAc,IAAM,CACtB,GAAI,CAACjJ,EAAO,OAAU,OAAOkJ,GAAW,EACpClJ,EAAO,YAAY,cAAgB,SACvCA,EAAO,YAAY,YAAc,WAAWkJ,GAAY,GAAG,EAC/D,EACAF,EAAO,iBAAiB,aAAcC,CAAW,EAC7ClC,GAAMiC,EAAO,iBAAiB,YAAaC,CAAW,CAC9D,MAASD,EAAO,iBAAiB,QAASE,EAAU,CACxD,CACA,QAAW7C,KAAWrG,EAAO,QAAQ,KAAM,CACvCN,EAAM,GAAG2G,CAAO,QAAQ,EAAE,iBAAiB,QAAS,IAAM8C,EAAU9C,CAAO,CAAC,EAC5E,IAAMC,EAAUtG,EAAO,QAAQ,GAAGqG,CAAkB,SAAS,EAC7D,GAAIC,IAAY,OAChB,QAAWC,KAAcD,EACrB5G,EAAM,GAAG2G,CAAO,YAAYE,CAAU,EAAE,EAAE,iBAAiB,QAAS,IAAM4C,EAAU9C,EAASE,CAAU,CAAC,CAEhH,CACA,QAAS/C,EAAI,EAAGA,EAAIxD,EAAO,UAAU,KAAK,OAAQwD,IAC9C9D,EAAM,GAAGM,EAAO,UAAU,KAAKwD,CAAC,CAAC,QAAQ,EAAE,iBAAiB,QAAS,IAAM4F,GAAY5F,CAAC,CAAC,EAI7F1B,EAAY,QAAQ,EACpB,SAAS,KAAK,OAAO,SAAS,cAAc,yBAAyB,EAAGhC,EAAY,UAAU,EAC9FJ,EAAM,MAAM,EAAE,MAAM,QAAU,GAC9BA,EAAM,SAAS,EAAE,MAAM,QAAU,OACjCM,EAAO,OAAS,GAChBa,EAAgB,EAChB,SAAS,MAAQ,eAAemC,EAAY,OAAO,GAC/ChC,EAAW,QAAU,MAAQqH,GAASrH,EAAW,MAAO,EAAI,EAC3DS,EAAM+E,EAAY;AAAA,qBAAwB3E,GAAQ,KAAK,IAAI,EAAImB,EAAY,KAAK,SAAW,IAAM,CAAE,KAAM,OAAQ,QAAS,EAAM,CAAC,CAAC,GAAG,CAC9I,OAASxB,EAAO,CACZ,IAAM6H,EAAS7H,EAA4B,MACtCC,EAAM;AAAA;AAAA,EAAqC,OAAO4H,GAAU,SAAWA,EAAM,WAAW,MAAM,OAAO,SAAS,MAAM,IAAK,EAAE,EAAI7H,CAAK,EAAE,EAC3I,IAAM8H,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAY,iKACtBA,EAAU,MAAM,QAAU,uDAC1B5J,EAAM,SAAS,EAAE,OAAO4J,CAAS,EACjC,IAAIC,EAAW,GACf7J,EAAM,aAAa,EAAE,iBAAiB,QAAS,IAAM,CACjD6J,EAAW,GACX,IAAMhI,EAAO,aAAa,QAAQ,MAAM,EACxC,GAAIA,IAAS,KAAQ,OAAO,KAAKE,EAAM,uBAAuB,EAC9D,IAAMY,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAO,mBAAmBd,CAAI,GAChCc,EAAE,SAAW,gCACbA,EAAE,MAAM,CACZ,CAAC,EACD3C,EAAM,aAAa,EAAE,iBAAiB,QAAS,SAAW,CAClD,CAAC6J,GAAY,CAAC,MAAM3G,EAAQ;AAAA,qDAA6F,IAC7H,aAAa,WAAW,MAAM,EAC9B,OAAO,SAAS,OAAO,EAClBnB,EAAM,sBAAsB,EACrC,CAAC,CACL",
  "names": ["checkTab", "tab", "subtab", "player", "global", "checkBuilding", "index", "stageIndex", "checkUpgrade", "upgrade", "type", "autoStage", "allowedToBeReset", "check", "milestoneGetValue", "Overlimit", "milestoneCheck", "need", "prepareVacuum", "state", "buildings", "playerStart", "buildingsInfo", "upgradesInfo", "researchesInfo", "researchesExtraInfo", "strangenessInfo", "global", "star3ExpId", "getId", "specialHTML", "maxBuildings", "upgrades1Cost", "researches1Cost", "researches1Scaling", "strangeness1Cost", "strangeness1Scaling", "strangeness2Cost", "strangeness2Scaling", "strangeness3Cost", "strangeness3Scaling", "strangeness4Cost", "strangeness4Scaling", "strangeness5Cost", "strangeness5Scaling", "milestone1S1", "getQuery", "milestone1S2", "s", "globalSave", "i", "newValue", "switchVacuum", "player", "Alert", "count", "Confirm", "playEvent", "resetVacuum", "updateUnknown", "milestones", "text", "div", "switchTab", "tab", "subtab", "oldTab", "global", "getId", "oldSubtabs", "inside", "subtabAmount", "newSubtabs", "checkTab", "globalSave", "oldSubtab", "active", "player", "switchStage", "setActiveStage", "stageUpdate", "visualUpdate", "numbersUpdate", "maxOfflineTime", "exportMultiplier", "timeUpdate", "timeWarp", "time", "auto", "autoBuy", "maxActive", "type", "autoU", "autoR", "autoE", "autoElements", "vacuum", "passedSeconds", "extraTime", "currentTime", "trueSeconds", "globalSpeed", "stageResetCheck", "i", "gainStrange", "assignBuildingInformation", "s", "collapseResetCheck", "autoElementsBuy", "rankResetCheck", "vaporizationResetCheck", "dischargeResetCheck", "autoUpgradesBuy", "autoResearchesBuy", "buyBuilding", "gainBuildings", "research", "stage", "buildings", "peakCheck", "format", "stars", "Overlimit", "buildingsInfo", "howMany", "trueCountID", "unlock", "costName", "currency", "free", "e", "extra", "buy", "cost", "calculateBuildingsCost", "scaling", "assignDischargeCost", "assignNewClouds", "calculateEffects", "collapse", "collapseInfo", "assignNewMass", "assignNewRemnants", "resetMessage", "failMessage", "trueSubtab", "last", "getUpgradeDescription", "stageGain", "getStrangenessDescription", "info", "need", "current", "milestoneGetValue", "perSecond", "clouds", "before", "after", "rain", "storm", "moles", "mass", "auto2", "star0", "star1", "star2", "gamma", "strange", "strangeMax", "playEvent", "ASR", "upgrades", "updateRankInfo", "nova", "superposition", "rank", "planetesimal", "galaxy", "nebula", "cluster", "neutron", "grid", "bound", "voidProgress", "strange5", "researchesAuto", "strangeness", "updateHistory", "updateUnknown", "index", "pointer", "stageIndex", "level", "newLevels", "simplify", "autoStage", "stageText", "getChallengeDescription", "text", "color", "progress", "getChallengeReward", "reward", "visualUpdateUpgrades", "image", "visualUpdateResearches", "max", "upgradeHTML", "rankInfo", "name", "list", "length", "converted", "stageBest", "input", "settings", "inputAbs", "minutes", "seconds", "hours", "days", "years", "precision", "digits", "result", "formated", "stageInfo", "highest", "resets", "challenge", "activeAll", "element", "getClass", "stageWord", "stageStatus", "unlocked", "reset1Footer", "specialHTML", "MDStrangenessPage", "assignMaxRank", "autoUpgradesSet", "autoResearchesSet", "autoElementsSet", "upgradesInfo", "researchesInfo", "researchesExtraInfo", "footerStatsHTML", "showU", "showR", "showRE", "showF", "buildingHTML", "buildingName", "buildingType", "buildingHoverText", "getQuery", "toggleSwap", "researchHTML", "main", "researchExtraHTML", "body", "switchTheme", "reset", "type", "stageIndex", "elements", "player", "i", "allowedToBeReset", "visualUpdateUpgrades", "autoElementsSet", "s", "global", "buildings", "playerStart", "upgrades", "autoUpgradesSet", "researches", "visualUpdateResearches", "calculateResearchCost", "autoResearchesSet", "researchesExtra", "assignEnergy", "assignBuildingInformation", "numbersUpdate", "visualUpdate", "resetStage", "update", "buildingResetValue", "cloneArray", "calculateMaxLevel", "stageUpdate", "active", "resetVacuum", "assignStrangeBoost", "calculateMilestoneInformation", "calculateEffects", "research", "player", "base", "offset", "discharges", "global", "level", "post", "effect", "Overlimit", "puddles", "rain", "storm", "rainEffect", "drops", "minValue", "power", "stars", "logAny", "blackHoles", "disc", "transfer", "effective", "mass", "assignBuildingInformation", "buildings", "upgrades", "researches", "researchesExtra", "elements", "strangeness", "dischargeInfo", "collapseInfo", "milestonesInfo", "producing", "stageBoost", "activeAll", "vacuum", "inVoid", "energy", "tension", "stress", "b3", "b4", "b5", "totalMultiplier", "selfBoost", "listForMult5", "prod5Number", "radiation", "listForMult4", "prod4Number", "listForMult3", "prod3Number", "listForMult2", "listForMult1", "preonsExcess", "vaporizationInfo", "prod2Number", "dropsEffective", "excess", "prod1Number", "satellitesBoost", "listForTotal", "totalNumber", "inflationInfo", "accretionMass", "calculateMassGain", "microworldMass", "buyBuilding", "index", "stageIndex", "howMany", "auto", "checkBuilding", "building", "pointer", "currency", "free", "special", "budget", "total", "calculateBuildingsCost", "afford", "scaling", "reset", "calculateMaxLevel", "globalSave", "getId", "format", "awardVoidReward", "awardMilestone", "assignEnergy", "assignPuddles", "numbersUpdate", "add", "getEnergy", "energyType", "s", "discharge", "buildingsInfo", "firstCost", "increase", "reload", "water5", "water4", "water3", "water2", "gainBuildings", "get", "time", "stageGet", "Notify", "assignStrangeBoost", "strangeQuarks", "gainStrange", "strange", "max", "old", "buyUpgrades", "upgrade", "type", "checkUpgrade", "switchTab", "cost", "newLevels", "simplify", "stageUpdate", "startCost", "decreased", "visualUpdateUpgrades", "calculateResearchCost", "visualUpdateResearches", "buyStrangeness", "setActiveStage", "addAuto", "autoResearchesSet", "autoUpgradesSet", "which", "i", "a", "b", "autoUpgradesBuy", "newIndex", "autoResearchesBuy", "sort", "bought", "autoElementsSet", "autoElementsBuy", "toggleSwap", "number", "change", "toggles", "anyOn", "extraText", "toggleHTML", "toggleConfirm", "stageResetCheck", "allowed", "stageResetReward", "stageAsyncReset", "stage", "active", "challenge", "text", "Confirm", "Alert", "update", "resetThese", "trueGain", "resetType", "postGain", "storage", "history", "resetStage", "stageResetNoReward", "switchStage", "getDischargeScale", "assignDischargeCost", "dischargeResetCheck", "info", "dischargeReset", "dischargeAsyncReset", "assignNewClouds", "vaporizationResetCheck", "clouds", "vaporizationReset", "rainPost", "rainNow", "vaporizationAsyncReset", "autoClouds", "vaporization", "assignMaxRank", "rankResetCheck", "rank", "rankReset", "rankAsyncReset", "massGain", "assignNewMass", "assignNewRemnants", "starCheck", "collapseResetCheck", "remnants", "collapseReset", "massBoostBase", "collapseAsyncReset", "newMass", "newStars", "unlockedG", "cantAffordG", "notMaxed", "message", "count", "noReset", "collapse", "calculateInstability", "milestones", "value", "calculateMilestoneInformation", "need", "reward", "milestoneCheck", "getStrangenessDescription", "progress", "getChallengeDescription", "getChallengeReward", "enterExitChallenge", "globalSave", "saveGlobalSettings", "toggleSpecial", "number", "type", "change", "reload", "toggles", "Confirm", "global", "changeIntervals", "Alert", "toggleHTML", "getId", "specialHTML", "preventImageUnload", "footer", "build", "upgrade", "research", "extra", "extraDiv", "images", "s", "i", "setTheme", "theme", "player", "switchTheme", "body", "dropStatColor", "waterStatColor", "text", "getQuery", "resolve", "blocker", "Notify", "confirm", "key", "button", "close", "cancel", "yes", "no", "result", "Prompt", "placeholder", "input", "notifications", "index", "count", "timeout", "html", "pointer", "remove", "hideFooter", "toggleData", "footerArea", "arrow", "animationReset", "numbersUpdate", "visualUpdate", "changeFontSize", "size", "changeFormat", "point", "htmlInput", "MDStrangenessPage", "stageIndex", "replayEvent", "last", "event", "playEvent", "assignMaxRank", "Overlimit", "_Overlimit", "number", "post", "technical", "newValue", "#privateSet", "numbers", "result", "i", "power", "base", "compare", "previous", "next", "after", "settings", "index", "digits", "left", "right", "check", "difference", "negative", "base10", "target", "tooSmall", "test", "exponent", "mantissa", "powerMantissa", "formatedPower", "globalSave", "formatedBase", "formated", "player", "Overlimit", "global", "index", "stageIndex", "value", "stage", "interstellar", "gain", "calculateEffects", "format", "power", "getDischargeScale", "newBase", "mass", "base", "level", "tension", "stress", "autoIndex", "extraText", "progress", "text", "logAny", "number", "cloneArray", "array", "deepClone", "toClone", "i", "check", "createArray", "length", "s", "upgradeType", "pointer", "playerStart", "updatePlayer", "load", "prepareVacuum", "oldVersion", "a", "oldB", "oldU", "oldR", "oldE", "building", "stars", "calculateInstability", "strangeness", "strangenessMax", "calculateMaxLevel", "visualUpdateResearches", "calculateMilestoneInformation", "extra", "extraMax", "researches", "researchesMax", "assignStrangeBoost", "assignPuddles", "assignEnergy", "getId", "toggleConfirm", "toggleSwap", "buildVersionInfo", "specialHTML", "detectHotkey", "check", "activeType", "global", "key", "code", "shiftKey", "numberKey", "stringKey", "globalSave", "toggleSwap", "buyAll", "timeWarp", "stageAsyncReset", "dischargeAsyncReset", "vaporizationAsyncReset", "rankAsyncReset", "collapseAsyncReset", "activeAll", "index", "player", "switchStage", "tabs", "checkTab", "switchTab", "subtab", "subtabs", "buyBuilding", "getId", "id", "noError", "test", "specialHTML", "store", "global", "Notify", "removeId", "getClass", "idCollection", "getQuery", "query", "handleOfflineTime", "time", "player", "timeNow", "offlineTime", "maxOfflineTime", "changeIntervals", "intervalsId", "intervals", "globalSave", "paused", "timeUpdate", "numbersUpdate", "visualUpdate", "saveGame", "returnOnly", "save", "error", "Alert", "loadGame", "versionCheck", "updatePlayer", "format", "stageUpdate", "exportFileGame", "rewardType", "multiplier", "exportMultiplier", "strangeGain", "assignStrangeBoost", "a", "replaceSaveFileSpecials", "saveConsole", "value", "Prompt", "lower", "saveGlobalSettings", "Confirm", "changeSaveFileName", "input", "newValue", "playerStart", "realName", "date", "dateIndex", "endIndex", "replaced", "special", "replaceWith", "i", "timeIndex", "repeatFunction", "repeat", "cancelRepeat", "hoverUpgrades", "index", "type", "buyUpgrades", "getUpgradeDescription", "hoverStrangeness", "stageIndex", "getStrangenessDescription", "hoverChallenge", "getChallengeDescription", "getChallengeReward", "buyAll", "active", "buyBuilding", "timeWarp", "offline", "warpTime", "remove", "warpMain", "start", "warpEnd", "pauseGame", "preventImageUnload", "globalSettings", "toggleSpecial", "changeFontSize", "stageButton", "reset1Button", "createUpgButton", "pages", "MDToggle1", "effectID", "SRMainDiv", "SRToggle1", "SRToggle2", "s", "visualUpdateResearches", "primaryIndex", "reload", "newTab", "tabText", "tabList", "subtabText", "alertText", "prepareVacuum", "deepClone", "elementsArea", "elementsButton", "MD", "SR", "PC", "body", "key", "detectHotkey", "releaseHotkey", "event", "toggleConfirm", "toggleSwap", "stageAsyncReset", "clickFunc", "dischargeAsyncReset", "vaporizationAsyncReset", "rankAsyncReset", "collapseAsyncReset", "button", "image", "switchVacuum", "enterExitChallenge", "hoverFunc", "MDStrangenessPage", "buyStrangeness", "buildVersionInfo", "setTheme", "autoElementsSet", "autoUpgradesSet", "autoResearchesSet", "mainInput", "numberInput", "visualInput", "autoSaveInput", "changeFormat", "replayEvent", "inputID", "toggle", "timeoutFunc", "hideFooter", "switchTab", "switchStage", "stack", "buttonDiv", "exported"]
}
