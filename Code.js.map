{
  "version": 3,
  "sources": ["Source_TS/Check.ts", "Source_TS/Reset.ts", "Source_TS/Vacuum.ts", "Source_TS/Stage.ts", "Source_TS/Update.ts", "Source_TS/Special.ts", "Source_TS/Limit.ts", "Source_TS/Player.ts", "Source_TS/Hotkeys.ts", "Source_TS/Main.ts"],
  "sourcesContent": ["import Overlimit from './Limit';\nimport { global, player } from './Player';\nimport type { gameTab } from './Types';\n\nexport const checkTab = (tab: gameTab, subtab = null as null | string): boolean => {\n    switch (tab) {\n        case 'stage':\n            if (subtab === 'Advanced') { return player.stage.true >= 7 || (player.stage.true >= 6 && player.stage.resets >= 1); }\n            return subtab === 'Structures' || subtab === null;\n        case 'Elements':\n        case 'upgrade':\n            if (player.stage.true < 2 && player.discharge.energyMax < 12) { return false; }\n            if (subtab === 'Elements' || tab === 'Elements') { return global.stageInfo.activeAll.includes(4) && player.upgrades[4][1] === 1; }\n            return subtab === 'Upgrades' || subtab === null;\n        case 'strangeness':\n            if (player.stage.true < 7 && player.strange[0].total <= 0 && (!player.inflation.vacuum || player.stage.current < 5)) { return false; }\n            if (subtab === 'Milestones') { return player.cosmon.total >= 2 || !player.inflation.vacuum; }\n            return subtab === 'Matter' || subtab === null;\n        case 'inflation':\n            if (player.stage.true < 7) { return false; }\n            return subtab === 'Researches' || subtab === 'Milestones' || subtab === null;\n        case 'settings':\n            if (subtab === 'History') { return player.stage.true >= 7 || player.strange[0].total > 0; }\n            return subtab === 'Settings' || subtab === 'Stats' || subtab === null;\n        default:\n            return false;\n    }\n};\n\nexport const checkBuilding = (index: number, stageIndex: number): boolean => {\n    if (index < 1 || global.buildingsInfo.maxActive[stageIndex] < index + 1) { return false; }\n\n    if (stageIndex === 1) {\n        return true;\n    } else if (stageIndex === 2) {\n        return true;\n    } else if (stageIndex === 3) {\n        if (player.accretion.rank === 0) { return false; }\n        if (index === 1) { return true; }\n        if (index === 2) { return player.upgrades[3][2] === 1; }\n        if (index === 3) { return player.upgrades[3][4] === 1; }\n        if (index === 4) { return player.upgrades[3][8] === 1; }\n        if (index === 5) { return player.upgrades[3][11] === 1; }\n    } else if (stageIndex === 4) {\n        if (player.collapse.mass < global.collapseInfo.unlockB[index] && player.researchesExtra[5][0] < 1) { return false; }\n        if (index === 1) { return true; }\n        if (index === 2) { return player.researchesExtra[4][0] >= 1; }\n        if (index === 3) { return player.researchesExtra[4][0] >= 2; }\n        if (index === 4) { return player.researchesExtra[4][0] >= 3; }\n        if (index === 5) { return player.elements[26] >= 1 && player.challenges.active !== 0; }\n    } else if (stageIndex === 5) {\n        if (index === 1) { return player.inflation.vacuum || player.milestones[2][0] >= 7; }\n        if (index === 2) { return player.inflation.vacuum || player.milestones[3][0] >= 7; }\n        if (index === 3) { return player.researchesExtra[5][0] >= 1; }\n    } else if (stageIndex === 6) {\n        return player.inflation.vacuum;\n    }\n\n    return false;\n};\n\nexport const checkUpgrade = (upgrade: number, stageIndex: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements' | 'strangeness' | 'inflation'): boolean => {\n    if (upgrade < 0) { return false; }\n    switch (type) { //Some cases are handled by max level being 0\n        case 'upgrades':\n            if (global.upgradesInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (stageIndex === 1) {\n                if (upgrade === 0 || upgrade === 1) { return player.inflation.vacuum; }\n                if (upgrade === 3) { return player.upgrades[1][5] === 1 || player.buildings[1][player.inflation.vacuum ? 4 : 2].total.moreThan('0'); }\n                if (upgrade === 4) { return player.upgrades[1][5] === 1 || player.buildings[1][player.inflation.vacuum ? 5 : 3].total.moreThan('0'); }\n                if (upgrade > 5) { return player.upgrades[1][5] === 1; }\n                return true;\n            } else if (stageIndex === 2) {\n                if (upgrade === 0) { return player.buildings[2][1].true >= 1 || player.buildings[2][2].true >= 1; }\n                if (upgrade === 7) { return player.strangeness[2][2] >= 3; }\n                if (upgrade === 8) { return player.strangeness[2][8] >= 3; }\n                return true;\n            } else if (stageIndex === 3) {\n                if (player.accretion.rank < global.accretionInfo.rankU[upgrade] || player.accretion.rank === 0) { return false; }\n                if (upgrade === 7) { return player.strangeness[3][2] >= 3; }\n                return true;\n            } else if (stageIndex === 4) {\n                if (player.collapse.mass < global.collapseInfo.unlockU[upgrade] && player.researchesExtra[5][0] < 1) { return false; }\n                if (upgrade === 2) { return player.upgrades[4][1] === 1; }\n                if (upgrade === 3) { return player.strangeness[4][2] >= 3 && player.upgrades[4][2] === 1 && (player.collapse.stars[1] > 0 || player.researchesExtra[5][0] >= 1); }\n                if (upgrade === 4) { return player.strangeness[4][9] >= 1 && player.upgrades[4][3] === 1; }\n                return true;\n            } else if (stageIndex === 5) {\n                if (upgrade === 0) { return player.inflation.vacuum || player.milestones[2][0] >= 7; }\n                if (upgrade === 1) { return player.inflation.vacuum || player.milestones[3][0] >= 7; }\n                if (upgrade === 2) { return player.buildings[5][3].true >= 1; }\n                if (upgrade === 3) { return player.inflation.vacuum ? player.accretion.rank >= 7 : player.milestones[5][1] >= 8; }\n            }\n            break;\n        case 'researches':\n            if (global.researchesInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (stageIndex === 1) {\n                return player.upgrades[1][5] === 1;\n            } else if (stageIndex === 2) {\n                return true;\n            } else if (stageIndex === 3) {\n                return player.accretion.rank >= global.accretionInfo.rankR[upgrade] && player.accretion.rank !== 0;\n            } else if (stageIndex === 4) {\n                if (player.collapse.mass < global.collapseInfo.unlockR[upgrade] && player.researchesExtra[5][0] < 1) { return false; }\n                if (upgrade === 3) { return (player.collapse.stars[0] > 0 || player.researchesExtra[5][0] >= 1) && player.strangeness[4][2] >= 1; }\n                if (upgrade === 4) { return player.collapse.stars[2] > 0 || player.researchesExtra[5][0] >= 1; }\n                if (upgrade === 5) { return (player.collapse.stars[2] > 0 || player.researchesExtra[5][0] >= 1) && player.strangeness[4][9] >= 3; }\n                return true;\n            } else if (stageIndex === 5) {\n                if (upgrade === 0) { return player.inflation.vacuum || player.milestones[2][0] >= 7; }\n                if (upgrade === 1) { return player.inflation.vacuum || player.milestones[3][0] >= 7; }\n            }\n            break;\n        case 'researchesExtra':\n            if (global.researchesExtraInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (stageIndex === 1) {\n                if (upgrade === 1) { return player.researchesExtra[1][2] >= 2; }\n                if (upgrade === 3) { return player.researchesExtra[1][2] >= 1; }\n                if (upgrade === 4) { return player.accretion.rank >= 6; }\n                return player.upgrades[1][5] === 1;\n            } else if (stageIndex === 2) {\n                if (upgrade === 3) { return player.accretion.rank >= 6; }\n                return player.upgrades[2][2] === 1;\n            } else if (stageIndex === 3) {\n                if (player.accretion.rank < global.accretionInfo.rankE[upgrade] || player.accretion.rank === 0) { return false; }\n                if (upgrade === 4) { return player.researchesExtra[1][2] >= 2; }\n                return true;\n            } else if (stageIndex === 4) {\n                if (upgrade === 1) { return player.collapse.stars[0] > 0 || player.researchesExtra[5][0] >= 1; }\n                if (upgrade === 2) { return (player.collapse.stars[0] > 0 || player.researchesExtra[5][0] >= 1) && player.strangeness[4][2] >= 2; }\n                if (upgrade === 3) { return (player.collapse.stars[1] > 0 || player.researchesExtra[5][0] >= 1) && player.strangeness[4][9] >= 2; }\n                return true;\n            } else if (stageIndex === 5) {\n                if (upgrade === 0) { return (player.inflation.vacuum || player.milestones[4][1] >= 8) && player.strangeness[5][3] >= 1; }\n            }\n            break;\n        case 'researchesAuto': {\n            const autoStage = global.researchesAutoInfo.autoStage[upgrade][player.researchesAuto[upgrade]]; //Can be undefined\n            if (!(autoStage === stageIndex || (autoStage === 4 && stageIndex === 5))) { return false; }\n            if (upgrade === 0 || upgrade === 1) { return player.inflation.vacuum; }\n            return true;\n        }\n        case 'ASR':\n            if (stageIndex === 1) { return player.upgrades[1][5] >= 1; }\n            if (stageIndex === 3) { return player.accretion.rank !== 0; }\n            return true;\n        case 'elements':\n            if (upgrade >= 29) { return player.upgrades[4][4] === 1 && player.buildings[6][1].true >= upgrade - 29; }\n            if (upgrade >= 27) { return player.upgrades[4][3] === 1; }\n            if (upgrade >= 11) { return player.upgrades[4][2] === 1 && (player.collapse.stars[1] > 0 || player.researchesExtra[5][0] >= 1); }\n            if (upgrade >= 6) { return player.upgrades[4][2] === 1; }\n            return player.upgrades[4][1] === 1 && upgrade > 0;\n        case 'strangeness':\n            if (global.strangenessInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (player.inflation.vacuum) {\n                if (stageIndex === 1) {\n                    if (upgrade === 7) { return player.challenges.void[1] >= 1; }\n                    if (upgrade === 8) { return player.challenges.void[1] >= 2; }\n                    if (upgrade === 9) { return player.challenges.void[4] >= 2; }\n                } else if (stageIndex === 2) {\n                    if (upgrade === 7) { return player.challenges.void[1] >= 3; }\n                    if (upgrade === 8) { return player.challenges.void[2] >= 1; }\n                    if (upgrade === 9) { return player.challenges.void[2] >= 2; }\n                } else if (stageIndex === 3) {\n                    if (upgrade === 8) { return player.challenges.void[4] >= 4; }\n                    if (upgrade === 9) { return player.challenges.void[5] >= 2; }\n                } else if (stageIndex === 4) {\n                    if (upgrade === 8) { return player.challenges.void[4] >= 3; }\n                    if (upgrade === 9) { return player.challenges.void[5] >= 1; }\n                } else if (stageIndex === 5) {\n                    if (upgrade === 4) { return player.challenges.void[4] >= 1; }\n                    if (upgrade === 8) { return player.challenges.void[3] >= 5; }\n                    if ([0, 1, 5, 7].includes(upgrade)) { return player.strangeness[5][3] >= 1; }\n                }\n                return true;\n            }\n            if (((stageIndex === 1 || stageIndex === 2) && upgrade < 6) || ((stageIndex === 3 || stageIndex === 4) && upgrade < 7)) { return true; }\n            if (player.milestones[4][0] < 8) { return false; }\n            if (stageIndex === 5) {\n                if (upgrade === 2) { return player.milestones[5][0] >= 8; }\n                if (upgrade === 4) { return player.milestones[4][1] >= 8; }\n                if ([0, 1, 3, 5].includes(upgrade)) { return player.milestones[2][0] >= 7 || player.milestones[3][0] >= 7; }\n            }\n            return true;\n        case 'inflation':\n            return player.stage.true >= 7;\n    }\n\n    return false;\n};\n\nexport const allowedToBeReset = (check: number, stageIndex: number, type: 'structures' | 'upgrades' | 'researches' | 'researchesExtra' | 'elements'): boolean => {\n    switch (type) {\n        case 'structures':\n            if (stageIndex === 5) { return check !== 3; }\n            if (stageIndex === 6) { return check < 1; }\n            break;\n        case 'upgrades':\n            if (stageIndex === 1) { return check !== 5; }\n            if (stageIndex === 2) { return check !== 2; }\n            if (stageIndex === 4) { return false; }\n            if (stageIndex === 5) { return check !== 3; }\n            break;\n        case 'researches':\n            if (stageIndex === 1) { return check !== 3; }\n            break;\n        case 'researchesExtra':\n            if (stageIndex === 1) { return check !== 2; }\n            if (stageIndex === 2) { return check > 1; }\n            if (stageIndex === 4) { return check !== 0; }\n            if (stageIndex === 5) { return check !== 0; }\n            break;\n        case 'elements':\n            return ![26, 29, 30].includes(check);\n    }\n\n    return true;\n};\n\nexport const milestoneGetValue = (index: number, stageIndex: number): number | Overlimit => {\n    if (stageIndex === 1) {\n        if (index === 0) { return player.buildings[1][player.inflation.vacuum ? 1 : 0].total; }\n        if (index === 1) { return player.discharge.energy; }\n    } else if (stageIndex === 2) {\n        if (index === 0) { return player.inflation.vacuum ? player.vaporization.clouds : player.buildings[2][1].total; }\n        if (index === 1) { return player.buildings[2][2].current; }\n    } else if (stageIndex === 3) {\n        if (index === 0) { return player.inflation.vacuum ? new Overlimit(player.buildings[1][0].total).multiply('1.78266192e-33') : player.buildings[3][0].total; }\n        if (index === 1) { return player.buildings[3][4].true + player.buildings[3][5].true; }\n    } else if (stageIndex === 4) {\n        if (index === 0) { return player.buildings[4][0].total; }\n        if (index === 1) { return player.inflation.vacuum ? player.collapse.stars[2] : player.collapse.mass; }\n    } else if (stageIndex === 5) {\n        if (index === 0) { return global.collapseInfo.trueStars; }\n        if (index === 1) { return player.buildings[5][3].current; }\n    }\n    throw new TypeError(`Milestone s${stageIndex}-i${index} doesn't exist`);\n};\nexport const milestoneCheck = (index: number, stageIndex: number): boolean => {\n    const pointer = global.milestonesInfo[stageIndex];\n    if (player.inflation.vacuum) {\n        if (player.challenges.active !== 0 || player.inflation.tree[4] < 1) { return false; }\n        return false;\n    } else {\n        if (pointer.max[index] <= player.milestones[stageIndex][index]) { return false; }\n        if (player.stage.true < 7 && player.stage.resets < 4) { return false; }\n        if (stageIndex === 5 && player.milestones[4][0] < 8 && index === 0) { return false; }\n        if (player.inflation.tree[4] < 1 && pointer.time[index] / (player.inflation.tree[0] >= 1 ? 4 : 1) < player.time.stage) { return false; }\n    }\n    return pointer.need[index].lessOrEqual(milestoneGetValue(index, stageIndex));\n};\n", "import { allowedToBeReset, checkTab } from './Check';\nimport { cloneArray, global, player, playerStart } from './Player';\nimport { autoResearchesSet, autoUpgradesSet, calculateMaxLevel, calculateResearchCost, assignBuildingInformation, autoElementsSet, assignMilestoneInformation, assignStrangeInfo, assignMaxRank, assignEnergyArray, assignPuddles } from './Stage';\nimport { numbersUpdate, setRemnants, stageUpdate, switchTab, visualUpdate, visualUpdateResearches, visualUpdateUpgrades } from './Update';\n\nexport const reset = (type: 'discharge' | 'vaporization' | 'rank' | 'collapse' | 'galaxy', stageIndex: number[]) => {\n    const { dischargeInfo } = global;\n    const { energyStage, energyType } = dischargeInfo;\n    const { buildings, discharge } = player;\n\n    if (type === 'galaxy') {\n        const { elements } = player;\n\n        for (let i = 1; i < playerStart.elements.length; i++) {\n            if (!allowedToBeReset(i, 4, 'elements')) { continue; }\n\n            elements[i] = 0;\n            visualUpdateUpgrades(i, 4, 'elements');\n        }\n        autoElementsSet();\n\n        player.collapse.mass = 0.01235;\n        player.collapse.stars = [0, 0, 0];\n    }\n\n    let energyRefund = 0;\n    for (const s of stageIndex) {\n        if (s === 2) {\n            global.vaporizationInfo.trueResearch0 = 0;\n            global.vaporizationInfo.trueResearch1 = 0;\n            global.vaporizationInfo.trueResearchRain = 0;\n        } else if (s === 4) {\n            global.collapseInfo.trueStars = 0;\n        }\n        energyRefund += energyStage[s];\n        energyStage[s] = 0;\n\n        const building = buildings[s];\n        building[0].current.setValue(playerStart.buildings[s][0].current);\n        building[0].total.setValue(playerStart.buildings[s][0].current);\n        for (let i = 1; i < global.buildingsInfo.maxActive[s]; i++) {\n            if (!allowedToBeReset(i, s, 'structures')) {\n                if (!player.inflation.vacuum) { continue; }\n                const energy = energyType[s][i] * building[i as 1].true;\n                energyStage[s] += energy;\n                energyRefund -= energy;\n                continue;\n            }\n\n            building[i as 1].true = 0;\n            building[i].current.setValue('0');\n            building[i].total.setValue('0');\n        }\n\n        if (type === 'discharge') { continue; }\n        const upgrades = player.upgrades[s];\n\n        for (let i = 0; i < global.upgradesInfo[s].maxActive; i++) {\n            if (!allowedToBeReset(i, s, 'upgrades')) { continue; }\n\n            upgrades[i] = 0;\n            visualUpdateUpgrades(i, s, 'upgrades');\n        }\n        autoUpgradesSet(s);\n\n        if (type === 'vaporization') { continue; }\n        const researches = player.researches[s];\n\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) {\n            if (!allowedToBeReset(i, s, 'researches')) { continue; }\n\n            researches[i] = 0;\n            visualUpdateResearches(i, s, 'researches');\n            calculateResearchCost(i, s, 'researches');\n        }\n        autoResearchesSet('researches', s);\n\n        if (type === 'rank') { continue; }\n        const researchesExtra = player.researchesExtra[s];\n\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) {\n            if (!allowedToBeReset(i, s, 'researchesExtra')) { continue; }\n\n            researchesExtra[i] = 0;\n            visualUpdateResearches(i, s, 'researchesExtra');\n            calculateResearchCost(i, s, 'researchesExtra');\n        }\n        autoResearchesSet('researchesExtra', s);\n        if (player.stage.active === 4) { setRemnants(); }\n    }\n\n    if (player.inflation.vacuum) {\n        let deficit = dischargeInfo.energyTrue - discharge.energy - energyRefund;\n        for (let s = 2; s <= 5; s++) {\n            if (stageIndex.includes(s)) { continue; }\n            const building = buildings[s];\n            for (let i = global.buildingsInfo.maxActive[s] - 1; i >= 1; i--) {\n                if (!allowedToBeReset(i, s, 'structures')) { continue; }\n\n                if (deficit > 0) {\n                    const max = Math.min(Math.ceil(deficit / energyType[s][i]), building[i as 1].true);\n                    if (max > 0) {\n                        building[i as 1].true -= max;\n                        deficit -= max * energyType[s][i];\n                        energyStage[s] -= max * energyType[s][i];\n                        if (s === 4) { global.collapseInfo.trueStars -= max; }\n                    }\n                }\n                building[i].current.setValue(building[i as 1].true);\n                building[i].total.setValue(building[i as 1].true);\n            }\n            if (s !== 5) { //Stage 5 need to use trueStars (not included because its a fake stat)\n                building[0].current.setValue(playerStart.buildings[s][0].current);\n                building[0].total.setValue(playerStart.buildings[s][0].current);\n            }\n            if (s === 2) {\n                global.vaporizationInfo.trueResearch0 = 0;\n                global.vaporizationInfo.trueResearch1 = 0;\n                global.vaporizationInfo.trueResearchRain = 0;\n                assignPuddles();\n            }\n        }\n\n        discharge.energy += deficit;\n        dischargeInfo.energyTrue = discharge.energy;\n    } else if (type === 'discharge') { //stageIndex.includes(1)\n        discharge.energy = 0;\n        dischargeInfo.energyTrue = 0;\n    }\n\n    assignBuildingInformation();\n    if (!global.paused && stageIndex.includes(player.stage.active)) {\n        visualUpdate();\n        numbersUpdate();\n    }\n};\n\n/** Default value for update is 'normal' */\nexport const resetStage = (stageIndex: number[], update = 'normal' as false | 'normal' | 'soft') => {\n    for (const s of stageIndex) {\n        const buildings = player.buildings[s];\n        const buildingResetValue = playerStart.buildings[s][0].current;\n        buildings[0].current.setValue(buildingResetValue);\n        buildings[0].total.setValue(buildingResetValue);\n        buildings[0].trueTotal.setValue(buildingResetValue);\n        if (s !== 6) {\n            for (let i = 1; i < global.buildingsInfo.maxActive[s]; i++) {\n                buildings[i as 1].true = 0;\n                buildings[i].current.setValue('0');\n                buildings[i].total.setValue('0');\n                buildings[i].trueTotal.setValue('0');\n            }\n            global.dischargeInfo.energyStage[s] = 0;\n        }\n\n        player.upgrades[s] = cloneArray(playerStart.upgrades[s]);\n        player.researches[s] = cloneArray(playerStart.researches[s]);\n        player.researchesExtra[s] = cloneArray(playerStart.researchesExtra[s]);\n        autoUpgradesSet(s);\n\n        global.lastUpgrade[s][0] = null;\n        if (s === 1) {\n            if (player.strangeness[1][5] < 1) { player.ASR[1] = 0; }\n            player.discharge.current = 0;\n            player.discharge.energy = 0;\n            global.dischargeInfo.energyTrue = 0;\n        } else if (s === 2) {\n            if (player.strangeness[2][5] < 1) { player.ASR[2] = 0; }\n            player.vaporization.clouds.setValue('0');\n        } else if (s === 3) {\n            if (player.strangeness[3][5] < 1) { player.ASR[3] = 0; }\n            if (player.inflation.vacuum) {\n                player.accretion.rank = 1;\n            } else {\n                player.accretion.rank = 0;\n                buildings[0].current.setValue('5.9722e27');\n            }\n        } else if (s === 4) {\n            if (player.strangeness[4][5] < 1) { player.ASR[4] = 0; }\n            global.collapseInfo.trueStars = 0;\n            player.collapse.mass = 0.01235;\n            player.collapse.stars = [0, 0, 0];\n            player.elements = cloneArray(playerStart.elements);\n            player.elements[0] = player.strangeness[4][8] >= 1 ? 1 : 0;\n            autoElementsSet();\n            for (let i = 0; i < playerStart.elements.length; i++) { visualUpdateUpgrades(i, 4, 'elements'); }\n            global.lastElement = null;\n        } else if (s === 5) {\n            if (player.strangeness[5][5] < 1) { player.ASR[5] = 0; }\n            player.merge.reward = [0];\n            player.merge.resets = 0;\n        }\n    }\n    if (update !== false) {\n        player.researchesAuto[0] = player.strangeness[3][6];\n        player.researchesAuto[1] = player.strangeness[4][6];\n        player.researchesAuto[2] = player.inflation.vacuum ? (player.strangeness[1][4] < 1 ? 0 : player.strangeness[3][4] < 1 ? 1 : player.strangeness[2][4] < 1 ? 2 : player.strangeness[4][4] < 1 ? 3 : 4) : (player.strangeness[Math.min(player.stage.current, 4)][4] >= 1 ? 1 : 0);\n        for (let i = 0; i < playerStart.researchesAuto.length; i++) { visualUpdateResearches(i, 0, 'researchesAuto'); }\n    }\n    if (player.stage.active === 4) { setRemnants(); }\n\n    for (const s of stageIndex) { //Less errors if do it separatly\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researches'); }\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researchesExtra'); }\n        calculateMaxLevel(0, s, 'ASR');\n\n        autoResearchesSet('researches', s);\n        autoResearchesSet('researchesExtra', s);\n    }\n    switchTab(checkTab(global.tab) ? global.tab : 'stage'); //Update subtab list\n\n    assignBuildingInformation();\n    if (update !== false) {\n        stageUpdate(update);\n        if (update === 'soft') {\n            const active = player.stage.active;\n            for (let i = 0; i < global.upgradesInfo[active].maxActive; i++) { visualUpdateUpgrades(i, active, 'upgrades'); }\n        }\n    }\n};\n\nexport const resetVacuum = () => {\n    const activeMilestone = global.milestonesInfoS6.active;\n    for (let s = 1; s <= 6; s++) {\n        const buildings = player.buildings[s];\n        const buildingResetValue = playerStart.buildings[s][0].current;\n        buildings[0].current.setValue(buildingResetValue);\n        buildings[0].total.setValue(buildingResetValue);\n        buildings[0].trueTotal.setValue(buildingResetValue);\n        if (s !== 6) {\n            for (let i = 1; i < playerStart.buildings[s].length; i++) {\n                buildings[i as 1].true = 0;\n                buildings[i].current.setValue('0');\n                buildings[i].total.setValue('0');\n                buildings[i].trueTotal.setValue('0');\n            }\n            global.dischargeInfo.energyStage[s] = 0;\n            player.strangeness[s] = cloneArray(playerStart.strangeness[s]);\n            player.milestones[s] = cloneArray(playerStart.milestones[s]);\n            player.ASR[s] = 0;\n        }\n\n        player.upgrades[s] = cloneArray(playerStart.upgrades[s]);\n        player.researches[s] = cloneArray(playerStart.researches[s]);\n        player.researchesExtra[s] = cloneArray(playerStart.researchesExtra[s]);\n    }\n    player.researchesAuto = cloneArray(playerStart.researchesAuto);\n\n    //Stage 1\n    player.discharge.energy = 0;\n    player.discharge.energyMax = 0;\n    player.discharge.current = 0;\n    global.dischargeInfo.energyTrue = 0;\n\n    //Stage 2\n    player.vaporization.clouds.setValue('0');\n    player.vaporization.cloudsMax.setValue('0');\n\n    //Stage 3\n    if (player.inflation.vacuum) {\n        player.accretion.rank = 1;\n    } else {\n        player.accretion.rank = 0;\n        player.buildings[3][0].current.setValue('5.9722e27');\n    }\n\n    //Stage 4\n    global.collapseInfo.trueStars = 0;\n    player.collapse.mass = 0.01235;\n    player.collapse.massMax = 0.01235;\n    player.collapse.stars = [0, 0, 0];\n    player.elements = cloneArray(playerStart.elements);\n\n    //Stage 5 and Strangeness\n    player.merge.resets = 0;\n    player.merge.reward = [0];\n    player.challenges.void = cloneArray(playerStart.challenges.void);\n    player.challenges.active = null;\n    global.historyStorage.stage = [];\n    player.history.stage.best = [3.1556952e16, 0, 0, 0];\n    global.strangeInfo.bestHistoryRate = 0;\n    player.stage.current = 1;\n    player.stage.resets = 0;\n    player.stage.peak = 0;\n    player.stage.time = 0;\n    player.time.stage = 0;\n    for (let i = 0; i < playerStart.strange.length; i++) {\n        player.time.export[i + 1] = 0;\n        player.strange[i].current = 0;\n        player.strange[i].total = 0;\n    }\n\n    if (activeMilestone[0]) {\n        const startQuarks = player.buildings[6][1].current.toNumber();\n        player.strange[0].current = startQuarks;\n        player.strange[0].total = startQuarks;\n        player.strangeness[1][8] = 2;\n    }\n    if (activeMilestone[1]) { player.strangeness[5][4] = 1; }\n    if (activeMilestone[2]) {\n        player.strangeness[3][6] = 3;\n        player.strangeness[4][6] = 2;\n        player.researchesAuto[0] = 3;\n        player.researchesAuto[1] = 2;\n    }\n\n    assignBuildingInformation();\n    assignStrangeInfo[1]();\n    assignStrangeInfo[0]();\n    assignMaxRank();\n    assignEnergyArray();\n    for (let s = 1; s <= 5; s++) {\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researches'); }\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researchesExtra'); }\n        calculateMaxLevel(0, s, 'ASR');\n        if (activeMilestone[1]) {\n            player.ASR[s] = global.ASRInfo.max[s];\n            player.strangeness[s][5] = 1;\n        }\n        for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'strangeness'); }\n        for (let i = 0; i < playerStart.milestones[s].length; i++) { assignMilestoneInformation(i, s); }\n    }\n    for (let i = 0; i < playerStart.researchesAuto.length; i++) { calculateMaxLevel(i, 0, 'researchesAuto'); }\n\n    stageUpdate('reload');\n};\n", "import { getId, getQuery } from './Main';\nimport { global, player, playerStart } from './Player';\nimport { resetVacuum } from './Reset';\nimport { globalSave, playEvent, specialHTML } from './Special';\n\nexport const prepareVacuum = (state: boolean) => { //Must not use direct player values\n    const { buildings } = playerStart;\n    const { buildingsInfo, upgradesInfo, researchesInfo, researchesExtraInfo, strangenessInfo } = global;\n    const star3ExpId = getId('star3Explanation');\n    let buildingsActive, upgrades1Cost, researches1Cost, researches1Scaling, strangeness1Cost, strangeness1Scaling, strangeness2Cost, strangeness2Scaling, strangeness3Cost, strangeness3Scaling, strangeness4Cost, strangeness4Scaling, strangeness5Cost, strangeness5Scaling;\n\n    if (state) {\n        getId('mergeResetText').innerHTML = '<span class=\"darkvioletText\">Merge</span> does a <span class=\"grayText\">Galaxy</span> reset, while also converting self-made <span class=\"grayText\">Galaxies</span> into non self-made.';\n        specialHTML.footerStatsHTML[1][0] = ['Energy%20mass.png', 'stage1borderImage cyanText', 'Mass'];\n        buildingsInfo.hoverText[2][0] = 'Tritium';\n        buildingsInfo.hoverText[3][0] = 'Preons hardcap';\n        buildings[1][0].current.setValue('5.476e-3');\n        buildings[2][0].current.setValue('0');\n        buildings[3][0].current.setValue('9.76185667392e-36');\n        buildingsActive = [6, 7, 6, 6, 4];\n        if (buildingsInfo.name[1][0] !== 'Mass') {\n            specialHTML.buildingHTML[1].unshift('Preon.png', 'Quarks.png');\n            buildingsInfo.name[1].unshift('Mass', 'Preons');\n            buildingsInfo.hoverText[1].unshift('Mass', 'Preons');\n        }\n        buildingsInfo.startCost[1] = [0, 0.005476, 6, 3, 24, 3];\n        buildingsInfo.type[2][1] = 'improving';\n        buildingsInfo.type[3][1] = 'delaying';\n        star3ExpId.textContent = 'Boost to Solar mass gain and delay to Preons hardcap';\n\n        upgrades1Cost = [40, 60, 100, 120, 180, 360, 1200, 3600, 12000, 80000];\n        upgradesInfo[2].startCost[0] = 10;\n        upgradesInfo[5].startCost[3] = 1e160;\n        //upgradesInfo[1].maxActive = 10;\n        upgradesInfo[2].maxActive = 9;\n        //upgradesInfo[3].maxActive = 13;\n        upgradesInfo[4].maxActive = 5;\n        //upgradesInfo[5].maxActive = 4;\n\n        researches1Cost = [1600, 4800, 16000, 32000, 16000, 24000];\n        researches1Scaling = [400, 1200, 8000, 40000, 16000, 16000];\n        researchesInfo[2].scaling[2] = 1e2;\n        researchesInfo[2].scaling[3] = 1e3;\n        //researchesInfo[1].maxActive = 6;\n        //researchesInfo[2].maxActive = 6;\n        //researchesInfo[3].maxActive = 9;\n        researchesInfo[4].maxActive = 6;\n        //researchesInfo[5].maxActive = 2;\n\n        researchesExtraInfo[1].maxActive = 5;\n        researchesExtraInfo[2].maxActive = 4;\n        researchesExtraInfo[3].maxActive = 5;\n        researchesExtraInfo[4].maxActive = 4;\n        //researchesExtraInfo[5].maxActive = 1;\n\n        global.elementsInfo.startCost[27] = 1e54;\n        global.elementsInfo.startCost[28] = 1e58;\n\n        global.ASRInfo.costRange[1] = [2000, 8000, 16000, 32000, 56000];\n        global.ASRInfo.costRange[3][3] = 2.45576045e31;\n\n        strangeness1Cost = [1, 1, 1, 2, 12, 2, 24];\n        strangeness1Scaling = [2.46, 2, 6, 6, 400, 1, 1];\n        strangeness2Cost = [1, 1, 2, 2, 12, 4, 24];\n        strangeness2Scaling = [2.46, 2, 3, 3.4, 800, 1, 1];\n        strangeness3Cost = [1, 2, 2, 24, 12, 4, 4, 24];\n        strangeness3Scaling = [2, 3.4, 3, 1, 100, 1, 1.74, 1];\n        strangeness4Cost = [1, 2, 4, 2, 12, 6, 6, 24];\n        strangeness4Scaling = [2, 3.4, 3, 6, 1900, 1, 1.74, 1];\n        strangeness5Cost = [24, 36, 6, 24, 15600, 24, 96, 120];\n        strangeness5Scaling = [2, 2, 3.4, 1, Infinity, 1, 1, 1];\n        strangenessInfo[1].maxActive = 10;\n        strangenessInfo[2].maxActive = 10;\n        strangenessInfo[3].maxActive = 10;\n        strangenessInfo[4].maxActive = 10;\n        strangenessInfo[5].maxActive = 9;\n\n        const milestone1S1 = getQuery('#milestone1Stage1Div > img') as HTMLImageElement;\n        milestone1S1.src = milestone1S1.src.replace('Quarks.png', 'Preon.png');\n        const milestone1S2 = getQuery('#milestone1Stage2Div > img') as HTMLImageElement;\n        global.milestonesInfo[2].name[0] = 'Distant Clouds';\n        getId('milestone1Stage2Name').textContent = 'Distant Clouds';\n        milestone1S2.src = milestone1S2.src.replace('Drop.png', 'Clouds.png');\n        milestone1S2.alt = 'Distant Clouds';\n        (getQuery('#milestone1Stage3Div > img') as HTMLImageElement).alt = 'Center of gravity';\n        global.milestonesInfo[3].name[0] = 'Center of gravity';\n        getId('milestone1Stage3Name').textContent = 'Center of gravity';\n        const milestone1S4 = getQuery('#milestone1Stage4Div > img') as HTMLImageElement;\n        milestone1S4.src = milestone1S4.src.replace('Main_sequence%20mass.png', 'Black%20hole.png');\n        getQuery('#stageHistory > h4').textContent = 'Stage resets:';\n\n        getId('preonCap').style.display = '';\n        getId('molesProduction').style.display = '';\n        getId('massProduction').style.display = '';\n        getId('dustCap').style.display = '';\n        getId('solarMassCollapseMaxMain').style.display = '';\n        getId('element0').style.display = '';\n        getId('strange7Stage1').style.display = '';\n        getId('strange7Stage2').style.display = '';\n        getId('strange8Stage3').style.display = '';\n        getId('strange8Stage4').style.display = '';\n        getId('strange3Stage5').style.display = '';\n        getId('strange4Stage5').style.display = '';\n        getId('collapseCapped').style.display = '';\n        getId('stageInstant').style.display = 'none';\n    } else {\n        specialHTML.footerStatsHTML[1][0] = ['Quarks.png', 'stage1borderImage cyanText', 'Quarks'];\n        buildingsInfo.hoverText[2][0] = 'Moles';\n        buildingsInfo.hoverText[3][0] = 'Mass';\n        buildings[1][0].current.setValue('3');\n        buildings[2][0].current.setValue('2.7753108348135e-3');\n        buildings[3][0].current.setValue('1e-19');\n        if (buildingsInfo.name[1][0] === 'Mass') {\n            specialHTML.buildingHTML[1].splice(0, 2);\n            buildingsInfo.name[1].splice(0, 2);\n            buildingsInfo.hoverText[1].splice(0, 2);\n        }\n        buildingsActive = [4, 6, 5, 5, 4];\n        buildingsInfo.startCost[1] = [0, 3, 24, 3];\n        buildingsInfo.type[2][1] = 'producing';\n        buildingsInfo.type[3][1] = 'producing';\n        star3ExpId.textContent = 'Boost to Solar mass gain';\n\n        upgrades1Cost = [0, 0, 12, 36, 120, 240, 480, 1600, 3200, 20800];\n        upgradesInfo[2].startCost[0] = 1e4;\n        upgradesInfo[5].startCost[3] = 1e150;\n        upgradesInfo[1].maxActive = 10;\n        upgradesInfo[2].maxActive = 8;\n        upgradesInfo[3].maxActive = 13;\n        upgradesInfo[4].maxActive = 4;\n        upgradesInfo[5].maxActive = 4;\n\n        researches1Cost = [600, 2000, 4000, 4000, 6000, 6000];\n        researches1Scaling = [200, 400, 2000, 12000, 4000, 6000];\n        researchesInfo[2].scaling[2] = 1e3;\n        researchesInfo[2].scaling[3] = 1e2;\n        researchesInfo[1].maxActive = 6;\n        researchesInfo[2].maxActive = 6;\n        researchesInfo[3].maxActive = 9;\n        researchesInfo[4].maxActive = 5;\n        researchesInfo[5].maxActive = 2;\n\n        researchesExtraInfo[1].maxActive = 0;\n        researchesExtraInfo[2].maxActive = 3;\n        researchesExtraInfo[3].maxActive = 4;\n        researchesExtraInfo[4].maxActive = 3;\n        researchesExtraInfo[5].maxActive = 1;\n\n        global.elementsInfo.startCost[27] = 1e52;\n        global.elementsInfo.startCost[28] = 1e54;\n\n        global.ASRInfo.costRange[1] = [2000, 8000, 16000];\n        global.ASRInfo.costRange[3][3] = 2e30;\n\n        strangeness1Cost = [1, 1, 1, 2, 4, 2, 24];\n        strangeness1Scaling = [1, 0.75, 1.5, 3, 0, 0, 0];\n        strangeness2Cost = [1, 1, 2, 2, 4, 2, 24];\n        strangeness2Scaling = [0.5, 0.75, 2, 2, 0, 0, 0];\n        strangeness3Cost = [1, 1, 2, 6, 4, 2, 6, 24];\n        strangeness3Scaling = [0.75, 1.5, 2, 0, 0, 0, 3, 0];\n        strangeness4Cost = [1, 1, 3, 2, 4, 2, 4, 24];\n        strangeness4Scaling = [1, 2, 2.5, 2, 0, 0, 68, 0];\n        strangeness5Cost = [20, 24, 240, 24, 6000, 24, 20, 120];\n        strangeness5Scaling = [20, 24, 240, 0, 0, 0, 220, 0];\n        strangenessInfo[1].maxActive = 7;\n        strangenessInfo[2].maxActive = 7;\n        strangenessInfo[3].maxActive = 8;\n        strangenessInfo[4].maxActive = 8;\n        strangenessInfo[5].maxActive = 8;\n\n        const milestone1S1 = getQuery('#milestone1Stage1Div > img') as HTMLImageElement;\n        milestone1S1.src = milestone1S1.src.replace('Preon.png', 'Quarks.png');\n        const milestone1S2 = getQuery('#milestone1Stage2Div > img') as HTMLImageElement;\n        global.milestonesInfo[2].name[0] = 'A Nebula of Drops';\n        getId('milestone1Stage2Name').textContent = 'A Nebula of Drops';\n        milestone1S2.src = milestone1S2.src.replace('Clouds.png', 'Drop.png');\n        milestone1S2.alt = 'A Nebula of Drops';\n        (getQuery('#milestone1Stage3Div > img') as HTMLImageElement).alt = 'Cluster of Mass';\n        global.milestonesInfo[3].name[0] = 'Cluster of Mass';\n        getId('milestone1Stage3Name').textContent = 'Cluster of Mass';\n        const milestone1S4 = getQuery('#milestone1Stage4Div > img') as HTMLImageElement;\n        milestone1S4.src = milestone1S4.src.replace('Black%20hole.png', 'Main_sequence%20mass.png');\n        getQuery('#stageHistory > h4').textContent = 'Interstellar Stage resets:';\n\n        getId('strange8Stage5').style.display = '';\n        getId('milestonesProgressArea').style.display = '';\n        getId('stageInstant').style.display = '';\n        getId('rankStat0').style.display = '';\n\n        getId('preonCap').style.display = 'none';\n        getId('molesProduction').style.display = 'none';\n        getId('massProduction').style.display = 'none';\n        getId('dustCap').style.display = 'none';\n        getId('submersionBoost').style.display = 'none';\n        getId('mainCap').style.display = 'none';\n        getId('solarMassCollapseMaxMain').style.display = 'none';\n        getId('mergeEffects').style.display = 'none';\n        getId('researchAuto1').style.display = 'none';\n        getId('researchAuto2').style.display = 'none';\n        getId('collapseCapped').style.display = 'none';\n        getId('element0').style.display = 'none';\n        for (let s = 1; s < strangenessInfo.length; s++) {\n            for (let i = strangenessInfo[s].maxActive + 1; i <= strangenessInfo[s].startCost.length; i++) {\n                getId(`strange${i}Stage${s}`).style.display = 'none';\n            }\n        }\n    }\n\n    buildingsInfo.maxActive.splice(1, buildingsActive.length, ...buildingsActive);\n    upgradesInfo[1].startCost.splice(0, upgrades1Cost.length, ...upgrades1Cost);\n    researchesInfo[1].startCost.splice(0, researches1Cost.length, ...researches1Cost);\n    researchesInfo[1].scaling.splice(0, researches1Scaling.length, ...researches1Scaling);\n    strangenessInfo[1].startCost.splice(0, strangeness1Cost.length, ...strangeness1Cost);\n    strangenessInfo[1].scaling.splice(0, strangeness1Scaling.length, ...strangeness1Scaling);\n    strangenessInfo[2].startCost.splice(0, strangeness2Cost.length, ...strangeness2Cost);\n    strangenessInfo[2].scaling.splice(0, strangeness2Scaling.length, ...strangeness2Scaling);\n    strangenessInfo[3].startCost.splice(0, strangeness3Cost.length, ...strangeness3Cost);\n    strangenessInfo[3].scaling.splice(0, strangeness3Scaling.length, ...strangeness3Scaling);\n    strangenessInfo[4].startCost.splice(0, strangeness4Cost.length, ...strangeness4Cost);\n    strangenessInfo[4].scaling.splice(0, strangeness4Scaling.length, ...strangeness4Scaling);\n    strangenessInfo[5].startCost.splice(0, strangeness5Cost.length, ...strangeness5Cost);\n    strangenessInfo[5].scaling.splice(0, strangeness5Scaling.length, ...strangeness5Scaling);\n    if (globalSave.SRSettings[0]) { star3ExpId.textContent = ` (${star3ExpId.textContent})`; }\n    for (let s = 1; s <= 3; s++) {\n        const newValue = buildings[s][0].current;\n        buildings[s][0].total.setValue(newValue);\n        buildings[s][0].trueTotal.setValue(newValue);\n    }\n};\n\nexport const switchVacuum = () => {\n    if (player.inflation.vacuum) { return; }\n    if (player.stage.true >= 7) {\n        player.cosmon.current += 1;\n        player.cosmon.total += 1;\n    } else {\n        player.stage.true = 6;\n        player.collapse.show = 0;\n        playEvent(6);\n    }\n    if (player.stage.active !== 6) { player.stage.active = 1; }\n    player.inflation.vacuum = true;\n    player.inflation.resets++;\n    prepareVacuum(true);\n    resetVacuum();\n};\n", "import { checkBuilding, checkUpgrade, milestoneCheck } from './Check';\nimport Overlimit from './Limit';\nimport { getId } from './Main';\nimport { global, logAny, player, playerStart } from './Player';\nimport { reset, resetStage, resetVacuum } from './Reset';\nimport { Confirm, Notify, globalSave, playEvent } from './Special';\nimport { format, getChallengeDescription, getChallengeReward, numbersUpdate, setRemnants, stageUpdate, switchTab, visualTrueStageUnlocks, visualUpdateInflation, visualUpdateResearches, visualUpdateUpgrades } from './Update';\nimport { prepareVacuum, switchVacuum } from './Vacuum';\n\nexport const calculateEffects = {\n    /** Research is player.researches[1][4] */\n    dischargeBase: (research = player.researches[1][4]): number => {\n        let base = (4 + research) / 2;\n        if (player.challenges.active === 0) { base **= 0.5; }\n        return base;\n    },\n    /** Result need to be divided by 10 */\n    S1Upgrade6: (): number => 10 + 3 * player.researches[1][0],\n    /** Preons default value is false */\n    S1Upgrade7: (preons = false): number => {\n        let base = 2 + player.researches[1][1];\n        if (preons) { base *= 1.6; }\n        return (base + 100) / 100;\n    },\n    S1Research2: (): number => 20 + (player.strangeness[1][1] * (player.inflation.vacuum ? 1.5 : 1)),\n    S1Research5: (): number => {\n        const discharges = global.dischargeInfo.total;\n        if (!player.inflation.vacuum) { return discharges > 5 ? discharges + 15 : discharges * 4; }\n        return discharges > 7 ? discharges + 14 : discharges * 3;\n    },\n    S1Extra1: (level = player.researchesExtra[1][1]): number => level >= 4 ? 1.1 : level >= 3 ? 1.2 : (20 - 3 * level) / 10,\n    S1Extra3: (level = player.researchesExtra[1][3]): number => level / 20,\n    S1Extra4: (): number => (100 + global.dischargeInfo.base + Math.max(player.discharge.energy, 1) ** 0.1) / 100,\n    /* Submerged Stage */\n    clouds: (post = false): Overlimit => {\n        const effect = new Overlimit(player.vaporization.clouds).plus('1');\n        if (post) { effect.plus(global.vaporizationInfo.get); }\n\n        if (effect.moreThan('1e4')) { effect.minus('1e4').power(0.7).plus('1e4'); }\n        return effect;\n    },\n    S2Upgrade1: (): Overlimit => {\n        const puddles = player.buildings[2][2];\n        const maxTrue = Math.min(puddles.true, 200);\n        return new Overlimit('1.02').power((puddles.current.toNumber() - maxTrue) ** 0.7 + maxTrue);\n    },\n    S2Upgrade2: (): number => 1e10 / (player.inflation.vacuum ? 2.5 : 2) ** player.strangeness[2][3],\n    /** Research is player.researches[2][2] */\n    S2Upgrade3: (research = player.researches[2][2]): number => (1 + research / 2) / 100,\n    /** Research is player.researches[2][3] */\n    S2Upgrade4: (research = player.researches[2][3]): number => (1 + research / 2) / 100,\n    S2Upgrade5: (): number => 1 + player.researches[2][4],\n    S2Upgrade6: (): number => 1 + player.researches[2][5],\n    /** Level is global.vaporizationInfo.trueResearchRain if used for production and player.researchesExtra[2][1] if for automatization */\n    S2Extra1: (level: number, post = false): number => { //+^0.05 per level; Drops up to +^(0.05 / 3) after softcap\n        if (level <= 0) { return 1; }\n        const effect = new Overlimit(player.vaporization.clouds);\n        if (post) { effect.plus(global.vaporizationInfo.get); }\n        return Math.max(new Overlimit(effect).power(level / 60).multiply(effect.min('1e6').power(level / 30)).toNumber(), 1);\n    },\n    /** Rain is calculateEffects.S2Extra1() */\n    S2Extra2: (rain: number, level = player.researchesExtra[2][2]): number => level >= 1 ? (rain - 1) / 32 + 1 : 1,\n    /* Accretion Stage */\n    submersion: (): number => {\n        const drops = new Overlimit(player.buildings[2][1].current).plus('1');\n        return new Overlimit(drops).power(0.6).divide(drops.min('1e10').power(0.4)).plus('1').log(2).toNumber(); //^0.2 before softcap, ^0.6 after\n    },\n    S3Upgrade0: (): number => (101 + player.researches[3][1]) / 100,\n    /** Research is player.researchesExtra[3][3] */\n    S3Upgrade1: (research = player.researchesExtra[3][3]): number => {\n        const power = (11 + research) / 100; //2 times stronger for self-made dust\n        return Math.max(new Overlimit(player.buildings[3][1].current).power(power).multiply((player.buildings[3][1].true + 1) ** power).toNumber(), 1);\n    },\n    S3Upgrade3: (): number => (204 + player.researches[3][4]) / 200, //1.02 + 0.005\n    S3Research6: (level = player.researches[3][6]): number => { //+^0.025 per level; Drops up to +^(0.025 / 3) after softcap\n        const mass = new Overlimit(player.buildings[3][0].current).max('1');\n        return new Overlimit(mass).power(level / 120).multiply(mass.min('1e21').power(level / 60)).toNumber();\n    },\n    S3Extra1: (level = player.researchesExtra[3][1]): number => (100 + 11 * level) / 100,\n    S3Extra4: (level = player.researchesExtra[3][4]): number => level > 0 ? 8 ** ((player.accretion.rank + level) / 8) : 1,\n    /* Interstellar Stage */\n    mass: (post = false): number => {\n        let effect = player.collapse.mass;\n        if (post) {\n            if (global.collapseInfo.newMass > effect) { effect = global.collapseInfo.newMass; }\n        }\n\n        if (effect > 1) {\n            if (player.elements[21] >= 1) { effect **= 1.1; }\n            if (player.challenges.active === 0) { effect **= 0.2; }\n        }\n        return effect;\n    },\n    star: [\n        (post = false): number => {\n            let effect = player.collapse.stars[0] + 1;\n            if (post) {\n                effect += global.collapseInfo.starCheck[0];\n            }\n            if (player.elements[27] >= 1) { effect += player.buildings[4][3].true; }\n\n            if (player.elements[6] >= 1) { effect **= calculateEffects.element6(); }\n            return effect;\n        },\n        (post = false): number => {\n            let stars = player.collapse.stars[1] * (1 + player.strangeness[4][8]);\n            if (post) {\n                stars += global.collapseInfo.starCheck[1] * (1 + player.strangeness[4][8]);\n                if (player.elements[22] >= 1) { stars += global.collapseInfo.starCheck[0]; }\n            }\n            if (player.elements[22] >= 1) { stars += player.collapse.stars[0]; }\n\n            let effect = (stars + 1) ** (0.5 + player.strangeness[4][8] / 8);\n            if (player.elements[12] >= 1) { effect *= logAny(stars + 4, 4); }\n            return effect;\n        },\n        (post = false): number => {\n            let blackHoles = player.collapse.stars[2];\n            if (post) {\n                blackHoles += global.collapseInfo.starCheck[2];\n            }\n\n            const base = player.elements[18] >= 1 ? 3 : 2;\n            return (blackHoles + 1) / logAny(blackHoles + base, base);\n        }\n    ],\n    /** Disc is player.researches[4][2] */\n    S4Research0_base: (disc = player.researches[4][2]): number => (14 + disc) / 10,\n    /** Base is calculateEffects.S4Research0_base() */\n    S4Research0: (base: number): number => {\n        let levels = player.researches[4][0];\n        if (player.elements[19] >= 1) { levels++; }\n        return base ** levels;\n    },\n    /** Transfer is player.researchesExtra[4][1] */\n    S4Research1: (level = player.researches[4][1], transfer = player.researchesExtra[4][1]): number => {\n        let effective = level > 0 ? 1 + Math.min(level, 4) : 0;\n        if (level > 4) { effective += 0.5; }\n        if (level > 5) { effective += Math.min(level - 5, 2) / 4; }\n        if (level > 7) { effective += (level - 7) / 8; }\n        return 1 + (transfer >= 1 ? 0.006 : 0.005) * effective;\n    },\n    S4Research4: (post = false, level = player.researches[4][4]): number => {\n        if (level < 1) { return 1; }\n\n        let blackHoles = player.collapse.stars[2];\n        let mass = player.collapse.mass;\n        if (post) {\n            blackHoles += global.collapseInfo.starCheck[2];\n            if (global.collapseInfo.newMass > mass) { mass = global.collapseInfo.newMass; }\n        }\n\n        const base = level >= 2 ? 2 : 3;\n        let effect = logAny(blackHoles + base, base);\n        if (player.elements[23] >= 1 && mass > 1) { effect *= mass ** 0.1; }\n        return effect;\n    },\n    S4Extra1: (): number => (10 + player.researches[4][1]) / 10,\n    /* Intergalactic Stage */\n    reward: [() => player.merge.reward[0] + 1],\n    S5Upgrade0: (): number => 3 * ((player.inflation.vacuum ? 1.6 : 1.8) ** player.strangeness[5][1]),\n    S5Upgrade1: (): number => 2 * ((player.inflation.vacuum ? 1.6 : 1.8) ** player.strangeness[5][1]),\n    S5Upgrade2: (post = false, level = player.upgrades[5][2]): number => {\n        if (level < 1) { return 0; }\n        let effect = player.collapse.mass;\n        if (post) {\n            if (global.collapseInfo.newMass > effect) { effect = global.collapseInfo.newMass; }\n        }\n\n        effect = Math.log10(Math.max(effect / 1e5, 1)) / 4 + 0.25;\n        if (!player.inflation.vacuum) { effect *= 2; }\n        return Math.min(effect, 1);\n    },\n    /* Rest */\n    element6: (): number => player.researchesExtra[4][2] >= 1 ? 2 : 1.5,\n    element24: (): number => player.elements[27] >= 1 ? 0.02 : 0.01,\n    element26: (): number => {\n        if (player.stage.true < 6 && player.strange[0].total < 1) { return 0; }\n        let effect = new Overlimit(player.buildings[4][0].trueTotal).log(10).toNumber() - 48;\n        if (player.elements[29] >= 1) { effect = (199 + effect) * effect / 200; }\n        return Math.max(effect, 0);\n    },\n    S2Strange9: (): number => new Overlimit(player.vaporization.clouds).plus('1').log(10).toNumber() / 80 + 1,\n    inflation1: (level = player.inflation.tree[1]): number => new Overlimit(player.buildings[6][0].current).plus('1').power(level / 32).toNumber(),\n    /** Default value for type is 0 or Quarks; Use 1 for Strangelets */\n    strangeGain: (stage: number, type = 0 as 0 | 1): number => {\n        if (type === 1 && stage < 4) { return 0; }\n\n        let base = type === 1 ? 0 : player.inflation.vacuum ?\n            (player.strangeness[5][3] >= 1 ? 5 : 4) :\n            (player.milestones[1][0] >= 6 ? 2 : 1);\n        if (stage >= 4) {\n            base = (base + calculateEffects.element26()) * (player.buildings[5][3].current.toNumber() + 1);\n            if (player.inflation.vacuum && player.strangeness[2][9] >= 1) { base *= calculateEffects.S2Strange9(); }\n        }\n        if (type === 0) {\n            base *= (1.4 ** player.strangeness[5][2]) * (1.4 ** player.inflation.tree[2]);\n        } else if (type === 1) {\n            if (player.inflation.tree[3] >= 1 && player.strangeness[5][8] >= 1) { base *= 1.4 ** player.strangeness[5][2]; }\n            if (player.inflation.tree[3] >= 2) { base *= 1.4 ** player.inflation.tree[2]; }\n        }\n        return base * global.strangeInfo.strangeletsInfo[1];\n    }\n};\n\nexport const assignBuildingInformation = () => {\n    const { buildings, upgrades, researches, researchesExtra, elements, strangeness } = player;\n    const { dischargeInfo } = global;\n    const producing = global.buildingsInfo.producing;\n    const stageBoost = global.strangeInfo.stageBoost;\n    const activeAll = global.stageInfo.activeAll;\n    const vacuum = player.inflation.vacuum;\n    const inVoid = player.challenges.active === 0;\n\n    const energy = Math.max(player.discharge.energy, 1);\n    const tension = upgrades[2][3] === 1 ? new Overlimit(buildings[2][0].current).max('1').power(calculateEffects.S2Upgrade3()).toNumber() : 1;\n    const stress = upgrades[2][4] === 1 ? new Overlimit(buildings[2][1].current).max('1').power(calculateEffects.S2Upgrade4()).toNumber() : 1;\n\n    if (activeAll.includes(1)) {\n        const b3 = vacuum ? 3 : 1;\n        const b4 = vacuum ? 4 : 2;\n        const b5 = vacuum ? 5 : 3;\n\n        dischargeInfo.total = player.discharge.current + (strangeness[1][3] / 2);\n        dischargeInfo.base = calculateEffects.dischargeBase();\n        let totalMultiplier = (vacuum ? 2 : 1.8) ** strangeness[1][0];\n        if (upgrades[1][5] === 1) { totalMultiplier *= dischargeInfo.base ** dischargeInfo.total; }\n        if (strangeness[1][6] >= 1) { totalMultiplier *= stageBoost[1]; }\n        if (inVoid) { totalMultiplier /= 4; }\n        const selfBoost = calculateEffects.S1Upgrade7();\n\n        const listForMult5 = [buildings[1][b5].current];\n        let prod5Number = 0.2 * totalMultiplier;\n        if (upgrades[1][4] === 1) { prod5Number *= 4; }\n        if (upgrades[1][7] === 1) { listForMult5.push(new Overlimit(selfBoost).power(buildings[1][b5].true)); }\n        producing[1][b5].setValue(prod5Number).multiply(...listForMult5);\n\n        let radiation = (calculateEffects.S1Research2() ** researches[1][2]) * (calculateEffects.S1Research5() ** researches[1][5]);\n        if (upgrades[1][9] === 1) { radiation *= energy ** 0.5; }\n        dischargeInfo.tritium.setValue(producing[1][b5]).plus('1').log(calculateEffects.S1Extra1()).multiply(radiation);\n\n        const listForMult4 = [buildings[1][b4].current];\n        let prod4Number = (vacuum ? 0.8 : 0.4) * totalMultiplier;\n        if (upgrades[1][3] === 1) { prod4Number *= vacuum ? 6 : 4; }\n        if (upgrades[1][7] === 1) { listForMult4.push(new Overlimit(selfBoost).power(buildings[1][b4].true)); }\n        producing[1][b4].setValue(prod4Number).multiply(...listForMult4);\n\n        const listForMult3 = [buildings[1][b3].current];\n        let prod3Number = (vacuum ? 0.2 : 1.6) * totalMultiplier;\n        if (upgrades[1][0] === 1) { prod3Number *= 8; }\n        if (upgrades[1][7] === 1) { listForMult3.push(new Overlimit(selfBoost).power(buildings[1][b3].true)); }\n        producing[1][b3].setValue(prod3Number).multiply(...listForMult3);\n\n        if (vacuum) {\n            const listForMult2 = [buildings[1][2].current];\n            if (upgrades[1][7] === 1) { listForMult2.push(new Overlimit(selfBoost).power(buildings[1][2].true)); }\n            producing[1][2].setValue(0.4 * totalMultiplier).multiply(...listForMult2);\n\n            const listForMult1 = [];\n            const preonsExcess = new Overlimit(buildings[1][1].current).minus(buildings[1][1].true);\n            if (preonsExcess.moreThan('1')) {\n                listForMult1.push(preonsExcess.power(0.11).plus(buildings[1][1].true));\n            } else { listForMult1.push(buildings[1][1].current); }\n            if (upgrades[1][7] === 1) { //Formula is '(selfPreons * step ** ((true - 1) / 2)) ** true'; Step is '(selfBoost / selfPreons) ** (1 / 500)'\n                const selfPreons = calculateEffects.S1Upgrade7(true);\n                listForMult1.push(new Overlimit(selfBoost / selfPreons).power((buildings[1][1].true - 1) / 1000).multiply(selfPreons).power(buildings[1][1].true));\n            }\n            producing[1][1].setValue(6e-4 * totalMultiplier).multiply(...listForMult1);\n        }\n    }\n    if (activeAll.includes(2)) {\n        const { vaporizationInfo } = global;\n        if (vaporizationInfo.trueResearchRain !== researchesExtra[2][1]) { vaporizationInfo.trueResearchRain = Math.min(researchesExtra[2][1], new Overlimit(buildings[2][1].total).divide(1e12 / 999).plus('1').log(1e3).toNumber()); }\n        const rain = calculateEffects.S2Extra1(vaporizationInfo.trueResearchRain);\n        const flow = 1.24 ** strangeness[2][7];\n\n        if (buildings[2][6].true >= 1) {\n            producing[2][6].setValue(upgrades[2][8] === 1 ? '1.1' : '1.08').power(buildings[2][6].true).multiply(flow);\n        } else { producing[2][6].setValue('1'); }\n\n        producing[2][5].setValue(2 * calculateEffects.S2Extra2(rain) * flow).multiply(buildings[2][5].current, producing[2][6]).max('1');\n\n        producing[2][4].setValue(2 * flow).multiply(buildings[2][4].current, producing[2][5]).max('1');\n\n        producing[2][3].setValue(2 * flow).multiply(buildings[2][3].current, producing[2][4]).max('1');\n\n        const listForMult2 = [buildings[2][2].current, producing[2][3], calculateEffects.clouds()];\n        if (vaporizationInfo.trueResearch1 !== researches[2][1]) { vaporizationInfo.trueResearch1 = Math.min(researches[2][1], new Overlimit(buildings[2][1].total).divide('1e2').plus('1').log(5).toNumber()); }\n        let prod2Number = (inVoid ? 6e-4 : 4.8) * tension * stress * (2 ** vaporizationInfo.trueResearch1) * rain * ((vacuum ? 1.8 : 1.6) ** strangeness[2][1]);\n        if (upgrades[2][1] === 1) { listForMult2.push(calculateEffects.S2Upgrade1()); }\n        if (vacuum) {\n            prod2Number *= calculateEffects.S3Extra4();\n            if (elements[1] >= 1) { prod2Number *= 2; }\n        }\n        if (strangeness[2][6] >= 1) { prod2Number *= stageBoost[2]; }\n        producing[2][2].setValue(prod2Number).multiply(...listForMult2);\n\n        const dropsEffective = new Overlimit(buildings[2][1].current);\n        if (inVoid) {\n            dropsEffective.min(1);\n        } else if (vacuum) {\n            const excess = new Overlimit(dropsEffective).minus(buildings[2][1].true);\n            if (excess.moreThan('1')) { dropsEffective.setValue(excess.power(0.2).plus(buildings[2][1].true)); }\n        }\n        const listForMult1 = [dropsEffective];\n        if (upgrades[2][0] === 1) { listForMult1.push(new Overlimit(vacuum ? '1.02' : '1.04').power(buildings[2][1].true)); }\n        if (vaporizationInfo.trueResearch0 !== researches[2][0]) {\n            vaporizationInfo.trueResearch0 = Math.min(researches[2][0], Math.max(\n                new Overlimit(buildings[2][1].total).divide('1e1').log(1.366).toNumber() + 1, //To make getting first level faster\n                new Overlimit(buildings[2][1].total).divide(10 / 0.366).plus('1').log(1.366).toNumber() //Can be negative\n            ));\n        }\n        producing[2][1].setValue((vacuum ? 2 : 8e-4) * (3 ** vaporizationInfo.trueResearch0) * (2 ** strangeness[2][0])).multiply(...listForMult1);\n    } else if (vacuum) { producing[2][1].setValue('1'); }\n    if (activeAll.includes(3)) {\n        const { accretionInfo } = global;\n        const weathering = (vacuum ? 1.48 : 1.6) ** strangeness[3][1];\n        producing[3][5].setValue('1.1').power(buildings[3][5].true);\n\n        producing[3][4].setValue(upgrades[3][12] === 1 ? '1.14' : '1.1').power(buildings[3][4].true).multiply(producing[3][5]);\n        const satellitesBoost = strangeness[3][3] < 1 ? new Overlimit('1') : new Overlimit(producing[3][4]).power(vacuum ? 0.1 : 0.2);\n\n        const listForMult3 = [buildings[3][3].current, producing[3][4]];\n        let prod3Number = 0.4 * weathering;\n        if (researchesExtra[3][2] >= 1) { prod3Number *= 2; }\n        if (upgrades[3][7] === 1) { listForMult3.push(new Overlimit('1.02').power(buildings[3][3].true)); }\n        producing[3][3].setValue(prod3Number).multiply(...listForMult3);\n\n        const listForMult2 = [buildings[3][2].current, satellitesBoost];\n        let prod2Number = (3 ** researches[3][2]) * weathering;\n        if (upgrades[3][3] === 1) { listForMult2.push(new Overlimit(calculateEffects.S3Upgrade3()).power(buildings[3][2].true)); }\n        if (upgrades[3][4] === 1) { prod2Number *= 3; }\n        if (researches[3][6] >= 1) { prod2Number *= calculateEffects.S3Research6(); }\n        producing[3][2].setValue(prod2Number).multiply(...listForMult2);\n\n        const listForMult1 = [buildings[3][1].current, satellitesBoost];\n        let prod1Number = (vacuum ? 2 : 8e-20) * (3 ** researches[3][0]) * (2 ** researches[3][3]) * (3 ** researches[3][5]) * (1.11 ** researchesExtra[3][0]) * (calculateEffects.S3Extra1() ** player.accretion.rank) * (1.8 ** strangeness[3][0]);\n        if (vacuum) {\n            prod1Number *= calculateEffects.submersion();\n            if (elements[4] >= 1) { prod1Number *= 1.4; }\n            if (elements[14] >= 1) { prod1Number *= 1.4; }\n        }\n        if (upgrades[3][0] === 1) { listForMult1.push(new Overlimit(calculateEffects.S3Upgrade0()).power(buildings[3][1].true)); }\n        if (upgrades[3][1] === 1) { prod1Number *= calculateEffects.S3Upgrade1(); }\n        if (upgrades[3][2] === 1) { prod1Number *= 2; }\n        if (upgrades[3][5] === 1) { prod1Number *= 3; }\n        if (upgrades[3][6] === 1) { prod1Number *= 2 * 1.5 ** researches[3][7]; }\n        if (upgrades[3][9] === 1) { prod1Number *= 2; }\n        if (upgrades[3][10] === 1) { prod1Number *= 8 * 2 ** researches[3][8]; }\n        producing[3][1].setValue(prod1Number).multiply(...listForMult1);\n        if (inVoid) {\n            accretionInfo.dustSoft = player.accretion.rank >= 5 ? 0.8 : 0.9;\n        } else if (player.accretion.rank >= 5) {\n            accretionInfo.dustSoft = vacuum || producing[3][1].moreThan('1') ? 0.9 : 1.1;\n        } else { accretionInfo.dustSoft = 1; }\n        producing[3][1].power(accretionInfo.dustSoft);\n    } else if (vacuum) { producing[3][1].setValue('1'); }\n    if (activeAll.includes(4)) {\n        const { collapseInfo } = global;\n        collapseInfo.starEffect1 = calculateEffects.star[1]();\n        const massEffect = calculateEffects.mass();\n        const listForTotal = [new Overlimit(calculateEffects.S4Research1()).power(collapseInfo.trueStars)];\n        let totalNumber = calculateEffects.S4Research0(calculateEffects.S4Research0_base()) * massEffect * collapseInfo.starEffect1 * calculateEffects.S4Research4() * (1.6 ** strangeness[4][0]);\n        if (elements[4] >= 1) { totalNumber *= 1.4; }\n        if (elements[14] >= 1) { totalNumber *= 1.4; }\n        if (elements[24] >= 1) { totalNumber *= new Overlimit(buildings[4][0].current).max('1').power(calculateEffects.element24()).toNumber(); }\n        if (vacuum) {\n            if (researchesExtra[1][4] >= 1) { totalNumber *= calculateEffects.S1Extra4() ** dischargeInfo.total; }\n            if (researchesExtra[2][3] >= 1) { totalNumber *= tension; }\n            if (researchesExtra[2][3] >= 3) {\n                totalNumber *= stress;\n            } else if (researchesExtra[2][3] >= 2) { totalNumber *= stress ** 0.5; }\n        }\n        if (strangeness[4][7] >= 1) { totalNumber *= stageBoost[4]; }\n        if (inVoid) { totalNumber /= 8000; }\n        const totalMultiplier = new Overlimit(totalNumber).multiply(...listForTotal);\n\n        producing[4][5].setValue(inVoid ? '0' : '2e11').multiply(buildings[4][5].current, totalMultiplier);\n\n        producing[4][4].setValue('6e9').multiply(buildings[4][4].current, totalMultiplier);\n\n        producing[4][3].setValue('6e7').multiply(buildings[4][3].current, totalMultiplier);\n\n        producing[4][2].setValue(1200 * calculateEffects.star[0]() * (2 ** researches[4][3])).multiply(buildings[4][2].current, totalMultiplier);\n\n        let prod1Number = 40;\n        if (elements[1] >= 1) { prod1Number *= 2; }\n        if (elements[19] >= 1 && massEffect > 1) { prod1Number *= massEffect; }\n        producing[4][1].setValue(prod1Number).multiply(buildings[4][1].current, totalMultiplier);\n    }\n    if (activeAll.includes(5)) {\n        const clusterProd = producing[5][2];\n\n        const prod3Number = (vacuum ? 2 : 6) + calculateEffects.S5Upgrade2();\n        producing[5][3].setValue(prod3Number).power(buildings[5][3].true);\n        const currentGalaxies = buildings[5][3].current.toNumber();\n        if (currentGalaxies > 0) { producing[5][3].multiply(((currentGalaxies + 1) / (buildings[5][3].true + 1)) * calculateEffects.reward[0]()); }\n        global.mergeInfo.galaxyBase = prod3Number;\n\n        const biggerStructures = (vacuum ? 1.4 : 1.6) ** player.strangeness[5][0];\n        const listForMult2 = [buildings[5][2].current, producing[5][3]];\n        let prod2Number = 2 * (2 ** researches[5][1]) * biggerStructures;\n        if (upgrades[5][1] === 1) { prod2Number *= calculateEffects.S5Upgrade1(); }\n        clusterProd.setValue(prod2Number).multiply(...listForMult2).max('1');\n\n        const listForMult1 = [buildings[5][1].current, producing[5][3]];\n        let prod1Number = 6 * (2 ** researches[5][0]) * biggerStructures;\n        if (upgrades[5][0] === 1) { prod1Number *= calculateEffects.S5Upgrade0(); }\n        producing[5][1].setValue(prod1Number).multiply(...listForMult1);\n\n        if (vacuum) {\n            producing[4][5].multiply(clusterProd);\n            if (researches[5][1] >= 1 && clusterProd.moreThan('2')) { producing[4][4].multiply(clusterProd).divide('2'); }\n            if (researches[5][1] >= 2 && clusterProd.moreThan('4')) { producing[4][3].multiply(clusterProd).divide('4'); }\n            if (researches[5][1] >= 3 && clusterProd.moreThan('8')) { producing[4][2].multiply(clusterProd).divide('8'); }\n            if (researches[5][1] >= 4 && clusterProd.moreThan('16')) { producing[4][1].multiply(clusterProd).divide('16'); }\n        } else {\n            producing[4][4].multiply(clusterProd);\n            if (researches[5][1] >= 1 && clusterProd.moreThan('2')) { producing[4][3].multiply(clusterProd).divide('2'); }\n            if (researches[5][1] >= 2 && clusterProd.moreThan('4')) { producing[4][2].multiply(clusterProd).divide('4'); }\n            if (researches[5][1] >= 3 && clusterProd.moreThan('8')) { producing[4][1].multiply(clusterProd).divide('8'); }\n        }\n    }\n    if (activeAll.includes(6)) {\n        if (buildings[6][1].current.moreThan('0')) {\n            producing[6][1].setValue(buildings[6][1].current).power(buildings[6][1].true);\n        } else { producing[6][1].setValue('0'); }\n    }\n    if (vacuum) {\n        const inflationInfo = global.inflationInfo;\n        const laterPreons = energy ** calculateEffects.S1Extra3();\n        inflationInfo.preonTrue.setValue(producing[1][1].multiply(laterPreons));\n        inflationInfo.dustTrue.setValue(producing[3][1].max('1'));\n        dischargeInfo.tritium.multiply(producing[2][1].max('1'));\n\n        const accretionMass = calculateMassGain();\n        inflationInfo.dustCap.setValue((player.accretion.rank >= 5 ? 1e48 : 8e46) * accretionMass * (1.4 ** strangeness[3][8]));\n        if (producing[3][1].moreThan(inflationInfo.dustCap)) { producing[3][1].setValue(inflationInfo.dustCap); }\n\n        let microworldMass = calculateEffects.star[2](); //Should be fine even without Interstellar\n        if (elements[10] >= 1) { microworldMass *= 2; }\n        if (researchesExtra[4][1] >= 1) { microworldMass *= calculateEffects.S4Extra1(); }\n        inflationInfo.preonCap.setValue(1e14 * laterPreons * microworldMass).multiply(producing[3][1]);\n        if (producing[1][1].moreThan(inflationInfo.preonCap)) { producing[1][1].setValue(inflationInfo.preonCap); }\n\n        inflationInfo.massCap = 0.01235 * accretionMass * microworldMass;\n        if (strangeness[5][7] >= 1) { inflationInfo.massCap *= stageBoost[5]; }\n    }\n};\n\nexport const buyBuilding = (index: number, stageIndex = player.stage.active, howMany: number | null = null, auto = false) => {\n    if (!checkBuilding(index, stageIndex)) { return; }\n    const building = player.buildings[stageIndex][index as 1];\n\n    let pointer; //For cost\n    let currency;\n    let free = false;\n    let multi = true;\n    let special = '' as '' | 'Moles' | 'Mass' | 'Galaxy' | 'Universe';\n    if (stageIndex === 1) {\n        pointer = player.buildings[1][index - 1];\n        if (index === 1 && player.inflation.vacuum) { free = player.researchesExtra[1][2] >= 1 && player.strangeness[1][8] >= 1; }\n    } else if (stageIndex === 2) {\n        if (index === 1 && player.inflation.vacuum) {\n            special = 'Moles';\n            pointer = player.buildings[1][5];\n            currency = new Overlimit(pointer.current).divide('6.02214076e23');\n        } else { pointer = player.buildings[2][index === 1 ? 0 : 1]; }\n    } else if (stageIndex === 3) {\n        if (player.inflation.vacuum) {\n            special = 'Mass';\n            pointer = player.buildings[1][0];\n            currency = new Overlimit(pointer.current).multiply('1.78266192e-33');\n        } else { pointer = player.buildings[3][0]; }\n    } else if (stageIndex === 6) {\n        pointer = player.buildings[6][index - 1]; //Placeholder\n        currency = player.merge.reward[0];\n        special = 'Universe';\n        multi = false;\n    } else {\n        pointer = player.buildings[4][0];\n        if (stageIndex === 5 && index === 3) {\n            special = 'Galaxy';\n            currency = player.collapse.mass;\n            multi = false;\n        }\n    }\n    if (currency === undefined) { currency = new Overlimit(pointer.current); }\n\n    const budget = new Overlimit(currency);\n    if (auto && building.true >= 1 && !free && multi) {\n        if (special === 'Mass' && player.strangeness[1][8] >= 2 && global.inflationInfo.dustTrue.moreOrEqual(global.inflationInfo.dustCap)) {\n            budget.minus(global.inflationInfo.massCap * 1.98847e33);\n        } else {\n            budget.divide(player.stage.true >= 3 ? player.toggles.shop.wait[stageIndex] : '2');\n        }\n    }\n\n    const total = calculateBuildingsCost(index, stageIndex);\n    if (total.moreThan(budget)) { return; }\n\n    let afford = 1;\n    if (howMany === null) { howMany = global.hotkeys.shift ? 1 : global.hotkeys.ctrl ? 10 : player.toggles.shop.input; }\n    if (howMany !== 1 && multi) {\n        const scaling = global.buildingsInfo.increase[stageIndex][index]; //Must be >1\n        if (free) {\n            afford = Math.floor(budget.divide(total).log(scaling).toNumber()) + 1;\n\n            if (howMany > 0) {\n                if (afford < howMany) { return; }\n                afford = howMany;\n            }\n        } else {\n            afford = Math.floor(budget.multiply(scaling - 1).divide(total).plus('1').log(scaling).toNumber());\n\n            if (howMany > 0) {\n                if (afford < howMany) { return; }\n                afford = howMany;\n            }\n            if (afford > 1) { total.multiply(new Overlimit(scaling).power(afford).minus('1').divide(scaling - 1)); }\n        }\n    }\n\n    building.true += afford;\n    building.current.plus(afford);\n    building.total.plus(afford);\n    building.trueTotal.plus(afford);\n\n    if (typeof currency === 'object') {\n        if (!free) {\n            currency.minus(total);\n\n            if (special === 'Moles') {\n                pointer.current = currency.multiply('6.02214076e23');\n                player.buildings[2][0].current.setValue(pointer.current).divide('6.02214076e23');\n            } else if (special === 'Mass') {\n                pointer.current = currency.divide('1.78266192e-33');\n                player.buildings[3][0].current.setValue(pointer.current).multiply('1.78266192e-33');\n            } else {\n                pointer.current = currency;\n            }\n        }\n\n        if (player.inflation.vacuum || stageIndex === 1) { addEnergy(afford, index, stageIndex); }\n        if (stageIndex === 1) {\n            if (index === 5 && player.upgrades[1][8] === 0 && player.inflation.vacuum) { player.buildings[2][0].current.setValue(building.current).divide('6.02214076e23'); }\n        } else if (stageIndex === 2) {\n            if (index !== 1) { assignPuddles(); }\n        } else if (stageIndex === 3) {\n            if (index >= 4) { awardMilestone(1, 3); }\n        } else if (stageIndex === 4) {\n            global.collapseInfo.trueStars += afford;\n        }\n\n        assignBuildingInformation();\n        if (!auto) {\n            numbersUpdate();\n            if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Made ${format(afford)} '${global.buildingsInfo.name[stageIndex][index]}'`; }\n        }\n    } else if (special === 'Galaxy') {\n        reset('galaxy', player.inflation.vacuum ? [1, 2, 3, 4, 5] : [4, 5]);\n        calculateMaxLevel(0, 4, 'researches');\n        calculateMaxLevel(1, 4, 'researches');\n        calculateMaxLevel(2, 4, 'researches');\n        awardVoidReward(5);\n        awardMilestone(1, 5);\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `Caused Galaxy reset to gain ${format(afford)} new 'Galaxies'`; }\n    } else if (special === 'Universe') {\n        if (player.stage.true < 7) { player.stage.true = 7; }\n        if ((player.toggles.normal[0] && global.tab !== 'inflation') || player.stage.active !== 6) { player.stage.active = 1; }\n        const income = building.true;\n        player.cosmon.current += income;\n        player.cosmon.total += income;\n        player.inflation.vacuum = false;\n        player.inflation.age = 0;\n        player.time.universe = 0;\n        player.inflation.resets++;\n        const info = global.milestonesInfoS6;\n        const start = info.active.indexOf(false);\n        if (start >= 0) {\n            for (let i = start; i < info.requirement.length; i++) {\n                info.active[i] = building.current.moreOrEqual(info.requirement[i]);\n            }\n        }\n        prepareVacuum(false);\n        resetVacuum();\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `Caused Universe reset to gain ${format(afford)} new 'Universes'`; }\n    }\n};\n\n/** Increase is how many new Structures have been gained */\nexport const addEnergy = (increase: number, index: number, stage: number) => {\n    const { discharge } = player;\n    const { dischargeInfo } = global;\n\n    const add = dischargeInfo.energyType[stage][index] * increase;\n    dischargeInfo.energyStage[stage] += add;\n    dischargeInfo.energyTrue += add;\n    discharge.energy += add;\n    if (discharge.energyMax < discharge.energy) { discharge.energyMax = discharge.energy; }\n};\n\nexport const calculateBuildingsCost = (index: number, stageIndex: number): Overlimit => {\n    const buildingsInfo = global.buildingsInfo;\n\n    let firstCost = buildingsInfo.startCost[stageIndex][index];\n    if (stageIndex === 1) {\n        let increase = 140;\n        if (player.upgrades[1][6] === 1) { increase -= calculateEffects.S1Upgrade6(); }\n        buildingsInfo.increase[1][index] = increase / 100;\n\n        if (index === 1) {\n            if (!player.inflation.vacuum && player.upgrades[1][2] === 1) { firstCost /= 8; }\n        } else if (index === 3) {\n            if (player.upgrades[1][1] === 1) { firstCost /= 16; }\n        } else if (index === 4) {\n            if (player.upgrades[1][2] === 1) { firstCost /= 8; }\n            if (player.researchesExtra[1][0] >= 1) { firstCost /= 16; }\n        }\n    } else if (stageIndex === 3) {\n        if (player.strangeness[3][7] >= 1) { firstCost /= global.strangeInfo.stageBoost[3]; }\n        if (index === 4) {\n            buildingsInfo.increase[3][4] = player.upgrades[3][11] === 1 ? 5 : 10;\n        }\n    } else if (stageIndex === 4) {\n        let increase = 125 + 15 * index;\n        if (player.elements[2] >= 1) { increase -= 10; }\n        if (player.elements[8] >= 1) { increase -= 5; }\n        buildingsInfo.increase[4][index] = increase / 100;\n\n        firstCost /= 2 ** player.strangeness[4][1];\n        if (player.researchesExtra[4][3] >= 1) { firstCost /= global.collapseInfo.starEffect1; }\n        if (player.elements[13] >= 1) { firstCost /= 100; }\n    }\n\n    return new Overlimit(buildingsInfo.increase[stageIndex][index]).power(player.buildings[stageIndex][index as 1].true).multiply(firstCost);\n};\n\nexport const assignPuddles = () => {\n    const buildings = player.buildings[2];\n    const upgrades = player.upgrades[2];\n\n    let water5 = buildings[5].true;\n    let water4 = buildings[4].true;\n    let water3 = buildings[3].true;\n    let water2 = buildings[2].true;\n    if (upgrades[8] === 1) { water5 += buildings[6].true; }\n    if (upgrades[7] === 1) { water4 += water5; }\n    if (upgrades[6] === 1) { water3 += water4 * calculateEffects.S2Upgrade6(); }\n    if (upgrades[5] === 1) { water2 += water3 * calculateEffects.S2Upgrade5(); }\n    buildings[5].current.setValue(water5);\n    buildings[4].current.setValue(water4);\n    buildings[3].current.setValue(water3);\n    buildings[2].current.setValue(water2);\n};\n\nexport const gainBuildings = (get: number, stageIndex: number, time: number) => {\n    let stageGet = stageIndex;\n    const add = new Overlimit(time);\n    if (stageIndex === 1 && get === 5) {\n        add.multiply(global.dischargeInfo.tritium);\n        if (!player.inflation.vacuum) { get = 3; }\n    } else if (stageIndex === 5) {\n        add.multiply(global.buildingsInfo.producing[5][1]).divide(4 ** get);\n        stageGet = 4;\n        get++;\n    } else {\n        add.multiply(global.buildingsInfo.producing[stageIndex][get + 1]);\n\n        if (stageIndex === 4) {\n            get = 0;\n        } else if (stageIndex === 2 && get === 1 && player.buildings[2][2].true < 1 && player.researchesExtra[2][1] >= 1) {\n            add.plus(time * (calculateEffects.S2Extra1(player.researchesExtra[2][1]) - 1));\n        }\n    }\n    if (add.lessOrEqual('0')) { return; }\n    if (!add.isFinite()) {\n        if (global.debug.errorGain) {\n            global.debug.errorGain = false;\n            Notify(`Error while gaining ${add} '${global.buildingsInfo.name[stageGet][get]}'`);\n            setTimeout(() => { global.debug.errorGain = true; }, 6e4);\n        }\n        return;\n    }\n\n    const building = player.buildings[stageGet][get];\n    building.current.plus(add);\n    building.total.plus(add);\n    building.trueTotal.plus(add);\n\n    if (stageIndex === 1) {\n        if (player.inflation.vacuum) {\n            if (get === 0) {\n                player.buildings[3][0].current.setValue(building.current).multiply('1.78266192e-33');\n                awardMilestone(0, 3);\n            } else if (get === 5) {\n                player.buildings[2][0].current.setValue(building.current).divide('6.02214076e23');\n            }\n        }\n    } else if (stageIndex === 3) {\n        if (get === 0) { //False vacuum only\n            if (player.accretion.rank >= 5) {\n                awardMilestone(0, 3);\n            } else if (building.current.moreThan('1e30')) { building.current.setValue('1e30'); }\n        }\n    }\n};\n\nexport const assignStrangeInfo = [\n    () => { //[0] Quarks\n        const vacuum = player.inflation.vacuum;\n        const stageBoost = global.strangeInfo.stageBoost;\n        const strangeQuarks = player.strange[0].current + 1;\n\n        stageBoost[1] = strangeQuarks ** (vacuum ? 0.26 : 0.22);\n        stageBoost[2] = strangeQuarks ** (vacuum ? 0.22 : 0.18);\n        stageBoost[3] = strangeQuarks ** (vacuum ? 0.68 : 0.76);\n        stageBoost[4] = strangeQuarks ** (player.elements[26] >= 1 ? 0.32 : 0.16);\n        stageBoost[5] = strangeQuarks ** 0.06;\n    }, () => { //[1] Strangelets\n        const information = global.strangeInfo.strangeletsInfo;\n        const strangelets = player.strange[1].current;\n\n        information[0] = (Math.log2(strangelets + 1) - 1) / 100;\n        information[1] = strangelets ** 0.4 / 80 + 1;\n    }\n];\n\nconst gainStrange = (/*get: number,*/ time: number) => {\n    const strange = player.strange[0]; //[get]\n    const add = global.strangeInfo.strangeletsInfo[0] * (global.strangeInfo.quarksGain / player.time.stage) * time; //get === 0\n    if (add <= 0) { return; }\n    if (!isFinite(add)) {\n        if (global.debug.errorGain) {\n            global.debug.errorGain = false;\n            Notify(`Error while gaining ${add} '${global.strangeInfo.name[0]}'`); //[get]\n            setTimeout(() => { global.debug.errorGain = true; }, 6e4);\n        }\n        return;\n    }\n    strange.current += add;\n    strange.total += add;\n    assignStrangeInfo[0](); //[get]\n};\n\nexport const assignGlobalSpeed = () => {\n    let speed = calculateEffects.inflation1();\n    if (player.inflation.tree[0] >= 1) { speed *= 2; }\n    global.inflationInfo.globalSpeed = speed;\n};\n\nexport const buyUpgrades = (upgrade: number, stageIndex: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements', auto = false): boolean => {\n    if (!auto && !checkUpgrade(upgrade, stageIndex, type)) { //Auto should already checked if allowed, also allows for delayed purchase of Elements\n        if (type === 'researchesAuto' && player.researchesAuto[upgrade] < global.researchesAutoInfo.max[upgrade]) {\n            const autoStage = global.researchesAutoInfo.autoStage[upgrade][player.researchesAuto[upgrade]];\n            if (!(autoStage === stageIndex || (autoStage === 4 && stageIndex === 5))) { switchStage(autoStage, stageIndex); }\n        }\n        return false;\n    }\n\n    let free = false;\n    let currency: Overlimit;\n    if (stageIndex === 1) {\n        currency = new Overlimit(player.discharge.energy);\n        if (player.inflation.vacuum) { free = player.accretion.rank >= 6 && player.strangeness[1][9] >= 1; }\n    } else if (stageIndex === 2) {\n        currency = new Overlimit(player.buildings[2][1].current);\n    } else if (stageIndex === 3) {\n        currency = player.inflation.vacuum ? new Overlimit(player.buildings[1][0].current).multiply('1.78266192e-33') : new Overlimit(player.buildings[3][0].current);\n    } else if (stageIndex === 6) {\n        currency = new Overlimit(player.buildings[6][0].current);\n    } else {\n        currency = new Overlimit(player.buildings[4][0].current);\n    }\n\n    if (type === 'upgrades') {\n        if (player.upgrades[stageIndex][upgrade] >= 1) { return false; }\n\n        const pointer = global.upgradesInfo[stageIndex];\n        const cost = pointer.startCost[upgrade];\n        if (currency.lessThan(cost)) { return false; }\n\n        player.upgrades[stageIndex][upgrade]++;\n        if (!free) { currency.minus(cost); }\n\n        /* Special cases */\n        if (stageIndex === 2) {\n            if (upgrade >= 5 /*&& upgrade < 9*/) { assignPuddles(); }\n        } else if (stageIndex === 4 && upgrade === 1 && global.tab === 'upgrade') { switchTab('upgrade'); }\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `New upgrade '${pointer.name[upgrade]}', has been created`; }\n    } else if (type === 'researches' || type === 'researchesExtra') {\n        const pointer = global[`${type}Info`][stageIndex];\n        const level = player[type][stageIndex];\n\n        if (level[upgrade] >= pointer.max[upgrade]) { return false; }\n        let cost = pointer.cost[upgrade];\n        if (currency.lessThan(cost)) { return false; }\n\n        let newLevels = 1;\n        if ((auto || (player.toggles.max[0] && player.stage.true >= 4)) && pointer.max[upgrade] > 1) {\n            const scaling = pointer.scaling[upgrade]; //Must be >1 (>0 for Stage 1)\n            if (stageIndex === 1) {\n                if (free) {\n                    newLevels = Math.min(Math.floor((currency.toNumber() - cost) / scaling + 1), pointer.max[upgrade] - level[upgrade]);\n                } else {\n                    const simplify = cost - scaling / 2;\n                    newLevels = Math.min(Math.floor(((simplify ** 2 + 2 * scaling * currency.toNumber()) ** 0.5 - simplify) / scaling), pointer.max[upgrade] - level[upgrade]);\n                    if (newLevels > 1) { cost = newLevels * (newLevels * scaling / 2 + simplify); }\n                }\n            } else {\n                newLevels = Math.min(Math.floor(new Overlimit(currency).multiply(scaling - 1).divide(cost).plus('1').log(scaling).toNumber()), pointer.max[upgrade] - level[upgrade]);\n                if (newLevels > 1) { cost = new Overlimit(scaling).power(newLevels).minus('1').divide(scaling - 1).multiply(cost).toNumber(); }\n            }\n        }\n\n        level[upgrade] += newLevels;\n        if (!free) { currency.minus(cost); }\n\n        /* Special cases */\n        if (type === 'researches') {\n            if (stageIndex === 2) {\n                if (upgrade >= 4 /*&& upgrade < 6*/) {\n                    assignPuddles();\n                }\n            } else if (stageIndex === 4) {\n                if (upgrade === 2 || upgrade === 3) {\n                    calculateMaxLevel(0, 4, 'researches', true);\n                }\n            }\n        } else if (type === 'researchesExtra') {\n            if (stageIndex === 1) {\n                if (upgrade === 2) {\n                    let update: 'soft' | 'normal' = 'soft';\n                    if (player.stage.current < 4) {\n                        player.stage.current = player.researchesExtra[1][2] > 1 ? 2 : 3;\n                        if (player.toggles.normal[0] && player.stage.active < 4) {\n                            setActiveStage(player.stage.current);\n                            update = 'normal';\n                        }\n                    }\n                    stageUpdate(update);\n                    awardVoidReward(1);\n                }\n            } else if (stageIndex === 4) {\n                if (upgrade === 2 || upgrade === 3) {\n                    calculateMaxLevel(1, 4, 'researches', true);\n                    if (player.stage.active === 4) { setRemnants(); }\n                }\n            }\n        }\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `Level increased ${level[upgrade] >= pointer.max[upgrade] ? 'and maxed at' : 'to'} ${format(level[upgrade])} for '${pointer.name[upgrade]}' ${type === 'researches' ? 'Stage' : ['', 'Energy', 'Cloud', 'Rank', 'Collapse', 'Galaxy'][player.stage.active]} Research`; }\n    } else if (type === 'researchesAuto' || type === 'ASR') {\n        if (type === 'ASR') { upgrade = stageIndex; }\n        const pointer = global[`${type}Info`];\n        const level = player[type];\n\n        if (level[upgrade] >= pointer.max[upgrade]) { return false; }\n        const cost = pointer.costRange[upgrade][Math.max(level[upgrade] - (type === 'researchesAuto' && upgrade === 1 && player.strangeness[4][6] >= 1 ? 1 : 0), 0)];\n        if (currency.lessThan(cost)) { return false; }\n\n        level[upgrade]++;\n        if (!free) { currency.minus(cost); }\n\n        /* Special cases */\n        if (type === 'researchesAuto') {\n            if (upgrade === 1) {\n                for (let i = 1; i < playerStart.elements.length; i++) {\n                    i = player.elements.indexOf(0.5, i);\n                    if (i < 1) { break; }\n                    buyUpgrades(i, 4, 'elements', true);\n                }\n            } else if (upgrade === 2) {\n                if (player.inflation.vacuum) {\n                    level[upgrade] = Math.max(level[upgrade] <= 1 && player.strangeness[3][4] < 1 ? 1 : level[upgrade] <= 2 && player.strangeness[2][4] < 1 ? 2 : level[upgrade] <= 3 && player.strangeness[4][4] < 1 ? 3 : 4, level[upgrade]);\n                }\n            }\n        }\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `Level increased ${level[upgrade] >= pointer.max[upgrade] ? 'and maxed at' : 'to'} ${format(level[upgrade])} for '${type === 'ASR' ? pointer.name : pointer.name[upgrade]}' automatization Research`; }\n    } else if (type === 'elements') {\n        let level = player.elements[upgrade];\n        if (level >= 1) { return false; }\n\n        if (level === 0) {\n            const cost = global.elementsInfo.startCost[upgrade];\n            if (currency.lessThan(cost)) { return false; }\n            /*if (!free) {*/ currency.minus(cost); //}\n        } else if (!auto) { return false; }\n        level = player.researchesAuto[1] >= 1 || level === 0.5 ? 1 : 0.5;\n        player.elements[upgrade] = level;\n\n        /* Special cases */\n        if (player.collapse.show < upgrade) { player.collapse.show = upgrade; }\n        if (level === 1) {\n            if (upgrade === 7 || upgrade === 16 || upgrade === 20 || upgrade === 25 || upgrade === 28) {\n                calculateMaxLevel(1, 4, 'researches', true);\n            } else if (upgrade === 9 || upgrade === 17) {\n                calculateMaxLevel(0, 4, 'researches', true);\n            } else if (upgrade === 11) {\n                calculateMaxLevel(2, 4, 'researches', true);\n            } else if (upgrade === 26) {\n                player.stage.current = 5;\n                if (player.stage.true < 5) {\n                    player.stage.true = 5;\n                    player.events[0] = false;\n                    visualTrueStageUnlocks();\n                }\n                if (player.toggles.normal[0] && player.stage.active === 4 && (!player.inflation.vacuum || player.strangeness[5][3] >= 1)) {\n                    setActiveStage(5);\n                    stageUpdate();\n                } else { stageUpdate('soft'); }\n                assignStrangeInfo[0]();\n                awardVoidReward(5);\n            }\n        }\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `New Element '${global.elementsInfo.name[upgrade]}' ${player.elements[upgrade] >= 1 ? 'obtained' : 'awaiting activation'}`; }\n    }\n\n    if (!free) {\n        if (stageIndex === 1) {\n            player.discharge.energy = Math.round(currency.toNumber());\n        } else if (stageIndex === 2) {\n            const drops = player.buildings[2][1];\n            drops.current = currency;\n\n            if (player.buildings[2][2].true < 1 && drops.current.lessThan(drops.true)) {\n                const old = drops.true;\n                drops.true = Math.floor(drops.current.toNumber());\n                if (player.inflation.vacuum) {\n                    addEnergy(drops.true - old, 1, 2);\n                } else if (drops.current.lessOrEqual('0')) {\n                    player.buildings[2][0].current.max('2.7753108348135e-3');\n                }\n            }\n        } else if (stageIndex === 3) {\n            if (player.inflation.vacuum) {\n                player.buildings[1][0].current = currency.divide('1.78266192e-33');\n                player.buildings[3][0].current.setValue(player.buildings[1][0].current).multiply('1.78266192e-33');\n            } else { player.buildings[3][0].current = currency; }\n        } else if (stageIndex === 6) {\n            player.buildings[6][0].current = currency;\n        } else {\n            player.buildings[4][0].current = currency;\n        }\n    }\n\n    assignBuildingInformation();\n    if (type === 'upgrades' || type === 'elements') {\n        visualUpdateUpgrades(upgrade, stageIndex, type);\n    } else {\n        if (type !== 'researchesAuto' && type !== 'ASR') { calculateResearchCost(upgrade, stageIndex, type); }\n        visualUpdateResearches(upgrade, stageIndex, type);\n    }\n    if (!auto) { numbersUpdate(); }\n    return true;\n};\n\nexport const buyStrangeness = (upgrade: number, stageIndex: number, type: 'strangeness' | 'inflation', auto = false): boolean => {\n    if (!auto && !checkUpgrade(upgrade, stageIndex, type)) { return false; }\n\n    if (type === 'strangeness') {\n        const pointer = global.strangenessInfo[stageIndex];\n\n        if (player.strangeness[stageIndex][upgrade] >= pointer.max[upgrade]) { return false; }\n        if (player.strange[0].current < pointer.cost[upgrade]) { return false; }\n\n        player.strangeness[stageIndex][upgrade]++;\n        player.strange[0].current -= pointer.cost[upgrade];\n\n        /* Special cases */\n        if (stageIndex === 1) {\n            if (upgrade === 4) {\n                if (player.researchesAuto[2] < 1 && (player.inflation.vacuum || player.stage.current === 1)) {\n                    player.researchesAuto[2] = player.inflation.vacuum ? (player.strangeness[3][4] < 1 ? 1 : player.strangeness[2][4] < 1 ? 2 : player.strangeness[4][4] < 1 ? 3 : 4) : 1;\n                    visualUpdateResearches(2, 0, 'researchesAuto');\n                }\n            } else if (upgrade === 5) {\n                player.ASR[1] = global.ASRInfo.max[1];\n                visualUpdateResearches(0, 1, 'ASR');\n            } else if (upgrade === 7) {\n                assignTrueEnergy();\n            }\n        } else if (stageIndex === 2) {\n            if (upgrade === 2) {\n                calculateMaxLevel(4, 2, 'researches', true);\n                calculateMaxLevel(5, 2, 'researches', true);\n            } else if (upgrade === 4) {\n                if (player.inflation.vacuum ? (player.researchesAuto[2] === 2 && player.strangeness[1][4] >= 1 && player.strangeness[3][4] >= 1) : (player.researchesAuto[2] < 1 && player.stage.current === 2)) {\n                    player.researchesAuto[2] = player.inflation.vacuum ? (player.strangeness[4][4] < 1 ? 3 : 4) : 1;\n                    visualUpdateResearches(2, 0, 'researchesAuto');\n                }\n            } else if (upgrade === 5) {\n                player.ASR[2] = global.ASRInfo.max[2];\n                visualUpdateResearches(0, 2, 'ASR');\n            } else if (upgrade === 8) {\n                calculateMaxLevel(2, 2, 'researches', true);\n                calculateMaxLevel(3, 2, 'researches', true);\n            }\n        } else if (stageIndex === 3) {\n            if (upgrade === 2) {\n                calculateMaxLevel(0, 3, 'researchesExtra', true);\n                calculateMaxLevel(1, 3, 'researchesExtra', true);\n            } else if (upgrade === 4) {\n                if (player.inflation.vacuum ? (player.researchesAuto[2] === 1 && player.strangeness[1][4] >= 1) : (player.researchesAuto[2] < 1 && player.stage.current === 3)) {\n                    player.researchesAuto[2] = player.inflation.vacuum ? (player.strangeness[2][4] < 1 ? 2 : player.strangeness[4][4] < 1 ? 3 : 4) : 1;\n                    visualUpdateResearches(2, 0, 'researchesAuto');\n                }\n            } else if (upgrade === 5) {\n                player.ASR[3] = global.ASRInfo.max[3];\n                visualUpdateResearches(0, 3, 'ASR');\n            } else if (upgrade === 6) {\n                if (player.researchesAuto[0] < player.strangeness[3][6]) {\n                    player.researchesAuto[0] = player.strangeness[3][6];\n                    visualUpdateResearches(0, 0, 'researchesAuto');\n                }\n            } else if (upgrade === 9) {\n                global.debug.rankUpdated = null;\n                assignMaxRank();\n            }\n        } else if (stageIndex === 4) {\n            if (upgrade === 4) {\n                if (player.inflation.vacuum ? (player.researchesAuto[2] === 3 && player.strangeness[1][4] >= 1 && player.strangeness[3][4] >= 1 && player.strangeness[2][4] >= 1) : (player.researchesAuto[2] < 1 && player.stage.current >= 4)) {\n                    player.researchesAuto[2] = player.inflation.vacuum ? 4 : 1;\n                    visualUpdateResearches(2, 0, 'researchesAuto');\n                }\n            } else if (upgrade === 5) {\n                player.ASR[4] = global.ASRInfo.max[4];\n                visualUpdateResearches(0, 4, 'ASR');\n            } else if (upgrade === 6) {\n                if (player.researchesAuto[1] < player.strangeness[4][6]) {\n                    player.researchesAuto[1] = player.strangeness[4][6];\n                    visualUpdateResearches(1, 0, 'researchesAuto');\n                }\n                for (let i = 1; i < playerStart.elements.length; i++) {\n                    i = player.elements.indexOf(0.5, i);\n                    if (i < 1) { break; }\n                    buyUpgrades(i, 4, 'elements', true);\n                }\n            } else if (upgrade === 8) {\n                if (player.elements[0] < 1) {\n                    player.elements[0] = 1;\n                    visualUpdateUpgrades(0, 4, 'elements');\n                }\n            }\n        } else if (stageIndex === 5) {\n            if (upgrade === 3) {\n                if (player.inflation.vacuum) { stageUpdate('soft'); }\n            } else if (upgrade === 4) {\n                if (player.strangeness[5][5] >= 1) {\n                    player.ASR[5] = global.ASRInfo.max[5];\n                    visualUpdateResearches(0, 5, 'ASR');\n                }\n            } else if (upgrade === 5) {\n                player.ASR[5] = player.strangeness[5][4] >= 1 ? global.ASRInfo.max[5] : 2;\n                visualUpdateResearches(0, 5, 'ASR');\n            }\n        }\n        assignStrangeInfo[0]();\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `Level increased ${player.strangeness[stageIndex][upgrade] >= pointer.max[upgrade] ? 'and maxed at' : 'to'} ${format(player.strangeness[stageIndex][upgrade])} for '${pointer.name[upgrade]}' Strangeness from ${global.stageInfo.word[stageIndex]} section`; }\n    } else if (type === 'inflation') {\n        const pointer = global.inflationTreeInfo;\n\n        if (player.inflation.tree[upgrade] >= pointer.max[upgrade]) { return false; }\n        if (player.cosmon.current < pointer.cost[upgrade]) { return false; }\n\n        player.inflation.tree[upgrade]++;\n        player.cosmon.current -= pointer.cost[upgrade];\n\n        /* Special cases */\n        if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Strength of Inflation Research '${pointer.name[upgrade]}' increased ${player.inflation.tree[upgrade] >= pointer.max[upgrade] ? 'and maxed at' : 'to'} ${format(player.inflation.tree[upgrade])}`; }\n    }\n\n    assignBuildingInformation();\n    calculateResearchCost(upgrade, stageIndex, type);\n    if (type === 'inflation') {\n        visualUpdateInflation(upgrade);\n    } else {\n        visualUpdateResearches(upgrade, stageIndex, type);\n    }\n    if (!auto) { numbersUpdate(); }\n    return true;\n};\n\n//Currently can't allow price to be more than 2**1024. Because missing sorting function for numbers that big\nexport const calculateResearchCost = (research: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'strangeness' | 'inflation') => {\n    if (type === 'researches' || type === 'researchesExtra') {\n        const pointer = global[`${type}Info`][stageIndex];\n\n        pointer.cost[research] = stageIndex === 1 ?\n            pointer.startCost[research] + pointer.scaling[research] * player[type][stageIndex][research] :\n            pointer.startCost[research] * pointer.scaling[research] ** player[type][stageIndex][research];\n    } else if (type === 'strangeness') {\n        const pointer = global.strangenessInfo[stageIndex];\n\n        pointer.cost[research] = player.inflation.vacuum ?\n            Math.floor(Math.round((pointer.startCost[research] * pointer.scaling[research] ** player.strangeness[stageIndex][research]) * 100) / 100) :\n            Math.floor(Math.round((pointer.startCost[research] + pointer.scaling[research] * player.strangeness[stageIndex][research]) * 100) / 100);\n    } else if (type === 'inflation') {\n        const pointer = global.inflationTreeInfo;\n\n        pointer.cost[research] = Math.floor(Math.round((pointer.startCost[research] + pointer.scaling[research] * player.inflation.tree[research]) * 100) / 100);\n    }\n};\n\nexport const calculateMaxLevel = (research: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'strangeness', addAuto = false) => {\n    let max = null;\n    if (type === 'researches') {\n        if (stageIndex === 2) {\n            if (research === 2) {\n                max = 4;\n                if (player.strangeness[2][8] >= 1) { max += 3; }\n            } else if (research === 3) {\n                max = 4;\n                if (player.strangeness[2][8] >= 2) { max++; }\n            } else if (research === 4) {\n                max = 2;\n                if (player.strangeness[2][2] >= 1) { max++; }\n            } else if (research === 5) {\n                max = 1;\n                if (player.strangeness[2][2] >= 2) { max++; }\n            }\n        } else if (stageIndex === 4) {\n            if (research === 0) {\n                max = 3 + (3 * player.researches[4][2]) + (3 * player.researches[4][3]);\n                if (player.elements[9] >= 1) { max += 12; }\n                if (player.elements[17] >= 1) { max += 24; }\n            } else if (research === 1) {\n                max = 2 + player.researchesExtra[4][2] + player.researchesExtra[4][3];\n                if (player.elements[7] >= 1) { max += 2; }\n                if (player.elements[16] >= 1) { max++; }\n                if (player.elements[20] >= 1) { max++; }\n                if (player.elements[25] >= 1) { max++; }\n                if (player.elements[28] >= 1) { max++; }\n            } else if (research === 2) {\n                max = 1;\n                if (player.elements[11] >= 1) { max++; }\n            }\n        } else if (stageIndex === 5) {\n            if (research === 0) {\n                max = player.inflation.vacuum ? 4 : 3;\n            } else if (research === 1) {\n                max = player.inflation.vacuum ? 4 : 3;\n            }\n        }\n    } else if (type === 'researchesExtra') {\n        if (stageIndex === 3) {\n            if (research === 0) {\n                max = 14 + (2 * player.accretion.rank);\n                if (player.strangeness[3][2] >= 1) { max += 6; }\n            } else if (research === 1) {\n                max = 6;\n                if (player.strangeness[3][2] >= 2) { max += 2; }\n            } else if (research === 4) {\n                max = player.accretion.rank - 2;\n            }\n        }\n    } else if (type === 'researchesAuto') {\n        if (research === 2) {\n            max = player.inflation.vacuum ? 5 : 1;\n        }\n    } else if (type === 'ASR') {\n        if (stageIndex === 1) {\n            max = player.inflation.vacuum ? 5 : 3;\n        } else if (stageIndex === 2) {\n            max = player.inflation.vacuum ? 6 : 5;\n        } else if (stageIndex === 3) {\n            max = player.inflation.vacuum ? 5 : 4;\n        } else if (stageIndex === 4) {\n            max = player.inflation.vacuum ? 5 : 4;\n        } else if (stageIndex === 5) {\n            max = player.inflation.vacuum || player.strangeness[5][4] >= 1 || player.milestones[4][1] >= 8 ? 3 : 2;\n        }\n    } else if (type === 'strangeness') {\n        if (stageIndex === 1) {\n            if (research === 0) {\n                max = 6;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 3) {\n                max = 2;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 4) {\n                max = player.inflation.vacuum && player.challenges.void[4] >= 1 ? 2 : 1;\n            }\n        } else if (stageIndex === 2) {\n            if (research === 1) {\n                max = 8;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 3) {\n                max = 2;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 4) {\n                max = player.inflation.vacuum && player.challenges.void[4] >= 1 ? 2 : 1;\n            }\n        } else if (stageIndex === 3) {\n            if (research === 0) {\n                max = 8;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 1) {\n                max = 4;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 4) {\n                max = player.inflation.vacuum && player.challenges.void[4] >= 1 ? 2 : 1;\n            }\n        } else if (stageIndex === 4) {\n            if (research === 0) {\n                max = 8;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 1) {\n                max = 4;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 4) {\n                max = player.inflation.vacuum && player.challenges.void[4] >= 1 ? 2 : 1;\n            } else if (research === 6) {\n                max = player.inflation.vacuum || global.milestonesInfoS6.active[2] || player.milestones[4][0] >= 8 ? 2 : 1;\n            }\n        } else if (stageIndex === 5) {\n            if (research === 2) {\n                max = 2;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 4) {\n                max = player.inflation.vacuum && player.challenges.void[3] >= 6 ? 2 : 1;\n            } else if (research === 6) {\n                max = !player.inflation.vacuum && player.milestones[5][0] >= 8 ? 2 : 1;\n            }\n        }\n    }\n    if (max !== null) {\n        if (max < 0) { max = 0; }\n        if (type === 'researchesAuto' || type === 'ASR') {\n            global[`${type}Info`].max[type === 'ASR' ? stageIndex : research] = max;\n        } else {\n            global[`${type}Info`][stageIndex].max[research] = max;\n        }\n    }\n\n    if (type !== 'researchesAuto' && type !== 'ASR') { calculateResearchCost(research, stageIndex, type); }\n    visualUpdateResearches(research, stageIndex, type);\n    if (addAuto && (type === 'researches' || type === 'researchesExtra')) { autoResearchesSet(type, [stageIndex, research]); }\n};\n\nexport const autoUpgradesSet = (which: 'all' | number) => {\n    if (!player.toggles.auto[5]) { return; }\n    const auto = global.automatization.autoU;\n    const level = player.upgrades;\n    const pointer = global.upgradesInfo;\n\n    if (which === 'all') {\n        for (let s = 1; s <= 5; s++) {\n            auto[s] = [];\n            for (let i = 0; i < pointer[s].maxActive; i++) {\n                if (level[s][i] < 1) {\n                    auto[s].push(i);\n                }\n            }\n            const startCost = pointer[s].startCost;\n            auto[s].sort((a, b) => startCost[a] - startCost[b]);\n        }\n    } else if (typeof which === 'number') {\n        auto[which] = [];\n        for (let i = 0; i < pointer[which].maxActive; i++) {\n            if (level[which][i] < 1) {\n                auto[which].push(i);\n            }\n        }\n        const startCost = pointer[which].startCost;\n        auto[which].sort((a, b) => startCost[a] - startCost[b]);\n    }\n};\n\nexport const autoUpgradesBuy = (stageIndex: number) => {\n    if (!player.toggles.auto[5] || player.researchesAuto[0] < 1) { return; }\n    const auto = global.automatization.autoU[stageIndex];\n\n    for (let i = 0; i < auto.length; i++) {\n        const index = auto[i];\n\n        if (!checkUpgrade(index, stageIndex, 'upgrades')) { continue; }\n        buyUpgrades(index, stageIndex, 'upgrades', true);\n\n        if (player.upgrades[stageIndex][index] >= 1) {\n            auto.splice(i, 1);\n            i--;\n        } else { break; }\n    }\n};\n\n//All = reset all of current active stages; As number means reset that stage only; As array means add [1] into stage [0] if it's not already inside\nexport const autoResearchesSet = (type: 'researches' | 'researchesExtra', which: 'all' | number | number[]) => {\n    if (!player.toggles.auto[type === 'researches' ? 6 : 7]) { return; }\n    const auto = global.automatization[type === 'researches' ? 'autoR' : 'autoE'];\n    const level = player[type];\n    const pointer = global[`${type}Info`];\n\n    if (which === 'all') {\n        for (let s = 1; s <= 5; s++) {\n            auto[s] = [];\n            const { max, cost } = pointer[s];\n            for (let i = 0; i < pointer[s].maxActive; i++) {\n                if (level[s][i] < max[i]) {\n                    auto[s].push(i);\n                }\n            }\n            auto[s].sort((a, b) => cost[a] - cost[b]);\n        }\n    } else if (typeof which === 'number') {\n        auto[which] = [];\n        const { max, cost } = pointer[which];\n        for (let i = 0; i < pointer[which].maxActive; i++) {\n            if (level[which][i] < max[i]) {\n                auto[which].push(i);\n            }\n        }\n        auto[which].sort((a, b) => cost[a] - cost[b]);\n    } else {\n        const [s, a] = which;\n        if (pointer[s].max[a] > level[s][a]) {\n            const { cost } = pointer[s];\n            let newIndex;\n            for (let i = 0; i < auto[s].length; i++) {\n                if (auto[s][i] === a) { return; }\n                if (newIndex === undefined && cost[a] < cost[auto[s][i]]) {\n                    newIndex = i;\n                }\n            }\n            if (newIndex !== undefined) {\n                auto[s].splice(newIndex, 0, a);\n            } else { auto[s].push(a); }\n        }\n    }\n};\n\nexport const autoResearchesBuy = (type: 'researches' | 'researchesExtra', stageIndex: number) => {\n    if (type === 'researches') {\n        if (!player.toggles.auto[6] || player.researchesAuto[0] < 2) { return; }\n    } else /*if (type === 'researchesExtra')*/ {\n        if (!player.toggles.auto[7] || player.researchesAuto[0] < 3) { return; }\n    }\n    const auto = global.automatization[type === 'researches' ? 'autoR' : 'autoE'][stageIndex];\n    const pointer = global[`${type}Info`][stageIndex];\n\n    let sort = false;\n    for (let i = 0; i < auto.length; i++) {\n        if (!checkUpgrade(auto[i], stageIndex, type)) { continue; }\n        const bought = buyUpgrades(auto[i], stageIndex, type, true);\n\n        if (player[type][stageIndex][auto[i]] >= pointer.max[auto[i]]) {\n            auto.splice(i, 1);\n            i--;\n        } else if (!bought) {\n            if (pointer.cost[auto[i]] > pointer.cost[auto[i + 1]]) {\n                sort = true;\n                continue;\n            }\n            break;\n        }\n    }\n    if (sort) { auto.sort((a, b) => pointer.cost[a] - pointer.cost[b]); }\n};\n\nexport const autoElementsSet = () => {\n    if (!player.toggles.auto[8]) { return; }\n    const auto = global.automatization.elements;\n    const startCost = global.elementsInfo.startCost;\n    const elements = player.elements;\n\n    for (let i = 1; i < (player.inflation.vacuum ? startCost.length : 29); i++) {\n        if (elements[i] < 1) { auto.push(i); }\n    }\n\n    auto.sort((a, b) => startCost[a] - startCost[b]);\n};\n\nexport const autoElementsBuy = () => {\n    if (!player.toggles.auto[8] || player.researchesAuto[1] < 2) { return; }\n    const auto = global.automatization.elements;\n    const elements = player.elements;\n\n    for (let i = 0; i < auto.length; i++) {\n        const index = auto[i];\n\n        if (!checkUpgrade(index, 4, 'elements')) { break; }\n        buyUpgrades(index, 4, 'elements', true);\n\n        if (elements[index] >= 1) {\n            auto.splice(i, 1);\n            i--;\n        } else { break; }\n    }\n};\n\nexport const toggleSwap = (number: number, type: 'buildings' | 'normal' | 'hover' | 'max' | 'auto', change = false) => {\n    const toggles = type === 'buildings' ? player.toggles.buildings[player.stage.active] : player.toggles[type];\n\n    if (change) {\n        if (type === 'buildings') {\n            const maxLength = playerStart.buildings[player.stage.active].length;\n            if (number === 0) {\n                toggles[0] = !toggles[0];\n                for (let i = 1; i < maxLength; i++) {\n                    toggles[i] = toggles[0];\n                    toggleSwap(i, 'buildings');\n                }\n            } else {\n                if (number >= maxLength) { return; }\n\n                let anyOn = false;\n                toggles[number] = !toggles[number];\n                for (let i = 1; i <= player.ASR[player.stage.active]; i++) {\n                    if (toggles[i]) {\n                        anyOn = true;\n                        break;\n                    }\n                }\n                if (toggles[0] !== anyOn) {\n                    toggles[0] = anyOn;\n                    toggleSwap(0, 'buildings');\n                }\n            }\n        } else { toggles[number] = !toggles[number]; }\n    }\n\n    let extraText;\n    let toggleHTML;\n    if (type === 'buildings') {\n        toggleHTML = getId(`toggleBuilding${number}`);\n        extraText = number === 0 ? 'All ' : 'Auto ';\n    } else if (type === 'hover') {\n        toggleHTML = getId(`toggleHover${number}`);\n        extraText = 'Hover to create ';\n    } else if (type === 'max') {\n        toggleHTML = getId(`toggleMax${number}`);\n        extraText = 'Max create ';\n    } else if (type === 'auto') {\n        toggleHTML = getId(`toggleAuto${number}`);\n        extraText = 'Auto ';\n    } else {\n        toggleHTML = getId(`toggleNormal${number}`);\n        extraText = '';\n    }\n\n    if (!toggles[number]) {\n        toggleHTML.style.color = 'var(--red-text)';\n        toggleHTML.style.borderColor = 'crimson';\n        toggleHTML.textContent = `${extraText}OFF`;\n    } else {\n        toggleHTML.style.color = '';\n        toggleHTML.style.borderColor = '';\n        toggleHTML.textContent = `${extraText}ON`;\n    }\n};\n\nexport const toggleConfirm = (number: number, change = false) => {\n    const toggles = player.toggles.confirm;\n    if (change) { toggles[number] = toggles[number] === 'Safe' ? 'None' : 'Safe'; }\n\n    const toggleHTML = getId(`toggleConfirm${number}`);\n    toggleHTML.textContent = toggles[number];\n    if (toggles[number] === 'Safe') {\n        toggleHTML.style.color = '';\n        toggleHTML.style.borderColor = '';\n    } else {\n        toggleHTML.style.color = 'var(--red-text)';\n        toggleHTML.style.borderColor = 'crimson';\n    }\n};\n\nexport const assignQuarksGain = () => {\n    global.strangeInfo.quarksGain = calculateEffects.strangeGain(5);\n};\n\nexport const stageResetCheck = (stageIndex: number, auto = false, quarks = null as number | null): boolean => {\n    if (stageIndex >= 5) {\n        assignQuarksGain(); //Also visually updates numbers\n        if (player.elements[26] < 1) { return false; }\n\n        const { stage } = player;\n        if (quarks !== null) {\n            const peakCheck = global.strangeInfo.quarksGain / player.time.stage;\n            if (stage.peak < peakCheck) { stage.peak = peakCheck; }\n\n            if (player.strange[0].current > 0) { gainStrange(quarks); }\n        }\n        if (auto) {\n            if (player.strangeness[5][6] < (player.inflation.vacuum ? 1 : 2) || stage.input > global.strangeInfo.quarksGain || stage.input <= 0) { return false; }\n            stageResetReward(stageIndex);\n        }\n        return true;\n    } else if (stageIndex === 3) {\n        if (player.buildings[3][0].current.lessThan('2.45576045e31')) { return false; }\n    } else if (stageIndex === 2) {\n        if (player.buildings[2][1].current.lessThan('1.19444e29')) { return false; }\n    } else if (stageIndex === 1) {\n        if (player.buildings[1][3].current.lessThan('1.67133125e21')) { return false; }\n    } else { return false; }\n\n    if (auto) {\n        if (player.strangeness[5][6] < 1) { return false; }\n        stageResetReward(stageIndex);\n    }\n    return true;\n};\nexport const stageResetUser = async() => {\n    if (global.paused) { return; }\n    const active = player.inflation.vacuum || (player.stage.active >= 4 && player.events[0]) ? 5 : player.stage.active;\n    if (!stageResetCheck(active)) { return; }\n\n    if (player.toggles.confirm[0] !== 'None') {\n        let errorText = '';\n        if (player.upgrades[5][3] === 1) {\n            assignMergeReward();\n            const universeCost = calculateBuildingsCost(1, 6);\n            if (universeCost.lessOrEqual(player.merge.reward[0] + global.mergeInfo.checkReward[0])) {\n                errorText += `can create an Universe${universeCost.moreThan(player.merge.reward[0]) ? ' after Merge' : ''}`;\n            }\n        }\n        if (player.researchesExtra[5][0] >= 1) {\n            assignNewMass();\n            const galaxyCost = calculateBuildingsCost(3, 5);\n            if (galaxyCost.lessOrEqual(Math.max(player.collapse.mass, global.collapseInfo.newMass))) {\n                if (errorText !== '') { errorText += '\\nAlso '; }\n                errorText += `can afford a Galaxy${galaxyCost.moreThan(player.collapse.mass) ? ' after Collapse' : ''}`;\n            }\n        }\n        if (player.challenges.active !== null) {\n            if (errorText !== '') { errorText += '\\nAlso '; }\n            errorText += `currently inside the ${global.challengesInfo.name[player.challenges.active]}`;\n        }\n        if (errorText !== '') {\n            if (!await Confirm(`Prevented Stage reset because ${errorText}\\nReset anyway?`)) { return; }\n            if (!stageResetCheck(active)) { return Notify('Stage reset canceled, requirements are no longer met'); }\n        }\n    }\n    stageResetReward(active, globalSave.SRSettings[0]);\n};\n\nconst stageResetReward = (stageIndex: number, readerMessage = false) => {\n    const { stage, time } = player;\n    const realTime = time.stage;\n\n    stage.resets++;\n    let update: false | 'normal' | 'soft' = 'normal';\n    const resetThese = player.inflation.vacuum ? [1, 2, 3, 4, 5] : [stageIndex];\n    if (player.inflation.vacuum) {\n        setActiveStage(1);\n        time.stage = 0;\n        stage.time = 0;\n        stage.peak = 0;\n        stage.current = 1;\n        if (stage.true >= 7) {\n            resetThese.push(6);\n        } else if (stage.resets < 2) { playEvent(7); }\n    } else if (stageIndex === stage.current) {\n        time.stage = 0;\n        stage.time = 0;\n        stage.peak = 0; //Just in case (only used in Interstellar)\n        if (stageIndex < 4) {\n            const check = stage.current === stage.active;\n            stage.current++;\n            if (stage.current === 2 && player.milestones[2][1] >= 7) { stage.current++; }\n            if (stage.current === 3 && player.milestones[3][1] >= 7) { stage.current++; }\n            if (check) {\n                setActiveStage(stage.current);\n            } else { update = 'soft'; }\n            if (stage.current > stage.true) {\n                stage.true = stage.current;\n                player.events[0] = false;\n                visualTrueStageUnlocks();\n            }\n        } else {\n            stage.current = player.milestones[1][1] < 6 ? 1 : player.milestones[2][1] < 7 ? 2 : player.milestones[3][1] < 7 ? 3 : 4;\n            if ((stage.active === 4 && stage.current !== 4) || stage.active === 5) {\n                setActiveStage(stage.current);\n            } else { update = 'soft'; }\n            resetThese.unshift(4);\n        }\n        if (stage.true >= 7) { resetThese.push(6); }\n    } else { update = stageIndex === stage.active ? 'soft' : false; }\n\n    if (stage.true >= 5) {\n        const { strange } = player;\n        const quarks = stageIndex < 4 ? calculateEffects.strangeGain(stageIndex) : global.strangeInfo.quarksGain;\n        const strangelets = player.strangeness[5][8] >= 1 || player.inflation.tree[3] >= 1 ? calculateEffects.strangeGain(stageIndex, 1) : 0;\n        strange[0].current += quarks;\n        strange[0].total += quarks;\n        if (strangelets > 0) {\n            strange[1].current += strangelets;\n            strange[1].total += strangelets;\n            if (strangelets > time.export[2]) { time.export[2] = strangelets; }\n            assignStrangeInfo[1]();\n        }\n        if (quarks > time.export[1]) { time.export[1] = quarks; }\n        if (resetThese.includes(4)) { player.elements[26] = 0; } //Temporary fix for Strange boost\n        assignStrangeInfo[0]();\n\n        if (stageIndex >= 4) {\n            const storage = global.historyStorage.stage;\n            storage.unshift([realTime, quarks, strangelets, 0]);\n            if (storage.length > 100) { storage.length = 100; }\n            if (quarks / realTime > global.strangeInfo.bestHistoryRate) {\n                player.history.stage.best = [realTime, quarks, strangelets, 0];\n                global.strangeInfo.bestHistoryRate = quarks / realTime;\n            }\n        }\n        if (readerMessage) { getId('SRMain').textContent = `Caused Stage reset for ${format(quarks)} Strange quarks${player.strangeness[5][8] >= 1 || player.inflation.tree[3] >= 1 ? ` and ${format(strangelets)} Strangelets` : ''}`; }\n    } else if (readerMessage) { getId('SRMain').textContent = `${global.stageInfo.word[stage.true - 1]} Stage ended, but new one started`; }\n\n    resetStage(resetThese, update);\n};\n/* Export if required */\nconst stageFullReset = () => {\n    const { stage } = player;\n    const vacuum = player.inflation.vacuum;\n    const current = vacuum ? 5 : stage.current;\n    if (!vacuum) {\n        if (current !== 1 && player.milestones[1][1] >= 6) {\n            if (stageResetCheck(1)) {\n                stageResetReward(1);\n            } else { resetStage([1], false); }\n        }\n        if (current !== 2 && player.milestones[2][1] >= 7) {\n            if (stageResetCheck(2)) {\n                stageResetReward(2);\n            } else { resetStage([2], false); }\n        }\n        if (current !== 3 && player.milestones[3][1] >= 7) {\n            if (stageResetCheck(3)) {\n                stageResetReward(3);\n            } else { resetStage([3], false); }\n        }\n    }\n\n    if (stageResetCheck(current)) {\n        stageResetReward(current);\n    } else {\n        player.time.stage = 0;\n        stage.time = 0;\n        stage.peak = 0;\n        const resetThese = vacuum ? [1, 2, 3, 4, 5] : [current];\n        if (stage.true >= 7) { resetThese.push(6); }\n        if (vacuum) {\n            setActiveStage(1);\n            stage.current = 1;\n            resetStage(resetThese);\n        } else { resetStage(resetThese, 'soft'); }\n    }\n};\n\nexport const switchStage = (stage: number, active = stage) => {\n    if (!global.stageInfo.activeAll.includes(stage)) { return; }\n    if (player.stage.active === stage) {\n        if (global.trueActive !== stage) {\n            global.trueActive = stage;\n            getId(`${global.stageInfo.word[stage]}Switch`).style.textDecoration = 'underline';\n        }\n        return;\n    }\n\n    setActiveStage(stage, active);\n    if (global.tab === 'inflation') {\n        if (stage !== 6) { switchTab('upgrade'); }\n    } else if (global.tab === 'Elements') {\n        if (stage !== 4 && stage !== 5) { switchTab('upgrade'); }\n    }\n    if (global.tab === 'upgrade') {\n        if (global.subtab.upgradeCurrent === 'Elements' && stage !== 4 && stage !== 5) { switchTab('upgrade', 'Upgrades'); }\n    }\n    stageUpdate();\n};\n\n/** Doesn't check for Stage being unlocked, requires stageUpdate() call afterwards */\nexport const setActiveStage = (stage: number, active = stage) => {\n    getId(`${global.stageInfo.word[player.stage.active]}Switch`).style.textDecoration = '';\n    player.stage.active = stage;\n    global.trueActive = active;\n    getId(`${global.stageInfo.word[stage]}Switch`).style.textDecoration = 'underline' + (global.trueActive !== stage ? ' dashed' : '');\n};\n\nexport const getDischargeScale = (): number => (20 - (4 * player.researches[1][3]) - player.strangeness[1][2]) / 2;\nconst assignDischargeCost = () => {\n    global.dischargeInfo.next = Math.round(getDischargeScale() ** player.discharge.current);\n};\nexport const assignEnergyArray = () => {\n    if (!player.inflation.vacuum) {\n        global.dischargeInfo.energyType[1] = [0, 1, 5, 20];\n        return;\n    }\n\n    const energyArray = [\n        [],\n        [0, 1, 3, 5, 10, 20],\n        [0, 20, 30, 40, 50, 60, 100],\n        [0, 20, 40, 60, 100, 120],\n        [0, 80, 160, 240, 320, 400],\n        [0, 400, 400, 2000]\n    ];\n\n    for (let s = 1; s <= 5; s++) {\n        for (let i = 1; i < energyArray[s].length; i++) {\n            let value = energyArray[s][i];\n            if (s === 1) {\n                if (i === 1) { value += player.strangeness[1][7] * 2; }\n            } else if (player.challenges.active === 0) { value /= 2; }\n            energyArray[s][i] = value;\n        }\n    }\n    global.dischargeInfo.energyType = energyArray;\n};\nexport const assignTrueEnergy = () => {\n    assignEnergyArray();\n    const { dischargeInfo } = global;\n\n    dischargeInfo.energyTrue = 0;\n    for (let s = 1; s <= (player.inflation.vacuum ? 5 : 1); s++) {\n        let add = 0;\n        const buildings = player.buildings[s];\n        const energyType = dischargeInfo.energyType[s];\n        for (let i = 1; i < energyType.length; i++) {\n            add += energyType[i] * buildings[i as 1].true;\n        }\n        dischargeInfo.energyStage[s] = add;\n        dischargeInfo.energyTrue += add;\n    }\n};\n\nexport const dischargeResetCheck = (goals = false): boolean => {\n    assignDischargeCost(); //Also visually updates numbers\n    if (player.upgrades[1][5] !== 1) { return false; }\n    const info = global.dischargeInfo;\n    const energy = player.discharge.energy;\n    const level = player.strangeness[1][4];\n\n    if (goals) {\n        if (level >= 2 && energy >= info.next) {\n            dischargeReset(true);\n            if (!player.toggles.auto[1]) { return true; }\n            assignDischargeCost();\n        } else if (!player.toggles.auto[1] || (level < 1 && player.researchesAuto[2] < 1)) { return false; }\n\n        if (energy >= info.energyTrue && (level >= 2 || energy < info.next)) { return false; }\n        dischargeReset();\n        return true;\n    }\n    return energy < info.energyTrue || (level < 2 && energy >= info.next);\n};\nexport const dischargeResetUser = async() => {\n    if (global.paused || !dischargeResetCheck()) { return; }\n\n    if (player.toggles.confirm[1] !== 'None') {\n        if (player.stage.active !== 1) {\n            if (!await Confirm(\"Prevented Discharge because current active Stage isn't Microworld\\nReset anyway?\")) { return; }\n            if (!dischargeResetCheck()) { return Notify('Discharge canceled, requirements are no longer met'); }\n        }\n    }\n\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Caused Discharge to reset spent Energy${player.discharge.energy >= global.dischargeInfo.next ? ', also reached new goal' : ''}`; }\n    dischargeReset();\n};\n\nconst dischargeReset = (noReset = false) => {\n    if (player.discharge.energy >= global.dischargeInfo.next) {\n        player.discharge.current++;\n        if (!noReset) { player.discharge.energy -= global.dischargeInfo.next; }\n    }\n    awardVoidReward(1);\n    if (!noReset) { reset('discharge', [1]); }\n};\n\nexport const assignNewClouds = () => {\n    const softcap = player.challenges.active === 0 ? 0.4 : player.inflation.vacuum ? 0.5 : 0.6;\n    global.vaporizationInfo.get.setValue(player.vaporization.clouds).power(1 / softcap).plus(\n        new Overlimit(player.buildings[2][1][player.researchesExtra[2][0] >= 1 ? 'total' : 'current']).divide(calculateEffects.S2Upgrade2())\n    ).power(softcap).minus(player.vaporization.clouds);\n};\n\nexport const vaporizationResetCheck = (clouds = null as number | null): boolean => {\n    assignNewClouds(); //Also visually updates numbers\n    if (player.upgrades[2][2] < 1 || global.vaporizationInfo.get.lessOrEqual('0')) { return false; } //Can be negative\n\n    if (clouds !== null) {\n        if (player.strangeness[2][4] >= 2) {\n            vaporizationReset(clouds);\n            if (!player.toggles.auto[2] || player.toggles.normal[1]) { return true; }\n            assignNewClouds();\n        } else if (!player.toggles.auto[2] || (player.strangeness[2][4] < 1 && player.researchesAuto[2] < (player.inflation.vacuum ? 3 : 1))) { return false; }\n\n        if (player.vaporization.input[1] > 0 && player.vaporization.clouds.moreOrEqual(player.vaporization.input[1])) { return false; }\n        const rainNow = calculateEffects.S2Extra1(player.researchesExtra[2][1]);\n        const rainAfter = calculateEffects.S2Extra1(player.researchesExtra[2][1], true);\n        const storm = calculateEffects.S2Extra2(rainAfter) / calculateEffects.S2Extra2(rainNow);\n        if (calculateEffects.clouds(true).divide(calculateEffects.clouds()).multiply((rainAfter / rainNow) * storm).lessThan(player.vaporization.input[0])) { return false; }\n        vaporizationReset();\n    }\n    return true;\n};\nexport const vaporizationResetUser = async() => {\n    if (global.paused || !vaporizationResetCheck()) { return; }\n\n    if (player.toggles.confirm[2] !== 'None') {\n        let errorText = '';\n        if (player.strangeness[2][4] >= 2) {\n            errorText += 'already gaining Clouds without needing to reset';\n        }\n        const rainNow = calculateEffects.S2Extra1(player.researchesExtra[2][1]);\n        const rainAfter = calculateEffects.S2Extra1(player.researchesExtra[2][1], true);\n        const storm = calculateEffects.S2Extra2(rainAfter) / calculateEffects.S2Extra2(rainNow);\n        if (calculateEffects.clouds(true).divide(calculateEffects.clouds()).multiply((rainAfter / rainNow) * storm).lessThan('2')) {\n            if (errorText !== '') { errorText += '\\nAlso '; }\n            errorText += 'boost from doing it is bellow 2x';\n        }\n        if (player.stage.active !== 2) {\n            if (errorText !== '') { errorText += '\\nAlso '; }\n            errorText += \"current active Stage isn't Submerged\";\n        }\n        if (errorText !== '') {\n            if (!await Confirm(`Prevented Vaporization because ${errorText}\\nReset anyway?`)) { return; }\n            if (!vaporizationResetCheck()) { return Notify('Vaporization canceled, requirements are no longer met'); }\n        }\n    }\n\n    if (globalSave.SRSettings[0]) {\n        getId('SRMain').textContent = `Caused Vaporization for ${format(global.vaporizationInfo.get)} Clouds, +${format(player.vaporization.clouds.moreThan('0') ? new Overlimit(global.vaporizationInfo.get).divide(player.vaporization.clouds).multiply('1e2') : 100)}%`;\n    }\n    vaporizationReset();\n};\n\nconst vaporizationReset = (autoClouds = null as number | null) => {\n    const vaporization = player.vaporization;\n\n    if (autoClouds !== null) {\n        vaporization.clouds.plus(new Overlimit(global.vaporizationInfo.get).multiply(autoClouds / 40));\n    } else { vaporization.clouds.plus(global.vaporizationInfo.get); }\n    if (vaporization.cloudsMax.lessThan(vaporization.clouds)) { vaporization.cloudsMax.setValue(vaporization.clouds); }\n    awardVoidReward(2);\n    if (autoClouds === null) { reset('vaporization', player.inflation.vacuum ? [1, 2] : [2]); }\n};\n\nexport const assignMaxRank = () => {\n    if (player.inflation.vacuum) {\n        global.accretionInfo.maxRank = player.strangeness[3][9] >= 1 ? 7 : 6;\n    } else {\n        global.accretionInfo.maxRank = player.stage.true >= 4 || (player.stage.true === 3 && player.events[0]) ? 5 : 4;\n    }\n};\n\nexport const rankResetCheck = (auto = false): boolean => {\n    const rank = player.accretion.rank;\n    if (rank >= global.accretionInfo.maxRank) { return false; }\n    const level = player.strangeness[3][4];\n\n    if (player.challenges.active === 0 && player.accretion.rank >= 6 && player.buildings[5][3].true < Infinity) { return false; }\n    if ((player.inflation.vacuum ? new Overlimit(player.buildings[1][0][level >= 2 ? 'total' : 'current']).multiply('1.78266192e-33') :\n        player.buildings[3][0][level >= 2 ? 'total' : 'current']).lessThan(global.accretionInfo.rankCost[rank])) { return false; }\n\n    if (auto) {\n        if (level < 1 && player.researchesAuto[2] < (player.inflation.vacuum ? 2 : 1)) { return false; }\n        rankReset();\n    }\n    return true;\n};\nexport const rankResetUser = async() => {\n    if (global.paused || !rankResetCheck()) { return; }\n\n    if (player.toggles.confirm[3] !== 'None' && player.accretion.rank !== 0) {\n        let errorText = '';\n        if (player.inflation.vacuum && (player.researchesExtra[2][1] <= 0 || player.vaporization.clouds.lessOrEqual('0')) && player.accretion.rank >= 4) {\n            errorText += `current ${player.researchesExtra[2][1] <= 0 ? \"level for Cloud Research 'Rain Clouds'\" : 'Cloud amount'} is 0, which could make next Rank slow`;\n        }\n        if (player.stage.active !== 3) {\n            if (errorText !== '') { errorText += '\\nAlso '; }\n            errorText += \"current active Stage isn't Accretion\";\n        }\n        if (errorText !== '') {\n            if (!await Confirm(`Prevented Rank increase because ${errorText}\\nReset anyway?`)) { return; }\n            if (!rankResetCheck()) { return Notify('Rank increase canceled, requirements are no longer met'); }\n        }\n    }\n\n    rankReset();\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Rank increased to '${global.accretionInfo.rankName[player.accretion.rank]}' (Rank number is ${player.accretion.rank})`; }\n};\n\nconst rankReset = () => {\n    player.accretion.rank++;\n    if (player.accretion.rank === 6) {\n        player.stage.current = 4;\n        if (player.toggles.normal[0] && player.stage.active < 4) {\n            setActiveStage(4);\n            stageUpdate();\n        } else { stageUpdate('soft'); }\n    }\n    awardVoidReward(3);\n    reset('rank', player.inflation.vacuum ? [1, 2, 3] : [3]);\n    calculateMaxLevel(0, 3, 'researchesExtra', true);\n    calculateMaxLevel(4, 3, 'researchesExtra', true);\n};\n\nconst calculateMassGain = (): number => {\n    const elements = player.elements;\n\n    let massGain = 0.004;\n    if (elements[3] >= 1) { massGain += 0.002; }\n    if (elements[5] >= 1) { massGain += 0.0002 * player.buildings[4][1].true; }\n    massGain *= elements[15] >= 1 ? global.collapseInfo.trueStars : player.buildings[4][1].true;\n    if (player.inflation.vacuum) {\n        massGain = (massGain * (player.challenges.active === 0 ? 48 : 96)) + 1;\n    } else {\n        if (elements[10] >= 1) { massGain *= 2; }\n        if (player.researchesExtra[4][1] >= 1) { massGain *= calculateEffects.S4Extra1(); }\n        massGain *= calculateEffects.star[2]();\n        if (player.strangeness[5][7] >= 1) { massGain *= global.strangeInfo.stageBoost[5]; }\n    }\n    return massGain;\n};\n\nexport const assignNewMass = () => {\n    global.collapseInfo.newMass = !player.inflation.vacuum ? calculateMassGain() :\n        Math.min(new Overlimit(player.buildings[1][0].current).multiply('8.96499278339628e-67').toNumber(), global.inflationInfo.massCap); //1.78266192e-33 / 1.98847e33\n};\nconst assignNewRemnants = () => {\n    const building = player.buildings[4];\n    const starCheck = global.collapseInfo.starCheck;\n    const stars = player.collapse.stars;\n    starCheck[0] = building[2].trueTotal.moreThan('0') ? Math.max(building[2].true + Math.floor(building[1].true * player.strangeness[4][3] / 10) - stars[0], 0) : 0;\n    starCheck[1] = Math.max(building[3].true - stars[1], 0);\n    starCheck[2] = Math.max(building[4].true + (building[5].true * player.researches[4][5]) - stars[2], 0);\n};\n\nexport const collapseResetCheck = (remnants = false): boolean => {\n    assignNewRemnants(); //Also visually updates numbers\n    if (player.upgrades[4][0] < 1) { return false; }\n    const info = global.collapseInfo;\n    const level = player.strangeness[4][4];\n\n    if (remnants) {\n        if (level >= 2 && (info.starCheck[0] > 0 || info.starCheck[1] > 0 || info.starCheck[2] > 0)) {\n            collapseReset(true);\n            if (!player.toggles.auto[4]) { return true; }\n            info.starCheck[0] = 0;\n            info.starCheck[1] = 0;\n            info.starCheck[2] = 0;\n        } else if (!player.toggles.auto[4] || (level < 1 && player.researchesAuto[2] < (player.inflation.vacuum ? 4 : 1))) { return false; }\n        assignNewMass();\n\n        if (player.strangeness[5][4] >= 1 && player.toggles.buildings[5][3] && player.ASR[5] >= 3 && player.researchesExtra[5][0] >= 1 && calculateBuildingsCost(3, 5).lessOrEqual(info.newMass)) {\n            collapseReset();\n            return true;\n        }\n        if (player.inflation.vacuum) {\n            const timeUntil = new Overlimit(global.inflationInfo.massCap / 8.96499278339628e-67).minus(player.buildings[1][0].current).divide(global.buildingsInfo.producing[1][1]).toNumber() / global.inflationInfo.globalSpeed;\n            if (timeUntil < player.collapse.input[1] && timeUntil > 0) { return false; }\n        }\n        const massBoost = (calculateEffects.mass(true) / calculateEffects.mass()) * (calculateEffects.S4Research4(true) / calculateEffects.S4Research4()) * ((1 + (calculateEffects.S5Upgrade2(true) - calculateEffects.S5Upgrade2()) / global.mergeInfo.galaxyBase) ** (player.buildings[5][3].true * 2));\n        if (massBoost >= player.collapse.input[0]) {\n            collapseReset();\n            return true;\n        }\n        const calculateStar = calculateEffects.star;\n        if (level >= 2 || massBoost * (calculateStar[0](true) / calculateStar[0]()) * (calculateStar[1](true) / calculateStar[1]()) * (calculateStar[2](true) / calculateStar[2]()) < player.collapse.input[0]) { return false; }\n        collapseReset();\n        return true;\n    }\n\n    assignNewMass();\n    return info.newMass > player.collapse.mass || (level < 2 && (info.starCheck[0] > 0 || info.starCheck[1] > 0 || info.starCheck[2] > 0)) || player.elements.includes(0.5, 1);\n};\nexport const collapseResetUser = async() => {\n    if (global.paused || !collapseResetCheck()) { return; }\n\n    if (player.toggles.confirm[4] !== 'None') {\n        let errorText = '';\n        if (player.inflation.vacuum) {\n            const unlockedG = player.researchesExtra[5][0] >= 1;\n            const cantAffordG = !unlockedG || calculateBuildingsCost(3, 5).moreThan(global.collapseInfo.newMass);\n            const timeUntil = new Overlimit(global.inflationInfo.massCap / 8.96499278339628e-67).minus(player.buildings[1][0].current).divide(global.buildingsInfo.producing[1][1]).toNumber();\n            if (timeUntil > 0 && timeUntil < 1e6 && cantAffordG) {\n                errorText += `Solar mass isn't hardcapped, but can be soon hardcapped${unlockedG ? \", also can't afford new Galaxy\" : ''}`;\n            }\n            if (player.researchesExtra[2][1] <= 0 || player.vaporization.clouds.lessOrEqual('0')) {\n                if (errorText !== '') { errorText += '\\nAlso '; }\n                errorText += `current ${player.researchesExtra[2][1] <= 0 ? \"level for Cloud Research 'Rain Clouds'\" : 'Cloud amount'} is 0, which could make recovering from Collapse really slow`;\n            }\n        }\n        if (player.stage.active !== 4 && player.stage.active !== 5) {\n            if (errorText !== '') { errorText += '\\nAlso '; }\n            errorText += \"current active Stage isn't Interstellar\";\n        }\n        if (errorText !== '') {\n            if (!await Confirm(`Prevented Collapse because ${errorText}\\nReset anyway?`)) { return; }\n            if (!collapseResetCheck()) { return Notify('Collapse canceled, requirements are no longer met'); }\n        }\n    }\n\n    if (globalSave.SRSettings[0]) {\n        const { starCheck: newStars, newMass } = global.collapseInfo;\n        let count = 0;\n        for (let i = 1; i < playerStart.elements.length; i++) {\n            i = player.elements.indexOf(0.5, i);\n            if (i < 1) { break; }\n            count++;\n        }\n        let message = `Caused Collapse to${count > 0 ? ` activate ${format(count)} new Elements and` : ''} ${newMass > player.collapse.mass ? `increase Solar mass to ${format(newMass)}` : ''}`;\n        if (newStars[0] > 0 || newStars[1] > 0 || newStars[2] > 0) {\n            message += newMass > player.collapse.mass ? ', also gained' : 'gain';\n            if (newStars[0] > 0) { message += ` ${format(newStars[0])} Red giants`; }\n            if (newStars[1] > 0) { message += `, ${format(newStars[1])} Neutron stars`; }\n            if (newStars[2] > 0) { message += `, ${format(newStars[2])} Black holes`; }\n        }\n        getId('SRMain').textContent = message;\n    }\n    collapseReset();\n};\n\nconst collapseReset = (noReset = false) => {\n    const collapseInfo = global.collapseInfo;\n    const collapse = player.collapse;\n\n    collapse.stars[0] += collapseInfo.starCheck[0];\n    collapse.stars[1] += collapseInfo.starCheck[1];\n    collapse.stars[2] += collapseInfo.starCheck[2];\n    if (!noReset) {\n        if (collapseInfo.newMass > collapse.mass) {\n            collapse.mass = collapseInfo.newMass;\n            if (collapse.massMax < collapse.mass) { collapse.massMax = collapse.mass; }\n        }\n        for (let i = 1; i < playerStart.elements.length; i++) { //Must be bellow mass and star checks\n            i = player.elements.indexOf(0.5, i);\n            if (i < 1) { break; }\n            buyUpgrades(i, 4, 'elements', true);\n        }\n\n        reset('collapse', player.inflation.vacuum ? [1, 2, 3, 4] : (player.strangeness[5][3] < 1 ? [4, 5] : [4]));\n        calculateMaxLevel(0, 4, 'researches');\n        calculateMaxLevel(1, 4, 'researches');\n    }\n    awardMilestone(1, 4);\n    awardVoidReward(4);\n};\n\nexport const assignMergeReward = () => {\n    global.mergeInfo.checkReward[0] = Math.max(Math.floor(player.buildings[5][3].current.toNumber() / 40) - player.merge.reward[0], 0);\n};\nexport const calculateMergeMaxResets = (): number => {\n    let max = 1;\n    if (player.elements[30] >= 1) { max += player.buildings[6][1].true; }\n    return max;\n};\n\nexport const mergeResetCheck = (): boolean => {\n    if (player.upgrades[5][3] !== 1) { return false; }\n    if (!player.inflation.vacuum) { return player.buildings[5][3].true >= 22 + 2 * player.buildings[6][1].true; }\n    if (player.merge.resets >= calculateMergeMaxResets() || player.buildings[5][3].true < 1) { return false; }\n    assignMergeReward();\n\n    return true;\n};\nexport const mergeResetUser = async() => {\n    if (global.paused || !mergeResetCheck()) { return; }\n\n    if (player.toggles.confirm[5] !== 'None') {\n        if (player.stage.active !== 5) {\n            if (!await Confirm(\"Prevented Merge because current active Stage isn't Intergalactic\\nReset anyway?\")) { return; }\n            if (!mergeResetCheck()) { return Notify('Merge canceled, requirements are no longer met'); }\n        }\n    }\n\n    mergeReset();\n    if (globalSave.SRSettings[0]) {\n        const { checkReward } = global.mergeInfo;\n        getId('SRMain').textContent = player.inflation.vacuum ? `Merged Galaxies to ${checkReward[0] > 0 ? `create ${format(checkReward[0])} Galaxy Groups` : 'reset self-made Galaxies'}. New non-self made Galaxies quantity is ${format(player.buildings[5][3].current)}` : 'Vacuum decayed into its true state';\n    }\n};\n\nconst mergeReset = () => {\n    if (!player.inflation.vacuum) { return switchVacuum(); }\n    if (!player.events[1]) { playEvent(8, 1); }\n\n    player.merge.resets++;\n    player.buildings[5][3].true = 0;\n    player.merge.reward[0] += global.mergeInfo.checkReward[0];\n    reset('galaxy', player.inflation.vacuum ? [1, 2, 3, 4, 5] : [4, 5]);\n\n    if (player.stage.current < 6) {\n        player.stage.current = 6;\n        stageUpdate('soft');\n    }\n\n    if (player.toggles.normal[0] && player.stage.active >= 5 && calculateBuildingsCost(1, 6).lessOrEqual(player.merge.reward[0])) {\n        if (global.tab === 'upgrade') {\n            if (global.subtab.upgradeCurrent === 'Elements') { switchTab('upgrade', 'Upgrades'); }\n        } else if (global.tab === 'Elements') { switchTab('upgrade'); }\n        setActiveStage(6);\n        stageUpdate();\n    }\n};\n\nexport const assignMilestoneInformation = (index: number, stageIndex: number) => {\n    const pointer = global.milestonesInfo[stageIndex];\n    const level = player.milestones[stageIndex][index];\n    if (!player.inflation.vacuum) {\n        const percentage = level / (pointer.max[index] - 1);\n        if (stageIndex === 1) {\n            pointer.time[index] = 14400 / (percentage * (index === 1 ? 11 : 3) + 1) ** percentage;\n        } else if (stageIndex === 2) {\n            pointer.time[index] = 28800 / (percentage * (index === 1 ? 23 : 7) + 1) ** percentage;\n        } else if (stageIndex === 3) {\n            pointer.time[index] = 43200 / (percentage * (index === 1 ? 35 : 11) + 1) ** percentage;\n        } else if (stageIndex === 4) {\n            pointer.time[index] = 57600 / (percentage * (index === 1 ? 47 : 15) + 1) ** percentage;\n        } else if (stageIndex === 5) {\n            if (index === 0) { pointer.time[index] = 3600 / (percentage * 2 + 1); }\n        }\n        pointer.need[index].setValue(pointer.scaling[index][level]); //Can be undefined\n        return;\n    }\n    pointer.need[index].setValue('Infinity');\n    pointer.reward[index] = 0;\n};\n\nexport const awardMilestone = (index: number, stageIndex: number, count = 0) => {\n    if (!milestoneCheck(index, stageIndex)) {\n        if (count > 0) {\n            player.strange[0].current += count;\n            player.strange[0].total += count;\n            assignStrangeInfo[0]();\n\n            Notify(`Milestone '${global.milestonesInfo[stageIndex].name[index]}' new tier completed${!player.inflation.vacuum && player.milestones[stageIndex][index] >= global.milestonesInfo[stageIndex].max[index] ? ', maxed' : ''}`);\n            if (!player.inflation.vacuum) {\n                if (stageIndex === 4) {\n                    if (index === 0) {\n                        if (player.milestones[4][0] >= 8) { calculateMaxLevel(6, 4, 'strangeness', true); }\n                    } else if (index === 1) {\n                        if (player.milestones[4][1] >= 8) { calculateMaxLevel(0, 5, 'ASR', true); }\n                    }\n                } else if (stageIndex === 5) {\n                    if (index === 0) {\n                        if (player.milestones[5][0] >= 8) { calculateMaxLevel(6, 5, 'strangeness', true); }\n                    }\n                }\n            }\n        }\n        return;\n    }\n\n    player.milestones[stageIndex][index]++;\n    assignMilestoneInformation(index, stageIndex);\n    awardMilestone(index, stageIndex, count + 1);\n};\n\nconst awardVoidReward = (index: number) => {\n    if (player.challenges.active !== 0) { return; }\n    const old = player.challenges.void[index];\n\n    let progress = 1;\n    if (index === 1) {\n        progress += player.researchesExtra[1][2];\n    } else if (index === 2) {\n        if (player.vaporization.clouds.moreThan('1e4')) { progress++; }\n    } else if (index === 3) {\n        progress = Math.min(player.accretion.rank - 1, 5);\n    } else if (index === 4) {\n        if (player.collapse.stars[0] >= 1) { progress++; }\n        if (player.collapse.stars[1] >= 1) { progress++; }\n        if (player.collapse.stars[2] >= 1) { progress++; }\n    } else if (index === 5) {\n        if (player.buildings[5][3].true >= 1) { progress++; }\n    }\n    if (old >= progress) { return; }\n\n    player.challenges.void[index] = progress;\n    if (player.challenges.voidCheck[index] < progress) { player.challenges.voidCheck[index] = progress; }\n    for (let i = old; i < progress; i++) {\n        Notify(`New Void reward achieved\\nReward: ${global.challengesInfo.rewardText[0][index][i]}`);\n    }\n    if (index === 3) {\n        if (old < 4) {\n            calculateMaxLevel(0, 1, 'strangeness', true);\n            calculateMaxLevel(3, 1, 'strangeness', true);\n            calculateMaxLevel(1, 2, 'strangeness', true);\n            calculateMaxLevel(3, 2, 'strangeness', true);\n            calculateMaxLevel(0, 3, 'strangeness', true);\n            calculateMaxLevel(1, 3, 'strangeness', true);\n            calculateMaxLevel(0, 4, 'strangeness', true);\n            calculateMaxLevel(1, 4, 'strangeness', true);\n            calculateMaxLevel(2, 5, 'strangeness', true);\n        } else if (progress >= 6 && old < 6) {\n            calculateMaxLevel(4, 5, 'strangeness', true);\n        }\n    } else if (index === 4) {\n        if (old < 1) {\n            calculateMaxLevel(4, 1, 'strangeness', true);\n            calculateMaxLevel(4, 2, 'strangeness', true);\n            calculateMaxLevel(4, 3, 'strangeness', true);\n            calculateMaxLevel(4, 4, 'strangeness', true);\n        }\n    }\n    if (global.lastChallenge[0] === 0) {\n        getChallengeDescription(0);\n        if (global.lastChallenge[1] === index) { getChallengeReward(index); }\n    }\n};\n\nexport const inflationRefund = async() => {\n    const { tree } = player.inflation;\n    const cosmon = player.cosmon;\n    if ((cosmon.current === cosmon.total && tree[0] < 1) || !await Confirm('This will cause Stage reset to refund spended Cosmon\\nContinue?')) { return; }\n    stageFullReset();\n\n    cosmon.current = cosmon.total;\n    for (let i = 0; i < playerStart.inflation.tree.length; i++) {\n        tree[i] = 0;\n        calculateResearchCost(i, 0, 'inflation');\n    }\n    visualUpdateInflation();\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Cosmon has been refunded'; }\n};\n\nexport const exitChallengeAuto = () => {\n    const index = player.challenges.active;\n    if (index === null) { return; }\n    player.challenges.active = null;\n    stageFullReset();\n    if (index === 0) { assignEnergyArray(); }\n\n    getId('currentChallengeMain').style.display = 'none';\n    if (global.lastChallenge[0] === index) { getChallengeDescription(index); }\n    Notify(`Automatically left the '${global.challengesInfo.name[index]}' due to reaching time limit`);\n};\nexport const enterExitChallengeUser = async(index: number) => {\n    if (global.paused) { return; }\n    const old = player.challenges.active;\n    if (old === index) {\n        if (!await Confirm(`Leave the '${global.challengesInfo.name[old]}'?`)) { return; }\n        player.challenges.active = null;\n\n        getId('currentChallengeMain').style.display = 'none';\n        if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `You left the '${global.challengesInfo.name[old]}'`; }\n    } else {\n        if (!player.inflation.vacuum || !await Confirm(`Enter the '${global.challengesInfo.name[index]}'?`)) { return; }\n        player.challenges.active = index;\n\n        getId('currentChallengeMain').style.display = '';\n        const currentID = getId('currentChallenge');\n        currentID.textContent = global.challengesInfo.name[index];\n        currentID.style.color = `var(--${global.challengesInfo.color[index]}-text)`;\n        if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `'${global.challengesInfo.name[index]}' is now active`; }\n    }\n\n    stageFullReset();\n    if (old === 0 || index === 0) { assignEnergyArray(); }\n\n    getChallengeDescription(index);\n};\n", "import { checkTab, milestoneGetValue } from './Check';\nimport Overlimit from './Limit';\nimport { getClass, getId, getQuery, simulateOffline } from './Main';\nimport { global, player } from './Player';\nimport { MDStrangenessPage, globalSave, playEvent, specialHTML, switchTheme } from './Special';\nimport { autoElementsBuy, autoElementsSet, autoResearchesBuy, autoResearchesSet, autoUpgradesBuy, autoUpgradesSet, buyBuilding, calculateBuildingsCost, gainBuildings, assignBuildingInformation, collapseResetCheck, dischargeResetCheck, rankResetCheck, stageResetCheck, toggleSwap, vaporizationResetCheck, assignNewMass, switchStage, setActiveStage, calculateEffects, assignNewClouds, awardMilestone, exitChallengeAuto, assignMergeReward, assignMaxRank, assignGlobalSpeed, assignQuarksGain, calculateMergeMaxResets } from './Stage';\nimport type { gameTab } from './Types';\n\nexport const switchTab = (tab: gameTab, subtab = null as null | string) => {\n    if (subtab === null) {\n        const oldTab = global.tab;\n        getId(`${oldTab}Tab`).style.display = 'none';\n        getId(`${oldTab}TabBtn`).classList.remove('tabActive');\n        for (const inside of global.tabList[`${oldTab}Subtabs`]) {\n            getId(`${oldTab}SubtabBtn${inside}`).style.display = 'none';\n        }\n\n        global.tab = tab;\n        let subtabAmount = 0;\n        getId(`${tab}Tab`).style.display = '';\n        getId(`${tab}TabBtn`).classList.add('tabActive');\n        for (const inside of global.tabList[`${tab}Subtabs`]) {\n            if (checkTab(tab, inside)) {\n                getId(`${tab}SubtabBtn${inside}`).style.display = '';\n                subtabAmount++;\n            } else if (global.subtab[`${tab}Current`] === inside) {\n                switchTab(tab, global.tabList[`${tab}Subtabs`][0]);\n            }\n        }\n        getId('subtabs').style.display = subtabAmount > 1 ? '' : 'none';\n        if (globalSave.SRSettings[0]) { getId('SRTab').textContent = `Current tab is '${tab}'${subtabAmount > 1 ? ` and subtab is '${global.subtab[`${tab}Current`]}'` : ''}`; }\n    } else {\n        const oldSubtab = global.subtab[`${tab}Current`];\n        getId(`${tab}Subtab${oldSubtab}`).style.display = 'none';\n        getId(`${tab}SubtabBtn${oldSubtab}`).classList.remove('tabActive');\n\n        global.subtab[`${tab as Exclude<gameTab, 'Elements'>}Current`] = subtab;\n        getId(`${tab}Subtab${subtab}`).style.display = '';\n        getId(`${tab}SubtabBtn${subtab}`).classList.add('tabActive');\n        if (global.tab !== tab) { return; }\n        if (globalSave.SRSettings[0]) { getId('SRTab').textContent = `Current subtab is '${subtab}', part of '${tab}' tab`; }\n    }\n\n    const active = player.stage.active;\n    if ((tab === 'upgrade' && global.subtab.upgradeCurrent === 'Elements') || tab === 'Elements') {\n        if (active !== 4 && active !== 5) {\n            setActiveStage(4, global.trueActive);\n            stageUpdate();\n            return;\n        }\n    } else if (tab === 'inflation') {\n        if (active !== 6) {\n            setActiveStage(6, global.trueActive);\n            stageUpdate();\n            return;\n        }\n    } else if (global.trueActive !== active) {\n        switchStage(global.trueActive);\n        return;\n    }\n    visualUpdate();\n    numbersUpdate();\n};\n\n/** Normal game tick */\nexport const timeUpdate = (timeWarp = 0, tick = 1) => {\n    const { time, ASR } = player;\n    const { auto, buildings: autoBuy } = player.toggles;\n    const { maxActive } = global.buildingsInfo;\n    const { autoU, autoR, autoE } = global.automatization;\n    const activeAll = global.stageInfo.activeAll;\n    const challenge = player.challenges.active;\n    const vacuum = player.inflation.vacuum;\n\n    let passedSeconds: number;\n    if (timeWarp > 0) {\n        const extraTime = Math.min(tick, timeWarp);\n        passedSeconds = extraTime;\n        timeWarp -= extraTime;\n    } else {\n        const currentTime = Date.now();\n        passedSeconds = (currentTime - time.updated) / 1000;\n        time.updated = currentTime;\n        time.export[0] += passedSeconds;\n        global.lastSave += passedSeconds;\n        if (passedSeconds > 1) {\n            if (passedSeconds > 600) { return void simulateOffline(passedSeconds); }\n            timeWarp = passedSeconds - 1;\n            passedSeconds = 1;\n        } else if (passedSeconds <= 0) {\n            time.offline += passedSeconds;\n            return;\n        }\n        time.online += passedSeconds;\n    }\n    const trueSeconds = passedSeconds;\n    time.stage += trueSeconds;\n    time.universe += trueSeconds;\n\n    assignGlobalSpeed();\n    passedSeconds *= global.inflationInfo.globalSpeed;\n\n    player.stage.time += passedSeconds;\n    player.inflation.age += passedSeconds;\n\n    if (vacuum || activeAll.includes(4)) {\n        stageResetCheck(5, auto[0], trueSeconds);\n    } else if (activeAll.includes(6)) { assignQuarksGain(); } //Visual fix\n    if (challenge === 0 && time.stage > (player.inflation.tree[0] >= 1 ? 900 : 3600)) { exitChallengeAuto(); }\n    assignBuildingInformation();\n    if (activeAll.includes(6)) {\n        gainBuildings(0, 6, passedSeconds); //Dark matter\n    }\n    if (activeAll.includes(5)) {\n        if (player.strangeness[5][3] >= 1) {\n            if (autoU[5].length !== 0) { autoUpgradesBuy(5); }\n            if (autoR[5].length !== 0) { autoResearchesBuy('researches', 5); }\n            if (autoE[5].length !== 0) { autoResearchesBuy('researchesExtra', 5); }\n        }\n        for (let i = maxActive[5] - 1; i >= 1; i--) {\n            if (autoBuy[5][i] && ASR[5] >= i) { buyBuilding(i, 5, 0, true); }\n        }\n        gainBuildings(0, 5, passedSeconds); //Brown dwarfs\n        const research = player.researches[5][0];\n        if (research >= 1) { gainBuildings(1, 5, passedSeconds); } //Main sequence\n        if (research >= 2) { gainBuildings(2, 5, passedSeconds); } //Red supergiants\n        if (research >= 3) { gainBuildings(3, 5, passedSeconds); } //Blue hypergiants\n        if (research >= 4 && challenge !== 0) { gainBuildings(4, 5, passedSeconds); } //Quasi-stars\n        assignBuildingInformation();\n    }\n    if (activeAll.includes(4)) {\n        if (global.automatization.elements.length !== 0) { autoElementsBuy(); }\n        if (autoU[4].length !== 0) { autoUpgradesBuy(4); }\n        if (autoR[4].length !== 0) { autoResearchesBuy('researches', 4); }\n        if (autoE[4].length !== 0) { autoResearchesBuy('researchesExtra', 4); }\n        for (let i = maxActive[4] - 1; i >= 1; i--) {\n            if (autoBuy[4][i] && ASR[4] >= i) { buyBuilding(i, 4, 0, true); }\n            gainBuildings(i - 1, 4, passedSeconds); //Elements\n        }\n        awardMilestone(0, 5); //It being here is more efficient if more than 2 star types made\n        awardMilestone(0, 4); //To remove the need to check for Stage 4 in gain\n        collapseResetCheck(true);\n    }\n    if (activeAll.includes(3)) {\n        if (!vacuum && auto[0]) { stageResetCheck(3, true); }\n        if (auto[3]) { rankResetCheck(true); }\n        if (autoU[3].length !== 0) { autoUpgradesBuy(3); }\n        if (autoR[3].length !== 0) { autoResearchesBuy('researches', 3); }\n        if (autoE[3].length !== 0) { autoResearchesBuy('researchesExtra', 3); }\n        for (let i = 1; i < maxActive[3]; i++) {\n            if (autoBuy[3][i] && ASR[3] >= i) { buyBuilding(i, 3, 0, true); }\n        }\n        gainBuildings(2, 3, passedSeconds); //Planetesimals\n        assignBuildingInformation();\n        gainBuildings(1, 3, passedSeconds); //Cosmic dust\n        assignBuildingInformation();\n        if (!vacuum) { gainBuildings(0, 3, passedSeconds); } //Mass\n    }\n    if (activeAll.includes(2)) {\n        if (!vacuum && auto[0]) { stageResetCheck(2, true); }\n        vaporizationResetCheck(trueSeconds);\n        if (autoU[2].length !== 0) { autoUpgradesBuy(2); }\n        if (autoR[2].length !== 0) { autoResearchesBuy('researches', 2); }\n        if (autoE[2].length !== 0) { autoResearchesBuy('researchesExtra', 2); }\n        for (let i = maxActive[2] - 1; i >= 1; i--) {\n            if (autoBuy[2][i] && ASR[2] >= i) { buyBuilding(i, 2, 0, true); }\n        }\n        gainBuildings(1, 2, passedSeconds); //Drops\n        assignBuildingInformation();\n        if (!vacuum) { gainBuildings(0, 2, passedSeconds); } //Moles\n        awardMilestone(1, 2); //Should be more efficient if more than 2 Puddle types made\n        awardMilestone(0, 2); //To remove the need to check for Stage 2 in gain\n    }\n    if (activeAll.includes(1)) {\n        if (!vacuum && auto[0]) { stageResetCheck(1, true); }\n        if (autoU[1].length !== 0) { autoUpgradesBuy(1); }\n        if (autoR[1].length !== 0) { autoResearchesBuy('researches', 1); }\n        if (autoE[1].length !== 0) { autoResearchesBuy('researchesExtra', 1); }\n        if (player.upgrades[1][8] === 1) {\n            gainBuildings(5, 1, passedSeconds);\n            assignBuildingInformation(); //Molecules\n        }\n        for (let i = maxActive[1] - 1; i >= 1; i--) {\n            if (autoBuy[1][i] && ASR[1] >= i) { buyBuilding(i, 1, 0, true); }\n            gainBuildings(i - 1, 1, passedSeconds); //Rest of Microworld\n            assignBuildingInformation();\n        }\n        awardMilestone(1, 1); //Should be more efficient if more than 2 Structures made\n        awardMilestone(0, 1); //To remove the need to check for Stage 1 in gain\n        dischargeResetCheck(true);\n    }\n\n    if (timeWarp > 0) { timeUpdate(timeWarp, tick); }\n};\n\nexport const numbersUpdate = () => {\n    const { tab, subtab } = global;\n    const active = player.stage.active;\n    const buildings = player.buildings[active];\n\n    if (global.footer) {\n        if (active === 1) {\n            getId('footerStat1Span').textContent = format(buildings[0].current, { padding: true });\n            getId('footerStat2Span').textContent = format(player.discharge.energy, { padding: 'exponent' });\n        } else if (active === 2) {\n            getId('footerStat1Span').textContent = format(buildings[0].current, { padding: true });\n            getId('footerStat2Span').textContent = format(buildings[1].current, { padding: true });\n            getId('footerStat3Span').textContent = format(player.vaporization.clouds, { padding: true });\n        } else if (active === 3) {\n            getId('footerStat1Span').textContent = format(buildings[0].current, { padding: true });\n        } else if (active === 4 || active === 5) {\n            const stars = player.buildings[4];\n\n            getId('footerStat1Span').textContent = format(player.collapse.mass, { padding: true });\n            getId('footerStat2Span').textContent = format(stars[0].current, { padding: true });\n            if (active === 5) {\n                getId('footerStat3Span').textContent = format(new Overlimit(stars[1].current).plus(stars[2].current, stars[3].current, stars[4].current, stars[5].current), { padding: true });\n            }\n        } else if (active === 6) {\n            getId('footerStat1Span').textContent = format(buildings[0].current, { padding: true });\n            getId('footerStat2Span').textContent = format(player.cosmon.current, { padding: true });\n        }\n    }\n    if (tab === 'stage') {\n        if (subtab.stageCurrent === 'Structures') {\n            const { buildingsInfo } = global;\n            const howMany = global.hotkeys.shift ? 1 : global.hotkeys.ctrl ? 10 : player.toggles.shop.input;\n\n            for (let i = 1; i < buildingsInfo.maxActive[active]; i++) {\n                const trueCountID = getId(`building${i}True`);\n                getId(`building${i}Cur`).textContent = format(buildings[i].current, { padding: trueCountID.style.display !== 'none' });\n                getId(`building${i}Prod`).textContent = format(buildingsInfo.producing[active][i], { padding: true });\n                trueCountID.textContent = `[${format(buildings[i as 1].true)}]`;\n\n                let lockText;\n                if (active === 3) {\n                    if (i > 1 && player.upgrades[3][global.accretionInfo.unlockA[i - 2]] !== 1) {\n                        lockText = 'Unlocked with Upgrade';\n                    }\n                } else if (active === 4) {\n                    if (i === 5 && player.challenges.active === 0) {\n                        lockText = \"Can't be created inside Void\";\n                    } else if (player.researchesExtra[5][0] < 1 && player.collapse.mass < global.collapseInfo.unlockB[i]) {\n                        lockText = `Unlocked at ${format(global.collapseInfo.unlockB[i])} Mass`;\n                    }\n                }\n                if (lockText !== undefined) {\n                    getId(`building${i}`).classList.remove('availableBuilding');\n                    getId(`building${i}Btn`).textContent = lockText;\n                    getId(`building${i}BuyX`).textContent = 'Locked';\n                    continue;\n                }\n\n                let costName: string;\n                let currency: number | Overlimit;\n                let free = false;\n                let multi = true;\n                if (active === 6) { //Universe\n                    costName = 'Groups';\n                    currency = player.merge.reward[0];\n                    multi = false;\n                } else if (active === 5 && i === 3) { //Galaxy\n                    costName = 'Mass';\n                    currency = player.collapse.mass;\n                    multi = false;\n                } else {\n                    let e = i - 1;\n                    let extra = active;\n                    if (active === 1) {\n                        if (i === 1 && player.inflation.vacuum) { free = player.researchesExtra[1][2] >= 1 && player.strangeness[1][8] >= 1; }\n                    } else if (active === 2) {\n                        if (i !== 1) { e = 1; }\n                    } else if (active >= 3) {\n                        e = 0;\n                        if (active === 5) { extra = 4; }\n                    }\n\n                    costName = buildingsInfo.name[extra][e];\n                    currency = player.buildings[extra][e].current;\n                }\n\n                let buy = 1;\n                const cost = calculateBuildingsCost(i, active);\n                if (howMany !== 1 && multi) {\n                    const scaling = buildingsInfo.increase[active][i];\n                    if (free) {\n                        buy = howMany <= 0 ? Math.max(Math.floor(new Overlimit(currency).divide(cost).log(scaling).toNumber()) + 1, 1) : howMany;\n                        if (buy > 1) { cost.multiply(new Overlimit(scaling).power(buy - 1)); }\n                    } else {\n                        buy = howMany <= 0 ? Math.max(Math.floor(new Overlimit(currency).multiply(scaling - 1).divide(cost).plus('1').log(scaling).toNumber()), 1) : howMany;\n                        if (buy > 1) { cost.multiply(new Overlimit(scaling).power(buy).minus('1').divide(scaling - 1)); }\n                    }\n                }\n\n                getId(`building${i}`).classList[cost.lessOrEqual(currency) ? 'add' : 'remove']('availableBuilding');\n                getId(`building${i}Btn`).textContent = `Need: ${format(cost, { padding: true })} ${costName}`;\n                getId(`building${i}BuyX`).textContent = format(buy, { padding: 'exponent' });\n            }\n            if (active === 1) {\n                getId('reset1Button').textContent = `Next goal is ${format(global.dischargeInfo.next, { padding: 'exponent' })} Energy`;\n                getId('tritiumEffect').textContent = format(global.dischargeInfo.tritium, { padding: true });\n                getId('dischargeEffectStat').textContent = format(new Overlimit(global.dischargeInfo.base).power(global.dischargeInfo.total), { padding: true });\n                getId('energySpent').textContent = format(global.dischargeInfo.energyTrue - player.discharge.energy, { padding: 'exponent' });\n                if (player.inflation.vacuum) {\n                    getId('preonCapStat').textContent = format(global.inflationInfo.preonCap, { padding: true });\n                    getId('preonCapRatio').textContent = format(new Overlimit(global.inflationInfo.preonTrue).divide(global.inflationInfo.preonCap), { padding: true });\n                }\n            } else if (active === 2) {\n                getId('reset1Button').textContent = `Reset for ${format(global.vaporizationInfo.get, { padding: true })} Clouds`;\n                getId('cloudEffectStat').textContent = format(calculateEffects.clouds(), { padding: true });\n                if (player.inflation.vacuum) {\n                    getId('molesProductionStat').textContent = format(new Overlimit(global.dischargeInfo.tritium).divide('6.02214076e23'), { padding: true });\n                }\n\n                const rainNow = calculateEffects.S2Extra1(player.researchesExtra[2][1]);\n                const rainAfter = calculateEffects.S2Extra1(player.researchesExtra[2][1], true);\n                const storm = calculateEffects.S2Extra2(rainAfter) / calculateEffects.S2Extra2(rainNow);\n                getId('vaporizationBoostTotal').textContent = format(new Overlimit(calculateEffects.clouds(true)).divide(calculateEffects.clouds()).toNumber() * (rainAfter / rainNow) * storm, { padding: true });\n            } else if (active === 3) {\n                getId('dustSoftcapStat').textContent = format(global.accretionInfo.dustSoft);\n                if (player.accretion.rank < global.accretionInfo.maxRank) {\n                    if (player.challenges.active === 0 && player.accretion.rank >= 6 && player.buildings[5][3].true < Infinity) {\n                        getId('reset1Button').textContent = `Requires ${Infinity - player.buildings[5][3].true} more Galaxies`;\n                    } else if (player.strangeness[3][4] >= 2) {\n                        if (player.inflation.vacuum) { buildings[0].total.setValue(player.buildings[1][0].total).multiply('1.78266192e-33'); }\n                        getId('reset1Button').textContent = `Next Rank is ${format(Math.max(global.accretionInfo.rankCost[player.accretion.rank] - buildings[0].total.toNumber(), 0), { padding: true })} Mass`;\n                    }\n                }\n                if (player.inflation.vacuum) {\n                    getId('massProductionStat').textContent = format(new Overlimit(buildingsInfo.producing[1][1]).multiply('1.78266192e-33'), { padding: true });\n                    getId('dustCapStat').textContent = format(global.inflationInfo.dustCap, { padding: true });\n                    getId('dustCapRatio').textContent = format(new Overlimit(global.inflationInfo.dustTrue).divide(global.inflationInfo.dustCap), { padding: true });\n                    getId('submersionBoostStat').textContent = format(calculateEffects.submersion(), { padding: true });\n                }\n            } else if (active === 4 || active === 5) {\n                assignNewMass();\n                const { collapseInfo } = global;\n                const massEffect = calculateEffects.mass();\n                const starEffect = [calculateEffects.star[0](), collapseInfo.starEffect1, calculateEffects.star[2]()];\n                let total = (calculateEffects.mass(true) / massEffect) * (calculateEffects.S4Research4(true) / calculateEffects.S4Research4()) * ((1 + (calculateEffects.S5Upgrade2(true) - calculateEffects.S5Upgrade2()) / global.mergeInfo.galaxyBase) ** (player.buildings[5][3].true * 2));\n                if (player.strangeness[4][4] < 2) { total *= (calculateEffects.star[0](true) / starEffect[0]) * (calculateEffects.star[1](true) / starEffect[1]) * (calculateEffects.star[2](true) / starEffect[2]); }\n\n                if (active === 4) {\n                    getId('reset1Button').textContent = `Collapse is at ${format(collapseInfo.newMass, { padding: true })} Mass`;\n                    getId('solarMassCurrent').textContent = format(massEffect, { padding: true });\n                    for (let i = 0; i < 3; i++) {\n                        getId(`special${i + 1}Cur`).textContent = format(player.collapse.stars[i], { padding: 'exponent' });\n                        getId(`special${i + 1}Get`).textContent = format(collapseInfo.starCheck[i], { padding: 'exponent' });\n                        getId(`star${i + 1}Current`).textContent = format(starEffect[i], { padding: true });\n                    }\n                    getId('collapseBoostTotal').textContent = format(total, { padding: true });\n                    if (player.inflation.vacuum) {\n                        const timeUntil = new Overlimit(global.inflationInfo.massCap / 8.96499278339628e-67).minus(player.buildings[1][0].current).divide(buildingsInfo.producing[1][1]).toNumber() / global.inflationInfo.globalSpeed;\n                        getId('mainCapStat').textContent = format(global.inflationInfo.massCap, { padding: true });\n                        getId('mainCapTill').textContent = isFinite(timeUntil) ? format(timeUntil, { padding: true }) : 'Infinity';\n                    }\n                } else if (active === 5) {\n                    assignMergeReward();\n                    if (player.inflation.vacuum) {\n                        const remaining = calculateMergeMaxResets() - player.merge.resets;\n                        getId('reset1Button').textContent = `Can reset ${format(remaining, { padding: 'exponent' })} more time${remaining !== 1 ? 's' : ''}`;\n                        getId('solarMassCollapseMax').textContent = format(global.inflationInfo.massCap, { padding: true });\n                    } else {\n                        getId('reset1Button').textContent = `Requires ${format(22 + 2 * player.buildings[6][1].true, { padding: 'exponent' })} Galaxies`;\n                    }\n                    for (let i = 0; i < 1; i++) {\n                        getId(`special${i + 1}Cur`).textContent = format(player.merge.reward[i], { padding: 'exponent' });\n                        getId(`special${i + 1}Get`).textContent = format(global.mergeInfo.checkReward[i], { padding: 'exponent' });\n                        getId(`merge${i + 1}Current`).textContent = format(calculateEffects.reward[i](), { padding: true });\n                    }\n                    const starProd = global.buildingsInfo.producing[4];\n                    getId('elementsIntergalactic').textContent = format(new Overlimit(starProd[1]).plus(starProd[2], starProd[3], starProd[4], starProd[5]), { padding: true });\n                    getId('collapseBoostIntergalacticTotal').textContent = format(total, { padding: true });\n                    getId('solarMassCollapse').textContent = format(collapseInfo.newMass, { padding: true });\n                }\n            } else if (active === 6) {\n                getId('cosmonGainStat').textContent = format(player.inflation.vacuum ? buildings[1].true + 1 : 1, { padding: 'exponent' });\n            }\n\n            if (active < 4 && !player.inflation.vacuum) {\n                getId('stageReward').textContent = format(calculateEffects.strangeGain(active), { padding: true });\n                getId('stageReset').textContent = stageResetCheck(active) ? 'Requirements are met' : `Requires ${active === 3 ? `${format(2.45576045e31)} Mass` : active === 2 ? `${format(1.19444e29)} Drops` : `${format(1.67133125e21)} Molecules`}`;\n            } else { getId('stageReward').textContent = format(global.strangeInfo.quarksGain, { padding: true }); }\n            getId('stageTime').textContent = format(player.stage.time, { type: 'time' });\n            getId('stageTimeRealStat').textContent = format(player.time.stage, { type: 'time' });\n        } else if (subtab.stageCurrent === 'Advanced') {\n            getId('globalSpeedStat').textContent = format(global.inflationInfo.globalSpeed, { padding: true });\n            getId('universeAge').textContent = format(player.inflation.age, { type: 'time' });\n            getId('universeAgeTime').textContent = format(player.time.universe, { type: 'time' });\n\n            const timeId = getId('challengeTime', true);\n            if (timeId !== null) { timeId.textContent = format((player.inflation.tree[0] >= 1 ? 900 : 3600) - player.time.stage, { type: 'time' }); }\n        }\n    } else if (tab === 'upgrade' || tab === 'Elements') {\n        const trueSubtab = tab === 'Elements' ? tab : subtab.upgradeCurrent;\n        if (trueSubtab === 'Upgrades') {\n            const last = global.lastUpgrade[active];\n            if (last[0] !== null) { getUpgradeDescription(last[0], last[1]); }\n        } else if (trueSubtab === 'Elements') {\n            if (Number(global.lastElement) >= 1) { getUpgradeDescription(global.lastElement as number, 'elements'); }\n        }\n    } else if (tab === 'strangeness') {\n        if (subtab.strangenessCurrent === 'Matter') {\n            const activeStage = player.inflation.vacuum ? 5 : active;\n            const quarksGain = activeStage < 4 ? calculateEffects.strangeGain(active) : global.strangeInfo.quarksGain;\n            getId('strange0Inc').textContent = format(quarksGain, { padding: true });\n            getId('strange1Inc').textContent = format(calculateEffects.strangeGain(activeStage, 1), { padding: true });\n            getId('strangeRate').textContent = format(quarksGain / player.time.stage, { type: 'income' });\n            getId('strangePeak').textContent = activeStage < 4 ? 'Interstellar Stage only' : format(player.stage.peak, { type: 'income' });\n            getId('strange0Cur').textContent = format(player.strange[0].current, { padding: true });\n            getId('strange1Cur').textContent = format(player.strange[1].current, { padding: true });\n            getId('stageTimeStrangeness').textContent = format(player.time.stage, { type: 'time' });\n            getId('stageTimeBestReset').textContent = format(player.history.stage.best[0], { type: 'time' });\n            if (getId('strangeletsEffectsMain').style.display === '') { //Slow, but probably better than nothing\n                const information = global.strangeInfo.strangeletsInfo;\n                getId('strangeletsEffect1Stat0').textContent = format(information[0] * 100, { padding: true });\n                getId('strangeletsEffect1Stat1').textContent = format(information[0] * (stageResetCheck(activeStage) ? quarksGain / player.time.stage : 0), { type: 'income' });\n                getId('strangeletsEffect2Stat').textContent = format(information[1], { padding: true });\n            }\n            if (getId('quarksEffectsMain').style.display === '') {\n                const { stageBoost } = global.strangeInfo;\n                const { strangeness } = player;\n\n                getId('quarksEffect1Stat').textContent = format(strangeness[1][6] >= 1 ? stageBoost[1] : 1, { padding: true });\n                getId('quarksEffect2Stat').textContent = format(strangeness[2][6] >= 1 ? stageBoost[2] : 1, { padding: true });\n                getId('quarksEffect3Stat').textContent = format(strangeness[3][7] >= 1 ? stageBoost[3] : 1, { padding: true });\n                getId('quarksEffect4Stat').textContent = format(strangeness[4][7] >= 1 ? stageBoost[4] : 1, { padding: true });\n                getId('quarksEffect5Stat').textContent = format(strangeness[5][7] >= 1 ? stageBoost[5] : 1, { padding: true });\n            }\n\n            const last = global.lastStrangeness;\n            if (last[0] !== null) { getStrangenessDescription(last[0], last[1], 'strangeness'); }\n        } else if (subtab.strangenessCurrent === 'Milestones') {\n            const { milestonesInfo: info, lastMilestone: last } = global;\n            const vacuum = player.inflation.vacuum;\n            for (let s = 1; s < info.length; s++) {\n                for (let i = 0; i < info[s].need.length; i++) {\n                    getId(`milestone${i + 1}Stage${s}Current`).textContent = format(milestoneGetValue(i, s), { padding: true });\n                    getId(`milestone${i + 1}Stage${s}Required`).textContent = (!vacuum && player.milestones[s][i] >= info[s].max[i]) ?\n                        'Maxed' : !vacuum && player.inflation.tree[4] < 1 && info[s].time[i] / (player.inflation.tree[0] >= 1 ? 4 : 1) < player.time.stage ? 'No time' : format(info[s].need[i], { padding: true });\n                }\n            }\n            if (last[0] !== null) { getStrangenessDescription(last[0], last[1], 'milestones'); }\n        }\n    } else if (tab === 'inflation') {\n        if (subtab.inflationCurrent === 'Researches') {\n            if (global.lastInflation !== null) { getUpgradeDescription(global.lastInflation, 'inflation'); }\n        }\n    } else if (tab === 'settings') {\n        if (subtab.settingsCurrent === 'Settings') {\n            const exportReward = player.time.export;\n            const conversion = Math.min(exportReward[0] / 86400, 1);\n            getId('exportQuarks').textContent = format((exportReward[1] / 2.5 + 1) * conversion, { padding: true });\n            getId('exportStrangelets').textContent = format(exportReward[2] / 2.5 * conversion, { padding: true });\n            if (global.lastSave >= 1) { getId('isSaved').textContent = `${format(global.lastSave, { type: 'time' })} ago`; }\n        } else if (subtab.settingsCurrent === 'Stats') {\n            getId('firstPlayAgo').textContent = format((Date.now() - player.time.started) / 1000, { type: 'time' });\n            getId('onlineTotal').textContent = format(player.time.online, { type: 'time' });\n            getId('stageResetsCount').textContent = format(player.stage.resets, { padding: 'exponent' });\n\n            const exportReward = player.time.export;\n            getId('exportQuarksMax').textContent = format(exportReward[1] / 2.5 + 1, { padding: true });\n            getId('exportStrangeletsMax').textContent = format(exportReward[2] / 2.5, { padding: true });\n            getId('exportTimeToMax').textContent = format(86400 - exportReward[0], { type: 'time' });\n            if (active === 1) {\n                getId('maxEnergyStat').textContent = format(player.discharge.energyMax, { padding: 'exponent' });\n                getId('dischargeStat').textContent = format(global.dischargeInfo.total);\n                getId('dischargeStatTrue').textContent = ` [${player.discharge.current}]`;\n            } else if (active === 2) {\n                const clouds = new Overlimit(calculateEffects.clouds(true)).divide(calculateEffects.clouds()).toNumber();\n                getId('cloudEffectAfter').textContent = format(clouds, { padding: true });\n                const rainNow = calculateEffects.S2Extra1(player.researchesExtra[2][1]);\n                const rainAfter = calculateEffects.S2Extra1(player.researchesExtra[2][1], true);\n                const rain = rainAfter / rainNow;\n                const storm = calculateEffects.S2Extra2(rainAfter) / calculateEffects.S2Extra2(rainNow);\n                getId('rainEffectAfter').textContent = format(rain, { padding: true });\n                getId('stormEffectAfter').textContent = format(storm, { padding: true });\n                getId('cloudEffectTotal').textContent = format(clouds * rain * storm, { padding: true });\n                getId('maxCloudStat').textContent = format(player.vaporization.cloudsMax, { padding: true });\n\n                if (player.inflation.vacuum) {\n                    const moles = player.buildings[1][5];\n\n                    buildings[0].total.setValue(moles.total).divide('6.02214076e23');\n                    buildings[0].trueTotal.setValue(moles.trueTotal).divide('6.02214076e23');\n                }\n            } else if (active === 3) {\n                getId('currentRank').textContent = `${player.accretion.rank}`;\n                if (player.inflation.vacuum) {\n                    const mass = player.buildings[1][0];\n\n                    buildings[0].total.setValue(mass.total).multiply('1.78266192e-33');\n                    buildings[0].trueTotal.setValue(mass.trueTotal).multiply('1.78266192e-33');\n                }\n            } else if (active === 4 || active === 5) {\n                getId('maxSolarMassStat').textContent = format(player.collapse.massMax, { padding: true });\n                if (active === 4) {\n                    const auto2 = player.strangeness[4][4] >= 2;\n                    assignNewMass();\n\n                    const mass = calculateEffects.mass(true) / calculateEffects.mass();\n                    getId('massEffectAfter').textContent = format(mass, { padding: true });\n                    const star0 = auto2 ? 1 : calculateEffects.star[0](true) / calculateEffects.star[0]();\n                    const star1 = auto2 ? 1 : calculateEffects.star[1](true) / global.collapseInfo.starEffect1;\n                    const star2 = auto2 ? 1 : calculateEffects.star[2](true) / calculateEffects.star[2]();\n                    if (!auto2) {\n                        getId('star1After').textContent = format(star0, { padding: true });\n                        getId('star2After').textContent = format(star1, { padding: true });\n                        getId('star3After').textContent = format(star2, { padding: true });\n                    }\n                    const gamma = calculateEffects.S4Research4(true) / calculateEffects.S4Research4();\n                    getId('gammaRayAfter').textContent = format(gamma, { padding: true });\n                    const quasar = (1 + (calculateEffects.S5Upgrade2(true) - calculateEffects.S5Upgrade2()) / global.mergeInfo.galaxyBase) ** player.buildings[5][3].true;\n                    getId('quasarAfter').textContent = format(quasar, { padding: true });\n                    getId('starTotal').textContent = format(mass * star0 * star1 * star2 * gamma * (quasar ** 2), { padding: true });\n                } else if (active === 5) {\n                    getId('starsStatTrue').textContent = format(global.collapseInfo.trueStars, { padding: 'exponent' });\n                    const stars = player.buildings[4];\n\n                    buildings[0].current.setValue(stars[1].current).plus(stars[2].current, stars[3].current, stars[4].current, stars[5].current);\n                    buildings[0].total.setValue(stars[1].total).plus(stars[2].total, stars[3].total, stars[4].total, stars[5].total);\n                    buildings[0].trueTotal.setValue(stars[1].trueTotal).plus(stars[2].trueTotal, stars[3].trueTotal, stars[4].trueTotal, stars[5].trueTotal);\n                }\n            } else if (active === 6) {\n                const stateId = getId('vacuumState');\n                stateId.textContent = player.inflation.vacuum ? 'True' : 'False';\n                stateId.style.color = `var(--${player.inflation.vacuum ? 'green' : 'red'}-text)`;\n                getId('vacuumResets').textContent = format(player.inflation.resets, { padding: 'exponent' });\n            }\n            for (let i = 0; i < global.buildingsInfo.maxActive[active]; i++) {\n                getId(`building${i}StatTotal`).textContent = format(buildings[i].total, { padding: true });\n                getId(`building${i}StatTrueTotal`).textContent = format(buildings[i].trueTotal, { padding: true });\n            }\n\n            getId('strange0StatTotal').textContent = format(player.strange[0].total, { padding: true });\n            getId('strange1StatTotal').textContent = format(player.strange[1].total, { padding: true });\n            getId('cosmonStatTotal').textContent = format(player.cosmon.total, { padding: 'exponent' });\n        }\n    }\n};\n\nexport const visualUpdate = () => {\n    const { tab, subtab } = global;\n    const { active, true: highest } = player.stage;\n    const vacuum = player.inflation.vacuum;\n\n    if (!player.events[0]) {\n        if (highest === 5) {\n            if (active === 5) { playEvent(5, 0); }\n        } else if (highest === 4) {\n            if (player.collapse.stars[1] >= 1) { playEvent(4, 0); }\n        } else if (highest === 3) {\n            if (player.buildings[3][0].current.moreOrEqual('5e29')) {\n                playEvent(3, 0);\n                assignMaxRank();\n                global.debug.rankUpdated = null;\n            }\n        } else if (highest === 2) {\n            assignNewClouds(); //Fixes early pop up\n            if (new Overlimit(global.vaporizationInfo.get).plus(player.vaporization.clouds).moreThan('1e4')) { playEvent(2, 0); }\n        } else if (highest === 1) {\n            if (player.upgrades[1][9] === 1) { playEvent(1, 0); }\n        }\n    }\n\n    if (global.footer) {\n        if (globalSave.toggles[1]) { getId('ElementsTabBtn').style.display = player.upgrades[4][1] === 1 ? '' : 'none'; }\n        if (active === 1) {\n            if (highest < 2) {\n                getId('footerStat2').style.display = player.discharge.energyMax >= 12 ? '' : 'none';\n                getId('upgradeTabBtn').style.display = player.discharge.energyMax >= 12 ? '' : 'none';\n            }\n        } else if (active === 2) {\n            getId('footerStat3').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n        }\n    }\n    if (globalSave.MDSettings[0]) {\n        let showReset1 = tab === 'stage' || tab === 'upgrade' || tab === 'Elements';\n        getId('structuresFooter').style.display = showReset1 ? '' : 'none';\n        if (showReset1) {\n            if (active === 1) {\n                showReset1 = player.upgrades[1][5] === 1;\n            } else if (active === 2) {\n                showReset1 = player.upgrades[2][2] === 1;\n            } else if (active === 4) {\n                showReset1 = player.upgrades[4][0] === 1;\n            } else if (active === 5) {\n                showReset1 = player.upgrades[5][3] === 1;\n            } else if (active === 6) {\n                showReset1 = false;\n            }\n        }\n        getId('reset1Footer').style.display = showReset1 ? '' : 'none';\n        if (active === 4) { getId('resetGalaxyFooter').style.display = tab === 'stage' && player.researchesExtra[5][0] >= 1 ? '' : 'none'; }\n        if (active === 5) { getId('resetCollapseFooter').style.display = tab === 'stage' ? '' : 'none'; }\n        getId('stageFooter').style.display = (tab === 'stage' && (highest >= 2 || player.upgrades[1][9] === 1)) || tab === 'strangeness' ? '' : 'none';\n    }\n\n    if (tab === 'stage') {\n        if (subtab.stageCurrent === 'Structures') {\n            const buildings = player.buildings[active];\n            const ASR = player.ASR[active];\n\n            getId('stageTimeReal').style.display = player.stage.time !== player.time.stage ? '' : 'none';\n            if (highest < 2) { getId('toggleBuilding0').style.display = ASR >= 1 ? '' : 'none'; }\n            for (let i = 1; i < global.buildingsInfo.maxActive[active]; i++) {\n                getId(`building${i}True`).style.display = buildings[i].current.notEqual(buildings[i as 1].true) ? '' : 'none';\n                getId(`toggleBuilding${i}`).style.display = ASR >= i ? '' : 'none';\n            }\n            if (active === 1) {\n                getId('reset1Main').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('building2').style.display = buildings[1].trueTotal.moreOrEqual(vacuum ? '5' : '18') ? '' : 'none';\n                getId('building3').style.display = buildings[2].trueTotal.moreOrEqual('2') ? '' : 'none';\n                if (vacuum) {\n                    getId('building4').style.display = buildings[3].trueTotal.moreOrEqual('18') ? '' : 'none';\n                    getId('building5').style.display = buildings[4].trueTotal.moreOrEqual('2') ? '' : 'none';\n                }\n                getId('stageInfo').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('tritium').style.display = player.upgrades[1][8] === 1 ? '' : 'none';\n                if (highest < 2) { getId('resetStage').style.display = player.upgrades[1][9] === 1 ? '' : 'none'; }\n                if (highest < 7) { getId('resets').style.display = player.stage.resets >= 1 || player.upgrades[1][5] === 1 ? '' : 'none'; }\n            } else if (active === 2) {\n                getId('reset1Main').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('building2').style.display = buildings[1].trueTotal.moreOrEqual('4e2') ? '' : 'none';\n                getId('building3').style.display = buildings[1].trueTotal.moreOrEqual('8e6') ? '' : 'none';\n                getId('building4').style.display = buildings[1].trueTotal.moreOrEqual('8e17') ? '' : 'none';\n                getId('building5').style.display = buildings[1].trueTotal.moreOrEqual('8e22') ? '' : 'none';\n                getId('cloudEffect').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('vaporizationBoostMain').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                if (vacuum) {\n                    getId('building6').style.display = buildings[1].trueTotal.moreOrEqual('2e25') ? '' : 'none';\n                } else { getId('stageInfo').style.display = player.upgrades[2][2] === 1 ? '' : 'none'; }\n            } else if (active === 3) {\n                const upgrades = player.upgrades[3];\n\n                getId('buildings').style.display = player.accretion.rank >= 1 ? '' : 'none';\n                getId('building2').style.display = upgrades[2] === 1 || buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('building3').style.display = upgrades[4] === 1 || buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('building4').style.display = upgrades[8] === 1 || buildings[4].trueTotal.moreThan('0') ? '' : 'none';\n                getId('dustSoftcap').style.display = global.accretionInfo.dustSoft !== 1 ? '' : 'none';\n                if (vacuum) {\n                    getId('building5').style.display = upgrades[11] === 1 || buildings[5].trueTotal.moreThan('0') ? '' : 'none';\n                    getId('submersionBoost').style.display = player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                } else { getId('stageInfo').style.display = global.accretionInfo.dustSoft !== 1 ? '' : 'none'; }\n                updateRankInfo();\n            } else if (active === 4) {\n                const nova = player.researchesExtra[4][0];\n\n                getId('reset1Main').style.display = player.upgrades[4][0] === 1 ? '' : 'none';\n                getId('specials').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('special2').style.display = buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('special3').style.display = buildings[4].trueTotal.moreThan('0') ? '' : 'none';\n                getId('building2').style.display = nova >= 1 ? '' : 'none';\n                getId('building3').style.display = nova >= 2 ? '' : 'none';\n                getId('building4').style.display = nova >= 3 ? '' : 'none';\n                getId('star1Effect').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('star2Effect').style.display = buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('star3Effect').style.display = buildings[4].trueTotal.moreThan('0') ? '' : 'none';\n                getId('collapseBoostMain').style.display = player.upgrades[4][0] === 1 ? '' : 'none';\n                if (vacuum) {\n                    getId('building5').style.display = player.elements[26] >= 1 ? '' : 'none';\n                    getId('mainCap').style.display = player.upgrades[4][0] === 1 ? '' : 'none';\n                }\n            } else if (active === 5) {\n                getId('reset1Main').style.display = player.upgrades[5][3] === 1 ? '' : 'none';\n                if (!vacuum) {\n                    getId('buildings').style.display = player.milestones[2][0] >= 7 || player.milestones[3][0] >= 7 ? '' : 'none';\n                    getId('building1').style.display = player.milestones[2][0] >= 7 ? '' : 'none';\n                    getId('building2').style.display = player.milestones[3][0] >= 7 ? '' : 'none';\n                } else {\n                    getId('specials').style.display = player.upgrades[5][3] === 1 ? '' : 'none';\n                    getId('mergeEffects').style.display = player.upgrades[5][3] === 1 ? '' : 'none';\n                }\n                getId('building3').style.display = player.researchesExtra[5][0] >= 1 ? '' : 'none';\n            }\n        } else if (subtab.stageCurrent === 'Advanced') {\n            getId('globalSpeed').style.display = global.inflationInfo.globalSpeed !== 1 ? '' : 'none';\n            getId('universeAgeReal').style.display = player.inflation.age !== player.time.universe ? '' : 'none';\n        }\n    } else if (tab === 'upgrade' || tab === 'Elements') {\n        const trueSubtab = tab === 'Elements' ? tab : subtab.upgradeCurrent;\n        if (trueSubtab === 'Upgrades') {\n            if (vacuum) {\n                getId('researchAuto1').style.display = player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                getId('researchAuto2').style.display = player.accretion.rank >= 6 ? '' : 'none';\n            }\n            if (active === 1) {\n                const superposition = player.upgrades[1][5] === 1;\n\n                getId('upgrade7').style.display = superposition ? '' : 'none';\n                getId('upgrade8').style.display = superposition ? '' : 'none';\n                getId('upgrade9').style.display = superposition ? '' : 'none';\n                getId('upgrade10').style.display = superposition ? '' : 'none';\n                getId('researches').style.display = superposition ? '' : 'none';\n                if (vacuum) {\n                    getId('researchExtra2').style.display = player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                    getId('researchExtra4').style.display = player.researchesExtra[1][2] >= 1 ? '' : 'none';\n                    getId('researchExtra5').style.display = player.accretion.rank >= 6 ? '' : 'none';\n                }\n            } else if (active === 2) {\n                const buildings = player.buildings[2];\n\n                getId('upgrade2').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('upgrade3').style.display = buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('upgrade4').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('upgrade5').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('upgrade6').style.display = buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('upgrade7').style.display = buildings[4].trueTotal.moreThan('0') ? '' : 'none';\n                getId('upgrade8').style.display = player.strangeness[2][2] >= 3 && buildings[5].trueTotal.moreThan('0') ? '' : 'none';\n                if (vacuum) {\n                    getId('upgrade9').style.display = player.strangeness[2][8] >= 3 && buildings[6].trueTotal.moreThan('0') ? '' : 'none';\n                    getId('researchExtra4').style.display = player.accretion.rank >= 6 ? '' : 'none';\n                }\n                getId('research2').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('research3').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('research4').style.display = buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('research5').style.display = buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('research6').style.display = buildings[4].trueTotal.moreThan('0') ? '' : 'none';\n                getId('extraResearches').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('researchExtra3').style.display = buildings[5].trueTotal.moreThan('0') ? '' : 'none';\n            } else if (active === 3) {\n                const rank = player.accretion.rank;\n                const planetesimal = player.buildings[3][2].trueTotal.moreThan('0');\n\n                getId('upgrade3').style.display = rank >= 2 ? '' : 'none';\n                getId('upgrade4').style.display = planetesimal ? '' : 'none';\n                getId('upgrade5').style.display = rank >= 3 ? '' : 'none';\n                getId('upgrade6').style.display = rank >= 4 || player.upgrades[3][4] === 1 ? '' : 'none';\n                getId('upgrade7').style.display = rank >= 4 ? '' : 'none';\n                getId('upgrade8').style.display = rank >= 4 && player.strangeness[3][2] >= 3 ? '' : 'none';\n                getId('upgrade9').style.display = rank >= 4 ? '' : 'none';\n                getId('upgrade10').style.display = rank >= 4 ? '' : 'none';\n                getId('upgrade11').style.display = rank >= 5 ? '' : 'none';\n                getId('upgrade12').style.display = rank >= 5 ? '' : 'none';\n                getId('upgrade13').style.display = rank >= 5 ? '' : 'none';\n                getId('research3').style.display = planetesimal ? '' : 'none';\n                getId('research4').style.display = planetesimal ? '' : 'none';\n                getId('research5').style.display = rank >= 3 ? '' : 'none';\n                getId('research6').style.display = rank >= 3 ? '' : 'none';\n                getId('research7').style.display = rank >= 4 || player.upgrades[3][4] === 1 ? '' : 'none';\n                getId('research8').style.display = rank >= 4 ? '' : 'none';\n                getId('research9').style.display = rank >= 5 ? '' : 'none';\n                getId('extraResearches').style.display = rank >= 2 ? '' : 'none';\n                getId('researchExtra2').style.display = rank >= 3 ? '' : 'none';\n                getId('researchExtra3').style.display = rank >= 4 ? '' : 'none';\n                getId('researchExtra4').style.display = rank >= 5 ? '' : 'none';\n                if (vacuum) {\n                    getId('researchExtra5').style.display = rank >= 3 && player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                } else {\n                    getId('upgrades').style.display = rank >= 1 ? '' : 'none';\n                    getId('stageResearches').style.display = rank >= 1 ? '' : 'none';\n                }\n            } else if (active === 4) {\n                const { strangeness } = player;\n                const stars = player.collapse.stars;\n                const galaxy = player.researchesExtra[5][0] >= 1;\n\n                getId('upgrade4').style.display = strangeness[4][2] >= 3 ? '' : 'none';\n                getId('upgrade5').style.display = strangeness[4][9] >= 1 ? '' : 'none';\n                getId('research4').style.display = (galaxy || stars[0] > 0) && strangeness[4][2] >= 1 ? '' : 'none';\n                getId('research5').style.display = galaxy || stars[2] > 0 ? '' : 'none';\n                getId('research6').style.display = (galaxy || stars[2] > 0) && strangeness[4][9] >= 3 ? '' : 'none';\n                getId('researchExtra2').style.display = galaxy || stars[0] > 0 ? '' : 'none';\n                getId('researchExtra3').style.display = (galaxy || stars[0] > 0) && strangeness[4][2] >= 2 ? '' : 'none';\n                getId('researchExtra4').style.display = (galaxy || stars[1] > 0) && strangeness[4][9] >= 2 ? '' : 'none';\n            } else if (active === 5) {\n                if (!vacuum) {\n                    const nebula = player.milestones[2][0] >= 7;\n                    const cluster = player.milestones[3][0] >= 7;\n\n                    getId('upgrades').style.display = nebula || cluster ? '' : 'none';\n                    getId('upgrade1').style.display = nebula ? '' : 'none';\n                    getId('upgrade2').style.display = cluster ? '' : 'none';\n                    getId('stageResearches').style.display = nebula || cluster ? '' : 'none';\n                    getId('research1').style.display = nebula ? '' : 'none';\n                    getId('research2').style.display = cluster ? '' : 'none';\n                    getId('extraResearches').style.display = player.milestones[4][1] >= 8 ? '' : 'none';\n                }\n                getId('upgrade3').style.display = player.researchesExtra[5][0] >= 1 ? '' : 'none';\n                getId('upgrade4').style.display = player.researchesExtra[5][0] >= 1 && (vacuum ? player.accretion.rank >= 7 : (player.milestones[5][1] >= 8)) ? '' : 'none';\n            } else if (active === 6) {\n                getId('upgrades').style.display = 'none';\n                getId('stageResearches').style.display = 'none';\n            }\n        } else if (trueSubtab === 'Elements') {\n            const upgrades = player.upgrades[4];\n            const neutron = player.upgrades[4][2] === 1 && (player.collapse.stars[1] > 0 || player.researchesExtra[5][0] >= 1);\n\n            let columns = 17 - (upgrades[3] === 1 ? 0 : 2) - (upgrades[4] === 1 ? 0 : 1); //18\n            getId('elementsGrid').style.display = upgrades[2] === 1 ? '' : 'flex';\n            for (let i = 6; i <= 10; i++) { getId(`element${i}`).style.display = upgrades[2] === 1 ? '' : 'none'; }\n            for (let i = 11; i <= 26; i++) { getId(`element${i}`).style.display = neutron ? '' : 'none'; }\n            if (!neutron) {\n                columns = 8;\n            } else if (player.collapse.show < 23) { //26 - showAhead\n                for (let i = 26; i > Math.max(player.collapse.show + 3, 10); i--) { getId(`element${i}`).style.display = 'none'; }\n                columns = Math.max(player.collapse.show - 9, 8); //min + show + showAhead - 20\n            }\n            getId('element27').style.display = upgrades[3] === 1 ? '' : 'none';\n            getId('element28').style.display = upgrades[3] === 1 ? '' : 'none';\n            for (let i = 29; i < global.elementsInfo.name.length; i++) {\n                getId(`element${i}`).style.display = upgrades[4] === 1 && player.buildings[6][1].true >= i - 29 ? '' : 'none';\n            }\n            document.documentElement.style.setProperty('--elements-columns', `${columns}`);\n        }\n    } else if (tab === 'strangeness') {\n        if (subtab.strangenessCurrent === 'Matter') {\n            const unlocked2 = player.strangeness[5][8] >= 1 || player.inflation.tree[3] >= 1;\n            getId('strange1').style.display = unlocked2 || player.cosmon.total >= 2 ? '' : 'none';\n            getId('strange1Gain').style.display = unlocked2 ? '' : 'none';\n            if (vacuum) {\n                const bound = player.strangeness[5][3] >= 1;\n                const voidProgress = player.challenges.void;\n\n                getId('strange8Stage1').style.display = voidProgress[1] >= 1 ? '' : 'none';\n                getId('strange9Stage1').style.display = (voidProgress[1] >= 2 || global.milestonesInfoS6.active[0]) ? '' : 'none';\n                getId('strange10Stage1').style.display = voidProgress[4] >= 2 ? '' : 'none';\n                getId('strange8Stage2').style.display = voidProgress[1] >= 3 ? '' : 'none';\n                getId('strange9Stage2').style.display = voidProgress[2] >= 1 ? '' : 'none';\n                getId('strange10Stage2').style.display = voidProgress[2] >= 2 ? '' : 'none';\n                getId('strange9Stage3').style.display = voidProgress[4] >= 4 ? '' : 'none';\n                getId('strange10Stage3').style.display = voidProgress[5] >= 2 ? '' : 'none';\n                getId('strange9Stage4').style.display = voidProgress[4] >= 3 ? '' : 'none';\n                getId('strange10Stage4').style.display = voidProgress[5] >= 1 ? '' : 'none';\n                getId('strange1Stage5').style.display = bound ? '' : 'none';\n                getId('strange2Stage5').style.display = bound ? '' : 'none';\n                getId('strange5Stage5').style.display = bound && (voidProgress[4] >= 1 || global.milestonesInfoS6.active[1]) ? '' : 'none';\n                getId('strange6Stage5').style.display = bound ? '' : 'none';\n                getId('strange8Stage5').style.display = bound ? '' : 'none';\n                getId('strange9Stage5').style.display = voidProgress[3] >= 5 ? '' : 'none';\n            } else {\n                const { milestones } = player;\n                const strange5 = milestones[4][0] >= 8;\n                const firstTwo = milestones[2][0] >= 7 || milestones[3][0] >= 7;\n\n                getId('strange7Stage1').style.display = strange5 ? '' : 'none';\n                getId('strange7Stage2').style.display = strange5 ? '' : 'none';\n                getId('strange8Stage3').style.display = strange5 ? '' : 'none';\n                getId('strange8Stage4').style.display = strange5 ? '' : 'none';\n                getId(`strangeness${globalSave.MDSettings[0] ? 'Page' : 'Section'}5`).style.display = strange5 ? '' : 'none';\n                getId('strange1Stage5').style.display = firstTwo ? '' : 'none';\n                getId('strange2Stage5').style.display = firstTwo ? '' : 'none';\n                getId('strange3Stage5').style.display = milestones[5][0] >= 8 ? '' : 'none';\n                getId('strange4Stage5').style.display = firstTwo ? '' : 'none';\n                getId('strange5Stage5').style.display = milestones[4][1] >= 8 ? '' : 'none';\n                getId('strange6Stage5').style.display = firstTwo ? '' : 'none';\n            }\n        } else if (subtab.strangenessCurrent === 'Milestones') {\n            if (!vacuum) {\n                const milestonesS4 = player.milestones[4];\n                getId('milestone1Stage5Div').style.display = milestonesS4[0] >= 8 ? '' : 'none';\n                getId('milestone2Stage5Div').style.display = milestonesS4[1] >= 8 ? '' : 'none';\n                if (global.stageInfo.activeAll.includes(4)) { getId('milestonesStage5Progress').style.display = milestonesS4[0] >= 8 ? '' : 'none'; }\n                if (global.stageInfo.activeAll.includes(5)) { getId('milestone2Stage5Progress').style.display = milestonesS4[1] >= 8 ? '' : 'none'; }\n            }\n        }\n    } else if (tab === 'inflation') {\n        if (subtab.inflationCurrent === 'Milestones') {\n            const activated = global.milestonesInfoS6.active;\n            for (let i = 0; i < activated.length; i++) {\n                getId(`inflationMilestone${i + 1}`).classList[activated[i] ? 'add' : 'remove']('completed');\n            }\n        }\n    } else if (tab === 'settings') {\n        if (subtab.settingsCurrent === 'Settings') {\n            const { researchesAuto, strangeness } = player;\n\n            getId('exportStrangeletsMain').style.display = strangeness[5][8] >= 1 || player.inflation.tree[3] >= 1 ? '' : 'none';\n            getId('toggleAuto0').style.display = strangeness[5][6] >= 1 ? '' : 'none';\n            getId('toggleAuto0Main').style.display = strangeness[5][6] >= (vacuum ? 1 : 2) ? '' : 'none';\n            getId('autoTogglesUpgrades').style.display = researchesAuto[0] >= 1 || researchesAuto[1] >= 2 ? '' : 'none';\n            getId('autoToggle5').style.display = researchesAuto[0] >= 1 ? '' : 'none';\n            getId('autoToggle6').style.display = researchesAuto[0] >= 2 ? '' : 'none';\n            getId('autoToggle7').style.display = researchesAuto[0] >= 3 ? '' : 'none';\n            getId('autoToggle8').style.display = researchesAuto[1] >= 2 ? '' : 'none';\n            getId('toggleAuto1').style.display = strangeness[1][4] >= 1 || researchesAuto[2] >= 1 ? '' : 'none';\n            getId('toggleAuto2').style.display = strangeness[2][4] >= 1 || researchesAuto[2] >= (vacuum ? 3 : 1) ? '' : 'none';\n            getId('toggleAuto2Main').style.display = strangeness[2][4] >= 1 || researchesAuto[2] >= (vacuum ? 3 : 1) ? '' : 'none';\n            getId('toggleAuto3').style.display = strangeness[3][4] >= 1 || researchesAuto[2] >= (vacuum ? 2 : 1) ? '' : 'none';\n            getId('toggleAuto4').style.display = strangeness[4][4] >= 1 || researchesAuto[2] >= (vacuum ? 4 : 1) ? '' : 'none';\n            getId('toggleAuto4Main').style.display = strangeness[4][4] >= 1 || researchesAuto[2] >= (vacuum ? 4 : 1) ? '' : 'none';\n            if (highest < 2) {\n                getId('resetToggles').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('dischargeHotkey').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('stageToggleReset').style.display = player.upgrades[1][9] === 1 ? '' : 'none';\n                getId('stageHotkey').style.display = player.upgrades[1][9] === 1 ? '' : 'none';\n            }\n            if (highest < 3) {\n                getId('vaporizationToggleReset').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('vaporizationHotkey').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n            }\n            if (highest < 5) {\n                getId('collapseToggleReset').style.display = player.upgrades[4][0] === 1 ? '' : 'none';\n                getId('collapseHotkey').style.display = player.upgrades[4][0] === 1 ? '' : 'none';\n                getId('elementsAsTab').style.display = player.upgrades[4][1] === 1 ? '' : 'none';\n            }\n            if (highest < 6) {\n                getId('galaxyHotkey').style.display = player.milestones[4][1] >= 8 ? '' : 'none';\n                getId('saveFileNameGalaxy').style.display = player.milestones[4][1] >= 8 ? '' : 'none';\n            }\n            if (highest < 7) {\n                getId('vaporizationExtra').style.display = player.challenges.void[4] >= 1 ? '' : 'none';\n                getId('exportReward').style.display = player.stage.resets >= (vacuum ? 1 : 4) ? '' : 'none';\n                getId('mergeToggleReset').style.display = player.upgrades[5][3] === 1 ? '' : 'none';\n                getId('mergeHotkey').style.display = player.upgrades[5][3] === 1 ? '' : 'none';\n            }\n        } else if (subtab.settingsCurrent === 'History') {\n            updateHistory(/*'stage'*/);\n        } else if (subtab.settingsCurrent === 'Stats') {\n            const { strangeness } = player;\n            const buildings = player.buildings[active];\n\n            getId('firstPlay').textContent = new Date(player.time.started).toLocaleString();\n            getId('exportStrangeletsMaxMain').style.display = strangeness[5][8] >= 1 || player.inflation.tree[3] >= 1 ? '' : 'none';\n            if (highest < 7) { getId('exportStats').style.display = player.stage.resets >= (vacuum ? 1 : 4) ? '' : 'none'; }\n            for (let i = 1; i < global.buildingsInfo.maxActive[active]; i++) {\n                getId(`building${i}Stats`).style.display = buildings[i].trueTotal.moreThan('0') ? '' : 'none';\n            }\n            getId('strangeAllStats').style.display = player.strange[0].total > 0 ? '' : 'none';\n            getId('strange1Stats').style.display = player.strange[1].total > 0 ? '' : 'none';\n\n            getId('solarMassStat').style.display = active === 4 || active === 5 ? '' : 'none';\n            if (active === 1) {\n                getId('dischargeStats').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('dischargeStatTrue').style.display = player.discharge.current !== global.dischargeInfo.total ? '' : 'none';\n                if (highest < 2) { getId('energyStats').style.display = player.discharge.energyMax >= 12 ? '' : 'none'; }\n            } else if (active === 2) {\n                getId('vaporizationBoost').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('rainEffect').style.display = player.researchesExtra[2][1] >= 1 ? '' : 'none';\n                getId('stormEffect').style.display = player.researchesExtra[2][2] >= 1 ? '' : 'none';\n                getId('cloudStats').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n            } else if (active === 3) {\n                if (vacuum) {\n                    getId('rankStat0').style.display = strangeness[2][9] >= 1 ? '' : 'none';\n                }\n                for (let i = 1; i < global.accretionInfo.rankImage.length; i++) { getId(`rankStat${i}`).style.display = player.accretion.rank >= i ? '' : 'none'; }\n            } else if (active === 4) {\n                const auto2 = strangeness[4][4] >= 2;\n                getId('star1Stat').style.display = !auto2 && buildings[2].trueTotal.moreThan('0') ? '' : 'none';\n                getId('star2Stat').style.display = !auto2 && buildings[3].trueTotal.moreThan('0') ? '' : 'none';\n                getId('star3Stat').style.display = !auto2 && buildings[4].trueTotal.moreThan('0') ? '' : 'none';\n                getId('gammaRayStat').style.display = player.elements[26] >= 1 || player.researches[4][4] >= 1 ? '' : 'none';\n                getId('quasarStat').style.display = player.researchesExtra[5][0] >= 1 ? '' : 'none';\n            }\n        }\n    }\n};\nexport const visualTrueStageUnlocks = () => {\n    const highest = player.stage.true;\n\n    if (!player.inflation.vacuum) { getId('mergeResetText').innerHTML = `Attempt to <span class=\"darkvioletText\">Merge</span> <span class=\"grayText\">Galaxies</span> together${highest >= 7 ? ', which will result in <span class=\"orchidText\">Vacuum</span> decaying into its true state' : ' to create even bigger Structures. Might have severe consequences'}.`; }\n    getId('stageRewardOld').style.display = highest < 5 ? '' : 'none';\n    getId('stageRewardNew').style.display = highest >= 5 ? '' : 'none';\n    getId('autoWaitMain').style.display = highest >= 3 ? '' : 'none';\n    getId('researchAuto3').style.display = highest >= 7 ? '' : 'none';\n    getId(globalSave.MDSettings[0] ? 'toggleHover0' : 'researchToggles').style.display = highest >= 2 ? '' : 'none';\n    getId('toggleMax0').style.display = highest >= 4 ? '' : 'none';\n    getId('themeArea').style.display = highest >= 2 ? '' : 'none';\n    getId('switchTheme3').style.display = highest >= 3 ? '' : 'none';\n    getId('switchTheme4').style.display = highest >= 4 ? '' : 'none';\n    getId('switchTheme5').style.display = highest >= 5 ? '' : 'none';\n    getId('switchTheme6').style.display = highest >= 7 ? '' : 'none';\n    getId('saveFileNameStrange').style.display = highest >= 5 ? '' : 'none';\n    getId('saveFileNameVacuum').style.display = highest >= 6 ? '' : 'none';\n    getId('saveFileNameUniverse').style.display = highest >= 7 ? '' : 'none';\n    getId('saveFileNameCosmon').style.display = highest >= 7 ? '' : 'none';\n    getId('stageChangeHotkey').style.display = highest >= 5 ? '' : 'none';\n    getId('autoStageSwitch').style.display = highest >= 5 ? '' : 'none';\n    getId('stageResets').style.display = highest >= 2 ? '' : 'none';\n    getId('cosmonStat').style.display = highest >= 7 ? '' : 'none';\n    if (highest >= 2) {\n        getId('resetStage').style.display = '';\n        getId('toggleBuilding0').style.display = '';\n        getId('resetToggles').style.display = '';\n        getId('stageToggleReset').style.display = '';\n        getId('stageHotkey').style.display = '';\n        getId('energyStats').style.display = '';\n        getId('upgradeTabBtn').style.display = '';\n    }\n    if (highest >= 5) {\n        getId('elementsAsTab').style.display = '';\n    }\n    if (highest >= 6) {\n        getId('saveFileNameGalaxy').style.display = '';\n        for (let s = 2; s <= 5; s++) {\n            getId(`strangeness${globalSave.MDSettings[0] ? 'Page' : 'Section'}${s}`).style.display = '';\n            getId(`milestone1Stage${s}Div`).style.display = '';\n            getId(`milestone2Stage${s}Div`).style.display = '';\n        }\n    }\n    if (highest >= 7) {\n        getId('vaporizationExtra').style.display = '';\n        getId('strangenessTabBtn').style.display = '';\n        getId('exportReward').style.display = '';\n        getId('exportStats').style.display = '';\n    }\n};\n\nexport const getUpgradeDescription = (index: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements' | 'inflation') => {\n    if (type === 'inflation') {\n        const pointer = global.inflationTreeInfo;\n\n        getId('inflationText').textContent = `${pointer.name[index]}. (Level ${format(player.inflation.tree[index])} out of ${format(pointer.max[index])})`;\n        getId('inflationEffect').textContent = pointer.effectText[index]();\n        getId('inflationCost').textContent = player.inflation.tree[index] >= pointer.max[index] ? 'Fully activated.' : `${format(pointer.cost[index])} Cosmon.`;\n        return;\n    }\n    if (type === 'elements') {\n        const pointer = global.elementsInfo;\n\n        getId('elementText').textContent = `${pointer.name[index]}.`;\n        getId('elementEffect').textContent = player.elements[index] >= 1 || (player.collapse.show >= index && index !== 0) ? pointer.effectText[index]() : 'Effect is not yet known.';\n        getId('elementCost').textContent = player.elements[index] >= 1 ? 'Obtained.' :\n            player.elements[index] > 0 ? 'Awaiting Collapse.' :\n            index === 0 ? 'Unknown.' : `${format(pointer.startCost[index])} Elements.`;\n        return;\n    }\n\n    const stageIndex = player.stage.active;\n    const costName = stageIndex === 1 ? 'Energy' : stageIndex === 2 ? 'Drops' : stageIndex === 3 ? 'Mass' : stageIndex === 6 ? 'Dark matter' : 'Elements';\n    if (type === 'upgrades') {\n        const pointer = global[`${type}Info`][stageIndex];\n\n        getId('upgradeText').textContent = `${pointer.name[index]}.`;\n        getId('upgradeEffect').textContent = pointer.effectText[index]();\n        getId('upgradeCost').textContent = player.upgrades[stageIndex][index] === 1 ? 'Created.' :\n            stageIndex === 4 && global.collapseInfo.unlockU[index] > player.collapse.mass && player.researchesExtra[5][0] < 1 ? `Unlocked at ${format(global.collapseInfo.unlockU[index])} Mass.` :\n            `${format(pointer.startCost[index])} ${costName}.`;\n    } else if (type === 'researches' || type === 'researchesExtra') {\n        const pointer = global[`${type}Info`][stageIndex];\n        const level = player[type][stageIndex][index];\n        if (type === 'researchesExtra' && stageIndex === 4 && index === 0) { pointer.name[0] = ['Nova', 'Supernova', 'Hypernova'][Math.min(level, 2)]; }\n\n        getId('upgradeText').textContent = `${pointer.name[index]}.`;\n        getId('upgradeEffect').textContent = pointer.effectText[index]();\n        if (level >= pointer.max[index]) {\n            getId('upgradeCost').textContent = 'Maxed.';\n        } else if (stageIndex === 4 && type === 'researches' && global.collapseInfo.unlockR[index] > player.collapse.mass && player.researchesExtra[5][0] < 1) {\n            getId('upgradeCost').textContent = `Unlocked at ${format(global.collapseInfo.unlockR[index])} Mass.`;\n        } else {\n            let newLevels = 1;\n            let cost = pointer.cost[index];\n            if (player.toggles.max[0] && player.stage.true >= 4 && pointer.max[index] > 1) {\n                const scaling = pointer.scaling[index];\n                if (stageIndex === 1) {\n                    if (player.accretion.rank >= 6 && player.strangeness[1][9] >= 1) {\n                        newLevels = Math.min(Math.max(Math.floor((player.discharge.energy - cost) / scaling + 1), 1), pointer.max[index] - level);\n                        if (newLevels > 1) { cost += (newLevels - 1) * scaling; }\n                    } else {\n                        const simplify = cost - scaling / 2;\n                        newLevels = Math.min(Math.max(Math.floor(((simplify ** 2 + 2 * scaling * player.discharge.energy) ** 0.5 - simplify) / scaling), 1), pointer.max[index] - level);\n                        if (newLevels > 1) { cost = newLevels * (newLevels * scaling / 2 + simplify); }\n                    }\n                } else {\n                    const currency = stageIndex === 2 ? player.buildings[2][1].current : stageIndex === 3 ? player.buildings[3][0].current : player.buildings[4][0].current;\n                    newLevels = Math.min(Math.max(Math.floor(new Overlimit(currency).multiply(scaling - 1).divide(cost).plus('1').log(scaling).toNumber()), 1), pointer.max[index] - level);\n                    if (newLevels > 1) { cost = new Overlimit(scaling).power(newLevels).minus('1').divide(scaling - 1).multiply(cost).toNumber(); }\n                }\n            }\n\n            getId('upgradeCost').textContent = `${format(cost)} ${costName}.${newLevels > 1 ? ` [x${format(newLevels)}]` : ''}`;\n        }\n    } else if (type === 'researchesAuto') {\n        const pointer = global.researchesAutoInfo;\n        const level = player.researchesAuto[index];\n\n        getId('upgradeText').textContent = `${pointer.name[index]}.`;\n        getId('upgradeEffect').textContent = pointer.effectText[index]();\n        if (level >= pointer.max[index]) {\n            getId('upgradeCost').textContent = 'Maxed.';\n        } else {\n            const autoStage = pointer.autoStage[index][level];\n            getId('upgradeCost').textContent = !(autoStage === stageIndex || (stageIndex === 5 && autoStage === 4)) ? `This level can only be created while inside '${global.stageInfo.word[autoStage]}'.` :\n                `${format(pointer.costRange[index][Math.max(level - (index === 1 && player.strangeness[4][6] >= 1 ? 1 : 0), 0)])} ${costName}.`;\n        }\n    } else if (type === 'ASR') {\n        const pointer = global.ASRInfo;\n        const level = player.ASR[stageIndex];\n\n        getId('upgradeText').textContent = `${pointer.name}.`;\n        getId('upgradeEffect').textContent = pointer.effectText();\n        getId('upgradeCost').textContent = level >= pointer.max[stageIndex] ? 'Maxed.' :\n            stageIndex === 3 && player.accretion.rank < 1 ? \"Cannot be created at 'Ocean world' Rank.\" :\n            `${format(pointer.costRange[stageIndex][level])} ${costName}.`;\n    }\n};\n\nexport const getStrangenessDescription = (index: number, stageIndex: number, type: 'strangeness' | 'milestones') => {\n    const stageText = getId(`${type}Stage`);\n    stageText.style.color = `var(--${global.stageInfo.textColor[stageIndex]}-text)`;\n    stageText.textContent = `${global.stageInfo.word[stageIndex]}. `;\n    if (type === 'strangeness') {\n        const pointer = global.strangenessInfo[stageIndex];\n\n        getId('strangenessText').textContent = `${pointer.name[index]}.`;\n        getId('strangenessEffect').textContent = pointer.effectText[index]();\n        getId('strangenessCost').textContent = player.strangeness[stageIndex][index] >= pointer.max[index] ? 'Maxed.' : `${format(pointer.cost[index])} Strange quarks.`;\n    } else {\n        const pointer = global.milestonesInfo[stageIndex];\n        const level = player.milestones[stageIndex][index];\n        const multilineID = getId('milestonesMultiline');\n        let text;\n\n        getId('milestonesText').textContent = `${pointer.name[index]}. (${format(level)})`;\n        if (player.inflation.vacuum) {\n            const isActive = player.challenges.active === 0;\n            text = `<p class=\"orchidText\">Requirement: <span class=\"greenText\">${pointer.needText[index]()}</span>${player.inflation.tree[4] < 1 ? ' <span class=\"redText\">(Disabled, until proper Inflation is activated)</span>' : ''}</p>\n            <p class=\"blueText\">Time limit: <span class=\"greenText\">${format((player.inflation.tree[0] >= 1 ? 900 : 3600) - (isActive ? player.time.stage : 0), { type: 'time' })} ${isActive ? 'remains ' : ''}to increase this tier within 'Void'.</span></p>\n            <p class=\"darkvioletText\">Effect: <span class=\"greenText\">${pointer.rewardText[index]()}</span></p>`;\n        } else if (level < pointer.max[index]) {\n            const isActive = global.stageInfo.activeAll.includes(Math.min(stageIndex, 4));\n            text = `<p class=\"orchidText\">Requirement: <span class=\"greenText\">${pointer.needText[index]()}</span></p>\n            <p class=\"blueText\">Time limit: <span class=\"greenText\">${format(pointer.time[index] / (player.inflation.tree[0] >= 1 ? 4 : 1) - (isActive && player.inflation.tree[4] < 1 ? player.time.stage : 0), { type: 'time' })} ${isActive ? 'remains ' : ''}to complete this tier within ${isActive ? 'current' : global.stageInfo.word[index === 0 && stageIndex === 5 ? 4 : stageIndex]} Stage.</span></p>\n            <p class=\"darkvioletText\">Unlock: <span class=\"greenText\">Main reward unlocked after ${pointer.max[index] - level} more completions.</span></p>`;\n        } else { text = `<p class=\"darkvioletText\">Reward: <span class=\"greenText\">${pointer.rewardText[index]()}</span></p>`; }\n\n        if (multilineID.innerHTML !== text) { multilineID.innerHTML = text; }\n        const container = multilineID.parentElement as HTMLElement;\n        container.style.minHeight = `${container.offsetHeight}px`;\n    }\n};\n\nexport const getChallengeDescription = (index: number | null) => {\n    let text;\n    if (index === null) {\n        text = '<p class=\"whiteText\">Hover to see</p>';\n    } else {\n        const isActive = player.challenges.active === index;\n        const info = global.challengesInfo;\n        const color = `${info.color[index]}Text`;\n        text = `<h3 class=\"${color} bigWord\">${info.name[index]}${isActive ? ', <span class=\"greenText\">active</span>' : ''}</h3>\n        <p class=\"whiteText\">${info.description[index]()}</p>\n        <div><h4 class=\"${color} bigWord\">Effect:</h4>\n        <p>${info.effectText[index]()}</p>\n        <p class=\"blueText\">${isActive ? 'Time will run out in' : 'Has a time limit of'} <span${isActive ? ' id=\"challengeTime\"' : ''} class=\"cyanText\">${format((player.inflation.tree[0] >= 1 ? 900 : 3600) - (isActive ? player.time.stage : 0), { type: 'time' })}</span></p></div>`;\n        specialHTML.cache.idMap.delete('challengeTime');\n    }\n\n    if (index === 0) {\n        const progress = player.challenges.voidCheck;\n\n        getId('voidRewards').style.display = '';\n        getId('voidRewardSubmerged').style.display = progress[1] >= 3 ? '' : 'none';\n        getId('voidRewardAccretion').style.display = progress[1] >= 2 ? '' : 'none';\n        getId('voidRewardInterstellar').style.display = progress[3] >= 5 ? '' : 'none';\n        getId('voidRewardIntergalactic').style.display = progress[4] >= 4 ? '' : 'none';\n    } else { getId('voidRewards').style.display = 'none'; }\n\n    getId('challengeMultiline').innerHTML = text;\n};\n\nexport const getChallengeReward = (index: number) => {\n    const need = global.challengesInfo.needText[0][index];\n    const reward = global.challengesInfo.rewardText[0][index];\n    const level = player.challenges.void[index];\n    const best = player.challenges.voidCheck[index];\n    const sr = globalSave.SRSettings[0];\n    let text = '';\n    for (let i = 0; i < need.length; i++) {\n        const requirement = need[i]();\n        if (requirement === null) { continue; }\n        text += `<div><p><span class=\"${level > i ? 'greenText' : 'redText'}\">\u2192</span> ${requirement}</p>\n        <p><span class=\"${level > i ? 'greenText' : 'redText'}\">Reward:</span> ${best > i ? `${reward[i]}${sr && level <= i ? ' (Not yet unlocked)' : ''}` : 'Not yet unlocked'}</p></div>`;\n    }\n\n    getId('voidRewardsDivText').innerHTML = text;\n};\n\nexport const visualUpdateUpgrades = (index: number, stageIndex: number, type: 'upgrades' | 'elements') => {\n    if (type === 'upgrades') {\n        if (stageIndex !== player.stage.active) { return; }\n\n        let color = '';\n        const image = getId(`upgrade${index + 1}`);\n        if (player.upgrades[stageIndex][index] === 1) {\n            if (stageIndex === 1) {\n                color = 'green';\n            } else if (stageIndex === 2) {\n                color = 'darkgreen';\n            } else if (stageIndex === 3) {\n                color = '#0000b1'; //Darker blue\n            } else if (stageIndex === 4) {\n                color = '#1f1f8f'; //Brigher midnightblue\n            } else if (stageIndex === 5) {\n                color = '#990000'; //Brigher maroon\n            } else if (stageIndex === 6) {\n                color = 'white'; //Placeholder\n            }\n            image.tabIndex = globalSave.SRSettings[0] && globalSave.SRSettings[1] ? 0 : -1;\n        } else { image.tabIndex = 0; }\n        image.style.backgroundColor = color;\n    } else if (type === 'elements') {\n        const image = getId(`element${index}`);\n        if (player.elements[index] >= 1) {\n            image.classList.remove('awaiting');\n            image.classList.add('created');\n            image.tabIndex = globalSave.SRSettings[0] && globalSave.SRSettings[1] ? 0 : -1;\n        } else if (player.elements[index] > 0) {\n            image.classList.add('awaiting');\n            image.classList.remove('created');\n            image.tabIndex = 0;\n        } else {\n            image.classList.remove('awaiting');\n            image.classList.remove('created');\n            image.tabIndex = 0;\n        }\n    }\n};\n\nexport const visualUpdateResearches = (index: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'strangeness') => {\n    let max: number;\n    let level: number;\n    let upgradeHTML: HTMLElement;\n    let image: HTMLElement;\n    if (type === 'researches' || type === 'researchesExtra') {\n        if (stageIndex !== player.stage.active) { return; }\n        max = global[`${type}Info`][stageIndex].max[index];\n        level = player[type][stageIndex][index];\n\n        const extra = type === 'researches' ? '' : 'Extra';\n        upgradeHTML = getId(`research${extra}${index + 1}Level`);\n        getId(`research${extra}${index + 1}Max`).textContent = `${max}`;\n        image = getId(`research${extra}${index + 1}Image`);\n    } else if (type === 'researchesAuto') {\n        max = global.researchesAutoInfo.max[index];\n        level = player.researchesAuto[index];\n\n        upgradeHTML = getId(`researchAuto${index + 1}Level`);\n        getId(`researchAuto${index + 1}Max`).textContent = `${max}`;\n        image = getId(`researchAuto${index + 1}Image`);\n    } else if (type === 'ASR') {\n        if (stageIndex !== player.stage.active) { return; }\n        max = global.ASRInfo.max[stageIndex];\n        level = player.ASR[stageIndex];\n\n        upgradeHTML = getId('ASRLevel');\n        getId('ASRMax').textContent = `${max}`;\n        image = getId('ASRImage');\n    } else /*if (type === 'strangeness')*/ {\n        max = global.strangenessInfo[stageIndex].max[index];\n        level = player.strangeness[stageIndex][index];\n\n        upgradeHTML = getId(`strange${index + 1}Stage${stageIndex}Level`);\n        getId(`strange${index + 1}Stage${stageIndex}Max`).textContent = `${max}`;\n        image = getId(`strange${index + 1}Stage${stageIndex}Image`);\n    }\n\n    upgradeHTML.textContent = `${level}`;\n    if (level >= max) {\n        upgradeHTML.style.color = 'var(--green-text)';\n        image.tabIndex = globalSave.SRSettings[0] && globalSave.SRSettings[1] ? 0 : -1;\n    } else if (level === 0) {\n        upgradeHTML.style.color = ''; //Red\n        image.tabIndex = 0;\n    } else {\n        upgradeHTML.style.color = 'var(--orchid-text)';\n        image.tabIndex = 0;\n    }\n};\n\n/* If check is number, then it will sort only if that Research is maxed */\nexport const visualUpdateInflation = (check = null as number | null) => {\n    const { max, startCost } = global.inflationTreeInfo;\n    const tree = player.inflation.tree;\n    if (check !== null && tree[check] < max[check]) { return; }\n    const total = player.cosmon.total;\n    const keepIndex = globalSave.SRSettings[0] && globalSave.SRSettings[1];\n    for (let i = 0; i < startCost.length; i++) {\n        const image = getId(`inflation${i + 1}`);\n        image.style.display = total >= startCost[i] ? '' : 'none';\n        if (tree[i] >= max[i]) {\n            getId('inflationCreated').append(image);\n            image.tabIndex = keepIndex ? 0 : -1;\n        } else {\n            getId('inflationAvailable').append(image);\n            image.tabIndex = 0;\n        }\n    }\n};\n\nconst updateRankInfo = () => {\n    const rank = player.accretion.rank;\n    if (global.debug.rankUpdated === rank) { return; }\n    const rankInfo = global.accretionInfo;\n    const name = getId('rankName');\n\n    getId('reset1Button').textContent = rank >= rankInfo.maxRank ? 'Max Rank achieved' : `Next Rank is ${format(rankInfo.rankCost[rank])} Mass`;\n    (getId('rankImage') as HTMLImageElement).src = `Used_art/${rankInfo.rankImage[rank]}`;\n    name.textContent = rankInfo.rankName[rank];\n    name.style.color = `var(--${rankInfo.rankColor[rank]}-text)`;\n    global.debug.rankUpdated = rank;\n};\n\nexport const setRemnants = () => {\n    if (player.stage.active === 4) {\n        const whiteDwarf = player.researchesExtra[4][2] >= 1;\n        getId('special1').title = whiteDwarf ? 'White dwarfs (Red giants)' : 'Red giants';\n        (getQuery('#special1 > img') as HTMLImageElement).src = `Used_art/${whiteDwarf ? 'White%20dwarf' : 'Red%20giant'}.png`;\n        getId('special1Cur').className = whiteDwarf ? 'cyanText' : 'redText';\n\n        const quarkStar = player.researchesExtra[4][3] >= 1;\n        getId('special2').title = quarkStar ? 'Quark stars (Neutron stars)' : 'Neutron stars';\n        (getQuery('#special2 > img') as HTMLImageElement).src = `Used_art/${quarkStar ? 'Missing' /*'Quark%20star'*/ : 'Neutron%20star'}.png`;\n    } else if (player.stage.active === 5) {\n        getId('special1').title = 'Galaxy groups';\n        (getQuery('#special1 > img') as HTMLImageElement).src = 'Used_art/Missing.png'; //Galaxy%20group\n        getId('special1Cur').className = 'grayText';\n    }\n};\n\nconst updateHistory = (/*type: 'stage'*/) => {\n    if (global.debug.historyStage === player.stage.resets) { return; }\n    const list = global.historyStorage.stage;\n    const length = Math.min(list.length, player.history.stage.input[1]);\n\n    let text = '';\n    if (length > 0) {\n        for (let i = 0; i < length; i++) {\n            text += `<li class=\"whiteText\"><span class=\"greenText\">${format(list[i][1], { padding: true })} Strange quarks</span>${list[i][2] > 0 ? `, <span class=\"greenText\">${format(list[i][2], { padding: true })} Strangelets</span>` : ''}, <span class=\"blueText\">${format(list[i][0], { type: 'time' })}</span>, <span class=\"darkorchidText\">${format(list[i][1] / list[i][0], { type: 'income' })}</span></li>`;\n        }\n    } else { text = '<li class=\"redText\">Reference list is empty</li>'; }\n    getId('stageResetsList').innerHTML = text;\n\n    const stageBest = player.history.stage.best;\n    getId('stageBest').innerHTML = `Best reset: <span class=\"whiteText\"><span class=\"greenText\">${format(stageBest[1], { padding: true })} Strange quarks</span>${stageBest[2] > 0 ? `, <span class=\"greenText\">${format(stageBest[2], { padding: true })} Strangelets</span>` : ''}, <span class=\"blueText\">${format(stageBest[0], { type: 'time' })}</span>, <span class=\"darkorchidText\">${format(global.strangeInfo.bestHistoryRate, { type: 'income' })}</span></span>`;\n    global.debug.historyStage = player.stage.resets;\n};\n\n/** @param padding 'exponent' value will behave as true, but only after number turns into its shorter version */\nexport const format = (input: number | Overlimit, settings = {} as { type?: 'number' | 'input' | 'time' | 'income', padding?: boolean | 'exponent' }): string => {\n    if (typeof input === 'object') { return input?.format(settings as any); }\n    const type = settings.type ?? 'number';\n    let padding = settings.padding;\n\n    let extra;\n    if (type === 'income') {\n        const inputAbs = Math.abs(input);\n        if (inputAbs >= 1) {\n            extra = 'per second';\n        } else if (inputAbs >= 1 / 60) {\n            input *= 60;\n            extra = 'per minute';\n        } else if (inputAbs >= 1 / 3600) {\n            input *= 3600;\n            extra = 'per hour';\n        } else if (inputAbs >= 1 / 86400) {\n            input *= 86400;\n            extra = 'per day';\n        } else if (inputAbs >= 1 / 31556952) {\n            input *= 31556952;\n            extra = 'per year';\n        } else if (inputAbs >= 1 / 3.1556952e10) {\n            input *= 3.1556952e10;\n            extra = 'per millennium';\n        } else if (inputAbs >= 1 / 3.1556952e13) {\n            input *= 3.1556952e13;\n            extra = 'per megaannum';\n        } else {\n            input *= 3.1556952e16;\n            extra = 'per eon';\n        }\n\n        if (padding === undefined) { padding = true; }\n    } else if (type === 'time') {\n        const inputAbs = Math.abs(input);\n        if (inputAbs < 60) {\n            extra = 'seconds';\n        } else if (inputAbs < 3600) {\n            const minutes = Math.trunc(input / 60);\n            const seconds = Math.trunc(input - minutes * 60);\n            if (padding === false && seconds === 0) { return `${minutes} minutes`; }\n            return `${minutes} minutes ${seconds} seconds`;\n        } else if (inputAbs < 86400) {\n            const hours = Math.trunc(input / 3600);\n            const minutes = Math.trunc(input / 60 - hours * 60);\n            if (padding === false && minutes === 0) { return `${hours} hours`; }\n            return `${hours} hours ${minutes} minutes`;\n        } else if (inputAbs < 31556952) {\n            const days = Math.trunc(input / 86400);\n            const hours = Math.trunc(input / 3600 - days * 24);\n            if (padding === false && hours === 0) { return `${days} days`; }\n            return `${days} days ${hours} hours`;\n        } else if (inputAbs < 3.1556952e10) {\n            const years = Math.trunc(input / 31556952);\n            const days = Math.trunc(input / 86400 - years * 365.2425);\n            if (padding === false && days === 0) { return `${years} years`; }\n            return `${years} years ${days} days`;\n        } else if (inputAbs < 3.1556952e13) {\n            input /= 3.1556952e10;\n            extra = 'millenniums';\n        } else if (inputAbs < 3.1556952e16) {\n            input /= 3.1556952e13;\n            extra = 'megaannums';\n        } else {\n            input /= 3.1556952e16;\n            extra = 'eons';\n        }\n\n        padding = !(padding === false && Math.trunc(input) === input);\n    }\n    if (!isFinite(input)) { return extra !== undefined ? `${input} ${extra}` : `${input}`; }\n\n    const inputAbs = Math.abs(input);\n    if (inputAbs >= 1e6 || (inputAbs < 1e-3 && inputAbs > 0)) {\n        let digits = Math.floor(Math.log10(inputAbs));\n        let result = Math.round(input / 10 ** (digits - 2)) / 100;\n        if (Math.abs(result) === 10) {\n            result /= 10;\n            digits++;\n        }\n\n        if (padding === 'exponent') { padding = true; }\n        let formated = padding ? result.toFixed(2) : `${result}`;\n        if (type === 'input') { return `${formated}e${digits}`; }\n        formated = `${formated.replace('.', globalSave.format[0])}e${digits}`;\n        return extra !== undefined ? `${formated} ${extra}` : formated;\n    }\n\n    const precision = Math.max(4 - Math.floor(Math.log10(Math.max(inputAbs, 1))), 0);\n    const result = Math.round(input * 10 ** precision) / 10 ** precision;\n\n    if (padding === 'exponent') { padding = false; }\n    let formated = padding ? result.toFixed(precision) : `${result}`;\n    if (type === 'input') { return formated; }\n    formated = formated.replace('.', globalSave.format[0]);\n    if (result >= 1e3) { formated = formated.replace(/\\B(?=(\\d{3})+(?!\\d))/, globalSave.format[1]); }\n    return extra !== undefined ? `${formated} ${extra}` : formated;\n};\n\n/** Default value for extra is 'normal'. Use 'soft' when Stage remained same and 'reload' after full reset */\nexport const stageUpdate = (extra = 'normal' as 'normal' | 'soft' | 'reload') => {\n    const { stageInfo, buildingsInfo } = global;\n    const { active, current, true: highest, resets } = player.stage;\n    const vacuum = player.inflation.vacuum;\n    const challenge = player.challenges.active;\n\n    stageInfo.activeAll = [];\n    const activeAll = stageInfo.activeAll;\n    if (vacuum) {\n        activeAll.push(1);\n        if (player.researchesExtra[1][2] >= 2) { activeAll.push(2); }\n        if (current >= 2) { activeAll.push(3); } //player.researchesExtra[1][2] >= 1\n        if (current >= 4) { activeAll.push(4); } //player.accretion.rank >= 6\n        if (current >= 5 && player.strangeness[5][3] >= 1) { activeAll.push(5); } //player.elements[26] >= 1\n    } else {\n        if (current === 1 || player.milestones[1][1] >= 6) { stageInfo.activeAll.push(1); }\n        if (current === 2 || player.milestones[2][1] >= 7) { stageInfo.activeAll.push(2); }\n        if (current === 3 || player.milestones[3][1] >= 7) { stageInfo.activeAll.push(3); }\n        if (current >= 4) { activeAll.push(4); }\n        if (current >= 5) { activeAll.push(5); } //player.elements[26] >= 1\n    }\n    if (highest >= 7 || current >= 6) { activeAll.push(6); }\n\n    for (let s = 1; s <= 6; s++) {\n        for (const element of getClass(`stage${s}Only`)) { element.style.display = active === s ? '' : 'none'; }\n        for (const element of getClass(`stage${s}Include`)) { element.style.display = activeAll.includes(s) ? '' : 'none'; }\n    }\n\n    const stageWord = getId('stageWord');\n    stageWord.textContent = stageInfo.word[current];\n    stageWord.style.color = `var(--${stageInfo.textColor[current]}-text)`;\n    if (vacuum || active >= 4) { getId('stageReset').textContent = highest >= 6 || (player.events[0] && highest === 5) ? (current >= 5 ? 'Requirements are met' : \"Requires '[26] Iron' Element\") : 'Requirements are unknown'; }\n\n    getId('stageSelect').style.display = activeAll.length > 1 ? '' : 'none';\n    if (highest < 7) {\n        getId('strangenessTabBtn').style.display = player.strange[0].total > 0 || (vacuum && current >= 5) ? '' : 'none';\n        getId('inflationTabBtn').style.display = 'none';\n    }\n    if (vacuum) {\n        getId('milestonesProgressArea').style.display = challenge === 0 && player.inflation.tree[4] >= 1 ? '' : 'none';\n        if (resets >= 1 || highest >= 7) {\n            getId('dischargeToggleReset').style.display = '';\n            getId('vaporizationToggleReset').style.display = '';\n            getId('rankToggleReset').style.display = '';\n            getId('collapseToggleReset').style.display = '';\n            if (highest >= 7) { getId('mergeToggleReset').style.display = ''; }\n        }\n    } else if (highest < 6) {\n        for (let s = 2; s <= 4; s++) {\n            const unlocked = resets >= s + 3;\n            getId(`strangeness${globalSave.MDSettings[0] ? 'Page' : 'Section'}${s}`).style.display = unlocked ? '' : 'none';\n            getId(`milestone1Stage${s}Div`).style.display = unlocked ? '' : 'none';\n            getId(`milestone2Stage${s}Div`).style.display = unlocked ? '' : 'none';\n        }\n    }\n\n    if (extra === 'soft') {\n        visualUpdate();\n        numbersUpdate();\n        return;\n    }\n    if (globalSave.MDSettings[0]) {\n        getId('reset1Footer').textContent = specialHTML.resetHTML[active];\n        if (extra === 'reload') { MDStrangenessPage(1); }\n    }\n    if (globalSave.SRSettings[0]) {\n        getId('reset1Main').ariaLabel = `${specialHTML.resetHTML[active]} reset (hotkey ${['', 'D', 'V', 'R', 'C', 'Shift + M'][active]})`;\n        for (let i = 1; i < buildingsInfo.maxActive[active]; i++) {\n            getId(`building${i}`).ariaLabel = `${buildingsInfo.name[active][i]} (hotkey ${i})`;\n        }\n        getId('extraResearches').ariaLabel = `${['', 'Energy', 'Cloud', 'Rank', 'Collapse', 'Galaxy', ''][active]} Researches`;\n        getId('SRStage').textContent = `Current active Stage is '${stageInfo.word[active]}'${challenge !== null ? ` inside the '${global.challengesInfo.name[challenge]}'` : ''}`;\n    }\n\n    for (const text of ['upgrade', 'element']) {\n        getId(`${text}Text`).textContent = 'Hover to see.';\n        getId(`${text}Effect`).textContent = 'Hover to see.';\n        getId(`${text}Cost`).textContent = 'Resource.';\n    }\n    if (extra === 'reload') {\n        global.trueActive = active;\n        global.debug.historyStage = null;\n\n        for (let s = 1; s <= 6; s++) {\n            getId(`${stageInfo.word[s]}Switch`).style.textDecoration = active === s ? 'underline' : '';\n            global.lastUpgrade[s][0] = null;\n        }\n        global.lastElement = null;\n        for (let i = 0; i < global.elementsInfo.startCost.length; i++) { visualUpdateUpgrades(i, 4, 'elements'); }\n\n        global.lastStrangeness = [null, 0];\n        global.lastMilestone = [null, 0];\n        for (const text of ['strangeness', 'milestones']) {\n            getId(`${text}Stage`).textContent = '';\n            getId(`${text}Text`).textContent = 'Hover to see.';\n        }\n        getId('strangenessEffect').textContent = 'Hover to see.';\n        getId('strangenessCost').textContent = 'Strange quarks.';\n        getId('milestonesMultiline').innerHTML = `<p class=\"orchidText\">Requirement: <span class=\"greenText\">Hover to see.</span></p><p class=\"blueText\">Time limit: <span class=\"greenText\">Hover to see.</span></p><p class=\"darkvioletText\">${vacuum ? 'Effect' : 'Unlock'}: <span class=\"greenText\">Hover to see.</span></p>`;\n\n        if (challenge !== null) {\n            getId('currentChallengeMain').style.display = '';\n            const currentID = getId('currentChallenge');\n            currentID.textContent = global.challengesInfo.name[challenge];\n            currentID.style.color = `var(--${global.challengesInfo.color[challenge]}-text)`;\n        } else { getId('currentChallengeMain').style.display = 'none'; }\n        getChallengeDescription(challenge);\n\n        autoUpgradesSet('all');\n        autoResearchesSet('researches', 'all');\n        autoResearchesSet('researchesExtra', 'all');\n        autoElementsSet();\n        visualTrueStageUnlocks();\n        visualUpdateInflation();\n\n        switchTab(checkTab(global.tab) ? global.tab : 'stage'); //Update subtab list\n    }\n\n    const upgradesInfo = global.upgradesInfo[active];\n    const researchesInfo = global.researchesInfo[active];\n    const researchesExtraInfo = global.researchesExtraInfo[active];\n    const footerStatsHTML = specialHTML.footerStatsHTML[active];\n    for (let i = buildingsInfo.maxActive[active]; i < specialHTML.longestBuilding; i++) {\n        getId(`building${i}Stats`).style.display = 'none';\n        getId(`building${i}`).style.display = 'none';\n    }\n    for (let i = upgradesInfo.maxActive; i < specialHTML.longestUpgrade; i++) {\n        getId(`upgrade${i + 1}`).style.display = 'none';\n    }\n    for (let i = researchesInfo.maxActive; i < specialHTML.longestResearch; i++) {\n        getId(`research${i + 1}`).style.display = 'none';\n    }\n    for (let i = researchesExtraInfo.maxActive; i < specialHTML.longestResearchExtra; i++) {\n        getId(`researchExtra${i + 1}`).style.display = 'none';\n    }\n    for (let i = footerStatsHTML.length; i < specialHTML.longestFooterStats; i++) {\n        getId(`footerStat${i + 1}`).style.display = 'none';\n    }\n\n    const showU: number[] = []; //Upgrades\n    const showR: number[] = []; //Researches\n    const showRE: number[] = []; //ResearchesExtra\n    const showF: number[] = []; //Footer stats\n    if (active === 1) {\n        showU.push(2, 3, 4, 5);\n        showR.push(0, 1, 2, 3, 4, 5);\n        showF.push(0, 1, 2);\n        getId('specials').style.display = 'none';\n        if (vacuum) {\n            showU.push(0, 1);\n            showRE.push(0, 2);\n            getId('extraResearches').style.display = '';\n        } else {\n            getId('upgrade1').style.display = 'none';\n            getId('upgrade2').style.display = 'none';\n            getId('extraResearches').style.display = 'none';\n        }\n    } else if (active === 2) {\n        showU.push(0);\n        showR.push(0, 1);\n        showRE.push(0, 1);\n        showF.push(0, 1);\n        getId('specials').style.display = 'none';\n        if (vacuum) { getId('stageInfo').style.display = ''; }\n    } else if (active === 3) {\n        showU.push(0, 1);\n        showR.push(0, 1);\n        showRE.push(0);\n        showF.push(0);\n        global.debug.rankUpdated = null;\n        getId('specials').style.display = 'none';\n        getId('reset1Main').style.display = '';\n        if (vacuum) { getId('stageInfo').style.display = ''; }\n    } else if (active === 4) {\n        showU.push(0, 1, 2);\n        showR.push(0, 1, 2);\n        showRE.push(0);\n        showF.push(0, 1);\n        getId('stageInfo').style.display = '';\n        getId('extraResearches').style.display = '';\n        setRemnants();\n    } else if (active === 5) {\n        showRE.push(0);\n        showF.push(0, 1, 2);\n        getId('special2').style.display = 'none';\n        getId('special3').style.display = 'none';\n        getId('stageInfo').style.display = '';\n        if (vacuum) {\n            getId('building2').style.display = '';\n            showU.push(0, 1);\n            showR.push(0, 1);\n            getId('extraResearches').style.display = '';\n        } else {\n            getId('specials').style.display = 'none';\n        }\n        setRemnants();\n    } else if (active === 6) {\n        showF.push(0, 1);\n        getId('stageInfo').style.display = '';\n        getId('reset1Main').style.display = 'none';\n        getId('specials').style.display = 'none';\n        getId('extraResearches').style.display = 'none';\n    }\n    getId('resets').style.display = '';\n    getId('buildings').style.display = '';\n    getId('building1').style.display = '';\n    getId('upgrades').style.display = '';\n    getId('researches').style.display = '';\n    getId('stageResearches').style.display = '';\n    (getId('autoWaitInput') as HTMLInputElement).value = format(player.toggles.shop.wait[active], { type: 'input' });\n\n    const buildingHTML = specialHTML.buildingHTML[active];\n    const buildingName = buildingsInfo.name[active];\n    const buildingType = buildingsInfo.type[active];\n    const buildingHoverText = buildingsInfo.hoverText[active];\n    for (let i = 1; i < buildingsInfo.maxActive[active]; i++) {\n        (getId(`building${i}Image`) as HTMLImageElement).src = `Used_art/${buildingHTML[i - 1]}`;\n        getId(`building${i}StatName`).textContent = buildingName[i];\n        getId(`building${i}Name`).textContent = buildingName[i];\n        getQuery(`#building${i}ProdDiv > span`).textContent = buildingType[i];\n        getId(`building${i}ProdDiv`).title = buildingHoverText[i - 1];\n        toggleSwap(i, 'buildings');\n    }\n    getId('building0StatName').textContent = buildingName[0];\n    toggleSwap(0, 'buildings');\n\n    const upgradeHTML = specialHTML.upgradeHTML[active];\n    for (let i = 0; i < upgradesInfo.maxActive; i++) {\n        const image = getId(`upgrade${i + 1}`) as HTMLInputElement;\n        if (showU.includes(i)) { image.style.display = ''; }\n        image.src = `Used_art/${upgradeHTML[i]}`;\n        image.alt = upgradesInfo.name[i];\n        visualUpdateUpgrades(i, active, 'upgrades');\n    }\n\n    const researchHTML = specialHTML.researchHTML[active];\n    for (let i = 0; i < researchesInfo.maxActive; i++) {\n        const main = getId(`research${i + 1}`);\n        if (showR.includes(i)) { main.style.display = ''; }\n        main.className = researchHTML[i][1];\n        const image = getId(`research${i + 1}Image`) as HTMLInputElement;\n        image.src = `Used_art/${researchHTML[i][0]}`;\n        image.alt = researchesInfo.name[i];\n        visualUpdateResearches(i, active, 'researches');\n    }\n\n    const researchExtraHTML = specialHTML.researchExtraHTML[active];\n    for (let i = 0; i < researchesExtraInfo.maxActive; i++) {\n        const main = getId(`researchExtra${i + 1}`);\n        if (showRE.includes(i)) { main.style.display = ''; }\n        main.className = researchExtraHTML[i][1];\n        const image = getId(`researchExtra${i + 1}Image`) as HTMLInputElement;\n        image.src = `Used_art/${researchExtraHTML[i][0]}`;\n        image.alt = researchesExtraInfo.name[i];\n        visualUpdateResearches(i, active, 'researchesExtra');\n    }\n    getQuery('#extraResearches > div').className = specialHTML.researchExtraDivHTML[active][1];\n    (getQuery('#extraResearches > img') as HTMLImageElement).src = `Used_art/${specialHTML.researchExtraDivHTML[active][0]}`;\n    visualUpdateResearches(0, active, 'ASR');\n\n    for (let i = 0; i < footerStatsHTML.length; i++) {\n        if (showF.includes(i)) { getId(`footerStat${i + 1}`).style.display = ''; }\n        (getQuery(`#footerStat${i + 1} > img`) as HTMLImageElement).src = `Used_art/${footerStatsHTML[i][0]}`;\n        getQuery(`#footerStat${i + 1} > p`).className = footerStatsHTML[i][1];\n        getId(`footerStat${i + 1}Name`).textContent = footerStatsHTML[i][2];\n    }\n\n    const body = document.documentElement.style;\n    body.setProperty('--stage-text', `var(--${stageInfo.textColor[active]}-text)`);\n    body.setProperty('--stage-button-border', stageInfo.buttonBorder[active]);\n    body.setProperty('--stage-image-borderColor', stageInfo.imageBorderColor[active]);\n    body.setProperty('--image-border', `url(\"Used_art/Stage${active} border.png\")`);\n    getId('currentSwitch').textContent = stageInfo.word[active];\n\n    visualUpdate();\n    numbersUpdate();\n    if (globalSave.theme === null) { switchTheme(); }\n};\n", "import { changeIntervals, getId } from './Main';\nimport { global, player } from './Player';\nimport type { globalSaveType } from './Types';\nimport { format, numbersUpdate, visualUpdate } from './Update';\n\nexport const globalSave: globalSaveType = {\n    intervals: {\n        main: 20,\n        numbers: 80,\n        visual: 1000,\n        autoSave: 20000\n    },\n    toggles: [false, false, false],\n    //Hotkeys type[0]; Elements as tab[1]; Allow text selection[2]\n    format: ['.', ''], //Point[0]; Separator[1]\n    theme: null,\n    fontSize: 16,\n    MDSettings: [false, false], //Status[0]; Mouse events[1]\n    SRSettings: [false, false, false], //Status[0]; Tabindex Upgrades[1]; Tabindex primary[2]\n    developerMode: false\n};\n\nexport const saveGlobalSettings = () => localStorage.setItem('fundamentalSettings', btoa(JSON.stringify(globalSave)));\n\nexport const toggleSpecial = (number: number, type: 'global' | 'mobile' | 'reader', change = false, reload = false) => {\n    let toggles;\n    if (type === 'mobile') {\n        toggles = globalSave.MDSettings;\n    } else if (type === 'reader') {\n        toggles = globalSave.SRSettings;\n    } else {\n        toggles = globalSave.toggles;\n    }\n\n    if (change) {\n        if (reload) {\n            return void (async() => {\n                if (!await Confirm('Changing this setting will reload game, confirm?\\n(Game will not autosave)')) { return; }\n                global.paused = true;\n                changeIntervals();\n                toggles[number] = !toggles[number];\n                saveGlobalSettings();\n                window.location.reload();\n                void Alert('Awaiting game reload');\n            })();\n        } else {\n            toggles[number] = !toggles[number];\n            saveGlobalSettings();\n        }\n    }\n\n    let toggleHTML;\n    if (type === 'mobile') {\n        toggleHTML = getId(`MDToggle${number}`);\n    } else if (type === 'reader') {\n        toggleHTML = getId(`SRToggle${number}`);\n    } else {\n        toggleHTML = getId(`globalToggle${number}`);\n    }\n\n    if (!toggles[number]) {\n        toggleHTML.style.color = '';\n        toggleHTML.style.borderColor = '';\n        toggleHTML.textContent = 'OFF';\n    } else {\n        toggleHTML.style.color = 'var(--red-text)';\n        toggleHTML.style.borderColor = 'crimson';\n        toggleHTML.textContent = 'ON';\n    }\n};\n\nexport const specialHTML = { //Images here are from true vacuum for easier cache\n    resetHTML: ['', 'Discharge', 'Vaporization', 'Rank', 'Collapse', 'Merge'], //[0] === textContent\n    longestBuilding: 7, //+1\n    buildingHTML: [ //outerHTML is slow\n        [],\n        ['Preon.png', 'Quarks.png', 'Particle.png', 'Atom.png', 'Molecule.png'], //[0] === src\n        ['Drop.png', 'Puddle.png', 'Pond.png', 'Lake.png', 'Sea.png', 'Ocean.png'],\n        ['Cosmic%20dust.png', 'Planetesimal.png', 'Protoplanet.png', 'Natural%20satellite.png', 'Subsatellite.png'],\n        ['Brown%20dwarf.png', 'Orange%20dwarf.png', 'Red%20supergiant.png', 'Blue%20hypergiant.png', 'Quasi%20star.png'],\n        ['Nebula.png', 'Star%20cluster.png', 'Galaxy.png'],\n        ['Universe.png']\n    ],\n    longestUpgrade: 13,\n    upgradeHTML: [\n        [], [\n            'UpgradeQ1.png',\n            'UpgradeQ2.png',\n            'UpgradeQ3.png',\n            'UpgradeQ4.png',\n            'UpgradeQ5.png',\n            'UpgradeQ6.png',\n            'UpgradeQ7.png',\n            'UpgradeQ8.png',\n            'UpgradeQ9.png',\n            'UpgradeQ10.png'\n        ], [\n            'UpgradeW1.png',\n            'UpgradeW2.png',\n            'UpgradeW3.png',\n            'UpgradeW4.png',\n            'UpgradeW5.png',\n            'UpgradeW6.png',\n            'UpgradeW7.png',\n            'UpgradeW8.png',\n            'UpgradeW9.png'\n        ], [\n            'UpgradeA1.png',\n            'UpgradeA2.png',\n            'UpgradeA3.png',\n            'UpgradeA4.png',\n            'UpgradeA5.png',\n            'UpgradeA6.png',\n            'UpgradeA7.png',\n            'UpgradeA8.png',\n            'UpgradeA9.png',\n            'UpgradeA10.png',\n            'UpgradeA11.png',\n            'UpgradeA12.png',\n            'UpgradeA13.png'\n        ], [\n            'UpgradeS1.png',\n            'UpgradeS2.png',\n            'UpgradeS3.png',\n            'UpgradeS4.png',\n            'UpgradeS5.png'\n        ], [\n            'UpgradeG1.png',\n            'UpgradeG2.png',\n            'UpgradeG3.png',\n            'Missing.png'\n        ], []\n    ],\n    longestResearch: 9,\n    researchHTML: [\n        [], [\n            ['ResearchQ1.png', 'stage1borderImage'], //[1] === className\n            ['ResearchQ2.png', 'stage1borderImage'],\n            ['ResearchQ3.png', 'stage1borderImage'],\n            ['ResearchQ4.png', 'stage4borderImage'],\n            ['ResearchQ5.png', 'stage4borderImage'],\n            ['ResearchQ6.png', 'stage4borderImage']\n        ], [\n            ['ResearchW1.png', 'stage2borderImage'],\n            ['ResearchW2.png', 'stage2borderImage'],\n            ['ResearchW3.png', 'stage2borderImage'],\n            ['ResearchW4.png', 'stage2borderImage'],\n            ['ResearchW5.png', 'stage2borderImage'],\n            ['ResearchW6.png', 'stage2borderImage']\n        ], [\n            ['ResearchA1.png', 'stage3borderImage'],\n            ['ResearchA2.png', 'stage2borderImage'],\n            ['ResearchA3.png', 'stage3borderImage'],\n            ['ResearchA4.png', 'stage3borderImage'],\n            ['ResearchA5.png', 'stage3borderImage'],\n            ['ResearchA6.png', 'stage3borderImage'],\n            ['ResearchA7.png', 'stage1borderImage'],\n            ['ResearchA8.png', 'stage7borderImage'],\n            ['ResearchA9.png', 'stage1borderImage']\n        ], [\n            ['ResearchS1.png', 'stage5borderImage'],\n            ['ResearchS2.png', 'stage5borderImage'],\n            ['ResearchS3.png', 'stage7borderImage'],\n            ['ResearchS4.png', 'stage5borderImage'],\n            ['ResearchS5.png', 'stage6borderImage'],\n            ['Missing.png', 'stage4borderImage']\n        ], [\n            ['ResearchG1.png', 'stage1borderImage'],\n            ['ResearchG2.png', 'stage6borderImage']\n        ], []\n    ],\n    longestResearchExtra: 5,\n    researchExtraDivHTML: [\n        [],\n        ['Energy%20Researches.png', 'stage4borderImage'],\n        ['Cloud%20Researches.png', 'stage2borderImage'],\n        ['Rank%20Researches.png', 'stage6borderImage'],\n        ['Collapse%20Researches.png', 'stage6borderImage'],\n        ['Galaxy%20Researches.png', 'stage3borderImage'],\n        ['Missing.png', 'stage7borderImage']\n    ],\n    researchExtraHTML: [\n        [], [\n            ['ResearchEnergy1.png', 'stage1borderImage'],\n            ['ResearchEnergy2.png', 'stage5borderImage'],\n            ['ResearchEnergy3.png', 'stage3borderImage'],\n            ['ResearchEnergy4.png', 'stage1borderImage'],\n            ['ResearchEnergy5.png', 'stage6borderImage']\n        ], [\n            ['ResearchClouds1.png', 'stage3borderImage'],\n            ['ResearchClouds2.png', 'stage2borderImage'],\n            ['ResearchClouds3.png', 'stage4borderImage'],\n            ['ResearchClouds4.png', 'stage2borderImage']\n        ], [\n            ['ResearchRank1.png', 'stage3borderImage'],\n            ['ResearchRank2.png', 'stage3borderImage'],\n            ['ResearchRank3.png', 'stage3borderImage'],\n            ['ResearchRank4.png', 'stage2borderImage'],\n            ['ResearchRank5.png', 'stage2borderImage']\n        ], [\n            ['ResearchCollapse1.png', 'stage6borderImage'],\n            ['ResearchCollapse2.png', 'stage7borderImage'],\n            ['ResearchCollapse3.png', 'stage1borderImage'],\n            ['Missing.png', 'stage5borderImage']\n        ], [\n            ['ResearchGalaxy1.png', 'stage3borderImage']\n        ], []\n    ],\n    longestFooterStats: 3,\n    footerStatsHTML: [\n        [], [\n            ['Energy%20mass.png', 'stage1borderImage cyanText', 'Mass'], //[2] === textcontent\n            ['Energy.png', 'stage4borderImage orangeText', 'Energy']\n        ], [\n            ['Water.png', 'stage2borderImage blueText', 'Moles'],\n            ['Drop.png', 'stage2borderImage blueText', 'Drops'],\n            ['Clouds.png', 'stage3borderImage grayText', 'Clouds']\n        ], [\n            ['Mass.png', 'stage3borderImage grayText', 'Mass']\n        ], [\n            ['Main_sequence%20mass.png', 'stage1borderImage cyanText', 'Mass'],\n            ['Elements.png', 'stage4borderImage orangeText', 'Elements']\n        ], [\n            ['Main_sequence%20mass.png', 'stage1borderImage cyanText', 'Mass'],\n            ['Elements.png', 'stage4borderImage orangeText', 'Elements'],\n            ['Stars.png', 'stage7borderImage redText', 'Stars']\n        ], [\n            ['Missing.png', 'stage3borderImage grayText', 'Matter'], //'Dark%20matter.png'\n            ['Missing.png', 'stage6borderImage darkvioletText', 'Cosmon']\n        ]\n    ],\n    cache: {\n        imagesDiv: document.createElement('div'),\n        idMap: new Map<string, HTMLElement>(),\n        classMap: new Map<string, HTMLCollectionOf<HTMLElement>>(),\n        queryMap: new Map<string, HTMLElement>()\n    },\n    notifications: [] as Array<[string, () => void]>,\n    alert: [null, null] as [number | null, (() => void) | null],\n    styleSheet: document.createElement('style') //Secondary\n};\n\nexport const preventImageUnload = () => {\n    const { footerStatsHTML: footer, buildingHTML: build, upgradeHTML: upgrade, researchHTML: research, researchExtraHTML: extra, researchExtraDivHTML: extraDiv } = specialHTML;\n    //Duplicates are ignored, unless they are from Strangeness, because duplicates from there could become unique in future\n\n    let images = '<img src=\"Used_art/Red%20giant.png\" loading=\"lazy\"><img src=\"Used_art/White%20dwarf.png\" loading=\"lazy\">';\n    images += '<img src=\"Used_art/Neutron%20star.png\" loading=\"lazy\"><img src=\"Used_art/Missing.png\" loading=\"lazy\">'; //Quark%20star.png\n    for (let s = 1; s <= 6; s++) { //6\n        for (let i = 0; i < footer[s].length; i++) {\n            if (s === 2) {\n                if (i === 2) { continue; } //Drops\n            } else if (s === 5 && i < 2) { continue; } //Solar mass and Elements\n            images += `<img src=\"Used_art/${footer[s][i][0]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < build[s].length; i++) {\n            images += `<img src=\"Used_art/${build[s][i]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < upgrade[s].length; i++) {\n            images += `<img src=\"Used_art/${upgrade[s][i]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < research[s].length; i++) {\n            images += `<img src=\"Used_art/${research[s][i][0]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < extra[s].length; i++) {\n            images += `<img src=\"Used_art/${extra[s][i][0]}\" loading=\"lazy\">`;\n        }\n        images += `<img src=\"Used_art/${extraDiv[s][0]}\" loading=\"lazy\">`;\n        images += `<img src=\"Used_art/Stage${s}%20border.png\" loading=\"lazy\">`;\n    }\n    specialHTML.cache.imagesDiv.innerHTML = images; //Saved just in case\n};\n\nexport const setTheme = (theme: number | null) => {\n    if (theme !== null) {\n        if (player.stage.true < theme) { theme = null; }\n        if (theme === 6 && player.stage.true < 7) { theme = null; }\n    }\n\n    globalSave.theme = theme;\n    saveGlobalSettings();\n    switchTheme();\n    getId('currentTheme').textContent = globalSave.theme === null ? 'Default' : global.stageInfo.word[globalSave.theme];\n};\n\nexport const switchTheme = () => {\n    const upgradeTypes = ['upgrade', 'element', 'inflation'];\n    const properties = {\n        '--background-color': '#030012',\n        '--window-color': '#12121c',\n        '--window-border': 'cornflowerblue',\n        '--footer-color': 'darkblue',\n        '--button-color': 'mediumblue',\n        '--button-border': 'darkcyan',\n        '--button-hover': '#2626ff',\n        '--building-afford': '#a90000',\n        '--tab-active': '#8b00c5',\n        '--tab-elements': '#9f6700',\n        '--tab-strangeness': '#00b100',\n        '--tab-inflation': '#6c1ad1',\n        '--hollow-hover': '#170089',\n        '--footerButton-hover': '#181818',\n        '--input-border': '#831aa5',\n        '--input-text': '#cf71ff',\n        '--button-text': '#e3e3e3',\n        '--main-text': 'var(--cyan-text)',\n        '--white-text': 'white',\n        //'--cyan-text': '#03d3d3',\n        '--blue-text': 'dodgerblue',\n        '--orange-text': 'darkorange',\n        '--gray-text': '#8f8f8f',\n        '--orchid-text': '#e14bdb',\n        '--darkorchid-text': '#bd24ef',\n        '--darkviolet-text': '#8635eb',\n        '--red-text': '#eb0000',\n        '--green-text': '#00e900',\n        '--yellow-text': '#fafa00'\n    };\n\n    /* Many of these colors will need to be changed in other places (find them with quick search, there are too many of them) */\n    switch (globalSave.theme ?? player.stage.active) {\n        case 1:\n            for (const text of upgradeTypes) {\n                getId(`${text}Text`).style.color = '';\n                getId(`${text}Effect`).style.color = '';\n                getId(`${text}Cost`).style.color = '';\n            }\n            properties['--tab-inflation'] = 'var(--tab-active)';\n            break;\n        case 2:\n            for (const text of upgradeTypes) {\n                getId(`${text}Text`).style.color = 'var(--white-text)';\n                getId(`${text}Effect`).style.color = 'var(--green-text)';\n                getId(`${text}Cost`).style.color = 'var(--cyan-text)';\n            }\n            properties['--background-color'] = '#070026';\n            properties['--window-color'] = '#000052';\n            properties['--window-border'] = 'blue';\n            properties['--footer-color'] = '#0000db';\n            properties['--button-color'] = '#0000eb';\n            properties['--button-border'] = '#386cc7';\n            properties['--button-hover'] = '#2929ff';\n            properties['--building-afford'] = '#b30000';\n            properties['--tab-active'] = '#990000';\n            properties['--hollow-hover'] = '#2400d7';\n            properties['--input-border'] = '#4747ff';\n            properties['--input-text'] = 'dodgerblue';\n            properties['--main-text'] = 'var(--blue-text)';\n            properties['--gray-text'] = '#9b9b9b';\n            properties['--darkorchid-text'] = '#c71bff';\n            properties['--darkviolet-text'] = '#8b6bff';\n            properties['--green-text'] = '#82cb3b';\n            properties['--red-text'] = '#f70000';\n            break;\n        case 3:\n            for (const text of upgradeTypes) {\n                getId(`${text}Text`).style.color = 'var(--orange-text)';\n                getId(`${text}Effect`).style.color = '';\n                getId(`${text}Cost`).style.color = 'var(--green-text)';\n            }\n            properties['--background-color'] = '#000804';\n            properties['--window-color'] = '#2e1200';\n            properties['--window-border'] = '#31373e';\n            properties['--footer-color'] = '#221a00';\n            properties['--button-color'] = '#291344';\n            properties['--button-border'] = '#424242';\n            properties['--button-hover'] = '#382055';\n            properties['--building-afford'] = '#9e0000';\n            properties['--tab-active'] = '#8d4c00';\n            properties['--tab-elements'] = 'var(--tab-active)';\n            properties['--hollow-hover'] = '#5a2100';\n            properties['--footerButton-hover'] = '#1a1a1a';\n            properties['--input-border'] = '#8b4a00';\n            properties['--input-text'] = '#e77e00';\n            properties['--main-text'] = 'var(--gray-text)';\n            properties['--white-text'] = '#dfdfdf';\n            properties['--orange-text'] = '#f58600';\n            properties['--green-text'] = '#00db00';\n            break;\n        case 4:\n            for (const text of upgradeTypes) {\n                getId(`${text}Text`).style.color = 'var(--blue-text)';\n                getId(`${text}Effect`).style.color = 'var(--green-text)';\n                getId(`${text}Cost`).style.color = 'var(--cyan-text)';\n            }\n            properties['--background-color'] = '#140e04';\n            properties['--window-color'] = '#4e0000';\n            properties['--window-border'] = '#894800';\n            properties['--footer-color'] = '#4e0505';\n            properties['--button-color'] = '#6a3700';\n            properties['--button-border'] = '#a35700';\n            properties['--button-hover'] = '#8a4700';\n            properties['--building-afford'] = '#007f95';\n            properties['--tab-active'] = '#008297';\n            properties['--tab-elements'] = 'var(--tab-active)';\n            properties['--tab-strangeness'] = '#00a500';\n            properties['--hollow-hover'] = '#605100';\n            properties['--footerButton-hover'] = '#212121';\n            properties['--input-border'] = '#008399';\n            properties['--input-text'] = '#05c3c3';\n            properties['--button-text'] = '#d9d900';\n            properties['--main-text'] = 'var(--orange-text)';\n            properties['--white-text'] = '#e5e500';\n            properties['--blue-text'] = '#2e96ff';\n            properties['--gray-text'] = '#8b8b8b';\n            properties['--darkorchid-text'] = '#c71bff';\n            properties['--darkviolet-text'] = '#9457ff';\n            properties['--red-text'] = 'red';\n            properties['--green-text'] = '#00e600';\n            properties['--yellow-text'] = 'var(--green-text)';\n            break;\n        case 5:\n            for (const text of upgradeTypes) {\n                getId(`${text}Text`).style.color = 'var(--orange-text)';\n                getId(`${text}Effect`).style.color = 'var(--green-text)';\n                getId(`${text}Cost`).style.color = 'var(--red-text)';\n            }\n            properties['--background-color'] = '#060010';\n            properties['--window-color'] = '#001d42';\n            properties['--window-border'] = '#35466e';\n            properties['--footer-color'] = '#2f005c';\n            properties['--button-color'] = '#4a008f';\n            properties['--button-border'] = '#8f004c';\n            properties['--button-hover'] = '#6800d6';\n            properties['--building-afford'] = '#8603ff';\n            properties['--tab-active'] = '#8500ff';\n            properties['--tab-inflation'] = 'var(--tab-active)';\n            properties['--hollow-hover'] = '#3b0080';\n            properties['--footerButton-hover'] = '#1a1a1a';\n            properties['--input-border'] = '#3656a1';\n            properties['--input-text'] = '#6a88cd';\n            properties['--button-text'] = '#fc9cfc';\n            properties['--main-text'] = 'var(--darkorchid-text)';\n            properties['--white-text'] = '#ff79ff';\n            properties['--orchid-text'] = '#ff00f4';\n            properties['--darkorchid-text'] = '#c000ff';\n            properties['--darkviolet-text'] = '#9f52ff';\n            properties['--yellow-text'] = 'var(--darkviolet-text)';\n            break;\n        case 6:\n            for (const text of upgradeTypes) {\n                getId(`${text}Text`).style.color = 'var(--orchid-text)';\n                getId(`${text}Effect`).style.color = 'var(--orange-text)';\n                getId(`${text}Cost`).style.color = 'var(--red-text)';\n            }\n            properties['--background-color'] = 'black';\n            properties['--window-color'] = '#01003c';\n            properties['--window-border'] = '#7100ff';\n            properties['--footer-color'] = '#00007a';\n            properties['--button-color'] = '#2b0095';\n            properties['--button-border'] = '#6c1ad1';\n            properties['--button-hover'] = '#3d00d6';\n            properties['--building-afford'] = '#b30000';\n            properties['--tab-active'] = '#8d0000';\n            properties['--tab-inflation'] = 'var(--tab-active)';\n            properties['--hollow-hover'] = '#490070';\n            properties['--input-border'] = '#a50000';\n            properties['--input-text'] = 'red';\n            properties['--button-text'] = '#efe0ff';\n            properties['--main-text'] = 'var(--darkviolet-text)';\n            properties['--gray-text'] = '#9b9b9b';\n            properties['--darkviolet-text'] = '#8157ff';\n            properties['--white-text'] = '#f9f5ff';\n            properties['--red-text'] = 'red';\n            properties['--yellow-text'] = 'var(--green-text)';\n    }\n\n    const body = document.documentElement.style;\n    body.setProperty('--transition-all', '800ms');\n    body.setProperty('--transition-buttons', '600ms');\n    for (const property in properties) { body.setProperty(property, properties[property as '--main-text']); }\n\n    setTimeout(() => {\n        body.setProperty('--transition-all', '0ms');\n        body.setProperty('--transition-buttons', '100ms');\n    }, 800);\n};\n\nexport const Alert = async(text: string, priority = 0): Promise<void> => {\n    return await new Promise((resolve) => {\n        if (specialHTML.alert[0] !== null) {\n            if (specialHTML.alert[0] < priority) {\n                (specialHTML.alert[1] as () => undefined)();\n                Notify(`Alert has been replaced with higher priority one\\nOld text: ${getId('alertText').textContent}`);\n            } else {\n                resolve();\n                Notify(`Another Alert is already active\\nMissed text: ${text}`);\n                return;\n            }\n        }\n\n        getId('alertText').textContent = text;\n        const body = document.body;\n        const blocker = getId('alertMain');\n        const confirm = getId('alertConfirm');\n        blocker.style.display = '';\n        confirm.focus();\n\n        const key = async(button: KeyboardEvent) => {\n            if (button.key === 'Escape' || button.key === 'Enter' || button.key === ' ') {\n                button.preventDefault();\n                close();\n            }\n        };\n        const close = () => {\n            blocker.style.display = 'none';\n            body.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', close);\n            specialHTML.alert = [null, null];\n            resolve();\n        };\n        specialHTML.alert = [priority, close];\n        body.addEventListener('keydown', key);\n        confirm.addEventListener('click', close);\n    });\n};\n\nexport const Confirm = async(text: string, priority = 0): Promise<boolean> => {\n    return await new Promise((resolve) => {\n        if (specialHTML.alert[0] !== null) {\n            if (specialHTML.alert[0] < priority) {\n                (specialHTML.alert[1] as () => undefined)();\n                Notify(`Alert has been replaced with higher priority one\\nOld text: ${getId('alertText').textContent}`);\n            } else {\n                resolve(false);\n                Notify(`Another Alert is already active\\nMissed text: ${text}`);\n                return;\n            }\n        }\n\n        getId('alertText').textContent = text;\n        const body = document.body;\n        const blocker = getId('alertMain');\n        const cancel = getId('alertCancel');\n        const confirm = getId('alertConfirm');\n        blocker.style.display = '';\n        cancel.style.display = '';\n        confirm.focus();\n\n        const yes = () => { close(true); };\n        const no = () => { close(false); };\n        const key = (button: KeyboardEvent) => {\n            if (button.key === 'Escape') {\n                button.preventDefault();\n                no();\n            } else if (button.key === 'Enter' || button.key === ' ') {\n                if (document.activeElement === cancel) { return; }\n                button.preventDefault();\n                yes();\n            }\n        };\n        const close = (result: boolean) => {\n            blocker.style.display = 'none';\n            cancel.style.display = 'none';\n            body.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', yes);\n            cancel.removeEventListener('click', no);\n            specialHTML.alert = [null, null];\n            resolve(result);\n        };\n        specialHTML.alert = [priority, no];\n        body.addEventListener('keydown', key);\n        confirm.addEventListener('click', yes);\n        cancel.addEventListener('click', no);\n    });\n};\n\nexport const Prompt = async(text: string, placeholder = '', priority = 0): Promise<string | null> => {\n    return await new Promise((resolve) => {\n        if (specialHTML.alert[0] !== null) {\n            if (specialHTML.alert[0] < priority) {\n                (specialHTML.alert[1] as () => undefined)();\n                Notify(`Alert has been replaced with higher priority one\\nOld text: ${getId('alertText').textContent}`);\n            } else {\n                resolve(null);\n                Notify(`Another Alert is already active\\nMissed text: ${text}`);\n                return;\n            }\n        }\n\n        getId('alertText').textContent = text;\n        const body = document.body;\n        const blocker = getId('alertMain');\n        const input = getId('alertInput') as HTMLInputElement;\n        const cancel = getId('alertCancel');\n        const confirm = getId('alertConfirm');\n        blocker.style.display = '';\n        cancel.style.display = '';\n        input.style.display = '';\n        input.placeholder = placeholder;\n        input.value = '';\n        input.focus();\n\n        const yes = () => { close(input.value === '' ? input.placeholder : input.value); };\n        const no = () => { close(null); };\n        const key = (button: KeyboardEvent) => {\n            if (button.key === 'Escape') {\n                button.preventDefault();\n                no();\n            } else if (document.activeElement !== cancel) {\n                if (button.key === 'Enter') {\n                    button.preventDefault();\n                    yes();\n                } else if (button.key === ' ') {\n                    if (document.activeElement === input) { return; }\n                    button.preventDefault();\n                    yes();\n                }\n            }\n        };\n        const close = (result: string | null) => {\n            blocker.style.display = 'none';\n            cancel.style.display = 'none';\n            input.style.display = 'none';\n            body.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', yes);\n            cancel.removeEventListener('click', no);\n            specialHTML.alert = [null, null];\n            resolve(result);\n        };\n        specialHTML.alert = [priority, no];\n        body.addEventListener('keydown', key);\n        confirm.addEventListener('click', yes);\n        cancel.addEventListener('click', no);\n    });\n};\n\nexport const Notify = (text: string) => {\n    /* [0] is for identification; [1] is for html manipulation */\n    const { notifications } = specialHTML;\n\n    let index;\n    for (let i = 0; i < notifications.length; i++) {\n        if (notifications[i][0] === text) {\n            index = i;\n            break;\n        }\n    }\n\n    if (index === undefined) {\n        let count = 1;\n        let timeout: number;\n\n        const html = document.createElement('p');\n        html.textContent = text;\n        html.style.animation = 'hideX 800ms ease-in-out reverse';\n        html.style.pointerEvents = 'none';\n        if (globalSave.SRSettings[0]) { html.role = 'alert'; }\n        getId('notifications').append(html);\n\n        const pointer = notifications[notifications.push([text, () => {\n            html.textContent = `${text} | x${++count}`;\n            clearTimeout(timeout);\n            timeout = setTimeout(remove, 7200);\n        }]) - 1];\n        const remove = () => {\n            notifications.splice(notifications.indexOf(pointer), 1);\n            html.removeEventListener('click', remove);\n            html.style.animation = 'hideX 800ms ease-in-out forwards';\n            html.style.pointerEvents = 'none';\n            setTimeout(() => html.remove(), 800);\n            clearTimeout(timeout);\n        };\n        setTimeout(() => {\n            html.style.animation = '';\n            html.style.pointerEvents = '';\n            timeout = setTimeout(remove, 7200);\n            html.addEventListener('click', remove);\n        }, 800);\n    } else { notifications[index][1](); }\n};\n\nexport const hideFooter = () => {\n    const toggleData = getId('hideToggle').dataset;\n    if (toggleData.disabled === 'true') { return; }\n    const footer = getId('footer');\n    const footerArea = getId('footerMain');\n    const arrow = getId('hideArrow');\n\n    const animationReset = () => {\n        footer.style.animation = '';\n        arrow.style.animation = '';\n        toggleData.disabled = '';\n    };\n\n    global.footer = !global.footer;\n    toggleData.disabled = 'true';\n    if (global.footer) {\n        footerArea.style.display = '';\n        arrow.style.transform = '';\n        footer.style.animation = 'hideY 800ms reverse';\n        arrow.style.animation = 'rotate 800ms reverse';\n        getId('hideText').textContent = 'Hide';\n        getId('stageSelect').classList.add('active');\n        setTimeout(animationReset, 800);\n\n        visualUpdate();\n        numbersUpdate();\n    } else {\n        footer.style.animation = 'hideY 800ms backwards';\n        arrow.style.animation = 'rotate 800ms backwards';\n        getId('hideText').textContent = 'Show';\n        getId('stageSelect').classList.remove('active');\n        setTimeout(() => {\n            footerArea.style.display = 'none';\n            arrow.style.transform = 'rotate(180deg)';\n            animationReset();\n        }, 800);\n    }\n};\n\nexport const changeFontSize = (initial: boolean) => {\n    const input = getId('customFontSize') as HTMLInputElement;\n    const size = Math.min(Math.max(initial ? globalSave.fontSize : (input.value === '' ? 16 : Math.floor(Number(input.value) * 100) / 100), 12), 24);\n    if (!initial) {\n        globalSave.fontSize = size;\n        saveGlobalSettings();\n    }\n\n    document.documentElement.style.fontSize = size === 16 ? '' : `${size}px`;\n    input.value = `${size}`;\n    adjustCSSRules(initial);\n};\n/* Only decent work around media not allowing var() and rem units being bugged */\nconst adjustCSSRules = (initial: boolean) => {\n    const styleSheet = (getId('primaryRules') as HTMLStyleElement).sheet;\n    if (styleSheet == null) { //Safari doesn't wait for CSS to load even if script is defered\n        if (initial) {\n            return getId('primaryRules').addEventListener('load', () => {\n                adjustCSSRules(false);\n            }, { once: true });\n        }\n        return Notify(`Due to ${styleSheet} related Error some font size features will not work`);\n    }\n    const styleLength = styleSheet.cssRules.length - 1;\n    const fontRatio = globalSave.fontSize / 16;\n    const rule1 = styleSheet.cssRules[styleLength - 1] as CSSMediaRule; //Primary phone size\n    const rule2 = styleSheet.cssRules[styleLength] as CSSMediaRule; //Tiny phone size\n    styleSheet.deleteRule(styleLength);\n    styleSheet.deleteRule(styleLength - 1);\n    styleSheet.insertRule(rule1.cssText.replace(rule1.conditionText, `screen and (max-width: ${893 * fontRatio + 32}px)`), styleLength - 1);\n    styleSheet.insertRule(rule2.cssText.replace(rule2.conditionText, `screen and (max-width: ${362 * fontRatio + 32}px)`), styleLength);\n};\n\nexport const changeFormat = (point: boolean) => {\n    const htmlInput = (point ? getId('decimalPoint') : getId('thousandSeparator')) as HTMLInputElement;\n    const allowed = ['.', '\u00B7', ',', ' ', '_', \"'\", '\"', '`', '|'].includes(htmlInput.value);\n    if (!allowed || globalSave.format[point ? 1 : 0] === htmlInput.value) {\n        if (point && globalSave.format[1] === '.') {\n            (getId('thousandSeparator') as HTMLInputElement).value = '';\n            globalSave.format[1] = '';\n        }\n        htmlInput.value = point ? '.' : '';\n    }\n    globalSave.format[point ? 0 : 1] = htmlInput.value;\n    saveGlobalSettings();\n};\n\nexport const MDStrangenessPage = (stageIndex: number) => {\n    for (let s = 1; s <= 5; s++) { getId(`strangenessSection${s}`).style.display = 'none'; }\n    getId(`strangenessSection${stageIndex}`).style.display = '';\n};\n\nexport const replayEvent = async() => {\n    let last;\n    if (player.stage.true >= 6) {\n        last = player.events[1] ? 8 : player.stage.resets >= 1 ? 7 : 6;\n    } else {\n        last = player.stage.true - (player.events[0] ? 0 : 1);\n        if (last < 1) { return void Alert('There are no unlocked events'); }\n    }\n\n    let text = 'Which event do you want to see again?\\nEvent 1: Stage reset';\n    if (last >= 2) { text += '\\nEvent 2: Clouds softcap'; }\n    if (last >= 3) { text += '\\nEvent 3: New Rank'; }\n    if (last >= 4) { text += '\\nEvent 4: New Elements'; }\n    if (last >= 5) { text += '\\nEvent 5: Intergalactic'; }\n    if (last >= 6) { text += '\\nEvent 6: True Vacuum'; }\n    if (last >= 7) { text += '\\nEvent 7: Void unlocked'; }\n    if (last >= 8) { text += '\\nEvent 8: New Universe'; }\n\n    const event = Number(await Prompt(text, `${last}`));\n    if (event > last) { return; }\n    playEvent(event);\n};\n\n/** Sets player.events[index] to true if provided */\nexport const playEvent = (event: number, index = null as number | null) => {\n    if (specialHTML.alert[0] !== null) { return Notify(`Missed Event ${event}, you can replay it from options`); }\n    if (index !== null) { player.events[index] = true; }\n\n    switch (event) {\n        case 1:\n            return void Alert('New reset tier has been unlocked. It will allow to reach higher tiers of Structures, but for the price of everything else');\n        case 2:\n            return void Alert(`Cloud density is too high... Any new Clouds past ${format(1e4)} will be weaker due to softcap`);\n        case 3:\n            return void Alert(\"Can't gain any more Mass with current Rank. New one has been unlocked, but reaching it will softcap the Mass production\");\n        case 4:\n            return void Alert('Last explosion not only created first Neutron stars, but also unlocked new Elements through Supernova nucleosynthesis');\n        case 5:\n            return void Alert(\"There aren't any Structures in Intergalactic yet, but maybe new ones can be created within previous Stages. Any new Stage resets and exports from now on will award Strange quarks\\n(Stars in Intergalactic are just Stars from Interstellar)\");\n        case 6:\n            return void Alert('As Galaxies started to Merge, their combined Gravity pushed Vacuum out of its local minimum into more stable global minimum. New forces and Structures are expected within this new and true Vacuum state');\n        case 7:\n            return void Alert(\"With Vacuum decaying remaining matter had rearranged itself in such way that lead to the formation of the 'Void'. Check it out in 'Advanced' subtab\");\n        case 8:\n            return void Alert(\"Soon there will be enough matter to create first 'Universe' within 'Abyss' Stage. Doing it will require to get 40 Galaxies before Merge reset. Creating it will do a Vacuum reset, while also resetting Vacuum state back to false\");\n    }\n};\n", "import { globalSave } from './Special';\n\n/* This is version has all settings (and other stuff) removed (for better speed) */\n/** To test number for being Overlimit can use: typeof number === 'object'; Array.isArray(number); number instanceof Overlimit\n * @param number Exponent must be truncted, also if Array is used, then must not contain any mistakes (example and proper way: [11, 0] > [1.1, 1]; [1, NaN] > [NaN, NaN]; [1, 1.4] > [1, 1]). BigInt is allowed, but TS doesn't know about it\n */\nexport default class Overlimit extends Array<number> {\n    constructor(number: string | number | [number, number] | Overlimit) {\n        const post = technical.convert(number);\n        super(post[0], post[1]);\n    }\n    get mantissa() { return this[0]; }\n    get exponent() { return this[1]; }\n\n    /** Creates new Overlimit */\n    clone(): Overlimit { return new Overlimit(this); }\n    setValue(newValue: string | number | [number, number] | Overlimit) { return this.#privateSet(technical.convert(newValue)); }\n    #privateSet(newValue: [number, number] | Overlimit) {\n        this[0] = newValue[0];\n        this[1] = newValue[1];\n        return this;\n    }\n\n    /** Can take any amount of arquments */\n    plus(...numbers: Array<string | number | [number, number] | Overlimit>) {\n        let result: [number, number] | Overlimit = this;\n        for (let i = 0; i < numbers.length; i++) {\n            result = technical.add(result, technical.convert(numbers[i]));\n        }\n\n        return this.#privateSet(result);\n    }\n    /** Can take any amount of arquments */\n    minus(...numbers: Array<string | number | [number, number] | Overlimit>) {\n        let result: [number, number] | Overlimit = this;\n        for (let i = 0; i < numbers.length; i++) {\n            result = technical.sub(result, technical.convert(numbers[i]));\n        }\n\n        return this.#privateSet(result);\n    }\n    /** Can take any amount of arquments */\n    multiply(...numbers: Array<string | number | [number, number] | Overlimit>) {\n        let result: [number, number] | Overlimit = this;\n        for (let i = 0; i < numbers.length; i++) {\n            result = technical.mult(result, technical.convert(numbers[i]));\n        }\n\n        return this.#privateSet(result);\n    }\n    /** Can take any amount of arquments */\n    divide(...numbers: Array<string | number | [number, number] | Overlimit>) {\n        let result: [number, number] | Overlimit = this;\n        for (let i = 0; i < numbers.length; i++) {\n            result = technical.div(result, technical.convert(numbers[i]));\n        }\n\n        return this.#privateSet(result);\n    }\n    /** Power must be a number */\n    power(power: number) { return this.#privateSet(technical.pow(this, power)); }\n    /** Root must be a number, default value is 2 */\n    root(root = 2) { return this.#privateSet(technical.pow(this, 1 / root)); }\n    /** Base must be a number, default value is Math.E */\n    log(base = 2.718281828459045) { return this.#privateSet(technical.log(this, base)); }\n\n    abs() {\n        this[0] = Math.abs(this[0]);\n        return this;\n    }\n\n    trunc() { return this.#privateSet(technical.trunc(this)); }\n    floor() { return this.#privateSet(technical.floor(this)); }\n    ceil() { return this.#privateSet(technical.ceil(this)); }\n    round() { return this.#privateSet(technical.round(this)); }\n\n    /** Doesn't check exponent, since exponent being NaN while mantissa isn't would be a bug */\n    isNaN(): boolean { return isNaN(this[0])/* || isNaN(this[1])*/; }\n    /** Doesn't check exponent, since exponent being Infinity while mantissa isn't would be a bug */\n    isFinite(): boolean { return isFinite(this[0])/* && isFinite(this[1])*/; }\n\n    lessThan(compare: string | number | [number, number] | Overlimit): boolean { return technical.less(this, technical.convert(compare)); }\n    lessOrEqual(compare: string | number | [number, number] | Overlimit): boolean { return technical.lessOrEqual(this, technical.convert(compare)); }\n    moreThan(compare: string | number | [number, number] | Overlimit): boolean { return technical.more(this, technical.convert(compare)); }\n    moreOrEqual(compare: string | number | [number, number] | Overlimit): boolean { return technical.moreOrEqual(this, technical.convert(compare)); }\n    notEqual(compare: string | number | [number, number] | Overlimit): boolean { return technical.notEqual(this, technical.convert(compare)); }\n    equal(compare: string | number | [number, number] | Overlimit): boolean { return !technical.notEqual(this, technical.convert(compare)); }\n    /** Can take any amount of arquments; Returns true if no arquments provided */\n    allEqual(...compare: Array<string | number | [number, number] | Overlimit>): boolean {\n        let previous: [number, number] | Overlimit = this;\n        for (let i = 0; i < compare.length; i++) {\n            const next = technical.convert(compare[i]);\n            if (technical.notEqual(previous, next)) { return false; }\n            previous = next;\n        }\n\n        return true;\n    }\n\n    /** Set original number to biggest of provided arguments */\n    max(...compare: Array<string | number | [number, number] | Overlimit>) {\n        let result: [number, number] | Overlimit = this;\n\n        for (let i = 0; i < compare.length; i++) {\n            const after = technical.convert(compare[i]);\n            if (isNaN(after[0])) { return this.#privateSet([NaN, NaN]); }\n\n            if (technical.less(result, after)) { result = after; }\n        }\n\n        return this.#privateSet(result);\n    }\n    /** Set original number to smallest of provided arguments */\n    min(...compare: Array<string | number | [number, number] | Overlimit>) {\n        let result: [number, number] | Overlimit = this;\n\n        for (let i = 0; i < compare.length; i++) {\n            const after = technical.convert(compare[i]);\n            if (isNaN(after[0])) { return this.#privateSet([NaN, NaN]); }\n\n            if (technical.more(result, after)) { result = after; }\n        }\n\n        return this.#privateSet(result);\n    }\n\n    /** Returns formatted string, takes object as arqument (some default values are from limitSettings)\n     * @param type \"number\" is default, \"input\" will make formatted number to be usable in Overlimit\n     * @param padding should zeros be added past point, if bellow max digits. 'exponent' value will behave as true, but only after number turns into its shorter version\n     */\n    format(settings = {} as { type?: 'number' | 'input', padding?: boolean | 'exponent' }): string { return technical.format(this, settings); }\n    /** Returns value as Number, doesn't change original number */\n    toNumber(): number { return Number(technical.turnString(this)); }\n    /** Returns value as String, doesn't change original number */\n    toString(): string { return technical.turnString(this); }\n    /** Returns value as Array, doesn't change original number */\n    toArray(): [number, number] { return [this[0], this[1]]; }\n    /** Automatically called with JSON.stringify. It will call toString to preserve NaN and Infinity */\n    toJSON(): string { return technical.turnString(this); }\n}\n\nconst technical = {\n    convert: (number: string | number | [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (typeof number === 'object' && number !== null) { return number; } //Readonly Array\n        if (typeof number !== 'string') { number = `${number}`; } //Using log10 could cause floating point error\n        const index = number.indexOf('e');\n        const result: [number, number] = index === -1 ? [Number(number), 0] : [Number(number.slice(0, index)), Number(number.slice(index + 1))];\n\n        if (!isFinite(result[0]) || !isFinite(result[1])) {\n            if (result[0] === 0 || result[1] === -Infinity) { return [0, 0]; }\n            if (isNaN(result[0]) || isNaN(result[1])) { return [NaN, NaN]; }\n            return [result[0] < 0 ? -Infinity : Infinity, Infinity];\n        }\n\n        const after = Math.abs(result[0]);\n        if (after === 0) {\n            return [0, 0];\n        } else if (after < 1 || after >= 10) {\n            const digits = Math.floor(Math.log10(after));\n            result[0] /= 10 ** digits;\n            result[1] += digits;\n\n            if (Math.abs(result[0]) < 1) { //Important\n                result[0] *= 10;\n                result[1]--;\n            }\n        }\n\n        //Float fix always done after exponent, because (11.1 / 10 !== 1.11)\n        result[0] = Math.round(result[0] * 1e14) / 1e14;\n        if (Math.abs(result[0]) === 10) {\n            result[0] /= 10;\n            result[1]++;\n        }\n\n        return result;\n    },\n    /* Number is readonly */\n    turnString: (number: [number, number] | Overlimit): string => number[1] === 0 || !isFinite(number[0]) ? `${number[0]}` : `${number[0]}e${number[1]}`,\n    /* Right is readonly */\n    add: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (right[0] === 0) { return left; }\n        if (left[0] === 0) { return [right[0], right[1]]; }\n        if (!isFinite(left[0]) || !isFinite(right[0])) {\n            const check = left[0] + right[0]; //Infinity + -Infinity === NaN\n            return isNaN(check) ? [NaN, NaN] : [check, Infinity];\n        }\n\n        const difference = left[1] - right[1];\n        if (Math.abs(difference) >= 16) { return difference > 0 ? left : [right[0], right[1]]; }\n\n        if (difference === 0) {\n            left[0] += right[0];\n        } else if (difference > 0) {\n            left[0] += right[0] / 10 ** difference;\n        } else {\n            left[0] = right[0] + (left[0] * 10 ** difference);\n            left[1] = right[1];\n        }\n\n        const after = Math.abs(left[0]);\n        if (after === 0) {\n            return [0, 0];\n        } else if (after >= 10) {\n            left[0] /= 10;\n            left[1]++;\n        } else if (after < 1) {\n            const digits = -Math.floor(Math.log10(after));\n            left[0] *= 10 ** digits;\n            left[1] -= digits;\n        }\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n\n        return left;\n    },\n    /* Right is readonly, its quite a lazy function... */\n    sub: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): [number, number] | Overlimit => technical.add(left, [-right[0], right[1]]),\n    /* Right is readonly */\n    mult: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (left[0] === 0 || right[0] === 0) { return [0, 0]; }\n\n        left[1] += right[1];\n        left[0] *= right[0];\n\n        if (!isFinite(left[1])) {\n            if (left[1] === -Infinity) { return [0, 0]; }\n            return isNaN(left[1]) ? [NaN, NaN] : [Infinity, Infinity];\n        }\n\n        if (Math.abs(left[0]) >= 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n\n        return left;\n    },\n    /* Right is readonly */\n    div: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (right[0] === 0) { return [NaN, NaN]; }\n        if (left[0] === 0) { return [0, 0]; }\n\n        left[1] -= right[1];\n        left[0] /= right[0];\n\n        if (!isFinite(left[1])) {\n            if (left[1] === -Infinity) { return [0, 0]; }\n            return isNaN(left[1]) ? [NaN, NaN] : [Infinity, Infinity];\n        }\n\n        if (Math.abs(left[0]) < 1) {\n            left[0] *= 10;\n            left[1]--;\n        }\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n\n        return left;\n    },\n    pow: (left: [number, number] | Overlimit, power: number): [number, number] | Overlimit => {\n        if (power === 0) { return left[0] === 0 || isNaN(left[0]) ? [NaN, NaN] : [1, 0]; }\n        if (left[0] === 0) { return power < 0 ? [NaN, NaN] : [0, 0]; }\n        if (!isFinite(power)) {\n            if ((left[1] === 0 && left[0] === 1) || left[0] < 0) { return left[0] === 1 ? [1, 0] : [NaN, NaN]; }\n            if ((power === -Infinity && left[1] >= 0) || (power === Infinity && left[1] < 0)) { return [0, 0]; }\n            return isNaN(power) || isNaN(left[0]) ? [NaN, NaN] : [Infinity, Infinity];\n        }\n\n        const negative = left[0] < 0 ? Math.abs(power) % 2 : null;\n        if (negative !== null) { //Complex numbers are not supported\n            if (Math.floor(power) !== power) { return [NaN, NaN]; }\n            left[0] *= -1;\n        }\n\n        const base10 = power * (Math.log10(left[0]) + left[1]);\n        if (!isFinite(base10)) {\n            if (base10 === -Infinity) { return [0, 0]; }\n            if (isNaN(left[0])) { return [NaN, NaN]; }\n            return [negative === 1 ? -Infinity : Infinity, Infinity];\n        }\n\n        const target = Math.floor(base10);\n        left[0] = 10 ** (base10 - target);\n        left[1] = target;\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (left[0] === 10) {\n            left[0] = 1;\n            left[1]++;\n        }\n\n        if (negative === 1) { left[0] *= -1; }\n        return left;\n    },\n    log: (left: [number, number] | Overlimit, base: number): [number, number] | Overlimit => {\n        if (Math.abs(base) === 1 || (left[0] === -1 && left[1] === 0)) { return [NaN, NaN]; }\n        if (left[0] === 1 && left[1] === 0) { return [0, 0]; }\n        if (base === 0) { return [NaN, NaN]; } //Order matters (0 ** 0 === 1)\n        if (left[0] === 0) { return isNaN(base) ? [NaN, NaN] : [Math.abs(base) > 1 ? -Infinity : Infinity, Infinity]; }\n        if (!isFinite(base)) { return [NaN, NaN]; } //Order matters (Infinity ** 0 === 1 || Infinity ** -Infinity === 0)\n        if (!isFinite(left[0])) {\n            if (isNaN(left[0]) || left[0] === -Infinity) { return [NaN, NaN]; }\n            return [Math.abs(base) < 1 ? -Infinity : Infinity, Infinity];\n        }\n\n        const negative = left[0] < 0;\n        if (negative) { //Complex numbers are not supported\n            if (base > 0) { return [NaN, NaN]; }\n            left[0] *= -1;\n        }\n\n        const tooSmall = left[1] < 0; //Minor issue with negative power\n        const base10 = Math.log10(Math.abs(Math.log10(left[0]) + left[1]));\n        const target = Math.floor(base10);\n        left[0] = 10 ** (base10 - target);\n        left[1] = target;\n\n        if (tooSmall) { left[0] *= -1; } //Already can be negative\n        if (base !== 10) {\n            left[0] /= Math.log10(Math.abs(base));\n\n            const after = Math.abs(left[0]);\n            if (after < 1 || after >= 10) {\n                const digits = Math.floor(Math.log10(after));\n                left[0] /= 10 ** digits;\n                left[1] += digits;\n            }\n        }\n\n        if (base < 0 || negative) { //Special test for negative numbers\n            if (left[1] < 0) { return [NaN, NaN]; }\n            //Due to floats (1.1 * 100 !== 110), test is done in this way\n            const test = left[1] < 16 ? Math.abs(Math.round(left[0] * 1e14) / 10 ** (14 - left[1])) % 2 : 0;\n            if (base < 0 && !negative) {\n                if (test !== 0) { return [NaN, NaN]; } //Result must be even\n            } else { //base < 0 && negative\n                if (test !== 1) { return [NaN, NaN]; } //Result must be uneven\n            }\n        }\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n\n        return left;\n    },\n    /* Left and right are readonly */\n    less: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] < right[0]; }\n        if (left[0] > 0 && right[0] > 0) { return left[1] < right[1]; }\n        if (left[0] < 0 && right[0] > 0) { return true; }\n        if (right[0] < 0 && left[0] > 0) { return false; }\n        return left[1] > right[1];\n    },\n    /* Left and right are readonly */\n    lessOrEqual: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] <= right[0]; }\n        if (left[0] > 0 && right[0] > 0) { return left[1] < right[1]; }\n        if (left[0] < 0 && right[0] > 0) { return true; }\n        if (right[0] < 0 && left[0] > 0) { return false; }\n        return left[1] > right[1];\n    },\n    /* Left and right are readonly */\n    more: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] > right[0]; }\n        if (left[0] > 0 && right[0] > 0) { return left[1] > right[1]; }\n        if (left[0] < 0 && right[0] > 0) { return false; }\n        if (right[0] < 0 && left[0] > 0) { return true; }\n        return left[1] < right[1];\n    },\n    /* Left and right are readonly */\n    moreOrEqual: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] >= right[0]; }\n        if (left[0] > 0 && right[0] > 0) { return left[1] > right[1]; }\n        if (left[0] < 0 && right[0] > 0) { return false; }\n        if (right[0] < 0 && left[0] > 0) { return true; }\n        return left[1] < right[1];\n    },\n    /* Left and right are readonly */\n    notEqual: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        return left[1] !== right[1] || left[0] !== right[0];\n    },\n    trunc: (left: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (left[1] < 0) {\n            return [0, 0];\n        } else if (left[1] === 0) {\n            left[0] = Math.trunc(left[0]);\n        } else if (left[1] <= 14) {\n            left[0] = Math.trunc(left[0] * 10 ** left[1]) / 10 ** left[1];\n        }\n\n        return left;\n    },\n    floor: (left: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (left[1] < 0) {\n            return [left[0] < 0 ? -1 : 0, 0];\n        } else if (left[1] === 0) {\n            left[0] = Math.floor(left[0]);\n        } else if (left[1] <= 14) {\n            left[0] = Math.floor(left[0] * 10 ** left[1]) / 10 ** left[1];\n        }\n\n        if (left[0] === -10) {\n            left[0] = -1;\n            left[1]++;\n        }\n        return left;\n    },\n    ceil: (left: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (left[1] < 0) {\n            return [left[0] < 0 ? 0 : 1, 0];\n        } else if (left[1] === 0) {\n            left[0] = Math.ceil(left[0]);\n        } else if (left[1] <= 14) {\n            left[0] = Math.ceil(left[0] * 10 ** left[1]) / 10 ** left[1];\n        }\n\n        if (left[0] === 10) {\n            left[0] = 1;\n            left[1]++;\n        }\n        return left;\n    },\n    round: (left: [number, number] | Overlimit): [number, number] | Overlimit => {\n        if (left[1] < 0) {\n            return [left[1] === -1 ? Math.round(left[0] / 10) : 0, 0];\n        } else if (left[1] === 0) {\n            left[0] = Math.round(left[0]);\n        } else if (left[1] <= 14) {\n            left[0] = Math.round(left[0] * 10 ** left[1]) / 10 ** left[1];\n        }\n\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n        return left;\n    },\n    /* Left is readonly */\n    format: (left: [number, number] | Overlimit, settings: { type?: 'number' | 'input', padding?: boolean | 'exponent' }): string => {\n        const [base, power] = left;\n        if (!isFinite(base)) { return `${base}`; }\n        const type = settings.type ?? 'number';\n        let padding = settings.padding;\n\n        //1.23e1.23e123\n        if (power >= 1e4 || power <= -1e4) {\n            let exponent = power;\n            let mantissa = Math.round(base * 100) / 100;\n            if (Math.abs(mantissa) === 10) {\n                mantissa /= 10;\n                exponent++; //Mantissa in short version kept only for this\n            }\n\n            exponent = Math.floor(Math.log10(Math.abs(exponent)));\n            let powerMantissa = Math.round(power / 10 ** (exponent - 2)) / 100;\n            if (Math.abs(powerMantissa) === 10) {\n                powerMantissa /= 10;\n                exponent++;\n            }\n\n            if (padding === 'exponent') { padding = true; }\n            const formatedPower = padding ? powerMantissa.toFixed(2) : `${powerMantissa}`;\n            if (type !== 'input') { //1.23ee123 (-1.23e-e123)\n                powerMantissa = Math.abs(powerMantissa);\n                if (base < 0) { powerMantissa *= -1; }\n                return `${formatedPower.replace('.', globalSave.format[0])}e${power < 0 ? '-' : ''}e${exponent}`;\n            }\n\n            const formatedBase = padding ? mantissa.toFixed(2) : `${mantissa}`;\n            return type === 'input' ? `${formatedBase}e${formatedPower}e${exponent}` : `${formatedBase.replace('.', globalSave.format[0])}e${formatedPower.replace('.', globalSave.format[0])}e${exponent}`;\n        }\n\n        //1.23e123\n        if (power >= 6 || power < -3) {\n            let exponent = power;\n            let mantissa = Math.round(base * 100) / 100;\n            if (Math.abs(mantissa) === 10) {\n                mantissa /= 10;\n                exponent++;\n            }\n            if (padding === 'exponent') { padding = true; }\n            const formated = padding ? mantissa.toFixed(2) : `${mantissa}`;\n            return type === 'input' ? `${formated}e${exponent}` : `${formated.replace('.', globalSave.format[0])}e${exponent}`;\n        }\n\n        //12345\n        const digits = Math.max(4 - Math.max(power, 0), 0);\n        const mantissa = Math.round(base * 10 ** (digits + power)) / 10 ** digits;\n        if (padding === 'exponent') { padding = false; }\n        const formated = padding ? mantissa.toFixed(digits) : `${mantissa}`;\n        return type === 'input' ? formated : mantissa >= 1e3 ? formated.replace('.', globalSave.format[0]).replace(/\\B(?=(\\d{3})+(?!\\d))/, globalSave.format[1]) : formated.replace('.', globalSave.format[0]);\n    }\n};\n", "import Overlimit from './Limit';\nimport { getId } from './Main';\nimport { specialHTML } from './Special';\nimport { assignStrangeInfo, calculateMaxLevel, assignMilestoneInformation, assignPuddles, toggleConfirm, toggleSwap, calculateEffects, getDischargeScale, assignBuildingInformation, assignMaxRank, assignTrueEnergy, calculateResearchCost } from './Stage';\nimport type { globalType, playerType } from './Types';\nimport { format, visualUpdateResearches } from './Update';\nimport { prepareVacuum } from './Vacuum';\n\nexport const player: playerType = { //Only for information that need to be saved (cannot be calculated)\n    version: 'v0.2.1a',\n    fileName: 'Fundamental, [dateD.M.Y] [timeH-M-S], [stage]',\n    stage: {\n        true: 1,\n        current: 1,\n        active: 1,\n        resets: 0,\n        time: 0,\n        peak: 0, //Interstellar only\n        input: 0\n    },\n    discharge: { //Stage 1\n        energy: 0,\n        energyMax: 0,\n        current: 0\n    },\n    vaporization: { //Stage 2\n        clouds: new Overlimit('0'),\n        cloudsMax: new Overlimit('0'),\n        input: [3, 0] //[Boost, max]\n    },\n    accretion: { //Stage 3\n        rank: 0\n    },\n    collapse: { //Stage 4, 5\n        mass: 0.01235,\n        massMax: 0.01235,\n        stars: [0, 0, 0],\n        show: 0,\n        input: [2, 1e6] //[Boost, wait]\n    },\n    merge: { //Stage 5\n        reward: [0], //[Galaxy groups]\n        resets: 0\n    },\n    inflation: { //Stage 6\n        tree: [],\n        vacuum: false,\n        resets: 0,\n        age: 0\n    },\n    time: {\n        updated: Date.now(),\n        started: Date.now(),\n        export: [0, 0, 0, 0],\n        offline: 0,\n        online: 0,\n        stage: 0,\n        universe: 0\n    },\n    buildings: [\n        [] as unknown as playerType['buildings'][0], [ //Stage 1\n            {\n                current: new Overlimit('3'),\n                total: new Overlimit('3'),\n                trueTotal: new Overlimit('3')\n            }, {\n                true: 0, //Bought\n                current: new Overlimit('0'), //On hands\n                total: new Overlimit('0'), //This reset\n                trueTotal: new Overlimit('0') //This stage\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }\n        ], [ //Stage 2\n            {\n                current: new Overlimit('2.7753108348135e-3'),\n                total: new Overlimit('2.7753108348135e-3'),\n                trueTotal: new Overlimit('2.7753108348135e-3')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }\n        ], [ //Stage 3\n            {\n                current: new Overlimit('1e-19'),\n                total: new Overlimit('1e-19'),\n                trueTotal: new Overlimit('1e-19')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }\n        ], [ //Stage 4\n            {\n                current: new Overlimit('1'),\n                total: new Overlimit('1'),\n                trueTotal: new Overlimit('1')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }\n        ], [ //Stage 5\n            {\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }\n        ], [ //Stage 6\n            {\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }, {\n                true: 0,\n                current: new Overlimit('0'),\n                total: new Overlimit('0'),\n                trueTotal: new Overlimit('0')\n            }\n        ]\n    ],\n    strange: [ //Stage 5\n        {\n            current: 0,\n            total: 0\n        }, {\n            current: 0,\n            total: 0\n        }\n    ],\n    cosmon: { //Stage 6\n        current: 0,\n        total: 0\n    },\n    /* Because I'm lazy to write 50+ 0's, all empty [] auto added */\n    upgrades: [],\n    researches: [],\n    researchesExtra: [],\n    researchesAuto: [],\n    ASR: [], //Auto Structures Research\n    elements: [],\n    strangeness: [],\n    milestones: [],\n    challenges: {\n        active: null,\n        void: [0, 0, 0, 0, 0, 0],\n        voidCheck: [0, 0, 0, 0, 0, 0]\n    },\n    toggles: {\n        normal: [], //class 'toggleNormal'\n        /* Auto Stage switch[0]; Auto disable worse Vaporization[1] */\n        confirm: [], //Class 'toggleConfirm'\n        /* Stage[0]; Discharge[1]; Vaporization[2]; Rank[3]; Collapse[4]; Merge[5] */\n        buildings: [], //Class 'toggleBuilding' ([0] everywhere, is toggle all)\n        hover: [], //Class 'toggleHover'\n        /* Upgrades/Researches/Elements[0] */\n        max: [], //Class 'toggleMax', same as hover toggles\n        auto: [], //Class 'toggleAuto'\n        /* Stage[0], Discharge[1], Vaporization[2], Rank[3], Collapse[4],\n           Upgrades[5], Researches[6], ResearchesExtra[7], Elements[8], Merge[9] */ //Toggle 9 is commented out\n        shop: {\n            input: 1,\n            wait: [2]\n        }\n    },\n    history: {\n        stage: { //[time, quarks, strangelets, reserve]\n            best: [3.1556952e16, 0, 0, 0],\n            list: [],\n            input: [5, 10]\n        }\n    },\n    events: [false, false]\n};\n\nexport const global: globalType = { //For information that doesn't need to be saved\n    tab: 'stage',\n    subtab: {\n        stageCurrent: 'Structures',\n        settingsCurrent: 'Settings',\n        upgradeCurrent: 'Upgrades',\n        strangenessCurrent: 'Matter',\n        inflationCurrent: 'Researches'\n    } as globalType['subtab'],\n    tabList: { //Order comes from footer\n        tabs: ['stage', 'upgrade', 'strangeness', 'inflation', 'settings'],\n        stageSubtabs: ['Structures', 'Advanced'],\n        settingsSubtabs: ['Settings', 'History', 'Stats'],\n        upgradeSubtabs: ['Upgrades', 'Elements'],\n        strangenessSubtabs: ['Matter', 'Milestones'],\n        inflationSubtabs: ['Researches', 'Milestones']\n    } as globalType['tabList'],\n    debug: {\n        offlineSpeed: 1,\n        errorID: true, //Notify about missing ID\n        errorQuery: true, //About incorect Query\n        errorGain: true, //About NaN or Infinity\n        rankUpdated: null, //Rank number\n        historyStage: null //Stage resets\n    },\n    trueActive: 1,\n    lastSave: 0,\n    paused: true,\n    footer: true,\n    hotkeys: {\n        shift: false,\n        ctrl: false\n    },\n    automatization: { //Sorted cheapest first\n        autoU: [ //Upgrades\n            [],\n            [],\n            [],\n            [],\n            [],\n            [],\n            []\n        ],\n        autoR: [ //Researches\n            [],\n            [],\n            [],\n            [],\n            [],\n            [],\n            []\n        ],\n        autoE: [ //Researches Extra\n            [],\n            [],\n            [],\n            [],\n            [],\n            []\n        ],\n        elements: []\n    },\n    dischargeInfo: {\n        energyType: [[]],\n        energyStage: [0],\n        energyTrue: 0,\n        tritium: new Overlimit('0'),\n        base: 4,\n        total: 0,\n        next: 1\n    },\n    vaporizationInfo: {\n        trueResearch0: 0,\n        trueResearch1: 0,\n        trueResearchRain: 0,\n        get: new Overlimit('0')\n    },\n    accretionInfo: {\n        unlockA: [2, 4, 8, 11], //Quick look up for required Upgrades\n        rankU: [1, 1, 2, 2, 3, 3, 4, 4, 4, 4, 5, 5, 5], //Upgrades\n        rankR: [1, 1, 2, 2, 3, 3, 3, 4, 5], //Researches\n        rankE: [2, 3, 4, 5, 3], //Researches Extra\n        dustSoft: 1,\n        maxRank: 4,\n        rankCost: [5.9722e27, 1e-7, 1e10, 1e24, 5e29, 2.45576045e31, 1.98847e40],\n        rankColor: ['blue', 'cyan', 'gray', 'gray', 'gray', 'darkviolet', 'orange', 'gray'],\n        rankName: ['Ocean world', 'Cosmic dust', 'Meteoroid', 'Asteroid', 'Planet', 'Jovian planet', 'Protostar', 'Protogalaxy'],\n        rankImage: ['Ocean%20world.png', 'Dust.png', 'Meteoroids.png', 'Asteroid.png', 'Planet.png', 'Giant.png', 'Protostar.png', 'Protogalaxy.png']\n    },\n    collapseInfo: {\n        starEffect1: 1,\n        unlockB: [0, 0.01235, 0.23, 10, 40, 1000], //Buildings\n        unlockU: [0.01235, 0.076, 1.3, 10, 40], //Upgrades\n        unlockR: [0.18, 0.3, 0.8, 1.3, 40, 1000], //Researches\n        newMass: 0,\n        starCheck: [0, 0, 0],\n        trueStars: 0\n    },\n    mergeInfo: {\n        galaxyBase: 0,\n        checkReward: [0] //[New groups]\n    },\n    inflationInfo: {\n        globalSpeed: 1,\n        preonCap: new Overlimit('1e14'),\n        dustCap: new Overlimit('1e48'),\n        massCap: 0.01235,\n        preonTrue: new Overlimit('0'),\n        dustTrue: new Overlimit('0')\n    },\n    intervalsId: {\n        main: undefined,\n        numbers: undefined,\n        visual: undefined,\n        autoSave: undefined,\n        mouseRepeat: undefined\n    },\n    stageInfo: {\n        word: ['', 'Microworld', 'Submerged', 'Accretion', 'Interstellar', 'Intergalactic', 'Abyss'],\n        textColor: ['', 'cyan', 'blue', 'gray', 'orange', 'darkorchid', 'darkviolet'],\n        buttonBorder: ['', 'darkcyan', '#386cc7', '#424242', '#a35700', '#8f004c', '#6c1ad1'],\n        imageBorderColor: ['', '#008b8b', '#1460a8', '#5b5b75', '#e87400', '#b324e2', '#5300c1'],\n        activeAll: [1]\n    },\n    buildingsInfo: {\n        maxActive: [0, 4, 6, 5, 5, 4, 2], //Need to also count index [0]\n        name: [\n            [],\n            ['Mass', 'Preons', 'Quarks', 'Particles', 'Atoms', 'Molecules'], //[0] Must be 'Mass'\n            ['Moles', 'Drops', 'Puddles', 'Ponds', 'Lakes', 'Seas', 'Oceans'],\n            ['Mass', 'Cosmic dust', 'Planetesimals', 'Protoplanets', 'Satellites', 'Subsatellites'],\n            ['Elements', 'Brown dwarfs', 'Main sequence', 'Red supergiants', 'Blue hypergiants', 'Quasi-stars'],\n            ['Stars', 'Nebulas', 'Star clusters', 'Galaxies'],\n            ['Dark matter', 'Universes']\n        ],\n        hoverText: [\n            [],\n            ['Mass', 'Preons', 'Quarks', 'Particles', 'Atoms'],\n            ['Tritium', 'Drops', 'Puddles', 'Ponds', 'Lakes', 'Seas'],\n            ['Preons hardcap', 'Cosmic dust', 'Planetesimals', 'Protoplanets', 'Satellites'],\n            ['Elements', 'Elements', 'Elements', 'Elements', 'Elements'],\n            ['Interstellar Stars', 'Interstellar Stars', 'Nebulas and Star clusters'],\n            ['Dark matter']\n        ],\n        type: [ //Visual only\n            [] as unknown as [''],\n            ['', 'producing', 'producing', 'producing', 'producing', 'producing'],\n            ['', 'producing', 'producing', 'improving', 'improving', 'improving', 'improving'],\n            ['', 'producing', 'producing', 'producing', 'improving', 'improving'],\n            ['', 'producing', 'producing', 'producing', 'producing', 'producing'],\n            ['', 'producing', 'improving', 'improving'],\n            ['', 'producing']\n        ],\n        startCost: [\n            [],\n            [0, 0.005476, 6, 3, 24, 3],\n            [0, 2.7753108348135e-3, 100, 1e7, 1e18, 1e23, 2.676e25],\n            [0, 1e-19, 1e-9, 1e21, 1e17, 1e22],\n            [0, 1, 1e5, 1e15, 1e27, 1e50],\n            [0, 1e50, 1e54, 1e5],\n            [0, 1]\n        ],\n        increase: [\n            [],\n            [0, 1.4, 1.4, 1.4, 1.4, 1.4],\n            [0, 1.15, 1.2, 1.25, 1.35, 1.4, 4],\n            [0, 1.15, 1.25, 1.35, 10, 10],\n            [0, 1.4, 1.55, 1.70, 1.85, 2],\n            [0, 2, 2, 1.11],\n            [0, 2]\n        ],\n        producing: []\n    },\n    strangeInfo: {\n        name: ['Strange quarks', 'Strangelets'],\n        stageBoost: [1, 1, 1, 1, 1, 1],\n        strangeletsInfo: [0, 1], //[Producing, Improving]\n        quarksGain: 0, //Interstellar only\n        bestHistoryRate: 0 //Quarks\n    },\n    upgradesInfo: [\n        {} as globalType['upgradesInfo'][0], { //Stage 1\n            name: [\n                'Weak force',\n                'Strong force',\n                'Electrons',\n                'Protons',\n                'Neutrons',\n                'Superposition',\n                'Protium',\n                'Deuterium',\n                'Tritium',\n                'Nuclear fusion'\n            ],\n            effectText: [\n                () => 'Particles will produce 8 times more Quarks.',\n                () => 'Gluons will be able to bind Quarks into Particles, which will make Particles 16 times cheaper.',\n                () => `${player.inflation.vacuum ? 'Atoms' : 'Particles'} will be 8 times cheaper.`,\n                () => `Atoms will produce ${player.inflation.vacuum ? 6 : 4} times more Particles.${player.upgrades[1][3] !== 1 && player.upgrades[1][5] !== 1 && player.buildings[1][player.inflation.vacuum ? 4 : 2].total.lessOrEqual('0') ? \"\\n(Can't be created due to not having any Atoms)\" : ''}`,\n                () => `Molecules will produce 4 times more Atoms.${player.upgrades[1][4] !== 1 && player.upgrades[1][5] !== 1 && player.buildings[1][player.inflation.vacuum ? 5 : 3].total.lessOrEqual('0') ? \"\\n(Can't be created due to not having any Molecules)\" : ''}`,\n                () => `Ability to regain spent Energy and if had enough Energy will also boost production for all ${player.inflation.vacuum ? 'Microworld ' : ''}Structures by ${format(global.dischargeInfo.base, { padding: true })}.${player.inflation.vacuum ? '\\n(Resets Microworld Stage, resources and all non-self made Structures from further Stages, will also reset self-made Structures until can fully regain spent Energy)' : ''}`,\n                () => `Decrease Structures cost scaling by -${format(calculateEffects.S1Upgrade6() / 100)}.`,\n                () => { //[7]\n                    const selfBoost = calculateEffects.S1Upgrade7();\n                    const selfPreons = calculateEffects.S1Upgrade7(true);\n                    return `Make self-made Structures boost themselves by ${format(selfBoost)}.${player.inflation.vacuum ? `\\n(Self-made Preons boost themselves by ${format(new Overlimit(selfBoost / selfPreons).power((player.buildings[1][1].true - 1) / 1000).multiply(selfPreons), { padding: true })} instead, softcaps instantly)` : ''}`;\n                },\n                () => `Molecules will produce Molecules. At a reduced rate.\\n(${format(global.dischargeInfo.tritium, { padding: true })} Molecules per second)`,\n                () => `Unspent Energy ^${format(0.5)} will boost 'Tritium' production of Molecules.\\n(Boost: ${format(Math.max(player.discharge.energy, 1) ** 0.5, { padding: true })})`\n            ],\n            startCost: [40, 60, 100, 120, 180, 360, 1200, 3600, 12000, 80000],\n            maxActive: 10\n        }, { //Stage 2\n            name: [\n                'Molecules to Moles',\n                'Water spread',\n                'Vaporization',\n                'Surface tension',\n                'Surface stress',\n                'Stream',\n                'River',\n                'Tsunami',\n                'Tide'\n            ],\n            effectText: [\n                () => `Drops will ${player.inflation.vacuum ? 'improve Tritium' : 'produce Moles'} ${format(player.inflation.vacuum ? 1.02 : 1.04)} times ${player.inflation.vacuum ? 'more' : 'faster'} for every self-made Drop.${player.upgrades[2][0] !== 1 && player.buildings[2][1].true < 1 && player.buildings[2][2].true < 1 ? \"\\n(Can't be created due to not having any self-made Drops)\" : ''}`,\n                () => `Spread water faster with every Puddle, current formula is ${format(1.02)} ^ effective Puddles.\\nPuddles after 200 and non self-made ones are raised to the power of ${format(0.7)}.\\n(Total effect: ${format(calculateEffects.S2Upgrade1(), { padding: true })})`,\n                () => `Gain ability to convert Drops into Clouds. Cloud gain formula is '(Clouds ^ (1 / softcap) + (Drops / ${format(calculateEffects.S2Upgrade2())})) ^ softcap - Clouds', softcap is ${format(player.challenges.active === 0 ? 0.4 : player.inflation.vacuum ? 0.5 : 0.6)}.${player.inflation.vacuum ? '\\n(Affects same stuff as Discharge, while also resetting Submerged Stage)' : ''}`,\n                () => { //[3]\n                    const power = calculateEffects.S2Upgrade3();\n                    return `Puddles will get a boost based on Moles ^${format(power)}.\\n(Boost: ${format(new Overlimit(player.buildings[2][0].current).max('1').power(power), { padding: true })})`;\n                },\n                () => { //[4]\n                    const power = calculateEffects.S2Upgrade4();\n                    return `Puddles will get a boost based on Drops ^${format(power)}.\\n(Boost: ${format(new Overlimit(player.buildings[2][1].current).max('1').power(power), { padding: true })})`;\n                },\n                () => `Ponds will increase current Puddle amount. (${format(calculateEffects.S2Upgrade5())} extra Puddles per Pond)`,\n                () => `Lakes will increase current Pond amount. (${format(calculateEffects.S2Upgrade6())} extra Ponds per Lake)`,\n                () => 'Spreads enough water to make Seas increase current Lake amount. (1 extra Lakes per Sea)',\n                () => 'Spreads water too fast. 1 extra Seas per Ocean.\\nAlso will improve Oceans effect scaling.'\n            ],\n            startCost: [10, 1e6, 1e10, 1e3, 1e4, 2e9, 5e20, 1e28, 2e48],\n            maxActive: 8\n        }, { //Stage 3\n            name: [\n                'Brownian motion',\n                'Gas',\n                'Micrometeoroid',\n                'Streaming instability',\n                'Gravitational field',\n                'Rubble pile',\n                'Magma ocean',\n                'Hydrostatic equilibrium',\n                'Satellite system',\n                'Atmosphere',\n                'Pebble accretion',\n                'Tidal force',\n                'Ring system'\n            ],\n            effectText: [\n                () => `Through random collisions every self-made Cosmic dust will ${player.inflation.vacuum ? 'delay Preons hardcap even more' : 'produce even more Mass'}.\\n(By ${format(calculateEffects.S3Upgrade0())} per self-made Cosmic dust)`,\n                () => `New substance for Accretion, will provide boost to Cosmic dust based on its current quantity, weaker for non self-made ones.\\n(Boost: ${format(calculateEffects.S3Upgrade1(), { padding: true })})`,\n                () => 'Just a small meteoroid, but it will be a good base for what to come.\\n(Unlock a new Structure and get 2x boost to Cosmic dust)',\n                () => `Small bodies will spontaneously concentrate into clumps.\\n(Self-made Planetesimals will boost each other by ${format(calculateEffects.S3Upgrade3())})`,\n                () => 'Bodies will become massive enough to affect each other with gravity.\\n(Unlock a new Structure and get 3x boost to Planetesimals)',\n                () => `Shattered pieces will fall back together. ${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be increased by 3.`,\n                () => `Melt the core to increase Accretion speed.\\n(Cosmic dust strength will be increased by ${format(2 * 1.5 ** player.researches[3][7])})`,\n                () => `After reaching equilibrium self-made Protoplanets will boost each other by ${format(1.02)}.`,\n                () => 'Unlock yet another Structure.',\n                () => `${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be increased again (because of drag and escape velocity), by 2.`,\n                () => `${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be greatly increased by ${8 * 2 ** player.researches[3][8]}.`,\n                () => `Satellites cost scaling will be 2 times smaller.${player.inflation.vacuum ? '\\nAlso unlock a new Structure.' : ''}`,\n                () => 'Satellites effect will scale better.'\n            ],\n            startCost: [1e-16, 1e-13, 1e-13, 1, 1e14, 1e17, 1e10, 1e22, 1e22, 1e23, 1e9, 1e26, 1e29],\n            maxActive: 13\n        }, { //Stage 4\n            name: [\n                'Gravitational Collapse',\n                'Proton-proton chain',\n                'Carbon-Nitrogen-Oxygen cycle',\n                'Helium fusion',\n                'Nucleosynthesis'\n            ],\n            effectText: [\n                () => `As fuel runs out, every Star will boost production in its own special way. Solar mass ${player.inflation.vacuum ? 'is based on Mass from other Stages and ' : ''}will not decrease if to reset bellow current.\\n(${player.inflation.vacuum ? 'Affects same stuff as Rank increase, while also resetting Interstellar Stage, hover' : 'Hover'} over Remnants effects to see what it boosts)`,\n                () => \"Fuse with Protium instead of Deuterium. Unlock 5 first Elements. ('Elements' subtab)\",\n                () => 'Unlock CNO cycle which is a better source of Helium and Energy. Unlock 5 more Elements.',\n                () => 'Through Triple-alpha and then Alpha process unlock 2 more Elements.',\n                () => 'Create new Atomic nuclei with Neutron capture (s-process and p-process).\\nUnlock 1 more Element and +1 for every self-made Universe.'\n            ],\n            startCost: [100, 1000, 1e9, 1e48, 1e128],\n            maxActive: 4\n        }, { //Stage 5\n            name: [\n                'Molecular cloud',\n                'Super Star cluster',\n                'Quasar',\n                'Galactic Merger'\n            ],\n            effectText: [\n                () => `Nebula that is dense enough to block light, it will increase speed for production of Stars by ${format(calculateEffects.S5Upgrade0())}.`,\n                () => `A very massive Star cluster, that will boost Stars by ${format(calculateEffects.S5Upgrade1())}.`,\n                () => `Boost per Galaxy will be increased by +${format(calculateEffects.S5Upgrade2(false, 1), { padding: true })}.\\n(Effect will be stronger with more Solar mass past ${format(1e5)}, maxed at +1)`,\n                () => `Unlock a new reset type that will bring Galaxies closer for potential Merging.${player.inflation.vacuum ? ' That reset behaves like a Galaxy reset, while also converting self-made Galaxies into non self-made through new and even bigger Structures. Can only be done once per Stage reset.' : ''}`\n            ],\n            startCost: [1e56, 1e60, 1e120, 1e160],\n            maxActive: 4\n        }, { //Stage 6\n            name: [],\n            effectText: [],\n            startCost: [],\n            maxActive: 0\n        }\n    ],\n    researchesInfo: [\n        {} as globalType['researchesInfo'][0], { //Stage 1\n            name: [\n                'Stronger Protium',\n                'Better Deuterium',\n                'Improved Tritium',\n                'Requirement decrease',\n                'Discharge improvement',\n                'Radioactive Discharge'\n            ],\n            effectText: [\n                () => `Cost scaling will be -${format(0.03)} smaller with each level.`,\n                () => `Self-made Structures will boost each other by additional +${format(0.01)}.`,\n                () => `Molecules will produce themselves ${format(calculateEffects.S1Research2())} times quicker.`,\n                () => `Discharge goals requirement will scale slower. (-2)\\n(Creating this Research will make next Discharge goal to be ${format((getDischargeScale() - 2) ** player.discharge.current)} Energy)`,\n                () => { //[4]\n                    const newBase = calculateEffects.dischargeBase(player.researches[1][4] + 1);\n                    return `Discharge production boost from reached goals will be increased by +${format(newBase - global.dischargeInfo.base)}.\\n(Boost increase: ${format((newBase / global.dischargeInfo.base) ** global.dischargeInfo.total, { padding: true })})`;\n                },\n                () => `Discharge goals will be able to boost 'Tritium'.\\n(Current effect: ${format(calculateEffects.S1Research5())} ^ level)`\n            ],\n            cost: [],\n            startCost: [1600, 4800, 16000, 32000, 16000, 24000],\n            scaling: [400, 1200, 8000, 40000, 16000, 16000],\n            max: [5, 4, 8, 2, 4, 3],\n            maxActive: 6\n        }, { //Stage 2\n            name: [\n                'Better Mole production',\n                'Better Drop production',\n                'Stronger surface tension',\n                'Stronger surface stress',\n                'More streams',\n                'Distributary channel'\n            ],\n            effectText: [\n                () => `Drops will ${player.inflation.vacuum ? 'improve Tritium' : 'produce Moles'} 3 times more.${global.vaporizationInfo.trueResearch0 !== player.researches[2][0] ? `\\nWeakened by recent reset, effective level is ${format(global.vaporizationInfo.trueResearch0, { padding: true })}, will be restored with more Drops.` : ''}`,\n                () => `Puddles will produce 2 times more Drops.${global.vaporizationInfo.trueResearch1 !== player.researches[2][1] ? `\\nWeakened by recent reset, effective level is ${format(global.vaporizationInfo.trueResearch1, { padding: true })}, will be restored with more Drops.` : ''}`,\n                () => `'Surface tension' base will be +${format(0.005)} stronger.\\n(Effect increase: ${format(new Overlimit(player.buildings[2][0].current).max('1').power(calculateEffects.S2Upgrade3(player.researches[2][2] + 1) - calculateEffects.S2Upgrade3()).toNumber(), { padding: true })})`,\n                () => `'Surface stress' base will be +${format(0.005)} stronger.\\n(Effect increase: ${format(new Overlimit(player.buildings[2][1].current).max('1').power(calculateEffects.S2Upgrade4(player.researches[2][3] + 1) - calculateEffects.S2Upgrade4()).toNumber(), { padding: true })})`,\n                () => 'With more streams, will be able to have even more extra Puddles. (+1 extra Puddles per Pond)',\n                () => 'Rivers will be able to split, which will allow even more Ponds per Lake. (+1 per)'\n            ],\n            cost: [],\n            startCost: [10, 400, 1e4, 1e5, 1e14, 1e22],\n            scaling: [1.366, 5, 1e3, 1e2, 1e3, 1e4],\n            max: [8, 8, 4, 4, 2, 1],\n            maxActive: 6\n        }, { //Stage 3\n            name: [\n                'More massive bodies',\n                'Adhesion',\n                'Space weathering',\n                'Inelastic collisions',\n                'Destructive collisions',\n                'Contact binary',\n                'Gravity',\n                'Planetary differentiation',\n                'Aerodynamic drag'\n            ],\n            effectText: [\n                () => 'Increase strength of Cosmic dust by 3.',\n                () => `Cosmic dust particles will cling to each other. (+${format(0.01)} to 'Brownian motion')`,\n                () => 'Planetesimals will produce more Cosmic dust. (3 times more)',\n                () => `Slow encounter velocities will result in a more efficient growth.\\n${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be increased by 2.`,\n                () => `Planetesimals when shatter will replenish small grains quantity.\\n'Streaming instability' effect will be increased by +${format(0.005)}.`,\n                () => `Some Planetesimals instead of shattering will form a contact binary or even trinary.\\n${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be increased by 3.`,\n                () => { //[6]\n                    const effect = calculateEffects.S3Research6(); //Remove 1 / result, if Overlimit.log() will allow base to be a bigger number\n                    return `Planetesimals will attract other bodies and get a boost to own production based on unspent Mass ^${format(effect > 1 ? 1 / new Overlimit(player.buildings[3][0].current).log(effect).toNumber() : 0, { padding: true })}.\\n(Boost: ${format(effect, { padding: true })} \u27F6 ${format(calculateEffects.S3Research6(player.researches[3][6] + 1), { padding: true })}, weaker after ${format(1e21)} Mass)`;\n                },\n                () => `'Magma Ocean' will become stronger, by ${format(1.5)}.`,\n                () => `Improve 'Pebble accretion' Accretion speed even more.\\n${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will increased by 2.`\n            ],\n            cost: [],\n            startCost: [1e-16, 1e-15, 1e-5, 1e2, 1e10, 1e11, 1e15, 1e14, 1e12],\n            scaling: [11, 111, 22, 10, 100, 100, 10, 1e4, 1e3],\n            max: [9, 3, 8, 8, 2, 2, 6, 4, 4],\n            maxActive: 9\n        }, { //Stage 4\n            name: [\n                'Planetary system',\n                'Star system',\n                'Protoplanetary disk',\n                'Planetary nebula',\n                'Gamma-ray burst',\n                'Inner Black hole'\n            ],\n            effectText: [\n                () => { //[0]\n                    const base = calculateEffects.S4Research0_base();\n                    return `From Planetesimals to Planets, will get ${format(base)}x boost to all Stars per level.\\n(Total boost: ${format(calculateEffects.S4Research0(base), { padding: true })})`;\n                },\n                () => { //[1]\n                    const base = calculateEffects.S4Research1();\n                    return `All self-made Stars will boost each other by ${format(base)}.\\n(Total boost: ${format(new Overlimit(base).power(global.collapseInfo.trueStars), { padding: true })} \u27F6 ${format(new Overlimit(calculateEffects.S4Research1(player.researches[4][1] + 1)).power(global.collapseInfo.trueStars), { padding: true })})`;\n                },\n                () => `Improve effect scaling of 'Planetary system', as well increase its max level by +3.\\n(Total boost from 'Planetary system' will be increased by ${format(calculateEffects.S4Research0(calculateEffects.S4Research0_base(player.researches[4][2] + 1) / calculateEffects.S4Research0_base()), { padding: true })})`,\n                () => \"Matter will be expelled from Red giants, this will boost Main-sequence Stars by 2, as well increase 'Planetary system' max level by +3.\",\n                () => `An immensely energetic explosion that will boost all Stars by ${format(calculateEffects.S4Research4(), { padding: true })}${player.researches[4][4] < 2 ? ` \u27F6 ${format(calculateEffects.S4Research4(false, player.researches[4][4] + 1), { padding: true })}` : ''}.\\n(Effect will be stronger with more Black holes${player.elements[23] >= 1 ? ' and Solar mass' : ''})`,\n                () => 'Quasi-stars will Collapse into Intermediate-mass Black holes that are equivalent to +1 (Stellar) Black holes per level.'\n            ],\n            cost: [],\n            startCost: [1e3, 5e4, 1e8, 1e11, 1e28, 1e154],\n            scaling: [10, 200, 1e12, 1, 2e8, 1],\n            max: [3, 2, 1, 1, 2, 1],\n            maxActive: 5\n        }, { //Stage 5\n            name: [\n                'Higher density',\n                'Type frequency'\n            ],\n            effectText: [\n                () => `Higher density of Nebulas, will allow them to produce higher tier of Stars, but each tier is 4 times slower than previous one. Also will boost Nebulas by 2.\\nNext tier will be ${global.buildingsInfo.name[4][Math.min(player.researches[5][0] + 2, player.inflation.vacuum ? 5 : 4)]}.`,\n                () => `More of same Star type will be found within Star cluster. Star clusters will be improved by 2 and will also boost lower tier of Stars, but 2 times less than previous one.\\nNext tier will be ${global.buildingsInfo.name[4][Math.max((player.inflation.vacuum ? 4 : 3) - player.researches[5][1], 1)]}.`\n            ],\n            cost: [],\n            startCost: [1e54, 1e58],\n            scaling: [1e8, 1e8],\n            max: [4, 4],\n            maxActive: 2\n        }, { //Stage 6\n            name: [],\n            effectText: [],\n            cost: [],\n            startCost: [],\n            scaling: [],\n            max: [],\n            maxActive: 0\n        }\n    ],\n    researchesExtraInfo: [\n        {} as globalType['researchesExtraInfo'][0], { //Stage 1\n            name: [\n                'Extra strong force',\n                'Improved formula',\n                'Accretion',\n                'Later Preons',\n                'Impulse'\n            ],\n            effectText: [\n                () => \"Mesons will be able to bind Particles to form Atoms, which will make Atoms to be affected by 'Strong force'.\\n(Atoms will be 16 times cheaper)\",\n                () => { //[1]\n                    const now = calculateEffects.S1Extra1();\n                    const after = calculateEffects.S1Extra1(player.researchesExtra[1][1] + 1);\n                    return `Improve 'Tritium' formula, current formula is log${format(now)}${player.researchesExtra[1][1] < 4 ? ` \u27F6 log${format(after)}.\\n(Which is equal to ${format(logAny(now, after), { padding: true })}x improvement)` : '.'}`;\n                },\n                () => { //[2]\n                    const textUnlocked = player.stage.true >= 7 || player.stage.resets >= 1 || player.researchesExtra[1][2] >= 2;\n                    return `First level is to begin the Accretion, second level is to Submerge it.\\nAll Structures produce Energy on creation and all resets affect all Stages to some amount${textUnlocked || player.researchesExtra[1][2] >= 1 ? ', Accretion Mass is Microworld Mass' : ''}${textUnlocked ? ' and Moles are Molecules' : ''}.`;\n                },\n                () => { //[3]\n                    const power = calculateEffects.S1Extra3();\n                    return `Boost Preons and delay hardcap by current Energy ^${format(power)}.\\n(Effect: ${format(Math.max(player.discharge.energy, 1) ** power, { padding: true })} \u27F6 ${format(Math.max(player.discharge.energy, 1) ** calculateEffects.S1Extra3(player.researchesExtra[1][3] + 1), { padding: true })})`;\n                },\n                () => { //[4]\n                    const base = calculateEffects.S1Extra4();\n                    return `Discharge goals will be able to boost all Interstellar Stars, strength is based on Energy and Discharge base.\\nCurrent base is ${format(base, { padding: true })}, total boost is ${format(new Overlimit(base).power(global.dischargeInfo.total), { padding: true })}.`;\n                }\n            ],\n            cost: [],\n            startCost: [2000, 40000, 12000, 16000, 160000],\n            scaling: [0, 16000, 68000, 16000, 0],\n            max: [1, 4, 2, 4, 1],\n            maxActive: 0\n        }, { //Stage 2\n            name: [\n                'Natural Vaporization',\n                'Rain Clouds',\n                'Storm Clouds',\n                'Water Accretion'\n            ],\n            effectText: [\n                () => 'When formed Clouds will use Drops produced this reset instead of current ones.',\n                () => { //[1]\n                    const maxLevel = player.researchesExtra[2][1];\n                    const trueLevel = global.vaporizationInfo.trueResearchRain;\n                    const penalty = player.buildings[2][2].true < 1 ? 1 : 0;\n                    return `Some Clouds will start pouring Drops themselves. This will produce Drops until a Puddle, afterwards it will boost Puddles.${trueLevel !== maxLevel ? `\\nBoost to Puddles is weakened by recent reset, effective level is ${format(trueLevel, { padding: true })}, will be restored with more Drops.` : ''}\\n(Effect: ${format(calculateEffects.S2Extra1(penalty === 0 ? trueLevel : maxLevel) - penalty, { padding: true })} \u27F6 ${format(calculateEffects.S2Extra1(maxLevel + 1) - penalty, { padding: true })}, weaker after ${format(1e6)} Clouds)`;\n                },\n                () => `Make 'Rain Clouds' also boost Seas at a reduced rate.\\n(Effect: ${format(calculateEffects.S2Extra2(calculateEffects.S2Extra1(global.vaporizationInfo.trueResearchRain), 1), { padding: true })})`,\n                () => { //[3]\n                    const level = player.researchesExtra[2][3];\n                    const tension = player.upgrades[2][3] === 1 ? new Overlimit(player.buildings[2][0].current).max('1').power(calculateEffects.S2Upgrade3()).toNumber() : 1;\n                    const stress = player.upgrades[2][4] === 1 ? new Overlimit(player.buildings[2][1].current).max('1').power(calculateEffects.S2Upgrade4()).toNumber() : 1;\n                    return `Submerge and boost Stars with 'Surface tension'. Also with 'Surface stress' ^${format(0.5)} at level 2, full power at level 3.\\n(Boost to Stars: ${level < 3 ? `${format(level < 1 ? 1 : tension * (level > 1 ? stress ** 0.5 : 1), { padding: true })} \u27F6 ` : ''}${format(tension * (level < 1 ? 1 : stress ** (level > 1 ? 1 : 0.5)), { padding: true })})`;\n                }\n            ],\n            cost: [],\n            startCost: [1e18, 1e12, 1e26, 1e14],\n            scaling: [1, 1e3, 1, 1e8],\n            max: [1, 3, 1, 3],\n            maxActive: 3\n        }, { //Stage 3\n            name: [\n                'Rank boost',\n                'Efficient growth',\n                'Weight',\n                'Viscosity',\n                'Efficient submersion'\n            ],\n            effectText: [\n                () => `Increase strength of Cosmic dust by another ${format(1.11)} per level. Max level is based on current Rank.\\n(Total increase: ${format(1.11 ** player.researchesExtra[3][0], { padding: true })})`,\n                () => { //[1]\n                    const base = calculateEffects.S3Extra1();\n                    return `${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be even bigger, current formula is ${format(base)} ^ current Rank.\\n(Total boost: ${format(base ** player.accretion.rank, { padding: true })} \u27F6 ${format(calculateEffects.S3Extra1(player.researchesExtra[3][1] + 1) ** player.accretion.rank, { padding: true })})`;\n                },\n                () => \"'Gravitational field' will be able to boost Protoplanets, but at reduced strength. (2x boost)\",\n                () => `'Gas' will be a little stronger.\\n(Boost: ${format(calculateEffects.S3Upgrade1(player.researchesExtra[3][3] + 1) / calculateEffects.S3Upgrade1(), { padding: true })})`,\n                () => `Submerge quicker by boosting Puddles, improved by current Rank.\\n(Current boost: ${format(calculateEffects.S3Extra4())} \u27F6 ${format(calculateEffects.S3Extra4(player.researchesExtra[3][4] + 1))})`\n            ],\n            cost: [],\n            startCost: [1e-18, 1e-7, 1e26, 1e9, 1e-10],\n            scaling: [10, 100, 1, 1e5, 1e12],\n            max: [14, 6, 1, 5, 1],\n            maxActive: 4\n        }, { //Stage 4\n            name: [\n                'Nova',\n                'Mass transfer',\n                'White dwarfs',\n                'Quark-nova'\n            ],\n            effectText: [\n                () => `This violent stellar explosion is main source of Elements, but also starts new Star formation.\\nUnlock a new Star and even more, after Collapse of that Star.\\n(Will require at least ${format(global.collapseInfo.unlockB[Math.min(player.researchesExtra[4][0] + 2, 4)])} Solar mass to create that new Star)`,\n                () => `Star material will transfer from one Star to another, improving Solar mass gain${player.inflation.vacuum ? ' (also delaying Preons hardcap)' : ''} by ${format(calculateEffects.S4Extra1())}.\\nImproved by 'Star system' levels and also improves its scaling (effect increase for 'Star system' is ${format(new Overlimit(calculateEffects.S4Research1(undefined, 1) / calculateEffects.S4Research1(undefined, 0)).power(global.collapseInfo.trueStars), { padding: true })}).`,\n                () => `After matter were dispeled from Red giant, White dwarf was all that remained.\\nImproves effect of '[6] Carbon' by +${format(0.5)} and increases max level of 'Star system' by +1.`,\n                () => \"As Neutron stars spins down, some of them may convert into Quark stars.\\nThis adds new effect to Neutron stars \u2012 all Stars are cheaper and increases max level of 'Star system' by +1.\"\n            ],\n            cost: [],\n            startCost: [4e4, 2e9, 1e50, 1e136],\n            scaling: [1e10, 1, 1, 1],\n            max: [3, 1, 1, 1],\n            maxActive: 3\n        }, { //Stage 5\n            name: [\n                'Hypercompact stellar system'\n            ],\n            effectText: [\n                () => `Super dense core which will allow creation of a new Structure. That Structure will increase Stage reset reward, boost Nebulas and Star clusters, but creating it fully resets ${player.inflation.vacuum ? 'all' : 'Interstellar and Intergalactic'} Stages${player.inflation.vacuum ? \", Energy from creating it won't reset on this or any lower Reset tiers\" : player.strangeness[5][3] < 1 ? \", can't be created because 'Gravitational bound' is missing\" : ''}.\\nThis Research also removes Solar mass and other Remnants requirement from everything in Interstellar.`\n            ],\n            cost: [],\n            startCost: [1e80],\n            scaling: [1],\n            max: [1],\n            maxActive: 1\n        }, { //Stage 6\n            name: [],\n            effectText: [],\n            cost: [],\n            startCost: [],\n            scaling: [],\n            max: [],\n            maxActive: 0\n        }\n    ],\n    researchesAutoInfo: {\n        name: [\n            'Upgrade automatization',\n            'Element automatization',\n            'Reset automatization'\n        ],\n        effectText: [\n            () => `Automatically create all ${['Upgrades', 'Stage Researches', 'Special Researches'][Math.min(player.researchesAuto[0], 2)]} from any Stage. (Need to be enabled in Settings)`,\n            () => 'Elements will no longer require Collapse for activation.\\nSecond level will unlock auto creation of Elements. (Need to be enabled in settings)',\n            () => `Unlock auto ${['Discharge', 'Rank', 'Vaporization', 'Collapse', 'Merge (WIP)'][player.inflation.vacuum ? Math.min(player.researchesAuto[2], 4) : Math.min(player.stage.active - 1, 3)]} level 1. (Need to be enabled in settings)`\n        ],\n        costRange: [\n            [1e13, 2e34, 1e30],\n            [136000, 272000],\n            [1200, 2400, 7200, 28800, 144000]\n        ],\n        autoStage: [ //Stage to buy from (1 per level)\n            [2, 3, 4, 4],\n            [1, 1],\n            [6, 6, 6, 6, 6]\n        ],\n        max: [3, 2, 1]\n    },\n    ASRInfo: { //Auto Structures Research\n        name: 'Auto Structures',\n        effectText: () => {\n            const stageIndex = player.stage.active;\n            return `Automatically make ${global.buildingsInfo.name[stageIndex][Math.min(player.ASR[stageIndex] + 1, global.ASRInfo.max[stageIndex])]} (counts as self-made).\\n(Auto will wait until ${format(player.stage.true >= 3 ? player.toggles.shop.wait[stageIndex] : 2)} times of the Structure cost)`;\n        },\n        costRange: [ //Random scaling\n            [],\n            [2000, 8000, 16000, 32000, 56000],\n            [1e10, 1e14, 1e18, 1e23, 1e28, 1e30],\n            [1e-7, 1e10, 5e29, 2e30, 2e36],\n            [1e6, 1e17, 1e28, 1e39, 1e52],\n            [1e56, 1e60, 1e100],\n            [Infinity]\n        ],\n        max: [0, 3, 5, 4, 4, 2, 1]\n    },\n    elementsInfo: {\n        name: [\n            '[0] Neutronium',\n            '[1] Hydrogen',\n            '[2] Helium',\n            '[3] Lithium',\n            '[4] Beryllium',\n            '[5] Boron',\n            '[6] Carbon',\n            '[7] Nitrogen',\n            '[8] Oxygen',\n            '[9] Fluorine',\n            '[10] Neon',\n            '[11] Sodium',\n            '[12] Magnesium',\n            '[13] Aluminium',\n            '[14] Silicon',\n            '[15] Phosphorus',\n            '[16] Sulfur',\n            '[17] Chlorine',\n            '[18] Argon',\n            '[19] Potassium',\n            '[20] Calcium',\n            '[21] Scandium',\n            '[22] Titanium',\n            '[23] Vanadium',\n            '[24] Chromium',\n            '[25] Manganese',\n            '[26] Iron',\n            '[27] Cobalt',\n            '[28] Nickel',\n            '[29] Copper',\n            '[30] Zinc'\n        ],\n        effectText: [\n            () => `Element with no protons, true head of this table.\\nThis one is ${Math.random() < 0.1 ? (Math.random() < 0.1 ? 'an illusive Tetraneutron, or maybe even Pentaneutron, wait where did it go? Was it even there?' : 'a rare Dineutron, but it is already gone...') : 'a simple Mononeutron, it will stay with you for as long as it can.'}`,\n            () => `Most basic Element, increases Brown dwarf${player.inflation.vacuum ? ' and Puddles' : ''} production by 2.`,\n            () => `Fusion reaction byproduct, makes Interstellar Stars cost scale -${format(0.1)} less.`,\n            () => `First metal, Solar mass gain${player.inflation.vacuum ? ' and hardcap delay for Cosmic dust' : ''} per Brown dwarf will be lightly increased.`,\n            () => `Brittle earth metal and so is brittle increase to production.\\n(${format(1.4)}x boost to all Stars${player.inflation.vacuum ? ' and Cosmic dust' : ''})`,\n            () => `A new color, and a new boost to Solar mass gain${player.inflation.vacuum ? ' and delay to Cosmic dust hardcap' : ''} that is based on current Dwarf Stars.`,\n            () => `Base for organics, boost from Red giants will be increased by ^${format(calculateEffects.element6())}.`,\n            () => \"Most abundant Element in atmosphere of some Planets that will allow to have 2 extra levels of 'Star system'.\",\n            () => `An oxidizing agent that will make Interstellar Stars cost scale even slower. (-${format(0.05)} less)`,\n            () => \"Highly toxic and reactive, +12 to max level of 'Planetary system'.\",\n            () => `A noble 2x boost to Solar mass gain${player.inflation.vacuum ? ' and delay to Preons hardcap' : ''}.`,\n            () => \"Through leaching will get 1 extra level of 'Protoplanetary disk'.\",\n            () => 'Stars are inside you, as well Neutron stars strength will be increased by log4.',\n            () => 'Has a great affinity towards Oxygen and to decrease cost for all Stars by 100.',\n            () => `Just another tetravalent metalloid, and so is another ${format(1.4)}x boost to all Stars${player.inflation.vacuum ? ' and Cosmic dust' : ''}.`,\n            () => `One of the Fundamentals of Life and to make all Stars boost Solar mass gain${player.inflation.vacuum ? ' and also delay Cosmic dust hardcap' : ''}.`,\n            () => \"From hot area to increase max level of 'Star system' by 1.\",\n            () => \"Extremely reactive to extend max level of 'Planetary system' by another 24 levels.\",\n            () => 'Less noble, but Black holes effect will be a little stronger.',\n            () => \"Don't forget about it and will get 1 free level of 'Planetary system'.\\n(Also will make Solar mass effect apply twice to Brown dwarfs)\",\n            () => \"Get stronger with 1 extra level of 'Star system'.\",\n            () => `A new color and a rare bonus of ^${format(1.1)} to Solar mass effect.`,\n            () => 'New alloy that allows Red giants to be added into effective amount of Neutron stars.',\n            () => `Catalyst for production of Elements. 'Gamma-ray burst' effect will be increased by Solar mass ^${format(0.1)}.\\n(Effect increase: ${format(player.collapse.mass ** 0.1, { padding: true })})`,\n            () => { //[24]\n                const power = calculateEffects.element24();\n                return `No corrosion, only boost to all Stars that is based on unspent Elements ^${format(power)}.\\n(Boost to Stars: ${format(new Overlimit(player.buildings[4][0].current).power(power), { padding: true })})`;\n            },\n            () => \"Brittle Element, but not the bonus \u2012 1 more level in 'Star system'.\",\n            () => `Any further fusion will be an endothermic process. ${player.inflation.vacuum ? `Unlock a new Star type${player.strangeness[5][3] >= 1 ? ' and Intergalactic Stage' : ''}` : 'Enter Intergalactic space'}.\\n(${player.stage.true >= 6 || player.strange[0].total >= 1 ? `Current base for Stage reset reward is ${format(calculateEffects.element26(), { padding: true })}, improve it further by producing more Elements this Stage` : 'Can change active Stage from footer'})`,\n            () => `Combined and ready to make all self-made Red supergiants count as Red giants and improve '[24] Chromium' Element by +^${format(0.01)}.`,\n            () => \"Slow to react, but will increase max level of 'Star system' by +1.\",\n            () => `Does not need to be prepared to increase Stage reset reward base by Arithmetic progression with step of ${format(0.01)}.`,\n            () => 'First of new Elements to come, increases max allowed Merge resets by +1 for every self-made Universe.'\n        ],\n        startCost: [\n            0, 1000, 4000, 2e4, 1e5, 1e8, 1e10, 4e11, 8e12, 6e13,\n            1e15, 1e20, 1e22, 1e24, 1.4e26, 1e28, 1e30, 1e32, 2e36, 1e38,\n            1e39, 1e41, 2e42, 3e43, 4e44, 5e45, 1e48, 1e54, 1e58, 1e140,\n            1e200\n        ]\n    },\n    strangenessInfo: [\n        {} as globalType['strangenessInfo'][0], { //Stage 1\n            name: [\n                'Fundamental boost',\n                'Better improvement',\n                'Cheaper Discharge',\n                'Free Discharge',\n                'Automatic Discharge',\n                'Auto Structures',\n                'Strange boost',\n                'Energy increase',\n                'Conservation of Mass',\n                'Conservation of Energy'\n            ],\n            effectText: [\n                () => `Boost all Microworld Structures by ${format(player.inflation.vacuum ? 2 : 1.8)}.`,\n                () => `Base for 'Improved Tritium' Research will be bigger by +${format(player.inflation.vacuum ? 1.5 : 1)}.`,\n                () => `Discharge goals requirement will scale slower. (-${format(0.5)})`,\n                () => `Obtain +${format(0.5)} bonus Discharge goals.`,\n                () => `Automatically Discharge upon reaching next goal or spending Energy. (Need to be enabled in Settings)${global.strangenessInfo[1].max[4] > 1 ? '\\nSecond level will allow to gain Discharge goals based on current Energy instead of needing to reset.' : ''}`,\n                () => 'Make auto for all Microworld Structures permanent.',\n                () => `Unspent Strange quarks will boost Microworld by improving its Structures.\\n(Current effect: ${format(global.strangeInfo.stageBoost[1], { padding: true })})`,\n                () => 'Increase Energy gain from creating Preons by +2.',\n                () => 'No Mass will be lost when creating Preons, only works when Accretion Stage is unlocked.\\nSecond level will disable auto Accretion Structures if Cosmic dust is hardcapped until have enough Mass for highest Solar mass conversion.',\n                () => 'No Energy will be lost when creating Upgrades or Researches, only works when Interstellar Stage is unlocked.'\n            ],\n            cost: [],\n            startCost: [1, 1, 1, 2, 12, 2, 24, 2, 12, 15600],\n            scaling: [2.46, 2, 6, 6, 400, 1, 1, 6, 18, 1],\n            max: [6, 4, 4, 2, 1, 1, 1, 2, 2, 1],\n            maxActive: 7\n        }, { //Stage 2\n            name: [\n                'More Moles',\n                'Bigger Puddles',\n                'More spread',\n                'Cloud density',\n                'Automatic Vaporization',\n                'Auto Structures',\n                'Strange boost',\n                'Improved flow',\n                'Mechanical spread',\n                'Ocean world'\n            ],\n            effectText: [\n                () => `Moles will ${player.inflation.vacuum ? 'improve' : 'produce'} 2 times more.`,\n                () => `Puddles will produce ${format(player.inflation.vacuum ? 1.8 : 1.6)} times more.`,\n                () => { //[2]\n                    let extraText = 'none';\n                    if (player.strangeness[2][2] >= 1) { extraText = \"max level increased for 'More streams' (+1)\"; }\n                    if (player.strangeness[2][2] >= 2) { extraText += \" and 'Distributary channel' (+1)\"; }\n                    if (player.strangeness[2][2] >= 3) { extraText += \", a new Upgrade \u2012 'Tsunami'\"; }\n                    return `Increase max level for one of Researches. Final level will instead unlock a new Upgrade.\\n(Current effect: ${extraText})`;\n                },\n                () => `Decrease amount of Drops required to get a Cloud by ${format(player.inflation.vacuum ? 2.5 : 2)}.`,\n                () => `Automatically Vaporize when reached enough boost from new Clouds. (Need to be enabled in Settings)${global.strangenessInfo[2].max[4] > 1 ? `\\nSecond level will allow to automatically gain ${format(2.5)}% of Clouds per second. (Not affected by global speed)` : ''}`,\n                () => 'Make auto for all Submerged Structures permanent.',\n                () => `Unspent Strange quarks will boost Submerged by improving Puddles.\\n(Current effect: ${format(global.strangeInfo.stageBoost[2], { padding: true })})`,\n                () => `Submerged Structures that improve other Submerged Structures will do it ${format(1.24)} times stonger.`,\n                () => { //[8]\n                    let extraText = 'none';\n                    if (player.strangeness[2][8] >= 1) { extraText = \"max level increased for 'Stronger surface tension' (+3)\"; }\n                    if (player.strangeness[2][8] >= 2) { extraText += \" and 'Stronger surface stress' (+1)\"; }\n                    if (player.strangeness[2][8] >= 3) { extraText += \", a new Upgrade \u2012 'Tide'\"; }\n                    return `Increase max level for one of Researches. Final level will instead unlock an even better new Upgrade.\\n(Current effect: ${extraText})`;\n                },\n                () => `Increase Stage reset reward based on current Cloud amount.\\n(Current effect: ${format(calculateEffects.S2Strange9(), { padding: true })})`\n            ],\n            cost: [],\n            startCost: [1, 1, 2, 2, 12, 4, 24, 36, 1200, 9600],\n            scaling: [2.46, 2, 3, 3.4, 800, 1, 1, 3.4, 3, 1],\n            max: [4, 8, 3, 2, 1, 1, 1, 6, 3, 1],\n            maxActive: 7\n        }, { //Stage 3\n            name: [\n                'Faster Accretion',\n                'Intense weathering',\n                'More levels',\n                'Improved Satellites',\n                'Automatic Rank',\n                'Auto Structures',\n                'Upgrade automatization',\n                'Strange boost',\n                'Mass delay',\n                'Rank raise'\n            ],\n            effectText: [\n                () => `Increase strength of Cosmic dust by ${format(1.8)}.`,\n                () => `Accretion Structures that produce other Structures will do it ${format(player.inflation.vacuum ? 1.48 : 1.6)} times faster.`,\n                () => { //[2]\n                    let extraText = 'none';\n                    if (player.strangeness[3][2] >= 1) { extraText = \"max level increased for 'Rank boost' (+6)\"; }\n                    if (player.strangeness[3][2] >= 2) { extraText += \" and 'Efficient growth' (+2)\"; }\n                    if (player.strangeness[3][2] >= 3) { extraText += \", a new Upgrade \u2012 'Hydrostatic equilibrium'\"; }\n                    return `Increase max level for one of the Rank Researches. Final level will instead unlock a new Upgrade.\\n(Current effect: ${extraText})`;\n                },\n                () => `Satellites will be able to improve Cosmic dust and Planetesimals, but at reduced strength (^${format(player.inflation.vacuum ? 0.1 : 0.2)}).`,\n                () => `Automatically increase Rank when possible. (Need to be enabled in Settings)${global.strangenessInfo[3].max[4] > 1 ? '\\nSecond level will make Rank increase use Mass produced this reset instead of current.' : ''}`,\n                () => 'Make auto for all Accretion Structures permanent.',\n                () => `Always automatically create all ${['Upgrades', 'Stage Researches', 'Special Researches'][Math.min(player.strangeness[3][6], 2)]} from any Stage${!player.inflation.vacuum && player.strangeness[5][3] < 1 ? ' before Intergalactic' : ''}. (Need to be enabled in Settings)`,\n                () => `Unspent Strange quarks will boost Accretion by making its Structures cheaper.\\n(Current effect: ${format(global.strangeInfo.stageBoost[3], { padding: true })})`,\n                () => `Delay Cosmic dust hardcap by ${format(1.4)} per level.`,\n                () => 'Unlock a new Accretion Rank to achieve.'\n            ],\n            cost: [],\n            startCost: [1, 2, 2, 24, 12, 4, 4, 24, 9600, 1.8e6],\n            scaling: [2, 3.4, 3, 1, 100, 1, 1.74, 1, 2.46, 1],\n            max: [8, 4, 3, 1, 1, 1, 3, 1, 6, 1],\n            maxActive: 8\n        }, { //Stage 4\n            name: [\n                'Hotter Stars',\n                'Cheaper Stars',\n                'New Upgrade',\n                'Main giants',\n                'Automatic Collapse',\n                'Auto Structures',\n                'Element automatization',\n                'Strange boost',\n                'Neutronium',\n                'Newer Upgrade'\n            ],\n            effectText: [\n                () => `All Stars will produce ${format(1.6)} times more Elements.`,\n                () => 'Stars will be 2 times cheaper.',\n                () => { //[2]\n                    let extraText = 'none';\n                    if (player.strangeness[4][2] >= 1) { extraText = \"'Planetary nebula' (Stage Research)\"; }\n                    if (player.strangeness[4][2] >= 2) { extraText += \", 'White dwarfs' (Collapse Research)\"; }\n                    if (player.strangeness[4][2] >= 3) { extraText += \", 'Helium fusion' (Upgrade)\"; }\n                    return `Unlock a new Upgrade, its quite good.\\n(Current unlocks: ${extraText})`;\n                },\n                () => '10% of Brown dwarfs will be able to turn into Red giants after Collapse.',\n                () => `Automatically Collapse once reached enough boost. (Need to be enabled in Settings)${global.strangenessInfo[4].max[4] > 1 ? '\\nSecond level will allow to automatically gain Star remnants without needing to reset.' : ''}`,\n                () => 'Make auto for all Interstellar Structures permanent.',\n                () => `Elements will no longer require Collapse for activation${player.inflation.vacuum ? ' and related automatization Research will cost as if its level is 1 less' : ''}.\\nSecond level will unlock auto creation of Elements. (${global.strangenessInfo[4].max[6] > 1 ? 'Need to be enabled in settings' : 'Not yet unlocked for Interstellar space'})`,\n                () => `Unspent Strange quarks will boost Interstellar by improving all Stars, stronger if '[26] Iron' is created.\\n(Current effect: ${format(global.strangeInfo.stageBoost[4], { padding: true })})`,\n                () => `Increase effective amount of Neutron stars (doesn't include ones from '[22] Titanium') by 1 + level and improve Neutron stars strength by +^${format(0.125)}.`,\n                () => { //[9]\n                    let extraText = 'none';\n                    if (player.strangeness[4][9] >= 1) { extraText = \"'Nucleosynthesis' (Upgrade)\"; }\n                    if (player.strangeness[4][9] >= 2) { extraText += \", 'Quark-nova' (Collapse Research)\"; }\n                    if (player.strangeness[4][9] >= 3) { extraText += \", 'Inner Black hole' (Stage Research)\"; }\n                    return `Unlock yet another new Upgrade, its even better.\\n(Current unlocks: ${extraText})`;\n                }\n            ],\n            cost: [],\n            startCost: [1, 2, 4, 2, 12, 6, 6, 24, 6400, 2e5],\n            scaling: [2, 3.4, 3, 6, 1900, 1, 1.74, 1, 2, 3],\n            max: [8, 4, 3, 2, 1, 1, 1, 1, 8, 3],\n            maxActive: 8\n        }, { //Stage 5\n            name: [\n                'Bigger Structures',\n                'Higher density',\n                'Strange gain',\n                'Gravitational bound',\n                'Automatic Galaxy',\n                'Auto Structures',\n                'Automatic Stage',\n                'Strange boost',\n                'Strange growth'\n            ],\n            effectText: [\n                () => `More matter for Accretion (flavor text), first two Intergalactic Structures will be ${format(player.inflation.vacuum ? 1.4 : 1.6)} times stronger.`,\n                () => `With higher density first two Intergalactic upgrades will be even stronger. Effects will be increased by ${format(player.inflation.vacuum ? 1.6 : 1.8)}.`,\n                () => `Gain ${format(1.4)} times more Strange quarks from any Stage reset.`,\n                () => player.inflation.vacuum ? 'Unlock Intergalactic Stage and increase Strange quarks from Stage resets by +1.' : \"Will make Intergalactic Stage immune to Collapse reset and allow 'Upgrade automatization' to work within Intergalactic Stage.\",\n                () => `Automatically Collapse if will be able to afford new Galaxy and auto Galaxy is enabled. (Also unlocks auto Galaxies for free)${global.strangenessInfo[5].max[4] >= 2 ? '\\nSecond level will allow to max create Galaxies (only last Galaxy will cost anything), if current Stage is Abyss or higher.' : ''}`,\n                () => `Make auto for ${player.strangeness[5][4] >= 1 ? 'all' : 'the first two'} Intergalactic Structures permanent${player.strangeness[5][4] < 1 ? ' and prevent rest from resetting' : ''}.`,\n                () => `Automatically trigger Stage reset${!player.inflation.vacuum ? \" doesn't work for Interstellar Stage until second level\" : ''}. (Need to be enabled in Settings)`,\n                () => `Unspent Strange quarks will boost Intergalactic by increasing Solar mass gain.\\n(Current effect: ${format(global.strangeInfo.stageBoost[5], { padding: true })})`,\n                () => 'Unlock another Strange Structure.\\n(Click on that Structure to see its effects)'\n            ],\n            cost: [],\n            startCost: [24, 36, 6, 24, 15600, 24, 96, 120, 6000],\n            scaling: [2, 2, 3.4, 1, 400, 1, 1, 1, 1],\n            max: [8, 8, 2, 1, 1, 1, 1, 1, 1],\n            maxActive: 8\n        }\n    ],\n    inflationTreeInfo: {\n        name: [\n            'Overboost',\n            'Global boost',\n            'Strange gain',\n            'Stranger gain',\n            'Void Milestones'\n        ],\n        effectText: [\n            () => 'Boost global speed by 2, but reduce time limit on everything that has it by 4.',\n            () => `Unspent Dark matter boost global speed by ${format(calculateEffects.inflation1(), { padding: true })} \u27F6 ${format(calculateEffects.inflation1(player.inflation.tree[1] + 1), { padding: true })}.`,\n            () => `Gain ${format(1.4)} times more Strange quarks from any Stage reset.`,\n            () => \"Allows to gain Strangelets until 'Strange growth' Strangeness is created, afterwards it will make 'Strange gain' Strangeness affect Strangelets gain.\\nLevel 2 will make 'Strange gain' Inflation affect Strangelets gain, doesn't require 'Strange growth' Strangeness.\",\n            () => 'Allows to gain Milestones while in true Vacuum and inside Void (Milestones are kept on refund).\\nIn false Vacuum it will instead remove time limit for Milestones.'\n        ],\n        cost: [],\n        startCost: [0, 1, 1, 2, 2],\n        scaling: [0, 0.75, 0.5, 0, 0],\n        max: [1, 6, 4, 2, 1]\n    },\n    lastUpgrade: [[null, 'upgrades'], [null, 'upgrades'], [null, 'upgrades'], [null, 'upgrades'], [null, 'upgrades'], [null, 'upgrades'], [null, 'upgrades']],\n    lastElement: null,\n    lastStrangeness: [null, 0],\n    lastInflation: null,\n    lastMilestone: [null, 0],\n    lastChallenge: [null, null],\n    milestonesInfo: [\n        {} as globalType['milestonesInfo'][0], { //Stage 1\n            name: [\n                'Fundamental Matter',\n                'Energized'\n            ],\n            needText: [\n                () => `Produce at least ${format(global.milestonesInfo[1].need[0])} ${player.inflation.vacuum ? 'Preons' : 'Quarks'} this reset.`,\n                () => `Have current Energy reach ${format(global.milestonesInfo[1].need[1])}.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `All Microworld Structures are ${format(global.milestonesInfo[1].reward[0], { padding: true })} times stronger.` : 'Increase Strange quarks from any Stage reset by +1.',\n                () => player.inflation.vacuum ? `Energy from creating Structures increased by ${format(global.milestonesInfo[1].reward[1])}%. (Rounds down)` : 'Permanent Microworld Stage.'\n            ],\n            need: [new Overlimit('Infinity'), new Overlimit('Infinity')],\n            time: [14400, 14400],\n            reward: [1, 1],\n            scaling: [\n                [1e152, 1e158, 1e164, 1e170, 1e178, 1e190],\n                [23800, 24600, 25800, 27000, 28200, 29600]\n            ],\n            max: [6, 6]\n        }, { //Stage 2\n            name: [\n                'A Nebula of Drops',\n                'Just a bigger Puddle'\n            ],\n            needText: [\n                () => `${player.inflation.vacuum ? 'Vaporize to' : 'Produce'} at least ${format(global.milestonesInfo[2].need[0])} ${player.inflation.vacuum ? 'Clouds' : 'Drops this reset'}.`,\n                () => `Have at least ${format(global.milestonesInfo[2].need[1])} Puddles at same time.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Clouds gain increased by ${format(global.milestonesInfo[2].reward[0], { padding: true })}.` : 'A new Intergalactic Structure. (Nebula)',\n                () => player.inflation.vacuum ? `Puddles strength increased by ${format(global.milestonesInfo[2].reward[1], { padding: true })}.` : 'Permanent Submerged Stage.'\n            ],\n            need: [new Overlimit('Infinity'), new Overlimit('Infinity')],\n            time: [28800, 28800],\n            reward: [1, 1],\n            scaling: [\n                [1e30, 1e32, 1e34, 1e36, 1e38, 1e40, 1e44],\n                [1500, 2300, 3100, 3900, 4700, 5500, 6400]\n            ],\n            max: [7, 7]\n        }, { //Stage 3\n            name: [\n                'Cluster of Mass',\n                'Satellites of Satellites'\n            ],\n            needText: [\n                () => `Produce at least ${format(global.milestonesInfo[3].need[0])} Mass this reset.`,\n                () => `Have more or equal to ${format(global.milestonesInfo[3].need[1])} Satellites${player.inflation.vacuum ? ' and Subsatellites' : ''}.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Cosmic dust strength increased by ${format(global.milestonesInfo[3].reward[0], { padding: true })}.` : 'A new Intergalactic Structure. (Star cluster)',\n                () => player.inflation.vacuum ? `Improve effect of 'Planetary system' base by +${format(global.milestonesInfo[3].reward[1])}.` : 'Permanent Accretion Stage.'\n            ],\n            need: [new Overlimit('Infinity'), new Overlimit('Infinity')],\n            time: [43200, 43200],\n            reward: [1, 1],\n            scaling: [\n                [1e32, 1e34, 1e36, 1e38, 1e40, 1e42, 1e45],\n                [24, 28, 32, 36, 40, 44, 50]\n            ],\n            max: [7, 7]\n        }, { //Stage 4\n            name: [\n                'Remnants of past',\n                'Supermassive'\n            ],\n            needText: [\n                () => `Produce at least ${format(global.milestonesInfo[4].need[0])} Elements this reset.`,\n                () => `Collapse to ${format(global.milestonesInfo[4].need[1])} ${player.inflation.vacuum ? 'Black holes' : 'Solar mass'} or more.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Stars produce ${format(global.milestonesInfo[4].reward[0], { padding: true })} times more Elements.` : \"New Intergalactic themed Strangeness, Milestone and second level of 'Element automatization'.\",\n                () => player.inflation.vacuum ? `Preons hardcap delayed by ${format(global.milestonesInfo[4].reward[1], { padding: true })}.` : 'A new Intergalactic Structure and the final Milestone. (Galaxy)'\n            ],\n            need: [new Overlimit('Infinity'), new Overlimit('Infinity')],\n            time: [57600, 57600],\n            reward: [1, 1],\n            scaling: [\n                [1e48, 1e49, 1e50, 1e52, 1e54, 1e56, 1e58, 1e60],\n                [9000, 12000, 16000, 22000, 30000, 42000, 60000, 84000]\n            ],\n            max: [8, 8]\n        }, { //Stage 5\n            name: [\n                'Light in the dark',\n                'End of Greatness'\n            ],\n            needText: [\n                () => `Have self-made Stars count reach at least ${format(global.milestonesInfo[5].need[0])}.`,\n                () => `Have ${format(global.milestonesInfo[5].need[1])} Galaxies or more.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Decrease cost for all Stars by ${format(global.milestonesInfo[5].reward[0], { padding: true })}.` : \"Unlock a new Intergalactic Strangeness 'Strange gain' and second level of 'Automatic Stage'.\",\n                () => player.inflation.vacuum ? `Boost per Galaxy is +${format(global.milestonesInfo[5].reward[1])} bigger.` : \"Unlock a new Intergalactic Upgrade 'Galactic Merger'.\"\n            ],\n            need: [new Overlimit('Infinity'), new Overlimit('Infinity')],\n            time: [3600, 1200],\n            reward: [1, 1],\n            scaling: [\n                [1460, 1540, 1620, 1700, 1780, 1860, 1940, 2020],\n                [1, 2, 4, 6, 10, 14, 18, 22]\n            ],\n            max: [8, 8]\n        }\n    ],\n    milestonesInfoS6: {\n        requirement: [1, 2, 3],\n        active: []\n    },\n    challengesInfo: {\n        name: [\n            'Void'\n        ],\n        description: [\n            () => `Result of Vacuum Instability, investigate at your own will\\n(${player.inflation.vacuum ? 'Entering will force a Stage reset' : 'Requires true Vacuum state to enter'})`\n        ],\n        effectText: [\n            () => {\n                const progress = player.challenges.voidCheck;\n                let text = `<span class=\"orangeText\">\u2012 Microworld Structures are 4 times weaker${progress[1] >= 1 ? `\\n\u2012 Discharge base is raised to the root of 2 (^${format(0.5)})` : ''}${progress[1] >= 2 ? '\\n\u2012 Energy gain from creating non Microworld Structures is decreased by 50%' : ''}</span>`;\n                if (progress[1] >= 3) { text += `\\n\\n<span class=\"blueText\">\u2012 Effective Drops amount is hardcapped at 1\\n\u2012 Puddles are ${format(8000)} times weaker${progress[2] >= 1 ? `\\n\u2012 Clouds gain is decreased by ^${format(0.8)}</span>` : ''}`; }\n                if (progress[1] >= 2) { text += `\\n\\n<span class=\"grayText\">\u2012 Cosmic dust is softcapped (^${format(0.9)})${progress[3] >= 4 ? `\\n\u2012 Softcap is stronger after reaching 'Jovian planet' Rank (^${format(0.8)})` : ''}</span>`; }\n                if (progress[3] >= 5) { text += `\\n\\n<span class=\"orchidText\">\u2012 Intestellar Structures are ${format(8000)} times weaker\\n\u2012 Solar mass gain from Stars is decreased by 2\\n\u2012 Solar mass effect is softcapped ^${format(0.2)} after 1</span>`; }\n                if (progress[5] >= 1) { text += `\\n\\n<span class=\"cyanText\">\u2012 Can't create or gain Quasi-stars${progress[5] >= 2 ? '\\n\u2012 Higher Ranks have extra requirement for self-made Galaxies' : ''}</span>`; }\n                const left = progress[1] < 2 ? 'orange' : progress[3] < 5 ? 'gray' : progress[5] < 1 ? 'orchid' : progress[5] < 2 ? 'cyan' : null;\n                if (left !== null) { text += `\\n<span class=\"${left}Text\">More will be shown after getting further into the Void</span>`; }\n                return text;\n            }\n        ],\n        needText: [\n            [\n                [], [\n                    () => 'Perform Discharge',\n                    () => \"Get first level of 'Accretion'\",\n                    () => \"Get second level of 'Accretion'\"\n                ], [\n                    () => 'Have more than 0 Clouds',\n                    () => `Have more than ${format(1e4)} Clouds`,\n                    () => player.stage.true >= 7 ? 'Reach Infinity Clouds without increasing Rank' : null\n                ], [\n                    () => \"Reach 'Meteoroid' Rank\",\n                    () => \"Reach 'Asteroid' Rank\",\n                    () => \"Reach 'Planet' Rank\",\n                    () => \"Reach 'Jovian planet' Rank\",\n                    () => \"Reach 'Protostar' Rank\",\n                    () => player.stage.true >= 7 ? \"Reach 'Protogalaxy' Rank\" : null\n                ], [\n                    () => 'Cause the Collapse',\n                    () => 'Get first Red giant',\n                    () => 'Get first Neutron star',\n                    () => 'Get first Black hole'\n                ], [\n                    () => 'Unlock Intergalactic',\n                    () => 'Create a Galaxy',\n                    () => player.stage.true >= 7 ? 'Create a Galaxy group' : null\n                ]\n            ]\n        ],\n        rewardText: [\n            [\n                [],\n                [\"'Energy increase' (Microworld)\", \"'Conservation of Mass' (Microworld)\", \"'Improved flow' (Submerged)\"],\n                [\"'Mechanical spread' (Submerged)\", \"'Ocean world' (Submerged)\", 'Missing'],\n                ['Multiple max level increases', 'Multiple max level increases', 'Multiple max level increases', 'Multiple max level increases', \"'Strange growth' (Intergalactic)\", \"Max level increased for 'Automatic Galaxy'\"],\n                ['Max level increased for Auto resets', \"'Conservation of Energy' (Microworld)\", \"'Neutronium' (Interstellar)\", \"'Mass delay' (Accretion)\"],\n                [\"'Newer Upgrade' (Interstellar)\", \"'Rank raise' (Accretion)\", 'Missing']\n            ]\n        ],\n        color: [\n            'darkviolet'\n        ]\n    },\n    historyStorage: {\n        stage: []\n    }\n};\n\n//Math.log extension for any base\nexport const logAny = (number: number, base: number) => Math.log(number) / Math.log(base);\n\n/** Not for deep copy, works on Overlimit, but not prefered */\nexport const cloneArray = <ArrayClone extends Array<number | string | boolean | null | undefined>>(array: ArrayClone) => array.slice(0) as ArrayClone;\n//Actual type is any[], it's because TS is dumb; [...array] will be better after ~>10000 keys\n\n/** For non deep clone use { ...object } or cloneArray when possible */\nexport const deepClone = <CloneType>(toClone: CloneType): CloneType => {\n    if (typeof toClone !== 'object' || toClone === null) { return toClone; }\n\n    let value: any;\n    if (Array.isArray(toClone)) {\n        if (toClone instanceof Overlimit) { return new Overlimit(toClone) as CloneType; }\n\n        value = []; //Faster this way\n        for (let i = 0; i < toClone.length; i++) { value.push(deepClone(toClone[i])); }\n    } else {\n        value = {};\n        for (const check in toClone) { value[check] = deepClone(toClone[check]); }\n    }\n    return value;\n};\n\n/** Does not clone given value */\nexport const createArray = <startValue extends number | string | boolean | null | undefined>(length: number, value: startValue) => {\n    const array = [];\n    for (let i = 0; i < length; i++) {\n        array.push(value);\n    }\n    return array as startValue[];\n};\n\nfor (let s = 0; s < global.buildingsInfo.startCost.length; s++) {\n    global.buildingsInfo.producing[s] = [];\n    for (let i = 0; i < global.buildingsInfo.startCost[s].length; i++) {\n        global.buildingsInfo.producing[s].push(new Overlimit('0'));\n    }\n}\nfor (const upgradeType of ['researches', 'researchesExtra', 'strangeness'] as const) {\n    const pointer = global[`${upgradeType}Info`];\n    for (let s = 1; s < pointer.length; s++) {\n        pointer[s].cost = cloneArray(pointer[s].startCost);\n    }\n}\nglobal.inflationTreeInfo.cost = cloneArray(global.inflationTreeInfo.startCost);\n\nObject.assign(player, {\n    upgrades: [\n        [],\n        createArray(global.upgradesInfo[1].startCost.length, 0),\n        createArray(global.upgradesInfo[2].startCost.length, 0),\n        createArray(global.upgradesInfo[3].startCost.length, 0),\n        createArray(global.upgradesInfo[4].startCost.length, 0),\n        createArray(global.upgradesInfo[5].startCost.length, 0),\n        createArray(global.upgradesInfo[6].startCost.length, 0)\n    ],\n    researches: [\n        [],\n        createArray(global.researchesInfo[1].startCost.length, 0),\n        createArray(global.researchesInfo[2].startCost.length, 0),\n        createArray(global.researchesInfo[3].startCost.length, 0),\n        createArray(global.researchesInfo[4].startCost.length, 0),\n        createArray(global.researchesInfo[5].startCost.length, 0),\n        createArray(global.researchesInfo[6].startCost.length, 0)\n    ],\n    researchesExtra: [\n        [],\n        createArray(global.researchesExtraInfo[1].startCost.length, 0),\n        createArray(global.researchesExtraInfo[2].startCost.length, 0),\n        createArray(global.researchesExtraInfo[3].startCost.length, 0),\n        createArray(global.researchesExtraInfo[4].startCost.length, 0),\n        createArray(global.researchesExtraInfo[5].startCost.length, 0),\n        createArray(global.researchesExtraInfo[6].startCost.length, 0)\n    ],\n    researchesAuto: createArray(global.researchesAutoInfo.costRange.length, 0),\n    ASR: createArray(global.ASRInfo.costRange.length, 0),\n    maxASR: createArray(global.ASRInfo.costRange.length, 0),\n    elements: createArray(global.elementsInfo.startCost.length, 0),\n    strangeness: [\n        [],\n        createArray(global.strangenessInfo[1].startCost.length, 0),\n        createArray(global.strangenessInfo[2].startCost.length, 0),\n        createArray(global.strangenessInfo[3].startCost.length, 0),\n        createArray(global.strangenessInfo[4].startCost.length, 0),\n        createArray(global.strangenessInfo[5].startCost.length, 0)\n    ],\n    milestones: [\n        [],\n        createArray(global.milestonesInfo[1].need.length, 0),\n        createArray(global.milestonesInfo[2].need.length, 0),\n        createArray(global.milestonesInfo[3].need.length, 0),\n        createArray(global.milestonesInfo[4].need.length, 0),\n        createArray(global.milestonesInfo[5].need.length, 0)\n    ]\n});\nObject.assign(player.toggles, {\n    normal: createArray(document.getElementsByClassName('toggleNormal').length, false),\n    confirm: createArray(document.getElementsByClassName('toggleConfirm').length, 'Safe'),\n    buildings: [\n        [],\n        createArray(player.buildings[1].length, false),\n        createArray(player.buildings[2].length, false),\n        createArray(player.buildings[3].length, false),\n        createArray(player.buildings[4].length, false),\n        createArray(player.buildings[5].length, false),\n        createArray(player.buildings[6].length, false)\n    ],\n    hover: createArray(document.getElementsByClassName('toggleHover').length, false),\n    max: createArray(document.getElementsByClassName('toggleMax').length, false),\n    auto: createArray(document.getElementsByClassName('toggleAuto').length, false)\n});\nplayer.inflation.tree = createArray(global.inflationTreeInfo.startCost.length, 0);\nplayer.toggles.normal[1] = true;\n\n//player.example = playerStart.example; Is not allowed (if example is an array or object), instead iterate or create clone\nexport const playerStart = deepClone(player);\n\nexport const updatePlayer = (load: playerType): string => {\n    if (load['player' as keyof unknown] !== undefined) { load = load['player' as keyof unknown]; }\n    if (load.vaporization === undefined) { throw new ReferenceError('This save file is not from this game or too old'); }\n    if (load.version === undefined) { load.version = '0.0.0'; }\n    prepareVacuum(Boolean(load.inflation?.vacuum)); //Only to set starting buildings values\n\n    const oldVersion = load.version;\n    if (oldVersion !== playerStart.version) {\n        if (load.version === '0.0.0') {\n            load.version = 'v0.0.1';\n            load.researchesExtra = []; //Required for v0.0.9\n        }\n        if (load.version === 'v0.0.1') {\n            load.version = 'v0.0.2';\n            load.stage.resets = load.stage.current - 1;\n        }\n        if (load.version === 'v0.0.2') {\n            load.version = 'v0.0.3';\n            load.accretion = deepClone(playerStart.accretion);\n        }\n        if (load.version === 'v0.0.3' || load.version === 'v0.0.4') {\n            load.version = 'v0.0.5';\n            load.elements = cloneArray(playerStart.elements);\n            load.collapse = deepClone(playerStart.collapse);\n            delete load['energy' as keyof unknown];\n            delete load['buyToggle' as keyof unknown];\n        }\n        if (load.version === 'v0.0.5' || load.version === 'v0.0.6') {\n            load.version = 'v0.0.7';\n            load.strange = deepClone(playerStart.strange);\n            load.strangeness = deepClone(playerStart.strangeness);\n        }\n        if (load.version === 'v0.0.7' || load.version === 'v0.0.8') {\n            load.version = 'v0.0.9';\n            load.stage.active = Math.min(load.stage.current, 4);\n            const a = load.stage.active;\n            const oldB = load.buildings as unknown as playerType['buildings'][0];\n            load.buildings = deepClone(playerStart.buildings);\n            load.buildings[a] = oldB;\n            const oldU = load.upgrades as unknown as playerType['upgrades'][0];\n            load.upgrades = deepClone(playerStart.upgrades);\n            load.upgrades[a] = oldU;\n            const oldR = load.researches as unknown as playerType['researches'][0];\n            load.researches = deepClone(playerStart.researches);\n            load.researches[a] = oldR;\n            const oldE = load.researchesExtra as unknown as playerType['researchesExtra'][0];\n            load.researchesExtra = deepClone(playerStart.researchesExtra);\n            load.researchesExtra[a] = oldE;\n            if (load.strangeness.length < 5) { load.strangeness.unshift([]); }\n            load.ASR = cloneArray(playerStart.ASR);\n            load.milestones = deepClone(playerStart.milestones);\n        }\n        if (load.version === 'v0.0.9' || load.version === 'v0.1.0') {\n            load.version = 'v0.1.1';\n            load.discharge.energy = 0;\n            load.collapse.massMax = load.collapse.mass;\n            delete load.discharge['energyCur' as keyof unknown];\n        }\n        if (load.version === 'v0.1.1') {\n            load.version = 'v0.1.2';\n            for (let s = 1; s <= 5; s++) {\n                for (let i = 0; i < load.buildings[s].length; i++) {\n                    const building = load.buildings[s][i];\n                    building.current = new Overlimit(building.current);\n                    building.total = new Overlimit(building.total);\n                    building.trueTotal = new Overlimit(building.total); //Intentional\n                }\n            }\n            if (load.strange[0]['true' as keyof unknown] !== undefined) { load.strange[0].current = load.strange[0]['true' as 'current']; }\n            load.strange[0].total = load.strange[0].current;\n            load.inflation = deepClone(playerStart.inflation);\n            delete load.vaporization['current' as keyof unknown];\n            delete load.strange[0]['true' as keyof unknown];\n        }\n        if (load.version === 'v0.1.2') {\n            load.version = 'v0.1.3';\n            load.stage.time = 0;\n            load.inflation.age = 0;\n            load.discharge.energyMax = load.discharge.energy;\n            load.vaporization.cloudsMax = new Overlimit(load.vaporization.clouds);\n        }\n        if (load.version === 'v0.1.3' || load.version === 'v0.1.4' || load.version === 'v0.1.5') {\n            load.version = 'v0.1.6';\n            load.collapse.show = 0;\n            load.challenges = deepClone(playerStart.challenges);\n            delete load.time['disabled' as keyof unknown];\n            delete load.discharge['unlock' as keyof unknown];\n            delete load.collapse['disabled' as keyof unknown];\n            delete load.collapse['inputM' as keyof unknown];\n            delete load.collapse['inputS' as keyof unknown];\n        }\n        if (load.version === 'v0.1.6' || load.version === 'v0.1.7') {\n            load.version = 'v0.1.8';\n            load.time.online = load.inflation.age;\n            load.time.universe = load.inflation.age;\n            load.time.stage = load.stage.time;\n            if (load.buildings[5].length > 4) { load.buildings[5].length = 4; }\n            delete load['saveUpdate016' as keyof unknown];\n            delete load.accretion['input' as keyof unknown];\n            delete load.collapse['elementsMax' as keyof unknown];\n        }\n        if (load.version === 'v0.1.8') {\n            load.version = 'v0.1.9';\n            load.toggles = deepClone(playerStart.toggles);\n            load.researchesAuto = cloneArray(playerStart.researchesAuto);\n            delete load.discharge['bonus' as keyof unknown];\n        }\n        if (load.version === 'v0.1.9') {\n            load.version = 'v0.2.0';\n            load.stage.peak = 0;\n            load.stage.input = 0;\n            load.vaporization.input = cloneArray(playerStart.vaporization.input);\n            load.time.export = cloneArray(playerStart.time.export);\n            load.history = deepClone(playerStart.history);\n            load.events = cloneArray(playerStart.events);\n            load.fileName = playerStart.fileName;\n            delete load['event' as keyof unknown];\n            delete load['separator' as keyof unknown];\n            delete load['intervals' as keyof unknown];\n            delete load.stage['best' as keyof unknown];\n            delete load.stage['export' as keyof unknown];\n\n            /* Can be removed eventually */\n            load.strangeness[1].splice(1, 0, load.strangeness[1].splice(5, 1)[0]);\n            load.strangeness[1].splice(7, 1);\n            load.strangeness[1].splice(4, 1);\n            load.strangeness[2].splice(8, 1);\n            load.strangeness[2].splice(6, 1);\n            load.strangeness[3].splice(10, 1);\n            load.strangeness[3].splice(8, 1);\n            load.strangeness[4].splice(6, 0, load.strangeness[4].splice(4, 1)[0]);\n            load.strangeness[4].splice(9, 1);\n            load.strangeness[4].splice(7, 1);\n            load.strangeness[5].splice(8, 1);\n            load.strangeness[5].splice(6, 1);\n            if (load.inflation.vacuum) { load.milestones = deepClone(playerStart.milestones); }\n            delete load.toggles.shop['howMany' as keyof unknown];\n        }\n        if (load.version === 'v0.2.0') {\n            load.version = playerStart.version;\n            load.time.offline = 0;\n            load.merge = deepClone(playerStart.merge);\n            load.cosmon = deepClone(playerStart.cosmon);\n            load.inflation.resets = load.inflation.vacuum ? 1 : 0;\n            load.inflation.tree = cloneArray(playerStart.inflation.tree);\n            load.buildings[6] = deepClone(playerStart.buildings[6]);\n            load.upgrades[6] = cloneArray(playerStart.upgrades[6]);\n            load.researches[6] = cloneArray(playerStart.researches[6]);\n            load.researchesExtra[6] = cloneArray(playerStart.researchesExtra[6]);\n            load.collapse.input = cloneArray(playerStart.collapse.input);\n            if (load.challenges.active === -1) { load.challenges.active = null; }\n            load.challenges.voidCheck = cloneArray(load.challenges.void);\n            for (let s = 1; s <= 5; s++) {\n                for (let i = 0; i < load.buildings[s].length; i++) {\n                    delete load.buildings[s][i]['highest' as keyof unknown];\n                }\n            }\n\n            /* Can be removed eventually */\n            load.discharge.energy = Math.round(load.discharge.energy);\n            load.toggles.normal = cloneArray(playerStart.toggles.normal);\n            load.toggles.buildings[6] = cloneArray(playerStart.toggles.buildings[6]);\n            load.strangeness[5].splice(6, 0, load.strangeness[5].splice(2, 1)[0]);\n            load.strangeness[5].splice(3, 0, load.strangeness[5].splice(1, 1)[0]);\n            load.strangeness[5].splice(0, 1);\n            load.strangeness[5].splice(4, 0, 0);\n        }\n\n        if (load.version !== playerStart.version) {\n            throw new ReferenceError('Save file version is higher than game version');\n        }\n    }\n\n    /* Remove eventually */\n    if (load.stage.true < 7) {\n        load.buildings[6] = deepClone(playerStart.buildings[6]);\n        load.upgrades[6] = cloneArray(playerStart.upgrades[6]);\n        load.researches[6] = cloneArray(playerStart.researches[6]);\n        load.researchesExtra[6] = cloneArray(playerStart.researchesExtra[6]);\n        load.toggles.buildings[6] = cloneArray(playerStart.toggles.buildings[6]);\n    }\n    if (load.cosmon === undefined) {\n        load.inflation.tree = cloneArray(playerStart.inflation.tree);\n        load.inflation.resets = load.stage.true >= 7 ? 2 : load.inflation.vacuum ? 1 : 0;\n        load.cosmon = deepClone(playerStart.cosmon);\n        if (load.inflation['cosmon' as keyof unknown] !== undefined) {\n            load.cosmon.current = load.inflation['cosmon' as keyof unknown];\n            load.cosmon.total = load.inflation['cosmon' as keyof unknown];\n        }\n    }\n    if (load.challenges.active === -1) { load.challenges.active = null; }\n    if (load.toggles.normal === undefined) { load.toggles.normal = cloneArray(playerStart.toggles.normal); }\n    if (load.merge?.resets === undefined) {\n        load.discharge.energy = Math.round(load.discharge.energy);\n        load.challenges.voidCheck = cloneArray(load.challenges.void);\n        load.merge = deepClone(playerStart.merge);\n    }\n\n    for (let s = 1; s <= 6; s++) {\n        for (let i = Math.min(load.buildings[s].length, global.buildingsInfo.maxActive[s]); i < playerStart.buildings[s].length; i++) {\n            load.buildings[s][i] = deepClone(playerStart.buildings[s][i]);\n        }\n        for (let i = load.toggles.buildings[s].length; i < playerStart.toggles.buildings[s].length; i++) {\n            load.toggles.buildings[s][i] = false;\n        }\n        if (isNaN(load.toggles.shop.wait[s])) { load.toggles.shop.wait[s] = 2; }\n\n        for (let i = load.upgrades[s].length; i < playerStart.upgrades[s].length; i++) {\n            load.upgrades[s][i] = 0;\n        }\n        for (let i = load.researches[s].length; i < playerStart.researches[s].length; i++) {\n            load.researches[s][i] = 0;\n        }\n        for (let i = load.researchesExtra[s].length; i < playerStart.researchesExtra[s].length; i++) {\n            load.researchesExtra[s][i] = 0;\n        }\n        if (load.ASR[s] === undefined) {\n            load.ASR[s] = 0;\n        }\n\n        if (s === 6) { continue; }\n        for (let i = Math.min(load.strangeness[s].length, global.strangenessInfo[s].maxActive); i < playerStart.strangeness[s].length; i++) {\n            load.strangeness[s][i] = 0;\n        }\n        for (let i = load.milestones[s].length; i < playerStart.milestones[s].length; i++) {\n            load.milestones[s][i] = 0;\n        }\n    }\n    for (let i = load.strange.length; i < playerStart.strange.length; i++) {\n        load.strange[i] = deepClone(playerStart.strange[i]);\n    }\n\n    for (let i = load.researchesAuto.length; i < playerStart.researchesAuto.length; i++) {\n        load.researchesAuto[i] = 0;\n    }\n    for (let i = load.elements.length; i < playerStart.elements.length; i++) {\n        load.elements[i] = 0;\n    }\n    for (let i = load.inflation.tree.length; i < playerStart.inflation.tree.length; i++) {\n        load.inflation.tree[i] = 0;\n    }\n\n    for (let i = load.toggles.normal.length; i < playerStart.toggles.normal.length; i++) {\n        load.toggles.normal[i] = playerStart.toggles.normal[i];\n    }\n    for (let i = load.toggles.confirm.length; i < playerStart.toggles.confirm.length; i++) {\n        load.toggles.confirm[i] = 'Safe';\n    }\n    for (let i = load.toggles.hover.length; i < playerStart.toggles.hover.length; i++) {\n        load.toggles.hover[i] = false;\n    }\n    for (let i = load.toggles.max.length; i < playerStart.toggles.max.length; i++) {\n        load.toggles.max[i] = false;\n    }\n    for (let i = load.toggles.auto.length; i < playerStart.toggles.auto.length; i++) {\n        load.toggles.auto[i] = false;\n    }\n\n    /* Restore data post JSON parse */\n    load.vaporization.clouds = new Overlimit(load.vaporization.clouds);\n    load.vaporization.cloudsMax = new Overlimit(load.vaporization.cloudsMax);\n    for (let s = 1; s < load.buildings.length; s++) {\n        for (let i = 0; i < load.buildings[s].length; i++) {\n            const building = load.buildings[s][i];\n            building.current = new Overlimit(building.current);\n            building.total = new Overlimit(building.total);\n            building.trueTotal = new Overlimit(building.trueTotal);\n        }\n    }\n    Object.assign(player, load);\n\n    /* Final preparations and fixes */\n    global.debug.errorID = true;\n    global.debug.errorQuery = true;\n    global.debug.errorGain = true;\n    const { buildings, strangeness, researchesAuto } = player;\n    const { active: activeMilestone, requirement } = global.milestonesInfoS6;\n    const stageHistory = player.history.stage;\n\n    const universes = buildings[6][1].current;\n    for (let i = 0; i < requirement.length; i++) {\n        activeMilestone[i] = universes.moreOrEqual(requirement[i]);\n    }\n\n    global.vaporizationInfo.trueResearch0 = 0;\n    global.vaporizationInfo.trueResearch1 = 0;\n    global.vaporizationInfo.trueResearchRain = 0;\n    if (player.challenges.active === 0) { buildings[4][5].true = 0; }\n    global.collapseInfo.trueStars = buildings[4][1].true + buildings[4][2].true + buildings[4][3].true + buildings[4][4].true + buildings[4][5].true;\n    global.historyStorage.stage = stageHistory.list;\n    if (player.elements[26] >= 1 && player.stage.current < 5) { player.elements[26] = 0; }\n    if (player.inflation.vacuum) {\n        buildings[2][0].current.setValue(buildings[1][5].current).divide('6.02214076e23');\n        buildings[3][0].current.setValue(buildings[1][0].current).multiply('1.78266192e-33');\n        player.events[0] = true; //To reduce checks\n    } else {\n        if (buildings[2][1].current.lessOrEqual('0')) { buildings[2][0].current.max('2.7753108348135e-3'); }\n        if (player.accretion.rank === 0) { buildings[3][0].current.setValue('5.9722e27'); }\n    }\n    if (!player.events[1]) { player.events[1] = player.stage.true >= 7; }\n    if (activeMilestone[0]) { strangeness[1][8] = 2; }\n    if (activeMilestone[1]) { strangeness[5][4] = 1; }\n    if (activeMilestone[2]) {\n        strangeness[3][6] = 3;\n        strangeness[4][6] = 2;\n    }\n    researchesAuto[0] = Math.max(strangeness[3][6], researchesAuto[0]);\n    researchesAuto[1] = Math.max(strangeness[4][6], researchesAuto[1]);\n    global.strangeInfo.bestHistoryRate = stageHistory.best[1] / stageHistory.best[0];\n\n    for (let s = 1; s < 6; s++) {\n        const strangeness = player.strangeness[s];\n        const strangenessMax = global.strangenessInfo[s].max;\n        if (activeMilestone[1]) { strangeness[5] = 1; }\n        for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'strangeness');\n            if (strangeness[i] > strangenessMax[i]) {\n                strangeness[i] = strangenessMax[i];\n                visualUpdateResearches(i, s, 'strangeness');\n            }\n        }\n        for (let i = 0; i < playerStart.milestones[s].length; i++) {\n            assignMilestoneInformation(i, s);\n        }\n\n        const extra = player.researchesExtra[s];\n        const extraMax = global.researchesExtraInfo[s].max;\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'researchesExtra');\n            if (extra[i] > extraMax[i]) {\n                extra[i] = extraMax[i];\n            }\n        }\n        const researches = player.researches[s];\n        const researchesMax = global.researchesInfo[s].max;\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'researches');\n            if (researches[i] > researchesMax[i]) {\n                researches[i] = researchesMax[i];\n            }\n        }\n        calculateMaxLevel(0, s, 'ASR');\n        if (strangeness[5] >= 1) { player.ASR[s] = s === 5 && strangeness[4] < 1 ? Math.max(2, player.ASR[5]) : global.ASRInfo.max[s]; }\n    }\n    {\n        const autoMax = global.researchesAutoInfo.max;\n        for (let i = 0; i < playerStart.researchesAuto.length; i++) {\n            calculateMaxLevel(i, 0, 'researchesAuto');\n            if (i !== 2) { continue; }\n            if (researchesAuto[i] > autoMax[i]) {\n                researchesAuto[i] = autoMax[i];\n                visualUpdateResearches(i, 0, 'researchesAuto');\n            }\n        }\n    }\n\n    global.lastChallenge = [player.challenges.active, null];\n    global.lastInflation = null;\n    getId('inflationText').textContent = 'Hover to see.';\n    getId('inflationEffect').textContent = 'Hover to see.';\n    getId('inflationCost').textContent = 'Cosmon.';\n    for (let i = 0; i < playerStart.inflation.tree.length; i++) { calculateResearchCost(i, 0, 'inflation'); }\n\n    assignBuildingInformation();\n    assignStrangeInfo[1]();\n    assignStrangeInfo[0]();\n    assignPuddles();\n    assignMaxRank();\n    assignTrueEnergy(); //Also assignEnergyArray();\n\n    /* Finish visuals */\n    (getId('saveFileNameInput') as HTMLInputElement).value = player.fileName;\n    (getId('stageInput') as HTMLInputElement).value = format(player.stage.input, { type: 'input' });\n    (getId('vaporizationInput') as HTMLInputElement).value = format(player.vaporization.input[0], { type: 'input' });\n    (getId('vaporizationInputMax') as HTMLInputElement).value = format(player.vaporization.input[1], { type: 'input' });\n    (getId('collapseStarsInput') as HTMLInputElement).value = format(player.collapse.input[0], { type: 'input' });\n    (getId('collapseStarsInputWait') as HTMLInputElement).value = format(player.collapse.input[1], { type: 'input' });\n    (getId('stageResetsSave') as HTMLInputElement).value = `${stageHistory.input[0]}`;\n    (getId('stageResetsShow') as HTMLInputElement).value = `${stageHistory.input[1]}`;\n    for (let i = 0; i < playerStart.toggles.normal.length; i++) { toggleSwap(i, 'normal'); }\n    for (let i = 0; i < playerStart.toggles.confirm.length; i++) { toggleConfirm(i); }\n    for (let i = 0; i < playerStart.toggles.hover.length; i++) { toggleSwap(i, 'hover'); }\n    for (let i = 0; i < playerStart.toggles.max.length; i++) { toggleSwap(i, 'max'); }\n    for (let i = 0; i < playerStart.toggles.auto.length; i++) { toggleSwap(i, 'auto'); }\n    (getId('buyAnyInput') as HTMLInputElement).value = format(player.toggles.shop.input, { type: 'input' });\n\n    return oldVersion;\n};\n\nexport const buildVersionInfo = () => {\n    if (getId('closeVersionInfo', true) !== null) { return; }\n\n    getId('versionInfo').innerHTML = `<div>\n        <div id=\"versionText\">\n            <label>v0.2.1</label><p>- Missing</p>\n            <label>v0.2.0</label><p>- Reworked balance for all Stages past first reset cycle\\n- Many quality of life additions\\n- Most of settings are now saved separate from save file\\n- Some more work on Mobile device support</p>\n            <label>v0.1.9</label><p>- More true Vacuum balance\\n- Reworked time related formats\\n- Warp and Offline time usage reworked</p>\n            <label>v0.1.8</label><p>- True Vacuum small balance changes\\n- Upgrades and Researches merged\\n- Added copy to clipboard, load from string save file options</p>\n            <label>v0.1.7</label><p>- New content (Void)\\n- Further balance changes</p>\n            <label>v0.1.6</label><p>- Massive rebalance and reworks for all Stages</p>\n            <label>v0.1.5</label><p>- True Vacuum minor balance\\n- Images no longer unload\\n- Screen reader support reworked</p>\n            <label>v0.1.4</label><p>- Custom scrolls\\n- Notifications</p>\n            <label>v0.1.3</label><p>- True Vacuum balance changes\\n- Submerged Stage minor balance\\n- Replay event button\\n\\n- History for Stage resets</p>\n            <label>v0.1.2</label><p>- New content (Vacuum)\\n- Offline time reworked\\n- Added version window (removed change log on game load)\\n- Permanently removed text movement</p>\n            <label>v0.1.1</label><p>- More balance changes for late game</p>\n            <label>v0.1.0</label><p>- New content (Intergalactic)\\n- Balance changes for late game</p>\n            <label>v0.0.9</label><p>- New content (Milestones)\\n- More Interstellar and late game balance</p>\n            <label>v0.0.8</label><p>- Minor speed up to all Stages past Microworld</p>\n            <label>v0.0.7</label><p>- New content (Strangeness)\\n- Microworld Stage rework\\n\\n- Added stats for Save file name</p>\n            <label>v0.0.6</label><p>- Added hotkeys list\\n\\n- Option to remove text movement\\n- Ability to rename save file</p>\n            <label>v0.0.5</label><p>- New content (Interstellar)\\n- Basic loading screen\\n\\n- Added hotkeys</p>\n            <label>v0.0.4</label><p>- Speed up to all Stages\\n- Added events\\n\\n- Added numbers format</p>\n            <label>v0.0.3</label><p>- New content (Accretion)\\n- Submerged Stage extended\\n- Offline time calculated better</p>\n            <label>v0.0.2</label><p>- Stats subtab</p>\n            <label>v0.0.1</label><p>- Submerged Stage rework\\n- Added change log on game load\\n\\n- Mobile device support</p>\n            <label>v0.0.0</label><p>- First published version\\n\\n- Submerged Stage placeholder</p>\n        </div>\n        <button type=\"button\" id=\"closeVersionInfo\">Close</button>\n    </div>`;\n\n    specialHTML.styleSheet.textContent += '#versionInfo > div { display: flex; flex-direction: column; justify-content: space-between; align-items: center; width: clamp(42vw, 36em, 80vw); height: clamp(26vh, 36em, 90vh); background-color: var(--window-color); border: 3px solid var(--window-border); border-radius: 12px; padding: 1em 1em 0.8em; row-gap: 1em; } #versionInfo button { flex-shrink: 0; width: 6em; border-radius: 4px; font-size: 0.92em; } #versionText { width: 100%; overflow-y: auto; } #versionText label { font-size: 1.18em; } #versionText p { line-height: 1.3em; white-space: pre-line; color: var(--white-text); margin-top: 0.2em; margin-bottom: 1.4em; } #versionText p:last-of-type { margin-bottom: 0; }';\n    getId('closeVersionInfo').addEventListener('click', () => { getId('versionInfo').style.display = 'none'; });\n};\n", "import { global, player } from './Player';\nimport { checkTab } from './Check';\nimport { switchTab } from './Update';\nimport { buyBuilding, collapseResetUser, dischargeResetUser, mergeResetUser, rankResetUser, stageResetUser, switchStage, toggleSwap, vaporizationResetUser } from './Stage';\nimport { buyAll, pauseGame } from './Main';\nimport { globalSave } from './Special';\n\nexport const detectHotkey = (check: KeyboardEvent) => {\n    if (check.code === 'Tab') {\n        document.body.classList.remove('noFocusOutline');\n        return;\n    } else {\n        const activeType = (document.activeElement as HTMLInputElement)?.type;\n        if (activeType === 'text' || activeType === 'number') { return; }\n        document.body.classList.add('noFocusOutline');\n    }\n    if (global.paused) { return; }\n    const { key, code } = check;\n    let { shiftKey } = check;\n\n    //Can be undefined on Safari\n    if (shiftKey) { global.hotkeys.shift = true; }\n    if (check.ctrlKey) { return void (global.hotkeys.ctrl = true); }\n    if (check.altKey) { return; }\n\n    const numberKey = Number(code.slice(-1));\n    if (!isNaN(numberKey)) {\n        if (isNaN(Number(key))) {\n            if (code === '' || code[0] === 'F') { return; }\n            if (!shiftKey) { //Numpad\n                shiftKey = true;\n                check.preventDefault();\n            }\n        }\n\n        if (shiftKey) {\n            if (check.repeat) { return; }\n            toggleSwap(numberKey, 'buildings', true);\n        } else { buyBuilding(numberKey); }\n    } else if (key.length === 1) {\n        const stringKey = (globalSave.toggles[0] ? key : code.replace('Key', '')).toLowerCase();\n        if (shiftKey) {\n            if (stringKey === 'a') {\n                if (check.repeat) { return; }\n                toggleSwap(0, 'buildings', true);\n            } else if (stringKey === 'm') {\n                if (check.repeat) { return; }\n                void mergeResetUser();\n            } else if (stringKey === 'u') {\n                buyBuilding(1, 6);\n            }\n        } else {\n            if (stringKey === 'm') {\n                buyAll();\n            } else if (stringKey === 's') {\n                if (check.repeat && (player.inflation.vacuum || player.stage.active >= 4)) { return; }\n                void stageResetUser();\n            } else if (stringKey === 'd') {\n                void dischargeResetUser();\n            } else if (stringKey === 'v') {\n                if (check.repeat) { return; }\n                void vaporizationResetUser();\n            } else if (stringKey === 'r') {\n                void rankResetUser();\n            } else if (stringKey === 'c') {\n                if (check.repeat) { return; }\n                void collapseResetUser();\n            } else if (stringKey === 'g') {\n                buyBuilding(3, 5);\n            } else if (stringKey === 'p') {\n                if (check.repeat || !globalSave.developerMode) { return; }\n                void pauseGame();\n            }\n        }\n    } else if (key === 'ArrowLeft' || key === 'ArrowRight') {\n        if (check.repeat) { return; }\n        if (shiftKey) {\n            const activeAll = global.stageInfo.activeAll;\n            if (activeAll.length === 1) { return; }\n            let index = activeAll.indexOf(player.stage.active);\n\n            if (key === 'ArrowLeft') {\n                if (index <= 0) {\n                    index = activeAll.length - 1;\n                } else { index--; }\n                switchStage(activeAll[index]);\n            } else {\n                if (index >= activeAll.length - 1) {\n                    index = 0;\n                } else { index++; }\n                switchStage(activeAll[index]);\n            }\n        } else {\n            const tabs = global.tabList.tabs;\n            let index = tabs.indexOf(global.tab);\n\n            if (key === 'ArrowLeft') {\n                do {\n                    if (index <= 0) {\n                        index = tabs.length - 1;\n                    } else { index--; }\n                } while (!checkTab(tabs[index]));\n                switchTab(tabs[index]);\n            } else {\n                do {\n                    if (index >= tabs.length - 1) {\n                        index = 0;\n                    } else { index++; }\n                } while (!checkTab(tabs[index]));\n                switchTab(tabs[index]);\n            }\n        }\n    } else if (key === 'ArrowDown' || key === 'ArrowUp') {\n        if (shiftKey || check.repeat) { return; }\n        const tab = global.tab;\n        const subtabs = global.tabList[`${tab}Subtabs`] as string[];\n        if (subtabs.length < 2) { return; } //To remove never[]\n        let index = subtabs.indexOf(global.subtab[`${tab}Current`]);\n\n        if (key === 'ArrowDown') {\n            do {\n                if (index <= 0) {\n                    index = subtabs.length - 1;\n                } else { index--; }\n            } while (!checkTab(tab, subtabs[index]));\n            switchTab(tab, subtabs[index]);\n        } else {\n            do {\n                if (index >= subtabs.length - 1) {\n                    index = 0;\n                } else { index++; }\n            } while (!checkTab(tab, subtabs[index]));\n            switchTab(tab, subtabs[index]);\n        }\n    }\n};\n", "import { player, global, playerStart, updatePlayer, buildVersionInfo, deepClone } from './Player';\nimport { getUpgradeDescription, timeUpdate, switchTab, numbersUpdate, visualUpdate, format, getChallengeDescription, getChallengeReward, stageUpdate, getStrangenessDescription, visualUpdateResearches, visualUpdateInflation } from './Update';\nimport { assignStrangeInfo, autoElementsSet, autoResearchesSet, autoUpgradesSet, buyBuilding, buyStrangeness, buyUpgrades, collapseResetUser, dischargeResetUser, enterExitChallengeUser, inflationRefund, mergeResetUser, rankResetUser, stageResetUser, switchStage, toggleConfirm, toggleSwap, vaporizationResetUser } from './Stage';\nimport { Alert, hideFooter, Prompt, setTheme, changeFontSize, changeFormat, specialHTML, replayEvent, Confirm, preventImageUnload, Notify, MDStrangenessPage, globalSave, toggleSpecial, saveGlobalSettings } from './Special';\nimport { detectHotkey } from './Hotkeys';\nimport { prepareVacuum } from './Vacuum';\nimport { checkUpgrade } from './Check';\n\n/** Only for static HTML, by default (false) throws error if id is null */\nexport const getId = (id: string, noError = false): HTMLElement => {\n    const test = specialHTML.cache.idMap.get(id);\n    if (test !== undefined) { return test; }\n\n    const store = document.getElementById(id);\n    if (store !== null) {\n        specialHTML.cache.idMap.set(id, store);\n        return store;\n    }\n\n    if (noError) { return null as unknown as HTMLElement; }\n    if (global.debug.errorID) {\n        global.debug.errorID = false;\n        Notify(`Error encountered, ID - '${id}' doesn't exist`);\n        setTimeout(() => { global.debug.errorID = true; }, 6e4);\n    }\n    throw new ReferenceError(`ID - '${id}' doesn't exist`);\n};\n\n/** Id collection will be auto updated by browser */\nexport const getClass = (idCollection: string): HTMLCollectionOf<HTMLElement> => {\n    const test = specialHTML.cache.classMap.get(idCollection);\n    if (test !== undefined) { return test; }\n    const store = document.getElementsByClassName(idCollection) as HTMLCollectionOf<HTMLElement>;\n    specialHTML.cache.classMap.set(idCollection, store);\n    return store;\n};\n\n/** Only for static HTML */\nexport const getQuery = (query: string): HTMLElement => {\n    const test = specialHTML.cache.queryMap.get(query);\n    if (test !== undefined) { return test; }\n\n    const store = document.querySelector(query) as HTMLElement; //Can't add null type due to eslint being buggy\n    if (store !== null) {\n        specialHTML.cache.queryMap.set(query, store);\n        return store;\n    }\n\n    if (global.debug.errorQuery) {\n        global.debug.errorQuery = false;\n        Notify(`Error encountered, Query - '${query}' failed to find anything`);\n        setTimeout(() => { global.debug.errorQuery = true; }, 6e4);\n    }\n    throw new ReferenceError(`Query - '${query}' failed`);\n};\n\nconst handleOfflineTime = (): number => {\n    const time = player.time;\n    const timeNow = Date.now();\n    const offlineTime = (timeNow - time.updated) / 1000;\n    time.updated = timeNow;\n    time.export[0] += offlineTime;\n    return offlineTime;\n};\nexport const simulateOffline = async(offline: number, autoAccept = !globalSave.developerMode) => {\n    if (!global.paused) {\n        global.paused = true;\n        changeIntervals();\n    }\n    if (player.time.offline < 0) {\n        offline += player.time.offline;\n        player.time.offline = 0;\n    }\n    if (offline > 86400) {\n        offline = 86400;\n    } else if (offline <= 0) {\n        player.time.offline += offline;\n        global.paused = false;\n        return changeIntervals();\n    }\n    if (!autoAccept && !(await Confirm(`Claim ${format(offline, { type: 'time', padding: false })} worth of Offline time?\\nWill be lost if not accepted`, 2))) {\n        global.lastSave += handleOfflineTime();\n        global.paused = false;\n        return changeIntervals();\n    }\n    getId('offlineMain').style.display = '';\n    calculateOffline(offline);\n\n    getId('offlineAccelerate').addEventListener('click', offlineAccelerate);\n    getId('offlineCancel').addEventListener('click', offlineCancel);\n    document.body.addEventListener('keydown', offlineAccelerate);\n};\nconst calculateOffline = (warpTime: number, start = warpTime) => {\n    const rate = global.debug.offlineSpeed;\n    const time = Math.min(rate === 0 ? warpTime : 600 * rate, warpTime);\n    warpTime -= time;\n    try {\n        timeUpdate(time, Math.max(time / 600, 1));\n    } catch (error) {\n        offlineEnd();\n        void Alert(`Offline calculation failed due to error:\\n${error}`, 1);\n        throw error;\n    }\n    if (warpTime > 0) {\n        setTimeout(calculateOffline, 0, warpTime, start);\n        getId('offlineRemains').textContent = format(warpTime, { type: 'time' });\n        getId('offlinePercentage').textContent = format(100 - warpTime / start * 100, { padding: true });\n        if (globalSave.SRSettings[0]) { getQuery('#offlineMain > div').ariaValueText = `${format(100 - warpTime / start * 100)}% done`; }\n    } else { offlineEnd(); }\n};\nconst offlineEnd = () => {\n    global.debug.offlineSpeed = 1;\n    global.paused = false;\n    changeIntervals();\n    getId('offlineMain').style.display = 'none';\n    visualUpdate();\n    numbersUpdate();\n\n    getId('offlineAccelerate').removeEventListener('click', offlineAccelerate);\n    getId('offlineCancel').removeEventListener('click', offlineCancel);\n    document.body.removeEventListener('keydown', offlineAccelerate);\n};\nconst offlineCancel = () => (global.debug.offlineSpeed = 0);\nconst offlineAccelerate = (event: KeyboardEvent | MouseEvent) => {\n    if (event instanceof KeyboardEvent && event.key !== 'Escape') { return; }\n    global.debug.offlineSpeed *= 2;\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Offline time will be calculated faster now'; }\n};\n\nexport const changeIntervals = () => {\n    const intervalsId = global.intervalsId;\n    const intervals = globalSave.intervals;\n    const paused = global.paused;\n\n    clearInterval(intervalsId.main);\n    clearInterval(intervalsId.numbers);\n    clearInterval(intervalsId.visual);\n    clearInterval(intervalsId.autoSave);\n    intervalsId.main = paused ? undefined : setInterval(timeUpdate, intervals.main);\n    intervalsId.numbers = paused ? undefined : setInterval(numbersUpdate, intervals.numbers);\n    intervalsId.visual = paused ? undefined : setInterval(visualUpdate, intervals.visual);\n    intervalsId.autoSave = paused ? undefined : setInterval(saveGame, intervals.autoSave);\n};\n\nconst saveGame = async(noSaving = false): Promise<string | null> => {\n    if (global.paused) {\n        Notify('No saving while game is paused');\n        return null;\n    }\n    try {\n        player.history.stage.list = global.historyStorage.stage.slice(0, player.history.stage.input[0]);\n\n        const save = btoa(JSON.stringify(player));\n        if (!noSaving) {\n            localStorage.setItem('testing_save', save);\n            clearInterval(global.intervalsId.autoSave);\n            global.intervalsId.autoSave = setInterval(saveGame, globalSave.intervals.autoSave);\n            getId('isSaved').textContent = 'Saved';\n            global.lastSave = 0;\n        }\n        return save;\n    } catch (error) {\n        const stack = (error as { stack: string }).stack;\n        void Alert(`Failed to save game\\n${typeof stack === 'string' ? stack.replaceAll(`${window.location.origin}/`, '') : error}`, 1);\n        throw error;\n    }\n};\nconst loadGame = (save: string) => {\n    if (global.paused) { return Notify('No loading while game is paused'); }\n    global.paused = true;\n    changeIntervals();\n    try {\n        const versionCheck = updatePlayer(JSON.parse(atob(save)));\n\n        global.lastSave = handleOfflineTime();\n        Notify(`This save is ${format(global.lastSave, { type: 'time', padding: false })} old${versionCheck !== player.version ? `\\nSave file version is ${versionCheck}` : ''}`);\n        stageUpdate('reload');\n\n        void simulateOffline(global.lastSave);\n    } catch (error) {\n        prepareVacuum(Boolean(player.inflation.vacuum)); //Fix vacuum state\n        global.paused = false;\n        changeIntervals();\n\n        void Alert(`Incorrect save file format\\n${error}`);\n        throw error;\n    }\n};\nconst exportFileGame = async() => {\n    if ((player.stage.true >= 7 || player.stage.resets >= (player.inflation.vacuum ? 1 : 4)) &&\n        (!globalSave.developerMode || await Confirm('Claim export reward? Export storage will not be reduced if to refuse'))) {\n        awardExport();\n    }\n\n    const save = await saveGame(globalSave.developerMode);\n    if (save === null) { return; }\n    const a = document.createElement('a');\n    a.href = `data:text/plain,${save}`;\n    a.download = replaceSaveFileSpecials();\n    a.click();\n};\nconst awardExport = () => {\n    const exportReward = player.time.export;\n    if (exportReward[0] < 0) { return; }\n    const { strange } = player;\n    const conversion = Math.min(exportReward[0] / 86400, 1);\n    const quarks = (exportReward[1] / 2.5 + 1) * conversion;\n\n    strange[0].current += quarks;\n    strange[0].total += quarks;\n    exportReward[1] = Math.max(exportReward[1] - quarks, 0);\n    if (player.strangeness[5][8] >= 1 || player.inflation.tree[3] >= 1) {\n        const strangelets = exportReward[2] / 2.5 * conversion;\n        strange[1].current += strangelets;\n        strange[1].total += strangelets;\n        exportReward[2] -= strangelets;\n        assignStrangeInfo[1]();\n    }\n    assignStrangeInfo[0]();\n    exportReward[0] = 0;\n};\n\nconst saveConsole = async() => {\n    const value = await Prompt(\"Available options:\\n'Copy' - copy save file to clipboard\\n'Delete' - delete your save file\\n'Reset' - reset game global settings\\n'Clear' - clear all domain data\\nOr insert save file string here to load it\");\n    if (value === null || value === '') { return; }\n    const lower = value.toLowerCase();\n\n    if (lower === 'copy') {\n        const save = await saveGame(true);\n        if (save !== null) { void navigator.clipboard.writeText(save); }\n    } else if (lower === 'delete' || lower === 'reset' || lower === 'clear') {\n        global.paused = true;\n        changeIntervals();\n        if (lower === 'delete') {\n            localStorage.removeItem('testing_save');\n        } else if (lower === 'reset') {\n            localStorage.removeItem('fundamentalSettings');\n        } else { localStorage.clear(); }\n        window.location.reload();\n        void Alert('Awaiting game reload');\n    } else if (value === 'devMode') {\n        globalSave.developerMode = !globalSave.developerMode;\n        Notify(`Developer mode is ${globalSave.developerMode ? 'now' : 'no longer'} active`);\n        saveGlobalSettings();\n    } else if (lower === 'achievement') {\n        Notify('Unlocked a new Achievement! (If there were any)');\n    } else if (lower === 'slow' || lower === 'free') {\n        Notify('Game speed was increased by 1x');\n    } else {\n        if (value.length < 20) { return void Alert(`Input '${value}' doesn't match anything`); }\n        if (!await Confirm(\"Press 'Confirm' to load input as a save file\\n(Input is too long to be displayed)\")) { return; }\n        loadGame(value);\n    }\n};\n\nconst replaceSaveFileSpecials = (): string => {\n    let realName = player.fileName;\n\n    const date = new Date();\n    const dateIndex = realName.indexOf('[date');\n    if (dateIndex >= 0) {\n        const endIndex = realName.indexOf(']', dateIndex + 5);\n        if (endIndex >= 0) {\n            let replaced = realName.substring(dateIndex + 5, endIndex);\n            const special = [\n                'Y',\n                'M',\n                'D'\n            ];\n            const replaceWith = [\n                `${date.getFullYear()}`,\n                `${date.getMonth() + 1}`.padStart(2, '0'),\n                `${date.getDate()}`.padStart(2, '0')\n            ];\n            for (let i = 0; i < special.length; i++) {\n                replaced = replaced.replace(special[i], replaceWith[i]);\n            }\n            realName = realName.replace(realName.substring(dateIndex, endIndex + 1), replaced);\n        }\n    }\n    const timeIndex = realName.indexOf('[time');\n    if (timeIndex >= 0) {\n        const endIndex = realName.indexOf(']', timeIndex + 5);\n        if (endIndex >= 0) {\n            let replaced = realName.substring(timeIndex + 5, endIndex);\n            const special = [\n                'H',\n                'M',\n                'S'\n            ];\n            const replaceWith = [\n                `${date.getHours()}`.padStart(2, '0'),\n                `${date.getMinutes()}`.padStart(2, '0'),\n                `${date.getSeconds()}`.padStart(2, '0')\n            ];\n            for (let i = 0; i < special.length; i++) {\n                replaced = replaced.replace(special[i], replaceWith[i]);\n            }\n            realName = realName.replace(realName.substring(timeIndex, endIndex + 1), replaced);\n        }\n    }\n\n    const special = [\n        '[version]',\n        '[stage]',\n        '[strange]',\n        '[cosmon]',\n        '[vacuum]',\n        '[galaxy]',\n        '[universe]'\n    ];\n    const replaceWith = [\n        player.version,\n        global.stageInfo.word[player.stage.active],\n        `${player.strange[0].total}`,\n        `${player.cosmon.total}`,\n        `${player.inflation.vacuum}`,\n        `${player.buildings[5][3].true}`,\n        `${player.buildings[6][1].true}`\n    ];\n    for (let i = 0; i < special.length; i++) {\n        realName = realName.replace(special[i], replaceWith[i]);\n    }\n    return `${realName}.txt`;\n};\n\n/* Arguments are not done as '(...data: any) => any, ...data: any' because TS won't do type safety */\n/** If onceInstanly is true, then it will instanly call function once and then try to repeat it after delay */\nconst repeatFunction = (repeat: () => any, onceInstanly = false) => {\n    if (onceInstanly) { repeat(); }\n    if (global.intervalsId.mouseRepeat !== undefined) { return; }\n    global.intervalsId.mouseRepeat = setTimeout(() => {\n        global.intervalsId.mouseRepeat = setInterval(repeat, 50);\n    }, 200);\n};\nconst cancelRepeat = () => {\n    clearInterval(global.intervalsId.mouseRepeat);\n    global.intervalsId.mouseRepeat = undefined;\n};\n\nconst hoverUpgrades = (index: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements' | 'inflation') => {\n    if (type === 'inflation') {\n        global.lastInflation = index;\n    } else {\n        if (player.toggles.hover[0] && player.stage.true >= 2 && (type !== 'researchesAuto' || checkUpgrade(index, player.stage.active, 'researchesAuto'))) {\n            buyUpgrades(index, player.stage.active, type);\n        }\n        if (type === 'elements') {\n            global.lastElement = index;\n        } else { global.lastUpgrade[player.stage.active] = [index, type]; }\n    }\n    getUpgradeDescription(index, type);\n};\nconst hoverStrangeness = (index: number, stageIndex: number, type: 'strangeness' | 'milestones') => {\n    if (type === 'strangeness') {\n        global.lastStrangeness = [index, stageIndex];\n    } else { global.lastMilestone = [index, stageIndex]; }\n    getStrangenessDescription(index, stageIndex, type);\n};\nconst hoverChallenge = (index: number, type: 'challenge' | 'reward') => {\n    if (type === 'challenge') {\n        global.lastChallenge[0] = index;\n        getChallengeDescription(index);\n    } else {\n        global.lastChallenge[1] = index;\n        getChallengeReward(index);\n    }\n};\n\nexport const buyAll = () => {\n    const active = player.stage.active;\n    for (let i = 1; i < specialHTML.longestBuilding; i++) {\n        buyBuilding(i, active, 0);\n    }\n};\n\nexport const pauseGame = async() => {\n    if (global.paused) { return; }\n    global.paused = true;\n    changeIntervals();\n    const claim = await Confirm(\"Game is currently paused. Any button bellow will unpause, press 'Confirm' to keep Offline time\");\n\n    const offline = handleOfflineTime();\n    global.lastSave += offline;\n    if (claim) {\n        void simulateOffline(offline, true);\n    } else {\n        global.paused = false;\n        changeIntervals();\n    }\n};\n\ntry { //Start everything\n    preventImageUnload();\n    const body = document.body;\n\n    const globalSaveStart = deepClone(globalSave); //For cases with incorrect length\n    const globalSettings = localStorage.getItem('fundamentalSettings');\n    if (globalSettings !== null) {\n        Object.assign(globalSave, JSON.parse(atob(globalSettings)));\n        (getId('decimalPoint') as HTMLInputElement).value = globalSave.format[0];\n        (getId('thousandSeparator') as HTMLInputElement).value = globalSave.format[1];\n        (getId('mainInterval') as HTMLInputElement).value = `${globalSave.intervals.main}`;\n        (getId('numbersInterval') as HTMLInputElement).value = `${globalSave.intervals.numbers}`;\n        (getId('visualInterval') as HTMLInputElement).value = `${globalSave.intervals.visual / 1000}`;\n        (getId('autoSaveInterval') as HTMLInputElement).value = `${globalSave.intervals.autoSave / 1000}`;\n        for (let i = 0; i < globalSaveStart.toggles.length; i++) { toggleSpecial(i, 'global'); }\n        if (globalSave.fontSize !== 16) { changeFontSize(true); } //Also sets breakpoints for screen size\n        if (globalSave.toggles[2]) { body.style.userSelect = ''; }\n        if (globalSave.toggles[1]) {\n            const elementsArea = getId('upgradeSubtabElements');\n            elementsArea.id = 'ElementsTab';\n            getId('upgradeTab').after(elementsArea);\n            specialHTML.cache.idMap.delete('upgradeSubtabElements');\n\n            const elementsButton = getId('upgradeSubtabBtnElements');\n            elementsButton.id = 'ElementsTabBtn';\n            elementsButton.classList.add('stage4Include');\n            getId('upgradeTabBtn').after(elementsButton);\n            specialHTML.cache.idMap.delete('upgradeSubtabBtnElements');\n\n            const tabList = global.tabList;\n            tabList.ElementsSubtabs = [];\n            tabList.upgradeSubtabs.splice(tabList.upgradeSubtabs.indexOf('Elements'), 1);\n            tabList.tabs.splice(tabList.tabs.indexOf('upgrade') + 1, 0, 'Elements');\n        }\n\n        if (globalSave.MDSettings[0]) {\n            (document.getElementById('MDMessage1') as HTMLElement).remove();\n            specialHTML.styleSheet.textContent += 'input[type = \"image\"], img { -webkit-touch-callout: none; }'; //Safari junk to disable image hold menu\n            specialHTML.styleSheet.textContent += '#themeArea.windowOpen > div > div { display: flex; } #themeArea.windowOpen > div > button { clip-path: circle(0); }'; //More Safari junk to make windows work without focus\n            (getId('file') as HTMLInputElement).accept = ''; //Accept for unknown reason not properly supported on phones\n\n            const arrowStage = document.createElement('button');\n            arrowStage.append(document.createElement('div'));\n            arrowStage.type = 'button';\n            const arrowReset1 = document.createElement('button');\n            arrowReset1.append(document.createElement('div'));\n            arrowReset1.type = 'button';\n            getId('resetStage').append(arrowStage);\n            arrowStage.addEventListener('click', () => getId('resetStage').classList.toggle('open'));\n            arrowStage.addEventListener('blur', () => getId('resetStage').classList.remove('open'));\n            getId('reset1Main').append(arrowReset1);\n            arrowReset1.addEventListener('click', () => getId('reset1Main').classList.toggle('open'));\n            arrowReset1.addEventListener('blur', () => getId('reset1Main').classList.remove('open'));\n            specialHTML.styleSheet.textContent += '#resets { row-gap: 1em; } #resets > section { position: relative; flex-direction: row; justify-content: center; width: unset; padding: unset; row-gap: unset; background-color: unset; border: unset; } #resets > section:not(.open) > p { display: none !important; }';\n            specialHTML.styleSheet.textContent += '#resets > section > button:last-of-type { width: 2.2em !important; margin-left: -2px; } #resets button > div { clip-path: polygon(0 0, 50% 100%, 100% 0, 50% 25%); width: 1.24em; height: 1.24em; background-color: var(--main-text); pointer-events: none; margin: auto; } #resets p { position: absolute; width: 17.4em; padding: 0.5em 0.6em 0.6em; background-color: var(--window-color); border: 2px solid var(--window-border); top: calc(100% - 2px); z-index: 1; box-sizing: content-box; }';\n\n            const structuresButton = document.createElement('button');\n            structuresButton.textContent = 'Structures';\n            structuresButton.id = 'structuresFooter';\n            structuresButton.type = 'button';\n            const stageButton = document.createElement('button');\n            stageButton.textContent = 'Stage';\n            stageButton.id = 'stageFooter';\n            stageButton.type = 'button';\n            const reset1Button = document.createElement('button');\n            reset1Button.id = 'reset1Footer';\n            reset1Button.type = 'button';\n            const resetCollapse = document.createElement('button');\n            resetCollapse.textContent = 'Collapse';\n            resetCollapse.id = 'resetCollapseFooter';\n            resetCollapse.type = 'button';\n            resetCollapse.className = 'stage5Only';\n            const resetGalaxy = document.createElement('button');\n            resetGalaxy.textContent = 'Galaxy';\n            resetGalaxy.id = 'resetGalaxyFooter';\n            resetGalaxy.type = 'button';\n            resetGalaxy.className = 'stage4Only';\n            getId('phoneHotkeys').prepend(resetGalaxy, reset1Button, resetCollapse, stageButton, structuresButton);\n\n            const createUpgButton = document.createElement('button');\n            createUpgButton.classList.add('hollowButton');\n            createUpgButton.textContent = 'Create';\n            createUpgButton.id = 'upgradeCreate';\n            createUpgButton.type = 'button';\n            getId('toggleHover0').after(createUpgButton);\n\n            const createInfButton = document.createElement('button');\n            createInfButton.classList.add('hollowButton');\n            createInfButton.textContent = 'Activate';\n            createInfButton.id = 'inflationActivate';\n            createInfButton.type = 'button';\n            getId('inflationRefund').before(createInfButton);\n\n            const pages = document.createElement('div');\n            pages.id = 'strangenessPages';\n            pages.innerHTML = '<button type=\"button\" id=\"strangenessPage1\" class=\"stage1borderImage hollowButton\">1</button><button type=\"button\" id=\"strangenessPage2\" class=\"stage2borderImage hollowButton\">2</button><button type=\"button\" id=\"strangenessPage3\" class=\"stage3borderImage hollowButton\">3</button><button type=\"button\" id=\"strangenessPage4\" class=\"stage4borderImage hollowButton\">4</button><button type=\"button\" id=\"strangenessPage5\" class=\"stage5borderImage hollowButton\">5</button><button type=\"button\" id=\"strangenessCreate\" class=\"hollowButton\">Create</button>';\n            specialHTML.styleSheet.textContent += '#strangenessPages { display: flex; justify-content: center; column-gap: 0.3em; } #strangenessPages button { width: 2.08em; height: calc(2.08em - 2px); border-top: none; border-radius: 0 0 4px 4px; } #strangenessCreate { width: unset !important; padding: 0 0.4em; }';\n            getId('strangenessResearch').append(pages);\n\n            const MDToggle1 = document.createElement('li');\n            MDToggle1.innerHTML = '<label>Keep mouse events<button type=\"button\" id=\"MDToggle1\" class=\"specialToggle\">OFF</button></label>';\n            getId('MDLi').after(MDToggle1);\n\n            getId('MDToggle1').addEventListener('click', () => toggleSpecial(1, 'mobile', true, true));\n            for (let i = 0; i < globalSaveStart.MDSettings.length; i++) { toggleSpecial(i, 'mobile'); }\n        }\n        if (globalSave.SRSettings[0]) {\n            (document.getElementById('SRMessage1') as HTMLElement).remove();\n            for (let i = 0; i < 3; i++) {\n                const effectID = getId(i === 0 ? 'solarMassExplanation' : `star${i}Explanation`);\n                effectID.textContent = ` (${effectID.textContent})`;\n            }\n            for (let i = 1; i <= 1; i++) {\n                const effectID = getId(`merge${i}Explanation`);\n                effectID.textContent = ` (${effectID.textContent})`;\n            }\n\n            const SRMainDiv = document.createElement('article');\n            SRMainDiv.innerHTML = '<h3>Information for Screen reader</h3><p id=\"SRTab\" aria-live=\"polite\"></p><p id=\"SRStage\" aria-live=\"polite\"></p><p id=\"SRMain\" aria-live=\"assertive\"></p>';\n            SRMainDiv.className = 'reader';\n            getId('fakeFooter').before(SRMainDiv);\n\n            const SRToggle1 = document.createElement('li');\n            SRToggle1.innerHTML = '<label>Keep tab index on created Upgrades<button type=\"button\" id=\"SRToggle1\" class=\"specialToggle\">OFF</button></label>';\n            const SRToggle2 = document.createElement('li');\n            SRToggle2.innerHTML = '<label>Keep tab index on primary buttons<button type=\"button\" id=\"SRToggle2\" class=\"specialToggle\">OFF</button></label>';\n            getId('SRLi').after(SRToggle1, SRToggle2);\n\n            getId('SRToggle1').addEventListener('click', () => {\n                toggleSpecial(1, 'reader', true);\n                stageUpdate('reload');\n                for (let s = 1; s < playerStart.strangeness.length; s++) {\n                    for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) {\n                        visualUpdateResearches(i, s, 'strangeness');\n                    }\n                }\n                visualUpdateInflation();\n            });\n\n            const primaryIndex = (reload = false) => {\n                if (!reload) { toggleSpecial(2, 'reader', true); }\n                const newTab = globalSave.SRSettings[2] ? 0 : -1;\n                getId('stageReset').tabIndex = newTab;\n                getId('reset1Button').tabIndex = newTab;\n                for (let i = 1; i < specialHTML.longestBuilding; i++) {\n                    getId(`building${i}Btn`).tabIndex = newTab;\n                    getId(`toggleBuilding${i}`).tabIndex = newTab;\n                }\n                getId('toggleBuilding0').tabIndex = newTab;\n                for (const tabText of global.tabList.tabs) {\n                    getId(`${tabText}TabBtn`).tabIndex = newTab;\n                    for (const subtabText of global.tabList[`${tabText}Subtabs`]) {\n                        getId(`${tabText}SubtabBtn${subtabText}`).tabIndex = newTab;\n                    }\n                }\n                for (let i = 1; i < global.stageInfo.word.length; i++) {\n                    getId(`${global.stageInfo.word[i]}Switch`).tabIndex = newTab;\n                }\n            };\n            getId('SRToggle2').addEventListener('click', () => { primaryIndex(); });\n\n            if (globalSave.SRSettings[2]) { primaryIndex(true); }\n            for (let i = 0; i < globalSaveStart.SRSettings.length; i++) { toggleSpecial(i, 'reader'); }\n            specialHTML.styleSheet.textContent += '#starEffects > p > span, #mergeEffects > p > span { display: unset !important; }';\n        }\n        if (globalSave.developerMode) {\n            const pauseButton = document.createElement('button');\n            pauseButton.classList.add('hollowButton');\n            pauseButton.textContent = 'Pause';\n            pauseButton.type = 'button';\n            getId('numbersLi').append(pauseButton);\n            pauseButton.addEventListener('click', pauseGame);\n        }\n    }\n\n    let oldVersion = player.version;\n    const save = localStorage.getItem('testing_save');\n    if (save !== null) {\n        oldVersion = updatePlayer(JSON.parse(atob(save)));\n    } else {\n        prepareVacuum(false); //Set buildings values\n        updatePlayer(deepClone(playerStart));\n    }\n\n    /* Global */\n    const MD = globalSave.MDSettings[0];\n    const SR = globalSave.SRSettings[0];\n    const PC = !MD || globalSave.MDSettings[1];\n    body.addEventListener('keydown', (key: KeyboardEvent) => detectHotkey(key));\n    const releaseHotkey = (event: KeyboardEvent | MouseEvent) => {\n        if (global.hotkeys.shift && !event.shiftKey) { global.hotkeys.shift = false; }\n        if (global.hotkeys.ctrl && !event.ctrlKey) { global.hotkeys.ctrl = false; }\n    };\n    body.addEventListener('keyup', releaseHotkey);\n    body.addEventListener('contextmenu', (event) => {\n        const activeType = (document.activeElement as HTMLInputElement)?.type;\n        if (activeType !== 'text' && activeType !== 'number' && !globalSave.developerMode) { event.preventDefault(); }\n    });\n    if (PC) {\n        body.addEventListener('mouseup', (event) => {\n            cancelRepeat();\n            releaseHotkey(event);\n        });\n        body.addEventListener('mouseleave', cancelRepeat);\n    }\n    if (MD) {\n        body.addEventListener('touchend', cancelRepeat);\n        body.addEventListener('touchcancel', cancelRepeat);\n    }\n\n    /* Toggles */\n    for (let i = 0; i < globalSaveStart.toggles.length; i++) {\n        getId(`globalToggle${i}`).addEventListener('click', () => {\n            toggleSpecial(i, 'global', true, i === 1);\n            if (i === 2) {\n                document.body.style.userSelect = globalSave.toggles[2] ? '' : 'none';\n            }\n        });\n    }\n    for (let i = 0; i < playerStart.toggles.normal.length; i++) {\n        getId(`toggleNormal${i}`).addEventListener('click', () => toggleSwap(i, 'normal', true));\n    }\n    for (let i = 0; i < playerStart.toggles.confirm.length; i++) {\n        getId(`toggleConfirm${i}`).addEventListener('click', () => toggleConfirm(i, true));\n    }\n    for (let i = 0; i < specialHTML.longestBuilding; i++) {\n        getId(`toggleBuilding${i}`).addEventListener('click', () => toggleSwap(i, 'buildings', true));\n    }\n    for (let i = 0; i < playerStart.toggles.hover.length; i++) {\n        getId(`toggleHover${i}`).addEventListener('click', () => toggleSwap(i, 'hover', true));\n    }\n    for (let i = 0; i < playerStart.toggles.max.length; i++) {\n        getId(`toggleMax${i}`).addEventListener('click', () => toggleSwap(i, 'max', true));\n    }\n    for (let i = 0; i < playerStart.toggles.auto.length; i++) {\n        getId(`toggleAuto${i}`).addEventListener('click', () => {\n            toggleSwap(i, 'auto', true);\n            if (i === 5) {\n                autoUpgradesSet('all');\n            } else if (i === 6) {\n                autoResearchesSet('researches', 'all');\n            } else if (i === 7) {\n                autoResearchesSet('researchesExtra', 'all');\n            } else if (i === 8) {\n                autoElementsSet();\n            }\n        });\n    }\n\n    /* Stage tab */\n    {\n        const clickHoldFunc = () => {\n            if (player.inflation.vacuum || player.stage.active >= 4) { return; }\n            void stageResetUser();\n        };\n        const stageButton = getId('stageReset');\n        stageButton.addEventListener('click', stageResetUser);\n        if (PC) { stageButton.addEventListener('mousedown', () => repeatFunction(clickHoldFunc)); }\n        if (MD) {\n            stageButton.addEventListener('touchstart', () => repeatFunction(clickHoldFunc));\n            const footerButton = getId('stageFooter');\n            footerButton.addEventListener('click', stageResetUser);\n            footerButton.addEventListener('touchstart', () => repeatFunction(clickHoldFunc));\n            if (PC) { footerButton.addEventListener('mousedown', () => repeatFunction(clickHoldFunc)); }\n        }\n    }\n    {\n        const clickFunc = () => {\n            const active = player.stage.active;\n            if (active === 1) {\n                void dischargeResetUser();\n            } else if (active === 2) {\n                void vaporizationResetUser();\n            } else if (active === 3) {\n                void rankResetUser();\n            } else if (active === 4) {\n                void collapseResetUser();\n            } else if (active === 5) {\n                void mergeResetUser();\n            }\n        };\n        const clickHoldFunc = () => {\n            if (player.stage.active !== 1 && player.stage.active !== 3) { return; }\n            clickFunc();\n        };\n        const resetButton = getId('reset1Button');\n        resetButton.addEventListener('click', clickFunc);\n        if (PC) { resetButton.addEventListener('mousedown', () => repeatFunction(clickHoldFunc)); }\n        if (MD) {\n            resetButton.addEventListener('touchstart', () => repeatFunction(clickHoldFunc));\n            const footerButton = getId('reset1Footer');\n            footerButton.addEventListener('click', clickFunc);\n            footerButton.addEventListener('touchstart', () => repeatFunction(clickHoldFunc));\n            if (PC) { footerButton.addEventListener('mousedown', () => repeatFunction(clickHoldFunc)); }\n            getId('resetCollapseFooter').addEventListener('click', collapseResetUser);\n\n            const clickGalaxy = () => buyBuilding(3, 5);\n            const galaxyButton = getId('resetGalaxyFooter');\n            galaxyButton.addEventListener('click', clickGalaxy);\n            galaxyButton.addEventListener('touchstart', () => repeatFunction(clickGalaxy));\n            if (PC) { galaxyButton.addEventListener('mousedown', () => repeatFunction(clickGalaxy)); }\n        }\n    }\n    for (let i = 1; i < specialHTML.longestBuilding; i++) {\n        const button = getId(`building${i}Btn`);\n        const clickFunc = () => buyBuilding(i);\n        button.addEventListener('click', clickFunc);\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n        if (MD) { button.addEventListener('touchstart', () => repeatFunction(clickFunc)); }\n    }\n    {\n        const button = getId('makeAllStructures');\n        button.addEventListener('click', buyAll);\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(buyAll)); }\n        if (MD) {\n            button.addEventListener('touchstart', () => repeatFunction(buyAll));\n            const footer = getId('structuresFooter');\n            footer.addEventListener('click', buyAll);\n            footer.addEventListener('touchstart', () => repeatFunction(buyAll));\n            if (PC) { footer.addEventListener('mousedown', () => repeatFunction(buyAll)); }\n        }\n    }\n    getId('buyAnyInput').addEventListener('change', () => {\n        const input = getId('buyAnyInput') as HTMLInputElement;\n        player.toggles.shop.input = Math.max(Math.trunc(Number(input.value)), 0);\n        input.value = format(player.toggles.shop.input, { type: 'input' });\n        numbersUpdate();\n    });\n    getId('autoWaitInput').addEventListener('change', () => {\n        const input = getId('autoWaitInput') as HTMLInputElement;\n        let value = Math.max(Number(input.value), 1);\n        if (isNaN(value)) { value = 2; }\n        player.toggles.shop.wait[player.stage.active] = value;\n        input.value = format(value, { type: 'input' });\n    });\n\n    for (let i = 0; i < global.challengesInfo.name.length; i++) {\n        const image = getId(`challenge${i + 1}`);\n        if (PC) { image.addEventListener('mouseover', () => hoverChallenge(i, 'challenge')); }\n        if (MD) { image.addEventListener('touchstart', () => hoverChallenge(i, 'challenge')); }\n        if (SR) { image.addEventListener('focus', () => hoverChallenge(i, 'challenge')); }\n        image.addEventListener('click', () => { void enterExitChallengeUser(i); });\n    }\n    for (let i = 1; i < global.challengesInfo.rewardText[0].length; i++) {\n        const image = getId(`voidReward${global.stageInfo.word[i]}`);\n        image.addEventListener('click', () => hoverChallenge(i, 'reward'));\n        if (MD) { image.addEventListener('click', () => (getId('voidRewardsDiv').style.display = 'block')); } //Safari bugs with no focus events\n    }\n    if (MD) { getId('voidRewardsDiv').addEventListener('click', () => (getId('voidRewardsDiv').style.display = '')); }\n\n    /* Upgrade tab */\n    for (let i = 0; i < specialHTML.longestUpgrade; i++) {\n        const image = getId(`upgrade${i + 1}`);\n        const hoverFunc = () => hoverUpgrades(i, 'upgrades');\n        if (PC) { image.addEventListener('mouseover', hoverFunc); }\n        if (MD) {\n            image.addEventListener('touchstart', () => repeatFunction(hoverFunc, true));\n        } else {\n            const clickFunc = () => buyUpgrades(i, player.stage.active, 'upgrades');\n            image.addEventListener('click', clickFunc);\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (SR) { image.addEventListener('focus', hoverFunc); }\n    }\n    for (let i = 0; i < specialHTML.longestResearch; i++) {\n        const image = getId(`research${i + 1}Image`);\n        const hoverFunc = () => hoverUpgrades(i, 'researches');\n        if (PC) { image.addEventListener('mouseover', hoverFunc); }\n        if (MD) {\n            image.addEventListener('touchstart', () => repeatFunction(hoverFunc, true));\n        } else {\n            const clickFunc = () => buyUpgrades(i, player.stage.active, 'researches');\n            image.addEventListener('click', clickFunc);\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (SR) { image.addEventListener('focus', hoverFunc); }\n    }\n    for (let i = 0; i < specialHTML.longestResearchExtra; i++) {\n        const image = getId(`researchExtra${i + 1}Image`);\n        const hoverFunc = () => hoverUpgrades(i, 'researchesExtra');\n        if (PC) { image.addEventListener('mouseover', hoverFunc); }\n        if (MD) {\n            image.addEventListener('touchstart', () => repeatFunction(hoverFunc, true));\n        } else {\n            const clickFunc = () => buyUpgrades(i, player.stage.active, 'researchesExtra');\n            image.addEventListener('click', clickFunc);\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (SR) { image.addEventListener('focus', hoverFunc); }\n    }\n    for (let i = 0; i < global.researchesAutoInfo.costRange.length; i++) {\n        const image = getId(`researchAuto${i + 1}Image`);\n        const hoverFunc = () => hoverUpgrades(i, 'researchesAuto');\n        if (PC) { image.addEventListener('mouseover', hoverFunc); }\n        if (MD) {\n            image.addEventListener('touchstart', () => repeatFunction(hoverFunc, true));\n        } else {\n            const clickFunc = () => buyUpgrades(i, player.stage.active, 'researchesAuto');\n            image.addEventListener('click', clickFunc);\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (SR) { image.addEventListener('focus', hoverFunc); }\n    }\n    {\n        const image = getId('ASRImage');\n        const hoverFunc = () => hoverUpgrades(0, 'ASR');\n        if (PC) { image.addEventListener('mouseover', hoverFunc); }\n        if (MD) {\n            image.addEventListener('touchstart', () => repeatFunction(hoverFunc, true));\n        } else {\n            const clickFunc = () => buyUpgrades(0, player.stage.active, 'ASR');\n            image.addEventListener('click', clickFunc);\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (SR) { image.addEventListener('focus', hoverFunc); }\n    }\n    if (MD) {\n        const button = getId('upgradeCreate');\n        const clickFunc = () => {\n            const active = player.stage.active;\n            const last = global.lastUpgrade[active];\n            if (last[0] !== null) { buyUpgrades(last[0], active, last[1]); }\n        };\n        button.addEventListener('click', clickFunc);\n        button.addEventListener('touchstart', () => repeatFunction(clickFunc));\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n    }\n\n    {\n        const button = getId('element0');\n        const dblclickFunc = () => {\n            global.lastElement = 0;\n            getUpgradeDescription(0, 'elements');\n        };\n        if (SR) {\n            getId('element1').addEventListener('keydown', (key) => {\n                if (key.code === 'Tab' && key.shiftKey) {\n                    const element = getId('element0');\n                    element.tabIndex = 0;\n                    element.ariaHidden = 'false';\n                }\n            });\n            button.addEventListener('keydown', (key) => {\n                if (key.code === 'Enter') { dblclickFunc(); }\n            });\n            button.addEventListener('blur', () => {\n                const element = getId('element0');\n                element.tabIndex = -1;\n                element.ariaHidden = 'true';\n            });\n        }\n        if (PC) { button.addEventListener('dblclick', dblclickFunc); }\n        if (MD) {\n            button.addEventListener('touchstart', () => {\n                if (global.intervalsId.mouseRepeat !== undefined) { return; }\n                global.intervalsId.mouseRepeat = setTimeout(dblclickFunc, 3000);\n            });\n        }\n    }\n    for (let i = 1; i < global.elementsInfo.startCost.length; i++) {\n        const image = getId(`element${i}`);\n        const clickFunc = () => buyUpgrades(i, 4, 'elements');\n        if (PC) {\n            image.addEventListener('mouseover', () => hoverUpgrades(i, 'elements'));\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (MD) {\n            image.addEventListener('touchstart', () => {\n                hoverUpgrades(i, 'elements');\n                repeatFunction(clickFunc);\n            });\n        }\n        if (SR) { image.addEventListener('focus', () => hoverUpgrades(i, 'elements')); }\n        if (PC || SR) { image.addEventListener('click', clickFunc); }\n    }\n\n    /* Strangeness tab */\n    for (let i = 0; i < 2; i++) {\n        const strange = getId(`strange${i}`);\n        const type = ['quarks', 'strangelets'][i];\n        const openFunction = () => {\n            if (type === 'quarks' && !player.inflation.vacuum && player.milestones[4][0] < 8) { return; }\n            getId(`${type}EffectsMain`).style.display = '';\n            numbersUpdate();\n        };\n        strange.addEventListener('click', openFunction);\n        if (SR) { strange.addEventListener('focus', openFunction); }\n        strange.addEventListener('blur', () => (getId(`${type}EffectsMain`).style.display = 'none'));\n        getId(`${type}EffectsMain`).addEventListener('click', (event: Event) => {\n            getId(`${type}EffectsMain`).style.display = 'none';\n            event.stopPropagation();\n        });\n    }\n    for (let s = 1; s < global.strangenessInfo.length; s++) {\n        if (MD) { getId(`strangenessPage${s}`).addEventListener('click', () => MDStrangenessPage(s)); }\n        for (let i = 0; i < global.strangenessInfo[s].startCost.length; i++) {\n            const image = getId(`strange${i + 1}Stage${s}Image`);\n            const hoverFunc = () => hoverStrangeness(i, s, 'strangeness');\n            if (PC) { image.addEventListener('mouseover', hoverFunc); }\n            if (MD) {\n                image.addEventListener('touchstart', () => { /*repeatFunction(*/hoverFunc(); /*, true);*/ });\n            } else {\n                const clickFunc = () => buyStrangeness(i, s, 'strangeness');\n                image.addEventListener('click', clickFunc);\n                image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n            }\n            if (SR) { image.addEventListener('focus', hoverFunc); }\n        }\n    }\n    if (MD) {\n        const button = getId('strangenessCreate');\n        const clickFunc = () => {\n            const last = global.lastStrangeness;\n            if (last[0] !== null) { buyStrangeness(last[0], last[1], 'strangeness'); }\n        };\n        button.addEventListener('click', clickFunc);\n        button.addEventListener('touchstart', () => repeatFunction(clickFunc));\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n    }\n    for (let s = 1; s < global.milestonesInfo.length; s++) {\n        for (let i = 0; i < global.milestonesInfo[s].need.length; i++) {\n            const image = getQuery(`#milestone${i + 1}Stage${s}Div > img`);\n            if (PC) { image.addEventListener('mouseover', () => hoverStrangeness(i, s, 'milestones')); }\n            if (MD) { image.addEventListener('touchstart', () => hoverStrangeness(i, s, 'milestones')); }\n            if (SR) {\n                image.tabIndex = 0;\n                image.classList.add('noFocusOutline');\n                image.addEventListener('focus', () => hoverStrangeness(i, s, 'milestones'));\n            }\n        }\n    }\n\n    /* Inflation tab */\n    for (let i = 0; i < global.inflationTreeInfo.startCost.length; i++) {\n        const image = getId(`inflation${i + 1}`);\n        const hoverFunc = () => hoverUpgrades(i, 'inflation');\n        if (PC) { image.addEventListener('mouseover', hoverFunc); }\n        if (MD) {\n            image.addEventListener('touchstart', () => { /*repeatFunction(*/hoverFunc(); /*, true);*/ });\n        } else {\n            const clickFunc = () => buyStrangeness(i, 0, 'inflation');\n            image.addEventListener('click', clickFunc);\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (SR) { image.addEventListener('focus', hoverFunc); }\n    }\n    getId('inflationRefund').addEventListener('click', inflationRefund);\n    if (MD) {\n        const button = getId('inflationActivate');\n        const clickFunc = () => {\n            if (global.lastInflation !== null) { buyStrangeness(global.lastInflation, 0, 'inflation'); }\n        };\n        button.addEventListener('click', clickFunc);\n        button.addEventListener('touchstart', () => repeatFunction(clickFunc));\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n    }\n\n    /* Settings tab */\n    getId('vaporizationInput').addEventListener('change', () => {\n        const input = getId('vaporizationInput') as HTMLInputElement;\n        player.vaporization.input[0] = Math.max(Number(input.value), 0);\n        input.value = format(player.vaporization.input[0], { type: 'input' });\n    });\n    getId('vaporizationInputMax').addEventListener('change', () => {\n        const input = getId('vaporizationInputMax') as HTMLInputElement;\n        player.vaporization.input[1] = Math.max(Number(input.value), 0);\n        input.value = format(player.vaporization.input[1], { type: 'input' });\n    });\n    getId('collapseStarsInput').addEventListener('change', () => {\n        const input = getId('collapseStarsInput') as HTMLInputElement;\n        player.collapse.input[0] = Math.max(Number(input.value), 1);\n        input.value = format(player.collapse.input[0], { type: 'input' });\n    });\n    getId('collapseStarsInputWait').addEventListener('change', () => {\n        const input = getId('collapseStarsInputWait') as HTMLInputElement;\n        player.collapse.input[1] = Number(input.value);\n        input.value = format(player.collapse.input[1], { type: 'input' });\n    });\n    getId('stageInput').addEventListener('change', () => {\n        const input = getId('stageInput') as HTMLInputElement;\n        player.stage.input = Math.max(Number(input.value), 0);\n        input.value = format(player.stage.input, { type: 'input' });\n    });\n    getId('versionButton').addEventListener('click', () => {\n        buildVersionInfo();\n        getId('versionInfo').style.display = '';\n    });\n    getId('save').addEventListener('click', () => { void saveGame(); });\n    getId('file').addEventListener('change', async() => {\n        const id = getId('file') as HTMLInputElement;\n        loadGame(await (id.files as FileList)[0].text());\n        id.value = '';\n    });\n    getId('export').addEventListener('click', exportFileGame);\n    getId('saveConsole').addEventListener('click', saveConsole);\n    if (MD) {\n        getId('currentTheme').addEventListener('click', () => getId('themeArea').classList.add('windowOpen'));\n        getId('themeArea').addEventListener('mouseleave', () => getId('themeArea').classList.remove('windowOpen'));\n    }\n    getId('switchTheme0').addEventListener('click', () => setTheme(null));\n    for (let i = 1; i < global.stageInfo.word.length; i++) {\n        getId(`switchTheme${i}`).addEventListener('click', () => setTheme(i));\n    }\n    getId('saveFileNameInput').addEventListener('change', () => {\n        const input = getId('saveFileNameInput') as HTMLInputElement;\n        const testValue = input.value; //.replaceAll(/[\\\\/:*?\"<>|]/g, '_');\n        if (testValue.length < 1) { return void (input.value = playerStart.fileName); }\n\n        try {\n            btoa(testValue); //Test for any illegal characters\n            player.fileName = testValue;\n            //input.value = testValue;\n        } catch (error) {\n            void Alert(`Save file name is not allowed\\n${error}`);\n        }\n    });\n    {\n        const button = getId('saveFileHoverButton');\n        const hoverFunc = () => (getId('saveFileNamePreview').textContent = replaceSaveFileSpecials());\n        button.addEventListener('mouseover', hoverFunc);\n        if (SR) { button.addEventListener('focus', hoverFunc); }\n    }\n    getId('mainInterval').addEventListener('change', () => {\n        const mainInput = getId('mainInterval') as HTMLInputElement;\n        globalSave.intervals.main = Math.min(Math.max(Math.trunc(Number(mainInput.value)), 20), 100);\n        mainInput.value = `${globalSave.intervals.main}`;\n        saveGlobalSettings();\n        changeIntervals();\n    });\n    getId('numbersInterval').addEventListener('change', () => {\n        const numberInput = getId('numbersInterval') as HTMLInputElement;\n        globalSave.intervals.numbers = Math.min(Math.max(Math.trunc(Number(numberInput.value)), 40), 200);\n        numberInput.value = `${globalSave.intervals.numbers}`;\n        saveGlobalSettings();\n        changeIntervals();\n    });\n    getId('visualInterval').addEventListener('change', () => {\n        const visualInput = getId('visualInterval') as HTMLInputElement;\n        globalSave.intervals.visual = Math.min(Math.max(Math.trunc(Number(visualInput.value) * 100), 20), 400) * 10;\n        visualInput.value = `${globalSave.intervals.visual / 1000}`;\n        saveGlobalSettings();\n        changeIntervals();\n    });\n    getId('autoSaveInterval').addEventListener('change', () => {\n        const autoSaveInput = getId('autoSaveInterval') as HTMLInputElement;\n        globalSave.intervals.autoSave = Math.min(Math.max(Math.trunc(Number(autoSaveInput.value)), 4), 1800) * 1000;\n        autoSaveInput.value = `${globalSave.intervals.autoSave / 1000}`;\n        saveGlobalSettings();\n        changeIntervals();\n    });\n    getId('thousandSeparator').addEventListener('change', () => changeFormat(false));\n    getId('decimalPoint').addEventListener('change', () => changeFormat(true));\n    getId('MDToggle0').addEventListener('click', () => toggleSpecial(0, 'mobile', true, true));\n    getId('SRToggle0').addEventListener('click', () => toggleSpecial(0, 'reader', true, true));\n    getId('reviewEvents').addEventListener('click', replayEvent);\n    getId('customFontSize').addEventListener('change', () => changeFontSize(false));\n\n    getId('stageResetsSave').addEventListener('change', () => {\n        const inputID = getId('stageResetsSave') as HTMLInputElement;\n        player.history.stage.input[0] = Math.min(Math.max(Math.trunc(Number(inputID.value)), 0), 100);\n        inputID.value = `${player.history.stage.input[0]}`;\n    });\n    getId('stageResetsShow').addEventListener('change', () => {\n        const input = getId('stageResetsShow') as HTMLInputElement;\n        player.history.stage.input[1] = Math.min(Math.max(Math.trunc(Number(input.value)), 4), 100);\n        input.value = `${player.history.stage.input[1]}`;\n        global.debug.historyStage = null;\n        visualUpdate();\n    });\n\n    /* Footer */\n    {\n        const toggle = getId('hideToggle');\n        if (MD) {\n            const timeoutFunc = () => {\n                if (!global.footer) { return hideFooter(); }\n                if (global.intervalsId.mouseRepeat !== undefined) { return; }\n                global.intervalsId.mouseRepeat = setTimeout(hideFooter, 400);\n            };\n            toggle.addEventListener('touchstart', timeoutFunc);\n            if (PC) { toggle.addEventListener('mousedown', timeoutFunc); }\n        } else { toggle.addEventListener('click', hideFooter); }\n    }\n    for (const tabText of global.tabList.tabs) {\n        getId(`${tabText}TabBtn`).addEventListener('click', () => switchTab(tabText));\n        for (const subtabText of global.tabList[`${tabText}Subtabs`]) {\n            getId(`${tabText}SubtabBtn${subtabText}`).addEventListener('click', () => switchTab(tabText, subtabText));\n        }\n    }\n    for (let i = 1; i < global.stageInfo.word.length; i++) {\n        getId(`${global.stageInfo.word[i]}Switch`).addEventListener('click', () => switchStage(i));\n    }\n\n    /* Post */\n    document.head.append(specialHTML.styleSheet);\n    if (globalSave.theme !== null) { setTheme(globalSave.theme); }\n    stageUpdate('reload');\n    if (save !== null) {\n        global.lastSave = handleOfflineTime();\n        Notify(`Welcome back, you were away for ${format(global.lastSave, { type: 'time', padding: false })}${oldVersion !== player.version ? `\\nGame have been updated from ${oldVersion} to ${player.version}` : ''}${globalSave.developerMode ?\n            `\\nGame loaded after ${format((Date.now() - playerStart.time.started) / 1000, { type: 'time', padding: false })}` : ''}\n        `);\n        void simulateOffline(global.lastSave);\n    } else {\n        global.paused = false;\n        changeIntervals();\n    }\n    getId('body').style.display = '';\n    getId('loading').style.display = 'none';\n    document.title = `Fundamental ${playerStart.version}`;\n} catch (error) {\n    const stack = (error as { stack: string }).stack;\n    void Alert(`Game failed to load\\n${typeof stack === 'string' ? stack.replaceAll(`${window.location.origin}/`, '') : error}`, 2);\n    document.body.style.userSelect = '';\n    const buttonDiv = document.createElement('div');\n    buttonDiv.innerHTML = '<button type=\"button\" id=\"exportError\" style=\"width: 7em;\">Export save</button><button type=\"button\" id=\"deleteError\" style=\"width: 7em;\">Delete save</button>';\n    buttonDiv.style.cssText = 'display: flex; column-gap: 0.6em; margin-top: 0.4em;';\n    getId('loading').append(buttonDiv);\n    let exported = false;\n    getId('exportError').addEventListener('click', () => {\n        exported = true;\n        const save = localStorage.getItem('testing_save');\n        if (save === null) { return void Alert('No save file detected'); }\n        const a = document.createElement('a');\n        a.href = `data:text/plain,${save}`;\n        a.download = 'Fundamental post error export';\n        a.click();\n    });\n    getId('deleteError').addEventListener('click', async() => {\n        if (!exported && !await Confirm(\"Recommended to export save file first\\nPress 'Confirm' to confirm and delete your save file\")) { return; }\n        localStorage.removeItem('testing_save');\n        window.location.reload();\n        void Alert('Awaiting game reload');\n    });\n    throw error;\n}\n"],
  "mappings": "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",
  "names": ["checkTab", "tab", "subtab", "player", "global", "checkBuilding", "index", "stageIndex", "checkUpgrade", "upgrade", "type", "autoStage", "allowedToBeReset", "check", "milestoneGetValue", "Overlimit", "milestoneCheck", "pointer", "reset", "type", "stageIndex", "dischargeInfo", "global", "energyStage", "energyType", "buildings", "discharge", "player", "elements", "playerStart", "allowedToBeReset", "visualUpdateUpgrades", "autoElementsSet", "energyRefund", "s", "building", "i", "energy", "upgrades", "autoUpgradesSet", "researches", "visualUpdateResearches", "calculateResearchCost", "autoResearchesSet", "researchesExtra", "setRemnants", "deficit", "max", "assignPuddles", "assignBuildingInformation", "visualUpdate", "numbersUpdate", "resetStage", "update", "buildingResetValue", "cloneArray", "calculateMaxLevel", "switchTab", "checkTab", "stageUpdate", "active", "resetVacuum", "activeMilestone", "startQuarks", "assignStrangeInfo", "assignMaxRank", "assignEnergyArray", "assignMilestoneInformation", "prepareVacuum", "state", "buildings", "playerStart", "buildingsInfo", "upgradesInfo", "researchesInfo", "researchesExtraInfo", "strangenessInfo", "global", "star3ExpId", "getId", "buildingsActive", "upgrades1Cost", "researches1Cost", "researches1Scaling", "strangeness1Cost", "strangeness1Scaling", "strangeness2Cost", "strangeness2Scaling", "strangeness3Cost", "strangeness3Scaling", "strangeness4Cost", "strangeness4Scaling", "strangeness5Cost", "strangeness5Scaling", "specialHTML", "milestone1S1", "getQuery", "milestone1S2", "milestone1S4", "s", "i", "globalSave", "newValue", "switchVacuum", "player", "playEvent", "resetVacuum", "calculateEffects", "research", "player", "base", "preons", "discharges", "global", "level", "post", "effect", "Overlimit", "puddles", "maxTrue", "rain", "drops", "power", "mass", "stars", "logAny", "blackHoles", "disc", "levels", "transfer", "effective", "stage", "type", "assignBuildingInformation", "buildings", "upgrades", "researches", "researchesExtra", "elements", "strangeness", "dischargeInfo", "producing", "stageBoost", "activeAll", "vacuum", "inVoid", "energy", "tension", "stress", "b3", "b4", "b5", "totalMultiplier", "selfBoost", "listForMult5", "prod5Number", "radiation", "listForMult4", "prod4Number", "listForMult3", "prod3Number", "listForMult2", "listForMult1", "preonsExcess", "selfPreons", "vaporizationInfo", "flow", "prod2Number", "dropsEffective", "excess", "accretionInfo", "weathering", "satellitesBoost", "prod1Number", "collapseInfo", "massEffect", "listForTotal", "totalNumber", "clusterProd", "currentGalaxies", "biggerStructures", "inflationInfo", "laterPreons", "accretionMass", "calculateMassGain", "microworldMass", "buyBuilding", "index", "stageIndex", "howMany", "auto", "checkBuilding", "building", "pointer", "currency", "free", "multi", "special", "budget", "total", "calculateBuildingsCost", "afford", "scaling", "addEnergy", "assignPuddles", "awardMilestone", "numbersUpdate", "globalSave", "getId", "format", "reset", "calculateMaxLevel", "awardVoidReward", "income", "info", "start", "i", "prepareVacuum", "resetVacuum", "increase", "discharge", "add", "buildingsInfo", "firstCost", "water5", "water4", "water3", "water2", "gainBuildings", "get", "time", "stageGet", "Notify", "assignStrangeInfo", "strangeQuarks", "information", "strangelets", "gainStrange", "strange", "assignGlobalSpeed", "speed", "buyUpgrades", "upgrade", "checkUpgrade", "autoStage", "switchStage", "cost", "switchTab", "newLevels", "simplify", "update", "setActiveStage", "stageUpdate", "setRemnants", "playerStart", "visualTrueStageUnlocks", "old", "visualUpdateUpgrades", "calculateResearchCost", "visualUpdateResearches", "buyStrangeness", "assignTrueEnergy", "assignMaxRank", "visualUpdateInflation", "addAuto", "max", "autoResearchesSet", "autoUpgradesSet", "which", "s", "startCost", "a", "b", "autoUpgradesBuy", "newIndex", "autoResearchesBuy", "sort", "bought", "autoElementsSet", "autoElementsBuy", "toggleSwap", "number", "change", "toggles", "maxLength", "anyOn", "extraText", "toggleHTML", "toggleConfirm", "assignQuarksGain", "stageResetCheck", "quarks", "peakCheck", "stageResetReward", "stageResetUser", "active", "errorText", "assignMergeReward", "universeCost", "assignNewMass", "galaxyCost", "Confirm", "readerMessage", "realTime", "resetThese", "playEvent", "check", "storage", "resetStage", "stageFullReset", "current", "getDischargeScale", "assignDischargeCost", "assignEnergyArray", "energyArray", "value", "energyType", "dischargeResetCheck", "goals", "dischargeReset", "dischargeResetUser", "noReset", "assignNewClouds", "softcap", "vaporizationResetCheck", "clouds", "vaporizationReset", "rainNow", "rainAfter", "storm", "vaporizationResetUser", "autoClouds", "vaporization", "rankResetCheck", "rank", "rankReset", "rankResetUser", "massGain", "assignNewRemnants", "starCheck", "collapseResetCheck", "remnants", "collapseReset", "timeUntil", "massBoost", "calculateStar", "collapseResetUser", "unlockedG", "cantAffordG", "newStars", "newMass", "count", "message", "collapse", "calculateMergeMaxResets", "mergeResetCheck", "mergeResetUser", "mergeReset", "checkReward", "switchVacuum", "assignMilestoneInformation", "percentage", "milestoneCheck", "progress", "getChallengeDescription", "getChallengeReward", "inflationRefund", "tree", "cosmon", "exitChallengeAuto", "enterExitChallengeUser", "currentID", "switchTab", "tab", "subtab", "oldTab", "global", "getId", "inside", "subtabAmount", "checkTab", "globalSave", "oldSubtab", "active", "player", "setActiveStage", "stageUpdate", "switchStage", "visualUpdate", "numbersUpdate", "timeUpdate", "timeWarp", "tick", "time", "ASR", "auto", "autoBuy", "maxActive", "autoU", "autoR", "autoE", "activeAll", "challenge", "vacuum", "passedSeconds", "extraTime", "currentTime", "simulateOffline", "trueSeconds", "assignGlobalSpeed", "stageResetCheck", "assignQuarksGain", "exitChallengeAuto", "assignBuildingInformation", "gainBuildings", "autoUpgradesBuy", "autoResearchesBuy", "i", "buyBuilding", "research", "autoElementsBuy", "awardMilestone", "collapseResetCheck", "rankResetCheck", "vaporizationResetCheck", "dischargeResetCheck", "buildings", "format", "stars", "Overlimit", "buildingsInfo", "howMany", "trueCountID", "lockText", "costName", "currency", "free", "multi", "e", "extra", "buy", "cost", "calculateBuildingsCost", "scaling", "calculateEffects", "rainNow", "rainAfter", "storm", "assignNewMass", "collapseInfo", "massEffect", "starEffect", "total", "timeUntil", "assignMergeReward", "remaining", "calculateMergeMaxResets", "starProd", "timeId", "trueSubtab", "last", "getUpgradeDescription", "activeStage", "quarksGain", "information", "stageBoost", "strangeness", "getStrangenessDescription", "info", "s", "milestoneGetValue", "exportReward", "conversion", "clouds", "rain", "moles", "mass", "auto2", "star0", "star1", "star2", "gamma", "quasar", "stateId", "highest", "playEvent", "assignMaxRank", "assignNewClouds", "showReset1", "upgrades", "updateRankInfo", "nova", "superposition", "rank", "planetesimal", "galaxy", "nebula", "cluster", "neutron", "columns", "unlocked2", "bound", "voidProgress", "milestones", "strange5", "firstTwo", "milestonesS4", "activated", "researchesAuto", "updateHistory", "visualTrueStageUnlocks", "index", "type", "pointer", "stageIndex", "level", "newLevels", "simplify", "autoStage", "stageText", "multilineID", "text", "isActive", "container", "getChallengeDescription", "color", "specialHTML", "progress", "getChallengeReward", "need", "reward", "best", "sr", "requirement", "visualUpdateUpgrades", "image", "visualUpdateResearches", "max", "upgradeHTML", "visualUpdateInflation", "check", "startCost", "tree", "keepIndex", "rankInfo", "name", "setRemnants", "whiteDwarf", "getQuery", "quarkStar", "list", "length", "stageBest", "input", "settings", "padding", "inputAbs", "minutes", "seconds", "hours", "days", "years", "digits", "result", "formated", "precision", "stageInfo", "current", "resets", "element", "getClass", "stageWord", "unlocked", "MDStrangenessPage", "currentID", "autoUpgradesSet", "autoResearchesSet", "autoElementsSet", "upgradesInfo", "researchesInfo", "researchesExtraInfo", "footerStatsHTML", "showU", "showR", "showRE", "showF", "buildingHTML", "buildingName", "buildingType", "buildingHoverText", "toggleSwap", "researchHTML", "main", "researchExtraHTML", "body", "switchTheme", "globalSave", "saveGlobalSettings", "toggleSpecial", "number", "type", "change", "reload", "toggles", "Confirm", "global", "changeIntervals", "Alert", "toggleHTML", "getId", "specialHTML", "preventImageUnload", "footer", "build", "upgrade", "research", "extra", "extraDiv", "images", "s", "i", "setTheme", "theme", "player", "switchTheme", "upgradeTypes", "properties", "text", "body", "property", "priority", "resolve", "Notify", "blocker", "confirm", "key", "button", "close", "cancel", "yes", "no", "result", "Prompt", "placeholder", "input", "notifications", "index", "count", "timeout", "html", "pointer", "remove", "hideFooter", "toggleData", "footerArea", "arrow", "animationReset", "visualUpdate", "numbersUpdate", "changeFontSize", "initial", "size", "adjustCSSRules", "styleSheet", "styleLength", "fontRatio", "rule1", "rule2", "changeFormat", "point", "htmlInput", "MDStrangenessPage", "stageIndex", "replayEvent", "last", "event", "playEvent", "format", "Overlimit", "_Overlimit", "number", "post", "technical", "newValue", "#privateSet", "numbers", "result", "i", "power", "root", "base", "compare", "previous", "next", "after", "settings", "index", "digits", "left", "right", "check", "difference", "negative", "base10", "target", "tooSmall", "test", "type", "padding", "exponent", "mantissa", "powerMantissa", "formatedPower", "globalSave", "formatedBase", "formated", "player", "Overlimit", "global", "format", "calculateEffects", "selfBoost", "selfPreons", "power", "getDischargeScale", "newBase", "effect", "base", "now", "after", "logAny", "textUnlocked", "maxLevel", "trueLevel", "penalty", "level", "tension", "stress", "stageIndex", "extraText", "progress", "text", "left", "number", "cloneArray", "array", "deepClone", "toClone", "value", "i", "check", "createArray", "length", "s", "upgradeType", "pointer", "playerStart", "updatePlayer", "load", "prepareVacuum", "oldVersion", "a", "oldB", "oldU", "oldR", "oldE", "building", "buildings", "strangeness", "researchesAuto", "activeMilestone", "requirement", "stageHistory", "universes", "strangenessMax", "calculateMaxLevel", "visualUpdateResearches", "assignMilestoneInformation", "extra", "extraMax", "researches", "researchesMax", "autoMax", "getId", "calculateResearchCost", "assignBuildingInformation", "assignStrangeInfo", "assignPuddles", "assignMaxRank", "assignTrueEnergy", "toggleSwap", "toggleConfirm", "buildVersionInfo", "specialHTML", "detectHotkey", "check", "activeType", "global", "key", "code", "shiftKey", "numberKey", "stringKey", "globalSave", "toggleSwap", "mergeResetUser", "buyBuilding", "buyAll", "player", "stageResetUser", "dischargeResetUser", "vaporizationResetUser", "rankResetUser", "collapseResetUser", "pauseGame", "activeAll", "index", "switchStage", "tabs", "checkTab", "switchTab", "tab", "subtabs", "getId", "id", "noError", "test", "specialHTML", "store", "global", "Notify", "getClass", "idCollection", "getQuery", "query", "handleOfflineTime", "time", "player", "timeNow", "offlineTime", "simulateOffline", "offline", "autoAccept", "globalSave", "changeIntervals", "Confirm", "format", "calculateOffline", "offlineAccelerate", "offlineCancel", "warpTime", "start", "rate", "timeUpdate", "error", "offlineEnd", "Alert", "visualUpdate", "numbersUpdate", "event", "intervalsId", "intervals", "paused", "saveGame", "noSaving", "save", "stack", "loadGame", "versionCheck", "updatePlayer", "stageUpdate", "prepareVacuum", "exportFileGame", "awardExport", "a", "replaceSaveFileSpecials", "exportReward", "strange", "conversion", "quarks", "strangelets", "assignStrangeInfo", "saveConsole", "value", "Prompt", "lower", "saveGlobalSettings", "realName", "date", "dateIndex", "endIndex", "replaced", "special", "replaceWith", "i", "timeIndex", "repeatFunction", "repeat", "onceInstanly", "cancelRepeat", "hoverUpgrades", "index", "type", "checkUpgrade", "buyUpgrades", "getUpgradeDescription", "hoverStrangeness", "stageIndex", "getStrangenessDescription", "hoverChallenge", "getChallengeDescription", "getChallengeReward", "buyAll", "active", "buyBuilding", "pauseGame", "claim", "preventImageUnload", "body", "globalSaveStart", "deepClone", "globalSettings", "toggleSpecial", "changeFontSize", "elementsArea", "elementsButton", "tabList", "arrowStage", "arrowReset1", "structuresButton", "stageButton", "reset1Button", "resetCollapse", "resetGalaxy", "createUpgButton", "createInfButton", "pages", "MDToggle1", "effectID", "SRMainDiv", "SRToggle1", "SRToggle2", "s", "playerStart", "visualUpdateResearches", "visualUpdateInflation", "primaryIndex", "reload", "newTab", "tabText", "subtabText", "pauseButton", "oldVersion", "MD", "SR", "PC", "key", "detectHotkey", "releaseHotkey", "activeType", "toggleSwap", "toggleConfirm", "autoUpgradesSet", "autoResearchesSet", "autoElementsSet", "clickHoldFunc", "stageResetUser", "footerButton", "clickFunc", "dischargeResetUser", "vaporizationResetUser", "rankResetUser", "collapseResetUser", "mergeResetUser", "resetButton", "clickGalaxy", "galaxyButton", "button", "footer", "input", "image", "enterExitChallengeUser", "hoverFunc", "last", "dblclickFunc", "element", "openFunction", "MDStrangenessPage", "buyStrangeness", "inflationRefund", "buildVersionInfo", "setTheme", "testValue", "mainInput", "numberInput", "visualInput", "autoSaveInput", "changeFormat", "replayEvent", "inputID", "toggle", "timeoutFunc", "hideFooter", "switchTab", "switchStage", "buttonDiv", "exported"]
}
