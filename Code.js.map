{
  "version": 3,
  "sources": ["Source_TS/Limit.ts", "Source_TS/Check.ts", "Source_TS/Vacuum.ts", "Source_TS/Update.ts", "Source_TS/Reset.ts", "Source_TS/Stage.ts", "Source_TS/Special.ts", "Source_TS/Player.ts", "Source_TS/Hotkeys.ts", "Source_TS/Main.ts"],
  "sourcesContent": ["import { player } from './Player';\n\n/* This is version has all settings (and other stuff) removed (for better speed) */\nexport const overlimit = {\n    Limit: (number: string | number | [number, number]) => {\n        const { technical } = overlimit;\n        let result = technical.convert(number);\n\n        return {\n            plus: function(...numbers: Array<string | number | [number, number]>) {\n                const array = technical.convertAll(numbers);\n\n                for (let i = 0; i < array.length; i++) {\n                    result = technical.add(result, array[i]);\n                }\n\n                return this;\n            },\n            minus: function(...numbers: Array<string | number | [number, number]>) {\n                const array = technical.convertAll(numbers);\n\n                for (let i = 0; i < array.length; i++) {\n                    result = technical.sub(result, array[i]);\n                }\n\n                return this;\n            },\n            multiply: function(...numbers: Array<string | number | [number, number]>) {\n                const array = technical.convertAll(numbers);\n\n                for (let i = 0; i < array.length; i++) {\n                    result = technical.mult(result, array[i]);\n                }\n\n                return this;\n            },\n            divide: function(...numbers: Array<string | number | [number, number]>) {\n                const array = technical.convertAll(numbers);\n\n                for (let i = 0; i < array.length; i++) {\n                    result = technical.div(result, array[i]);\n                }\n\n                return this;\n            },\n            power: function(power: number) {\n                result = technical.pow(result, power);\n                return this;\n            },\n            log: function(base = 2.718281828459045) {\n                result = technical.log(result, base);\n                return this;\n            },\n            abs: function() {\n                result[0] = Math.abs(result[0]);\n                return this;\n            },\n            trunc: function() {\n                result = technical.trunc(result);\n                return this;\n            },\n            floor: function() {\n                result = technical.floor(result);\n                return this;\n            },\n            ceil: function() {\n                result = technical.ceil(result);\n                return this;\n            },\n            round: function() {\n                result = technical.round(result);\n                return this;\n            },\n            isNaN: (): boolean => isNaN(result[0]) || isNaN(result[1]),\n            isFinite: (): boolean => isFinite(result[0]) && isFinite(result[1]),\n            lessThan: (compare: string | number | [number, number]): boolean => technical.less(result, technical.convert(compare)),\n            lessOrEqual: (compare: string | number | [number, number]): boolean => technical.lessOrEqual(result, technical.convert(compare)),\n            moreThan: (compare: string | number | [number, number]): boolean => technical.more(result, technical.convert(compare)),\n            moreOrEqual: (compare: string | number | [number, number]): boolean => technical.moreOrEqual(result, technical.convert(compare)),\n            notEqual: (compare: string | number | [number, number]): boolean => technical.notEqual(result, technical.convert(compare)),\n            equal: (...compare: Array<string | number | [number, number]>): boolean => {\n                const array = technical.convertAll(compare);\n\n                let allEqual = technical.equal(result, array[0]);\n                for (let i = 1; i < array.length; i++) {\n                    if (!allEqual) { return false; }\n                    allEqual = technical.equal(array[i - 1], array[i]);\n                }\n\n                return allEqual;\n            },\n            max: function(...compare: Array<string | number | [number, number]>) {\n                const array = technical.convertAll(compare);\n\n                for (let i = 0; i < array.length; i++) {\n                    if (isNaN(array[i][0])) {\n                        result = [NaN, NaN];\n                        break;\n                    }\n\n                    if (technical.less(result, array[i])) { result = array[i]; }\n                }\n\n                return this;\n            },\n            min: function(...compare: Array<string | number | [number, number]>) {\n                const array = technical.convertAll(compare);\n\n                for (let i = 0; i < array.length; i++) {\n                    if (isNaN(array[i][0])) {\n                        result = [NaN, NaN];\n                        break;\n                    }\n\n                    if (technical.more(result, array[i])) { result = array[i]; }\n                }\n\n                return this;\n            },\n            format: (settings = {} as { digits?: number, type?: 'number' | 'input', padding?: boolean }): string => technical.format(result, settings),\n            toNumber: (): number => Number(technical.convertBack(result)),\n            toString: (): string => technical.convertBack(result),\n            toArray: (): [number, number] => technical.prepare(result)\n        };\n    },\n    LimitAlt: {\n        abs: (number: string): string => number[0] === '-' ? number.substring(1) : number,\n        isNaN: (number: string): boolean => number.includes('NaN'),\n        isFinite: (number: string): boolean => !number.includes('Infinity') && !number.includes('NaN'),\n        clone: (number: [number, number]): [number, number] => [number[0], number[1]],\n        /* Sort is WIP, need to figure out how to add easy to use return function instead of 'descend' (also maybe some optimization) */\n        sort: <sortType extends Array<string | number | [number, number]>>(toSort: sortType, descend = false) => {\n            if (toSort.length < 2) { return; }\n            const numbers = overlimit.technical.convertAll(toSort);\n            const compare = descend ? overlimit.technical.moreOrEqual : overlimit.technical.lessOrEqual;\n\n            let main: number[] | number[][] = [[0]];\n            initial:\n            for (let i = 1; i < numbers.length; i++) {\n                const target = main[main.length - 1];\n                if (compare(numbers[i - 1], numbers[i])) {\n                    do {\n                        target.push(i);\n                        i++;\n                        if (i >= numbers.length) { break initial; }\n                    } while (compare(numbers[i - 1], numbers[i]));\n                    main.push([i]);\n                } else {\n                    do {\n                        target.push(i);\n                        i++;\n                        if (i >= numbers.length) {\n                            target.reverse();\n                            break initial;\n                        }\n                    } while (compare(numbers[i], numbers[i - 1]));\n                    target.reverse();\n                    main.push([i]);\n                }\n            }\n\n            const merge = (array: number[][]): number[] | number[][] => {\n                if (array.length === 1) { return array[0]; }\n                let main: number[] | number[][] = [] as number[][];\n\n                let i;\n                for (i = 0; i < array.length - 1; i += 2) {\n                    main.push([]);\n                    const target = main[main.length - 1];\n                    const first = array[i];\n                    const second = array[i + 1];\n                    let f = 0;\n                    let s = 0;\n                    while (f < first.length || s < second.length) {\n                        if (s >= second.length || (f < first.length && compare(numbers[first[f]], numbers[second[s]]))) {\n                            target.push(first[f]);\n                            f++;\n                        } else {\n                            target.push(second[s]);\n                            s++;\n                        }\n                    }\n                }\n                if (i === array.length - 1) { main.push(array[i]); }\n\n                main = merge(main);\n                return main;\n            };\n            main = merge(main) as number[];\n\n            const clone = toSort.slice(0);\n            toSort.length = 0;\n            for (let i = 0; i < clone.length; i++) {\n                toSort.push(clone[main[i]]);\n            }\n        }\n    },\n    technical: {\n        add: (left: [number, number], right: [number, number]): [number, number] => {\n            if (right[0] === 0) { return left; }\n            if (left[0] === 0) { return right; }\n            if (!isFinite(left[0]) || !isFinite(right[0])) {\n                const check = left[0] + right[0]; //Infinity + -Infinity === NaN\n                return isNaN(left[0]) || isNaN(right[0]) || isNaN(check) ? [NaN, NaN] : [check, Infinity];\n            }\n\n            const difference = left[1] - right[1];\n            if (Math.abs(difference) > 15) { return difference > 0 ? left : right; }\n\n            if (difference === 0) {\n                left[0] += right[0];\n            } else if (difference > 0) {\n                left[0] += right[0] / 10 ** difference;\n            } else {\n                right[0] += left[0] / 10 ** (-difference);\n                left = right;\n            }\n\n            const after = Math.abs(left[0]);\n            if (after === 0) {\n                left[1] = 0;\n            } else if (after >= 10) {\n                left[0] /= 10;\n                left[1]++;\n            } else if (after < 1) {\n                const digits = -Math.floor(Math.log10(after));\n                left[0] *= 10 ** digits;\n                left[1] -= digits;\n            }\n\n            left[0] = Math.round(left[0] * 1e14) / 1e14;\n            if (Math.abs(left[0]) === 10) {\n                left[0] = 1;\n                left[1]++;\n            }\n\n            return left;\n        },\n        sub: (left: [number, number], right: [number, number]): [number, number] => {\n            right[0] *= -1; //Easier this way\n            return overlimit.technical.add(left, right);\n        },\n        mult: (left: [number, number], right: [number, number]): [number, number] => {\n            if (left[0] === 0 || right[0] === 0) { return [0, 0]; }\n\n            left[1] += right[1];\n            left[0] *= right[0];\n\n            if (Math.abs(left[0]) >= 10) {\n                left[0] /= 10;\n                left[1]++;\n            }\n\n            left[0] = Math.round(left[0] * 1e14) / 1e14;\n            if (Math.abs(left[0]) === 10) {\n                left[0] = 1;\n                left[1]++;\n            }\n\n            return left;\n        },\n        div: (left: [number, number], right: [number, number]): [number, number] => {\n            if (right[0] === 0) { return [NaN, NaN]; }\n            if (left[0] === 0) { return [0, 0]; }\n\n            left[1] -= right[1];\n            left[0] /= right[0];\n\n            if (Math.abs(left[0]) < 1) {\n                left[0] *= 10;\n                left[1]--;\n            }\n\n            left[0] = Math.round(left[0] * 1e14) / 1e14;\n            if (Math.abs(left[0]) === 10) {\n                left[0] = 1;\n                left[1]++;\n            }\n\n            return left;\n        },\n        pow: (left: [number, number], power: number): [number, number] => {\n            if (power === 0) { return left[0] === 0 || isNaN(left[0]) ? [NaN, NaN] : [1, 0]; }\n            if (left[0] === 0) { return power < 0 ? [NaN, NaN] : [0, 0]; }\n            if (!isFinite(power)) {\n                if (left[1] === 0 && (left[0] === 1 || (left[0] === -1 && !isNaN(power)))) { return [1, 0]; }\n                if ((power === -Infinity && left[1] >= 0) || (power === Infinity && left[1] < 0)) { return [0, 0]; }\n                return isNaN(power) || isNaN(left[0]) ? [NaN, NaN] : [Infinity, Infinity];\n            }\n\n            const negative = left[0] < 0 ? Math.abs(power) % 2 : null;\n            if (negative !== null) { //Complex numbers are not supported\n                if (Math.floor(power) !== power) { return [NaN, NaN]; }\n                left[0] *= -1;\n            }\n\n            const base10 = power * (Math.log10(left[0]) + left[1]);\n            if (!isFinite(base10)) {\n                if (isNaN(left[0])) { return [NaN, NaN]; }\n                if (base10 === -Infinity) { return [0, 0]; }\n                return [negative === 1 ? -Infinity : Infinity, Infinity];\n            }\n\n            const target = Math.floor(base10);\n            left[0] = 10 ** (base10 - target);\n            left[1] = target;\n\n            left[0] = Math.round(left[0] * 1e14) / 1e14;\n            if (left[0] === 10) {\n                left[0] = 1;\n                left[1]++;\n            }\n\n            if (negative === 1) { left[0] *= -1; }\n            return left;\n        },\n        log: (left: [number, number], base: number): [number, number] => {\n            if (Math.abs(base) === 1 || (left[0] === -1 && left[1] === 0)) { return [NaN, NaN]; }\n            if (left[0] === 1 && left[1] === 0) { return [0, 0]; }\n            if (base === 0) { return [NaN, NaN]; } //Order matters (0 ** 0 === 1)\n            if (left[0] === 0) { return isNaN(base) ? [NaN, NaN] : [Math.abs(base) > 1 ? -Infinity : Infinity, Infinity]; }\n            if (!isFinite(base)) { return [NaN, NaN]; } //Order matters (Infinity ** 0 === 1 || Infinity ** -Infinity === 0)\n            if (!isFinite(left[0])) {\n                if (isNaN(left[0]) || left[0] === -Infinity) { return [NaN, NaN]; }\n                return [Math.abs(base) < 1 ? -Infinity : Infinity, Infinity];\n            }\n\n            const negative = left[0] < 0;\n            if (negative) { //Complex numbers are not supported\n                if (base > 0) { return [NaN, NaN]; }\n                left[0] *= -1;\n            }\n\n            const tooSmall = left[1] < 0; //Minor issue with negative power\n            const base10 = Math.log10(Math.abs(Math.log10(left[0]) + left[1]));\n            const target = Math.floor(base10);\n            left[0] = 10 ** (base10 - target);\n            left[1] = target;\n\n            if (tooSmall) { left[0] *= -1; } //Already can be negative\n            if (base !== 10) {\n                left[0] /= Math.log10(Math.abs(base));\n\n                const after = Math.abs(left[0]);\n                if (after < 1 || after >= 10) {\n                    const digits = Math.floor(Math.log10(after));\n                    left[0] /= 10 ** digits;\n                    left[1] += digits;\n                }\n            }\n\n            if (base < 0 || negative) { //Special test for negative numbers\n                if (left[1] < 0) { return [NaN, NaN]; }\n                //Due to floats (1.1 * 100 !== 110), test is done in this way\n                const test = left[1] < 16 ? Math.abs(Math.round(left[0] * 1e14) / 10 ** (14 - left[1])) % 2 : 0;\n                if (base < 0 && !negative) {\n                    if (test !== 0) { return [NaN, NaN]; } //Result must be even\n                } else { //base < 0 && negative\n                    if (test !== 1) { return [NaN, NaN]; } //Result must be uneven\n                }\n            }\n\n            left[0] = Math.round(left[0] * 1e14) / 1e14;\n            if (Math.abs(left[0]) === 10) {\n                left[0] = 1;\n                left[1]++;\n            }\n\n            return left;\n        },\n        less: (left: [number, number], right: [number, number]): boolean => {\n            if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] < right[0]; }\n            if (left[0] > 0 && right[0] > 0) { return left[1] < right[1]; }\n            if (left[0] < 0 && right[0] > 0) { return true; }\n            if (right[0] < 0 && left[0] > 0) { return false; }\n            return left[1] > right[1];\n        },\n        lessOrEqual: (left: [number, number], right: [number, number]): boolean => {\n            if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] <= right[0]; }\n            if (left[0] > 0 && right[0] > 0) { return left[1] < right[1]; }\n            if (left[0] < 0 && right[0] > 0) { return true; }\n            if (right[0] < 0 && left[0] > 0) { return false; }\n            return left[1] > right[1];\n        },\n        more: (left: [number, number], right: [number, number]): boolean => {\n            if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] > right[0]; }\n            if (left[0] > 0 && right[0] > 0) { return left[1] > right[1]; }\n            if (left[0] < 0 && right[0] > 0) { return false; }\n            if (right[0] < 0 && left[0] > 0) { return true; }\n            return left[1] < right[1];\n        },\n        moreOrEqual: (left: [number, number], right: [number, number]): boolean => {\n            if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] >= right[0]; }\n            if (left[0] > 0 && right[0] > 0) { return left[1] > right[1]; }\n            if (left[0] < 0 && right[0] > 0) { return false; }\n            if (right[0] < 0 && left[0] > 0) { return true; }\n            return left[1] < right[1];\n        },\n        equal: (left: [number, number], right: [number, number]): boolean => {\n            return left[1] === right[1] ? left[0] === right[0] : false;\n        },\n        notEqual: (left: [number, number], right: [number, number]): boolean => {\n            return left[1] !== right[1] ? true : left[0] !== right[0];\n        },\n        trunc: (left: [number, number]): [number, number] => {\n            if (left[1] < 0) {\n                return [0, 0];\n            } else if (left[1] === 0) {\n                left[0] = Math.trunc(left[0]);\n            } else if (left[1] <= 14) {\n                left[0] = Math.trunc(left[0] * 10 ** left[1]) / 10 ** left[1];\n            }\n\n            return left;\n        },\n        floor: (left: [number, number]): [number, number] => {\n            if (left[1] < 0) {\n                return [left[0] < 0 ? -1 : 0, 0];\n            } else if (left[1] === 0) {\n                left[0] = Math.floor(left[0]);\n            } else if (left[1] <= 14) {\n                left[0] = Math.floor(left[0] * 10 ** left[1]) / 10 ** left[1];\n            }\n\n            return left;\n        },\n        ceil: (left: [number, number]): [number, number] => {\n            if (left[1] < 0) {\n                return [left[0] < 0 ? 0 : 1, 0];\n            } else if (left[1] === 0) {\n                left[0] = Math.ceil(left[0]);\n            } else if (left[1] <= 14) {\n                left[0] = Math.ceil(left[0] * 10 ** left[1]) / 10 ** left[1];\n            }\n\n            return left;\n        },\n        round: (left: [number, number]): [number, number] => {\n            if (left[1] < 0) {\n                return [left[1] === -1 ? Math.round(left[0] / 10) : 0, 0];\n            } else if (left[1] === 0) {\n                left[0] = Math.round(left[0]);\n            } else if (left[1] <= 14) {\n                left[0] = Math.round(left[0] * 10 ** left[1]) / 10 ** left[1];\n            }\n\n            return left;\n        },\n        format: (left: [number, number], settings: { digits?: number, type?: 'number' | 'input', padding?: boolean }): string => {\n            const [base, power] = left;\n            if (!isFinite(base) || !isFinite(power)) { return overlimit.technical.convertBack(left); }\n\n            //1.23ee123 (-1.23e-e123)\n            if ((power >= 1e4 || power <= -1e4) && settings.type !== 'input') {\n                const digits = settings.digits !== undefined ? settings.digits : 2;\n                let exponent = Math.floor(Math.log10(Math.abs(power)));\n                let result = Math.abs(Math.round(power / 10 ** (exponent - digits)) / 10 ** digits);\n                if (result === 10) {\n                    result = 1;\n                    exponent++;\n                }\n                if (base < 0) { result *= -1; }\n\n                const formated = settings.padding === true ? result.toFixed(digits).replace('.', player.separator[1]) : `${result}`.replace('.', player.separator[1]);\n                return `${formated}e${power < 0 ? '-' : ''}e${exponent}`;\n            }\n\n            //1.23e123\n            if (power >= 6 || power < -3) {\n                const digits = settings.digits !== undefined ? settings.digits : 2;\n                let exponent = power;\n                let result: number | string = Math.round(base * 10 ** digits) / 10 ** digits;\n                if (Math.abs(result) === 10) {\n                    result = 1;\n                    exponent++;\n                }\n\n                result = settings.padding === true ? result.toFixed(digits) : `${result}`;\n                return settings.type !== 'input' ? `${result.replace('.', player.separator[1])}e${exponent}` : `${result}e${exponent}`;\n            }\n\n            //12345\n            const digits = power >= 3 ? 0 : settings.digits !== undefined ? settings.digits : (power < 0 ? 4 : 2);\n            const result = Math.round(base * 10 ** (digits + power)) / 10 ** digits;\n            const formated = digits > 0 && settings.padding === true ? result.toFixed(digits) : `${result}`;\n\n            if (settings.type === 'input') { return formated; }\n            return result >= 1e3 ? formated.replace(/\\B(?=(\\d{3})+(?!\\d))/, player.separator[0]) : formated.replace('.', player.separator[1]);\n        },\n        convert: (number: string | number | [number, number]): [number, number] => {\n            let result: [number, number];\n            if (typeof number !== 'object' || number === null) { //Not an Array\n                if (typeof number !== 'string') { number = `${number}`; } //Using log10 could cause floating point error\n                const index = number.indexOf('e'); //About 5+ times quicker than regex\n                result = index === -1 ? [Number(number), 0] : [Number(number.slice(0, index)), Number(number.slice(index + 1))];\n            } else { result = [number[0], number[1]]; } //Not instant return, because might need a fix\n\n            if (!isFinite(result[0])) { return isNaN(result[0]) ? [NaN, NaN] : [result[0], Infinity]; }\n\n            const after = Math.abs(result[0]);\n            if (after === 0) {\n                return [0, 0];\n            } else if (after < 1 || after >= 10) {\n                const digits = Math.floor(Math.log10(after));\n                result[0] /= 10 ** digits;\n                result[1] += digits;\n\n                if (Math.abs(result[0]) < 1) { //Happens more often than you would think\n                    result[0] *= 10;\n                    result[1]--;\n                }\n            }\n\n            //Float fix always done after exponent, because (11.1 / 10 !== 1.11)\n            result[0] = Math.round(result[0] * 1e14) / 1e14;\n            if (Math.abs(result[0]) === 10) {\n                result[0] = 1;\n                result[1]++;\n            }\n\n            return result;\n        },\n        convertAll: (numbers: Array<string | number | [number, number]>): Array<[number, number]> => {\n            const result = [];\n            const { convert } = overlimit.technical;\n            for (let i = 0; i < numbers.length; i++) {\n                result[i] = convert(numbers[i]);\n            }\n            return result;\n        },\n        prepare: (number: [number, number]): [number, number] => {\n            if (isFinite(number[0]) && isFinite(number[1])) { return number; }\n            if (number[0] === 0 || number[1] === -Infinity) { return [0, 0]; }\n            if (isNaN(number[0]) || isNaN(number[1])) { return [NaN, NaN]; }\n            return [number[0] < 0 ? -Infinity : Infinity, Infinity]; //Base can be non Infinity\n        },\n        convertBack: (number: [number, number]): string => {\n            number = overlimit.technical.prepare(number);\n            if (!isFinite(number[0])) { return `${number[0]}`; }\n            return number[1] === 0 ? `${number[0]}` : `${number[0]}e${number[1]}`;\n        }\n    }\n};\n\nexport const { Limit, LimitAlt } = overlimit;\nexport default Limit;\n", "import Limit from './Limit';\nimport { global, player } from './Player';\n\nexport const checkTab = (tab: string, subtab = null as null | string): boolean => {\n    switch (tab) {\n        case 'stage':\n            if (subtab === 'Advanced') { return player.inflation.vacuum || global.strangeInfo.instability > 0; }\n            return subtab === 'Structures' || subtab === null;\n        case 'Elements':\n        case 'research':\n            if (player.stage.resets < 1 && player.discharge.current < 4) { return false; }\n            if (subtab === 'Elements' || tab === 'Elements') { return global.stageInfo.activeAll.includes(4) && player.upgrades[4][1] === 1; }\n            return subtab === 'Researches' || subtab === null;\n        case 'strangeness':\n            if (player.strange[0].total === 0) { return false; }\n            if (subtab === 'Milestones') { return player.strangeness[5][8] >= 1 || !player.inflation.vacuum; }\n            return subtab === 'Matter' || subtab === null;\n        case 'settings':\n            if (subtab === 'History') { return player.strange[0].total > 0; }\n            return subtab === 'Settings' || subtab === 'Stats' || subtab === null;\n    }\n\n    return false;\n};\n\nexport const checkBuilding = (index: number, stageIndex: number): boolean => {\n    if (global.buildingsInfo.maxActive[stageIndex] < index + 1) { return false; }\n\n    if (stageIndex === 1) {\n        return index >= 1;\n    } else if (stageIndex === 2) {\n        if (index === 6) { return player.strangeness[2][8] >= 1; }\n        return index >= 1;\n    } else if (stageIndex === 3) {\n        if (player.accretion.rank === 0) { return false; }\n        if (index === 1) { return true; }\n        if (index === 2) { return player.upgrades[3][2] === 1; }\n        if (index === 3) { return player.upgrades[3][4] === 1; }\n        if (index === 4) { return player.upgrades[3][6] === 1; }\n        if (index === 5) { return player.upgrades[3][11] === 1 && player.strangeness[3][8] >= 1 && player.accretion.rank >= 5; }\n    } else if (stageIndex === 4) {\n        if (player.collapse.mass < global.collapseInfo.unlockB[index]) { return false; }\n        if (index === 1) { return true; }\n        if (index === 2) { return player.researchesExtra[4][0] >= 1; }\n        if (index === 3) { return player.researchesExtra[4][0] >= 2; }\n        if (index === 4) { return player.researchesExtra[4][0] >= 3; }\n        if (index === 5) { return player.strangeness[4][9] >= 1 && player.collapse.stars[2] > 0; }\n    } else if (stageIndex === 5) {\n        if (index < 3 && player.collapse.mass < global.collapseInfo.unlockG[index]) { return false; }\n        if (index === 1) { return player.inflation.vacuum || player.milestones[2][0] >= 6; }\n        if (index === 2) { return player.inflation.vacuum || player.milestones[3][0] >= 7; }\n        if (index === 3) { return player.strangeness[5][6] >= 1; }\n    }\n\n    return false;\n};\n\nexport const checkUpgrade = (upgrade: number, stageIndex: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'ASR' | 'elements' | 'strangeness'): boolean => {\n    switch (type) { //Some cases are handled by max level being 0\n        case 'upgrades':\n            if (global.upgradesInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (stageIndex === 1) {\n                if (upgrade === 0 || upgrade === 1) { return player.inflation.vacuum; }\n                if (upgrade > 5) { return player.discharge.current >= 3; }\n                return true;\n            } else if (stageIndex === 2) {\n                if (upgrade === 7) { return player.strangeness[2][2] >= 3; }\n                //if (upgrade === 8) { return player.strangeness[2][8] >= 2; }\n                return true;\n            } else if (stageIndex === 3) {\n                if (player.accretion.rank < global.accretionInfo.rankU[upgrade] || player.accretion.rank === 0) { return false; }\n                if (upgrade === 8) { return player.strangeness[3][2] >= 3; }\n                return true;\n            } else if (stageIndex === 4) {\n                if (player.collapse.mass < global.collapseInfo.unlockU[upgrade]) { return false; }\n                if (upgrade === 2) { return player.upgrades[4][1] === 1; }\n                if (upgrade === 3) { return player.strangeness[4][2] >= 1 && player.upgrades[4][2] === 1 && player.collapse.stars[1] > 0; }\n                return true;\n            } else if (stageIndex === 5) {\n                if (upgrade === 0) { return player.inflation.vacuum || player.milestones[2][0] >= 6; }\n                if (upgrade === 1) { return player.inflation.vacuum || player.milestones[3][0] >= 7; }\n                if (upgrade === 2) { return player.inflation.vacuum ? player.collapse.mass >= 1e6 : player.buildings[5][3].true >= 1; }\n            }\n            break;\n        case 'researches':\n            if (global.researchesInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (stageIndex === 1) {\n                return player.discharge.current >= 4;\n            } else if (stageIndex === 2) {\n                return true;\n            } else if (stageIndex === 3) {\n                return player.accretion.rank >= global.accretionInfo.rankR[upgrade] && player.accretion.rank !== 0;\n            } else if (stageIndex === 4) {\n                if (player.collapse.mass < global.collapseInfo.unlockR[upgrade]) { return false; }\n                if (upgrade === 3) { return player.strangeness[4][2] >= 2; }\n                if (upgrade === 4) { return player.collapse.stars[2] > 0 || player.buildings[5][3].true >= 1; }\n                return true;\n            } else if (stageIndex === 5) {\n                if (upgrade === 0) { return player.inflation.vacuum || player.milestones[2][0] >= 6; }\n                if (upgrade === 1) { return player.inflation.vacuum || player.milestones[3][0] >= 7; }\n            }\n            break;\n        case 'researchesExtra':\n            if (global.researchesExtraInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (stageIndex === 1) {\n                if (upgrade === 1) { return player.researchesExtra[1][2] >= 2; }\n                if (upgrade === 4) { return player.accretion.rank >= 6; }\n                return player.discharge.current >= 5;\n            } else if (stageIndex === 2) {\n                if (player.vaporization.clouds[0] === 0) { return false; }\n                if (upgrade === 3) { return player.accretion.rank >= 6; }\n                return true;\n            } else if (stageIndex === 3) {\n                if (player.accretion.rank < global.accretionInfo.rankE[upgrade] || player.accretion.rank === 0) { return false; }\n                if (upgrade === 4) { return player.researchesExtra[1][2] >= 2; }\n                return true;\n            } else if (stageIndex === 4) {\n                if (upgrade === 1) { return player.collapse.stars[0] > 0 || player.buildings[5][3].true >= 1; }\n                if (upgrade === 2) { return player.strangeness[4][2] >= 3; }\n                return true;\n            }\n            break;\n        case 'ASR':\n            if (stageIndex === 1) { return player.upgrades[1][5] >= 1; }\n            if (stageIndex === 3) { return player.accretion.rank !== 0; }\n            return true;\n        case 'elements':\n            if (upgrade >= 27) { return player.upgrades[4][3] === 1; }\n            if (upgrade >= 11) { return player.collapse.stars[1] > 0 || player.buildings[5][3].true >= 1; }\n            if (upgrade >= 6) { return player.upgrades[4][2] === 1; }\n            return player.upgrades[4][1] === 1;\n        case 'strangeness':\n            if (global.strangenessInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (player.inflation.vacuum) {\n                if (stageIndex === 1) {\n                    if (upgrade === 9) { return player.challenges.void[1] >= 1; }\n                    if (upgrade === 10) { return player.challenges.void[1] >= 2; }\n                    if (upgrade === 11) { return player.challenges.void[4] >= 2; }\n                } else if (stageIndex === 2) {\n                    if (upgrade === 9) { return player.challenges.void[2] >= 1; }\n                    if (upgrade === 10) { return player.challenges.void[2] >= 2 && player.strangeness[1][11] >= 1; }\n                } else if (stageIndex === 3) {\n                    if (upgrade === 9) { return player.challenges.void[4] >= 4; }\n                    if (upgrade === 10) { return player.challenges.void[1] >= 3; }\n                } else if (stageIndex === 4) {\n                    if (upgrade === 10) { return player.challenges.void[4] >= 3; }\n                } else if (stageIndex === 5) {\n                    if (upgrade === 6) { return false; }\n                    if (upgrade === 8) { return player.challenges.void[4] >= 1; }\n                    if (upgrade === 9) { return player.strangeness[5][5] >= 1; }\n                    if (upgrade === 10) { return player.challenges.void[3] >= 5; }\n                }\n                return true;\n            }\n            if (((stageIndex === 1 || stageIndex === 4) && upgrade < 8) || ((stageIndex === 2 || stageIndex === 3) && upgrade < 7)) { return true; }\n            return player.milestones[4][0] >= 8;\n    }\n\n    return false;\n};\n\nexport const allowedToBeReset = (check: number, stageIndex: number, type: 'structures' | 'upgrades' | 'researches' | 'researchesExtra' | 'elements'): boolean => {\n    switch (type) {\n        case 'structures':\n            if (stageIndex === 5 && check === 3) { return false; }\n            break;\n        case 'upgrades':\n            if (stageIndex === 1) {\n                if (check === 5) { return false; }\n            } else if (stageIndex === 2) {\n                if (check === 2) { return false; }\n            } else if (stageIndex === 4) {\n                return false;\n            } else if (stageIndex === 5) {\n                if (check === 2) { return player.inflation.vacuum; }\n            }\n            break;\n        case 'researches':\n            if (stageIndex === 1) {\n                if (check === 3) { return false; }\n            }\n            break;\n        case 'researchesExtra':\n            if (stageIndex === 1) {\n                if (check === 2) { return false; }\n            } else if (stageIndex === 2) {\n                if (check <= 2) { return false; }\n            } else if (stageIndex === 4) {\n                if (check === 0) { return false; }\n            }\n            break;\n        case 'elements':\n            if (check === 26 || check === 27) { return false; }\n    }\n\n    return true;\n};\n\nexport const milestoneCheck = (index: number, stageIndex: number): boolean => {\n    if (player.inflation.vacuum) {\n        if (player.strangeness[5][8] < 1 || player.challenges.active !== 0) { return false; }\n    } else if (player.strange[0].total === 0 || (stageIndex === 5 && player.strangeness[5][8] < 1)) { return false; }\n    const need = global.milestonesInfo[stageIndex].need[index];\n    if (need[0] === 0) { return false; }\n\n    if (stageIndex === 1) {\n        if (index === 0) { return Limit(player.buildings[1][player.inflation.vacuum ? 1 : 0].current).moreOrEqual(need); }\n        if (index === 1) { return Limit(player.discharge.energy).moreOrEqual(need); }\n    } else if (stageIndex === 2) {\n        if (index === 0) { return Limit(player.inflation.vacuum ? player.vaporization.clouds : player.buildings[2][1].current).moreOrEqual(need); }\n        if (index === 1) { return Limit(player.buildings[2][2].current).moreOrEqual(need); }\n    } else if (stageIndex === 3) {\n        if (index === 0) { return Limit(player.buildings[3][0].current).moreOrEqual(need); }\n        if (index === 1) { return Limit(player.buildings[3][4].true + player.buildings[3][5].true).moreThan(need); }\n    } else if (stageIndex === 4) {\n        if (index === 0) { return Limit(player.inflation.vacuum ? player.buildings[4][0].current : player.collapse.mass).moreOrEqual(need); }\n        if (index === 1) { return Limit(player.collapse.stars[2]).moreOrEqual(need); }\n    } else if (stageIndex === 5) {\n        if (index === 0) { return Limit(global.collapseInfo.trueStars).moreOrEqual(need); }\n        if (index === 1) { return Limit(player.buildings[5][3].current).moreOrEqual(need); }\n    }\n    return false;\n};\n", "import { getClass, getId, getQuery } from './Main';\nimport { cloneArray, global, player, playerStart } from './Player';\nimport { resetVacuum } from './Reset';\nimport { Alert, Confirm, specialHTML } from './Special';\n\nexport const prepareVacuum = () => {\n    const { buildings } = playerStart;\n    const { buildingsInfo, upgradesInfo, researchesInfo, researchesExtraInfo, strangenessInfo } = global;\n\n    if (player.inflation.vacuum) {\n        specialHTML.footerStatsHTML[1][0] = ['Energy%20mass.png', 'stage1borderImage cyanText', 'Mass'];\n        buildingsInfo.hoverText[2][0] = 'Tritium';\n        buildingsInfo.hoverText[3][0] = 'Preons hardcap';\n        buildings[1][0].current = [5.476, -3];\n        buildings[2][0].current = [0, 0];\n        buildings[3][0].current = [9.76185667392, -36];\n        const maxBuildings = [6, 7, 6, 6, 4];\n        buildingsInfo.maxActive.splice(1, maxBuildings.length, ...maxBuildings);\n        if (buildingsInfo.name[1][0] !== 'Mass') {\n            specialHTML.buildingHTML[1].unshift('Preon.png', 'Quarks.png');\n            buildingsInfo.name[1].unshift('Mass', 'Preons');\n            buildingsInfo.hoverText[1].unshift('Mass', 'Preons');\n        }\n        buildingsInfo.startCost[1] = [0, 0.005476, 6, 3, 24, 3];\n        buildingsInfo.firstCost[1] = [0, 0.005476, 6, 3, 24, 3];\n        global.dischargeInfo.energyType[1] = [0, 1, 3, 5, 10, 20];\n        buildingsInfo.type[2][1] = 'improving';\n        buildingsInfo.type[3][1] = 'delaying';\n        buildingsInfo.increase[5][1] = 4;\n        buildingsInfo.increase[5][2] = 4;\n\n        const upgrades1Cost = [36, 48, 60, 90, 150, 400, 2000, 4000, 20000, 70000];\n        upgradesInfo[1].startCost.splice(0, upgrades1Cost.length, ...upgrades1Cost);\n        upgradesInfo[5].startCost[2] = 1e200;\n        //upgradesInfo[1].maxActive = 10;\n        //upgradesInfo[2].maxActive = 8;\n        //upgradesInfo[3].maxActive = 13;\n        //upgradesInfo[4].maxActive = 4;\n        //upgradesInfo[5].maxActive = 3;\n\n        const researches1Cost = [2400, 6000, 24000, 30000, 24000, 30000];\n        const researches1Scaling = [400, 2000, 6000, 24000, 12000, 12000];\n        researchesInfo[1].startCost.splice(0, researches1Cost.length, ...researches1Cost);\n        researchesInfo[1].scaling.splice(0, researches1Scaling.length, ...researches1Scaling);\n        //researchesInfo[1].maxActive = 6;\n        //researchesInfo[2].maxActive = 6;\n        //researchesInfo[3].maxActive = 9;\n        //researchesInfo[4].maxActive = 5;\n        //researchesInfo[5].maxActive = 2;\n\n        researchesExtraInfo[1].maxActive = 5;\n        researchesExtraInfo[2].maxActive = 4;\n        researchesExtraInfo[3].maxActive = 5;\n        //researchesExtraInfo[4].maxActive = 3;\n        //researchesExtraInfo[5].maxActive = 0;\n\n        global.accretionInfo.rankCost[5] = 2.47e31;\n        global.ASRInfo.costRange[1] = [4000, 10000, 16000, 24000, 32000];\n        global.ASRInfo.costRange[3][3] = 2.47e31;\n\n        const strangeness1Cost = [2, 1, 4, 20, 2, 1, 2, 4, 40];\n        const strangeness1Scaling = [2.4, 4, 6, 300, 4, 2.4, 2, 2, 1];\n        strangenessInfo[1].startCost.splice(0, strangeness1Cost.length, ...strangeness1Cost);\n        strangenessInfo[1].scaling.splice(0, strangeness1Scaling.length, ...strangeness1Scaling);\n        const strangeness2Cost = [1, 2, 16, 2, 20, 2, 4, 40];\n        const strangeness2Scaling = [1.8, 1.8, 1.6, 4, 500, 2, 2, 1];\n        strangenessInfo[2].startCost.splice(0, strangeness2Cost.length, ...strangeness2Cost);\n        strangenessInfo[2].scaling.splice(0, strangeness2Scaling.length, ...strangeness2Scaling);\n        const strangeness3Cost = [1, 2, 3, 9, 20, 3, 12, 40];\n        const strangeness3Scaling = [1.8, 2.8, 2, 1, 200, 2.4, 3, 1];\n        strangenessInfo[3].startCost.splice(0, strangeness3Cost.length, ...strangeness3Cost);\n        strangenessInfo[3].scaling.splice(0, strangeness3Scaling.length, ...strangeness3Scaling);\n        const strangeness4Cost = [1, 3, 5, 5, 6, 20, 3, 4, 40];\n        const strangeness4Scaling = [1.8, 2.8, 2.4, 4, 18, 400, 2.4, 3, 1];\n        strangenessInfo[4].startCost.splice(0, strangeness4Cost.length, ...strangeness4Cost);\n        strangenessInfo[4].scaling.splice(0, strangeness4Scaling.length, ...strangeness4Scaling);\n        const strangeness5Cost = [8, 20, 2000, 10, 10, 40, 1500, 60, 1500, 200];\n        const strangeness5Scaling = [1, 10, 1, 1.7, 1.75, 1, 5, 2, 1, 1];\n        strangenessInfo[5].startCost.splice(0, strangeness5Cost.length, ...strangeness5Cost);\n        strangenessInfo[5].scaling.splice(0, strangeness5Scaling.length, ...strangeness5Scaling);\n        strangenessInfo[1].maxActive = 12;\n        strangenessInfo[2].maxActive = 11;\n        strangenessInfo[3].maxActive = 11;\n        strangenessInfo[4].maxActive = 11;\n        strangenessInfo[5].maxActive = 11;\n\n        getId('milestonesWelcome').innerHTML = 'Milestones, can only be done when inside the <span class=\"darkvioletText\">Void</span>';\n        const milestone1S2 = getQuery('#milestone1Stage2Div > img') as HTMLImageElement;\n        global.milestonesInfo[2].name[0] = 'Distant Clouds';\n        milestone1S2.src = milestone1S2.src.replace('Drop.png', 'Clouds.png');\n        milestone1S2.alt = 'Clouds';\n        global.milestonesInfo[3].name[0] = 'Center of gravity';\n\n        getId('strange10Stage2').style.display = '';\n        getId('strange9Stage3').style.display = '';\n        getId('strange10Stage3').style.display = '';\n        getId('strange11Stage4').style.display = '';\n\n        getId('strangeBoostMain').style.display = '';\n        getId('strange9Stage1').style.display = '';\n        getId('strange8Stage2').style.display = '';\n        getId('strange8Stage3').style.display = '';\n        getId('strange9Stage4').style.display = '';\n        getId('strange6Stage5').style.display = '';\n        for (let s = 2; s <= 5; s++) {\n            getId(`strangenessSection${s}`).style.display = '';\n            getId(`milestone1Stage${s}Div`).style.display = '';\n            getId(`milestone2Stage${s}Div`).style.display = '';\n        }\n        for (const element of getClass('vacuum')) { element.style.display = ''; }\n        getId('vacuumBoost').style.display = 'none';\n        getId('stageInstant').style.display = 'none';\n        getId('unknownStructures').style.display = 'none';\n    } else {\n        specialHTML.footerStatsHTML[1][0] = ['Quarks.png', 'stage1borderImage cyanText', 'Quarks'];\n        buildingsInfo.hoverText[2][0] = 'Moles';\n        buildingsInfo.hoverText[3][0] = 'Mass';\n        buildings[1][0].current = [3, 0];\n        buildings[2][0].current = [2.8, -3];\n        buildings[3][0].current = [1, -19];\n        if (buildingsInfo.name[1][0] === 'Mass') {\n            specialHTML.buildingHTML[1].splice(0, 2);\n            buildingsInfo.name[1].splice(0, 2);\n            buildingsInfo.hoverText[1].splice(0, 2);\n        }\n        const maxBuildings = [4, 6, 5, 5, 4];\n        buildingsInfo.maxActive.splice(1, maxBuildings.length, ...maxBuildings);\n        buildingsInfo.startCost[1] = [0, 3, 24, 3];\n        buildingsInfo.firstCost[1] = [0, 3, 24, 3];\n        global.dischargeInfo.energyType[1] = [0, 1, 5, 20];\n        buildingsInfo.type[2][1] = 'producing';\n        buildingsInfo.type[3][1] = 'producing';\n        buildingsInfo.increase[5][1] = 2;\n        buildingsInfo.increase[5][2] = 2;\n\n        const upgrades1Cost = [0, 0, 9, 12, 36, 300, 800, 2000, 4000, 22000];\n        upgradesInfo[1].startCost.splice(0, upgrades1Cost.length, ...upgrades1Cost);\n        upgradesInfo[5].startCost[2] = 1e100;\n        upgradesInfo[1].maxActive = 10;\n        upgradesInfo[2].maxActive = 8;\n        upgradesInfo[3].maxActive = 13;\n        upgradesInfo[4].maxActive = 4;\n        upgradesInfo[5].maxActive = 3;\n\n        const researches1Cost = [1000, 2500, 6000, 8000, 8000, 6000];\n        const researches1Scaling = [250, 500, 2000, 8000, 4000, 6000];\n        researchesInfo[1].startCost.splice(0, researches1Cost.length, ...researches1Cost);\n        researchesInfo[1].scaling.splice(0, researches1Scaling.length, ...researches1Scaling);\n        researchesInfo[1].maxActive = 6;\n        researchesInfo[2].maxActive = 6;\n        researchesInfo[3].maxActive = 9;\n        researchesInfo[4].maxActive = 5;\n        researchesInfo[5].maxActive = 2;\n\n        researchesExtraInfo[1].maxActive = 0;\n        researchesExtraInfo[2].maxActive = 3;\n        researchesExtraInfo[3].maxActive = 4;\n        researchesExtraInfo[4].maxActive = 3;\n        researchesExtraInfo[5].maxActive = 0;\n\n        global.accretionInfo.rankCost[5] = 0;\n        global.ASRInfo.costRange[1] = [6000, 12000, 18000];\n        global.ASRInfo.costRange[3][3] = 2e30;\n\n        const strangeness1Cost = [1, 1, 3, 6, 6, 1, 2, 2, 12];\n        const strangeness1Scaling = [1.5, 2, 3.5, 0, 4, 0.75, 2, 4, 0];\n        strangenessInfo[1].startCost.splice(0, strangeness1Cost.length, ...strangeness1Cost);\n        strangenessInfo[1].scaling.splice(0, strangeness1Scaling.length, ...strangeness1Scaling);\n        const strangeness2Cost = [1, 2, 2, 1, 6, 2, 2, 12];\n        const strangeness2Scaling = [0.4, 0.5, 2.5, 3, 0, 1, 4, 0];\n        strangenessInfo[2].startCost.splice(0, strangeness2Cost.length, ...strangeness2Cost);\n        strangenessInfo[2].scaling.splice(0, strangeness2Scaling.length, ...strangeness2Scaling);\n        const strangeness3Cost = [1, 1, 2, 8, 6, 2, 8, 12];\n        const strangeness3Scaling = [0.75, 1.5, 2, 0, 0, 1, 8, 0];\n        strangenessInfo[3].startCost.splice(0, strangeness3Cost.length, ...strangeness3Cost);\n        strangenessInfo[3].scaling.splice(0, strangeness3Scaling.length, ...strangeness3Scaling);\n        const strangeness4Cost = [1, 1, 3, 2, 4, 6, 3, 3, 12];\n        const strangeness4Scaling = [1, 2, 2.5, 3, 28, 0, 1, 6, 0];\n        strangenessInfo[4].startCost.splice(0, strangeness4Cost.length, ...strangeness4Cost);\n        strangenessInfo[4].scaling.splice(0, strangeness4Scaling.length, ...strangeness4Scaling);\n        const strangeness5Cost = [120, 20, 80, 10, 10, 40, 800, 20, 40, 60];\n        const strangeness5Scaling = [60, 0, 0, 8, 10, 0, 400, 20, 0, 0];\n        strangenessInfo[5].startCost.splice(0, strangeness5Cost.length, ...strangeness5Cost);\n        strangenessInfo[5].scaling.splice(0, strangeness5Scaling.length, ...strangeness5Scaling);\n        strangenessInfo[1].maxActive = 9;\n        strangenessInfo[2].maxActive = 8;\n        strangenessInfo[3].maxActive = 8;\n        strangenessInfo[4].maxActive = 9;\n        strangenessInfo[5].maxActive = 10;\n\n        getId('milestonesWelcome').innerHTML = 'Any reached Milestone will award 1 <span class=\"greenText\">Strange quark</span>';\n        const milestone1S2 = getQuery('#milestone1Stage2Div > img') as HTMLImageElement;\n        global.milestonesInfo[2].name[0] = 'A Nebula of Drops';\n        milestone1S2.src = milestone1S2.src.replace('Clouds.png', 'Drop.png');\n        milestone1S2.alt = 'Drop of water';\n        global.milestonesInfo[3].name[0] = 'Cluster of Mass';\n\n        getId('vacuumBoost').style.display = '';\n        getId('strange9Stage5').style.display = '';\n        getId('strange10Stage5').style.display = '';\n        getId('stageInstant').style.display = '';\n        getId('rankStat0').style.display = '';\n        for (const element of getClass('vacuum')) { element.style.display = 'none'; }\n        for (let i = 0; i < global.challengesInfo.name.length; i++) {\n            getId(`challenge${i + 1}`).style.display = 'none';\n        }\n        for (let s = 1; s < strangenessInfo.length; s++) {\n            for (let i = strangenessInfo[s].maxActive + 1; i <= strangenessInfo[s].startCost.length; i++) {\n                getId(`strange${i}Stage${s}`).style.display = 'none';\n            }\n        }\n    }\n\n    for (let s = 1; s <= 3; s++) {\n        const newValue = buildings[s][0].current;\n        buildings[s][0].total = cloneArray(newValue);\n        buildings[s][0].trueTotal = cloneArray(newValue);\n        buildings[s][0].highest = cloneArray(newValue);\n    }\n};\n\nexport const switchVacuum = async() => {\n    if (player.inflation.vacuum) { return void Alert('This cannot be undone'); }\n    const count = global.strangeInfo.instability;\n    if (count < 5) { return void Alert(`Universe is still stable. Vacuum state is false. ${5 - count} more`); }\n\n    if (!(await Confirm('This will not be possible to undo. Confirm?'))) { return; }\n    await Alert('Universe is too unstable. Vacuum instability is imminent');\n    player.inflation.vacuum = true;\n    if (player.stage.true < 6) { player.stage.true = 6; }\n    player.stage.current = 1;\n    player.stage.active = 1;\n    prepareVacuum();\n    resetVacuum();\n};\n\nexport const updateUnknown = () => {\n    const { milestones } = player;\n\n    let text = '<h4 class=\"darkvioletText\">Unknown Structures:</h4>';\n    if (milestones[1][0] >= 6) { text += '<img src=\"Used_art/Preon.png\" alt=\"Unknown Structure\" loading=\"lazy\">'; }\n    if (milestones[2][1] >= 6) { text += '<img src=\"Used_art/Ocean.png\" alt=\"Unknown Structure\" loading=\"lazy\">'; }\n    if (milestones[3][1] >= 7) { text += '<img src=\"Used_art/Subsatellite.png\" alt=\"Unknown Structure\" loading=\"lazy\">'; }\n    if (milestones[4][1] >= 8) { text += '<img src=\"Used_art/Quasi%20star.png\" alt=\"Unknown Structure\" loading=\"lazy\">'; }\n\n    const div = getId('unknownStructures');\n    div.style.display = global.strangeInfo.instability > 0 ? '' : 'none';\n    if (div.innerHTML !== text) { div.innerHTML = text; }\n};\n", "import { checkTab } from './Check';\nimport Limit from './Limit';\nimport { getClass, getId, getQuery } from './Main';\nimport { global, player } from './Player';\nimport { playEvent, assignWithNoMove, specialHTML, switchTheme } from './Special';\nimport { autoElementsBuy, autoElementsSet, autoResearchesBuy, autoResearchesSet, autoUpgradesBuy, autoUpgradesSet, buyBuilding, calculateBuildingsCost, calculateGainedBuildings, assignBuildingInformation, collapseResetCheck, dischargeResetCheck, rankResetCheck, stageResetCheck, toggleSwap, vaporizationResetCheck, assignDischargeInformation, assignVaporizationInformation, assignCollapseInformation, shiftRange, calculateGainedStrangeness, switchStage } from './Stage';\nimport { overlimit } from './Types';\nimport { updateUnknown } from './Vacuum';\n\nexport const switchTab = (tab: string, subtab = null as null | string) => {\n    if (subtab === null) {\n        const oldTab = global.tab;\n        getId(`${oldTab}Tab`).style.display = 'none';\n        getId(`${oldTab}TabBtn`).classList.remove('tabActive');\n        if (Object.hasOwn(global.tabList, `${oldTab}Subtabs`)) {\n            for (const inside of global.tabList[`${oldTab as 'stage'}Subtabs`]) {\n                getId(`${oldTab}SubtabBtn${inside}`).style.display = 'none';\n            }\n        }\n\n        global.tab = tab;\n        let subtabAmount = 0;\n        getId(`${tab}Tab`).style.display = '';\n        getId(`${tab}TabBtn`).classList.add('tabActive');\n        if (Object.hasOwn(global.tabList, `${tab}Subtabs`)) {\n            for (const inside of global.tabList[`${tab as 'stage'}Subtabs`]) {\n                if (checkTab(tab, inside)) {\n                    getId(`${tab}SubtabBtn${inside}`).style.display = '';\n                    subtabAmount++;\n                } else if (global.subtab[`${tab as 'stage'}Current`] === inside) {\n                    switchTab(tab, global.tabList[`${tab as 'stage'}Subtabs`][0]);\n                }\n            }\n        }\n        getId('subtabs').style.display = subtabAmount > 1 ? '' : 'none';\n        if (global.screenReader[0]) { getId('SRTab').textContent = `Current tab is '${tab}'${subtabAmount > 1 ? ` and subtab is '${global.subtab[`${tab as 'stage'}Current`]}'` : ''}`; }\n    } else {\n        const oldSubtab = global.subtab[`${tab as 'stage'}Current`];\n        getId(`${tab}Subtab${oldSubtab}`).style.display = 'none';\n        getId(`${tab}SubtabBtn${oldSubtab}`).classList.remove('tabActive');\n\n        global.subtab[`${tab as 'stage'}Current`] = subtab;\n        getId(`${tab}Subtab${subtab}`).style.display = '';\n        getId(`${tab}SubtabBtn${subtab}`).classList.add('tabActive');\n        if (global.screenReader[0]) { getId('SRTab').textContent = `Current subtab is '${subtab}', part of '${tab}' tab`; }\n    }\n\n    if (global.lastActive !== null) {\n        switchStage(global.lastActive);\n        global.lastActive = null;\n    } else if ((global.tab === 'research' && global.subtab.researchCurrent === 'Elements') || tab === 'Elements') {\n        const active = player.stage.active;\n        if (active !== 4 && active !== 5) {\n            if (tab === 'research' && subtab === null) {\n                switchTab('research', 'Researches');\n                return;\n            } else {\n                global.lastActive = active;\n                switchStage(4);\n            }\n        }\n    }\n    visualUpdate();\n    numbersUpdate();\n};\n\n//In seconds\nexport const maxOfflineTime = (): number => Math.min(7200 * player.stage.true + Math.max(player.inflation.vacuum ? player.stage.resets * 28800 : (player.stage.resets - 4) * 7200, 0), 172800);\nexport const maxExportTime = (): number => player.strange[0].total > 0 ? 172800 : 86400;\nexport const exportMultiplier = (): number => {\n    let mult = 1 + player.stage.best / 20;\n    if (!player.inflation.vacuum) { mult += global.strangeInfo.instability; }\n    return mult * (player.strangeness[4][7] + 1);\n};\n\nexport const timeUpdate = (timeWarp = 0) => { //Time based information\n    const { auto, buildings: autoBuy } = player.toggles;\n    const { vacuum } = player.inflation;\n    const { maxActive, type } = global.buildingsInfo;\n    const { autoU, autoR, autoE, elements: autoElements } = global.automatization;\n\n    let passedSeconds: number;\n    if (timeWarp > 0) {\n        const extraTime = Math.min(60, timeWarp);\n        passedSeconds = extraTime;\n        timeWarp -= extraTime;\n    } else {\n        const { time } = player;\n\n        const currentTime = Date.now();\n        passedSeconds = (currentTime - time.updated) / 1000;\n        time.updated = currentTime;\n        global.lastSave += passedSeconds;\n        player.stage.export = Math.min(player.stage.export + passedSeconds, maxExportTime());\n        if (passedSeconds < 0) {\n            time.offline += passedSeconds;\n            return;\n        } else if (time.offline < 0) {\n            time.offline = Math.min(time.offline + passedSeconds, 0);\n        } else if (passedSeconds > 60) {\n            timeWarp = passedSeconds - 60;\n            passedSeconds = 60;\n        } else if (time.offline > 0 && player.toggles.normal[0] && player.strangeness[1][7] >= 2) {\n            const extraTime = Math.min(Math.max(time.offline / 3600, 1) * passedSeconds, time.offline);\n            time.offline -= Math.min(extraTime * (8 - player.strangeness[2][6]), time.offline);\n            passedSeconds += extraTime;\n        }\n    }\n    player.stage.time += passedSeconds;\n    player.inflation.age += passedSeconds;\n\n    if (vacuum && auto[0]) { stageResetCheck(5, true); }\n    for (let i = 0; i < player.strangeness[5][10]; i++) {\n        calculateGainedStrangeness(i, passedSeconds);\n    }\n    assignBuildingInformation();\n    for (const s of global.stageInfo.activeAll) {\n        if (!vacuum && auto[0]) { stageResetCheck(s, true); }\n        if (s === 4) {\n            if (auto[4]) { collapseResetCheck(true); }\n            if (autoElements.length !== 0) { autoElementsBuy(); }\n        } else if (s === 3) {\n            if (auto[3]) { rankResetCheck(true); }\n        } else if (s === 2) {\n            if (auto[2]) { vaporizationResetCheck(true); }\n        } else if (s === 1) {\n            if (auto[1]) { dischargeResetCheck('interval'); }\n        }\n\n        if (autoU[s].length !== 0) { autoUpgradesBuy(s); }\n        if (autoR[s].length !== 0) { autoResearchesBuy('researches', s); }\n        if (autoE[s].length !== 0) { autoResearchesBuy('researchesExtra', s); }\n\n        for (let i = maxActive[s] - 1; i >= 1; i--) {\n            if (autoBuy[s][i] && player.ASR[s] >= i) { buyBuilding(i, s, true); }\n            if (type[s][i] === 'producing') {\n                calculateGainedBuildings(i - 1, s, passedSeconds);\n            }\n        }\n        if (s === 1) { //Molecules from Radiation\n            if (player.upgrades[1][8] === 1) { calculateGainedBuildings(vacuum ? 5 : 3, 1, passedSeconds); }\n        } else if (s === 5) { //Stars from Nebulas\n            const research = player.researches[5][0];\n\n            if (research >= 1) { calculateGainedBuildings(1, 5, passedSeconds); }\n            if (research >= 2) { calculateGainedBuildings(2, 5, passedSeconds); }\n            if (research >= 3) { calculateGainedBuildings(3, 5, passedSeconds); }\n        }\n    }\n\n    if (timeWarp > 0) { timeUpdate(timeWarp); }\n};\n\nexport const numbersUpdate = () => { //This is for relevant visual info\n    const { tab, subtab } = global;\n    const active = player.stage.active;\n    const buildings = player.buildings[active];\n\n    if (global.footer) {\n        if (active === 1) {\n            getId('footerStat1Span').textContent = Limit(buildings[0].current).format({ padding: true });\n            getId('footerStat2Span').textContent = format(player.discharge.energy);\n        } else if (active === 2) {\n            getId('footerStat1Span').textContent = Limit(player.vaporization.clouds).format({ padding: true });\n            getId('footerStat2Span').textContent = Limit(buildings[0].current).format({ padding: true });\n            getId('footerStat3Span').textContent = Limit(buildings[1].current).format({ padding: buildings[2].current[0] > 0 });\n        } else if (active === 3) {\n            getId('footerStat1Span').textContent = Limit(buildings[0].current).format({ padding: true });\n        } else if (active === 4 || active === 5) {\n            const stars = player.buildings[4];\n\n            getId('footerStat1Span').textContent = format(player.collapse.mass, { padding: true });\n            getId('footerStat2Span').textContent = Limit(stars[0].current).format({ padding: true });\n            if (active === 5) {\n                getId('footerStat3Span').textContent = Limit(stars[1].current).plus(stars[2].current, stars[3].current, stars[4].current, stars[5].current).format({ padding: true });\n            }\n        }\n    }\n    if (tab === 'stage') {\n        if (subtab.stageCurrent === 'Structures') {\n            const { buildingsInfo } = global;\n            const howMany = player.stage.resets < 1 && player.discharge.current < 1 ? 1 : player.toggles.shop.howMany;\n\n            for (let i = 1; i < buildingsInfo.maxActive[active]; i++) {\n                const trueCountID = getId(`building${i}True`);\n                assignWithNoMove(getId(`building${i}Cur`), Limit(buildings[i].current).format({ padding: trueCountID.style.display !== 'none' }));\n                getId(`building${i}Prod`).textContent = Limit(buildingsInfo.producing[active][i]).format({ padding: true });\n                trueCountID.textContent = `[${format(buildings[i as 1].true)}]`;\n\n                if ((active === 4 && player.collapse.mass < global.collapseInfo.unlockB[i]) ||\n                    (active === 5 && i < 3 && player.collapse.mass < global.collapseInfo.unlockG[i])) {\n                    getId(`building${i}`).classList.remove('availableBuilding');\n                    getId(`building${i}Btn`).textContent = `Unlocked at ${format(global.collapseInfo[active === 4 ? 'unlockB' : 'unlockG'][i])} Mass`;\n                    getId(`building${i}BuyX`).textContent = 'Locked';\n                    continue;\n                }\n\n                let costName: string;\n                let currency: number | overlimit;\n                let free = false;\n                if (active === 5 && i === 3) { //Galaxy\n                    costName = 'Mass';\n                    currency = player.collapse.mass;\n                } else {\n                    let e = i - 1;\n                    let extra = active;\n                    if (active === 1) {\n                        if (i === 1 && player.inflation.vacuum) { free = player.strangeness[1][10] >= 1; }\n                    } else if (active === 2) {\n                        if (i !== 1) { e = 1; }\n                    } else if (active >= 3) {\n                        e = 0;\n                        if (active === 5) { extra = 4; }\n                    }\n\n                    costName = buildingsInfo.name[extra][e];\n                    currency = player.buildings[extra][e].current;\n                }\n\n                let totalBuy = 1;\n                let totalCost = calculateBuildingsCost(i, active); //This updates cost information\n                if (howMany !== 1) {\n                    const increase = buildingsInfo.increase[active][i];\n                    const firstCost = buildingsInfo.firstCost[active][i];\n                    if (free) {\n                        totalBuy = howMany === -1 ? Math.max(Math.floor(Limit(currency).divide(firstCost).log(increase).toNumber()) - buildings[i as 1].true + 1, 1) : howMany;\n                        if (totalBuy > 1) { totalCost = Limit(increase).power(totalBuy + buildings[i as 1].true - 1).multiply(firstCost).toArray(); }\n                    } else {\n                        const totalBefore = Limit(increase).power(buildings[i as 1].true).minus('1').divide(increase - 1).multiply(firstCost).toArray();\n\n                        totalBuy = howMany === -1 ? Math.max(Math.floor(Limit(totalBefore).plus(currency).multiply(increase - 1).divide(firstCost).plus('1').log(increase).toNumber()) - buildings[i as 1].true, 1) : howMany;\n                        if (totalBuy > 1) { totalCost = Limit(increase).power(totalBuy + buildings[i as 1].true).minus('1').divide(increase - 1).multiply(firstCost).minus(totalBefore).toArray(); }\n                    }\n                }\n\n                getId(`building${i}BuyX`).textContent = format(totalBuy);\n                if (Limit(totalCost).lessOrEqual(currency)) {\n                    getId(`building${i}`).classList.add('availableBuilding');\n                    getId(`building${i}Btn`).textContent = `Make for: ${Limit(totalCost).format({ padding: true })} ${costName}`;\n                } else {\n                    getId(`building${i}`).classList.remove('availableBuilding');\n                    getId(`building${i}Btn`).textContent = `Need: ${Limit(totalCost).format({ padding: true })} ${costName}`;\n                }\n            }\n            if (active === 1) {\n                assignDischargeInformation();\n                const effect = getId('dischargeEffect', false);\n                if (effect !== null) { effect.textContent = format(global.upgradesInfo[1].effect[5] as number); }\n                getId('reset1Button').textContent = `Next goal is ${format(global.dischargeInfo.next)} Energy`;\n            } else if (active === 2) {\n                assignVaporizationInformation();\n                getId('reset1Button').textContent = global.vaporizationInfo.get[0] !== 0 ? `Reset for ${Limit(global.vaporizationInfo.get).format({ padding: true })} Clouds` : `Waiting for ${format(global.vaporizationInfo.effect2U2(), { padding: true })} Drops`;\n            } else if (active === 3) {\n                const rankCost = global.accretionInfo.rankCost[player.accretion.rank];\n                if (rankCost !== 0) { getId('reset1Button').textContent = `Next Rank is ${format(rankCost)} Mass`; }\n            } else if (active === 4) {\n                const { collapse } = player;\n                const { collapseInfo } = global;\n                assignCollapseInformation();\n\n                getId('reset1Button').textContent = `Collapse to ${format(collapseInfo.newMass, { padding: true })} Mass`;\n                for (let i = 1; i <= 3; i++) {\n                    getId(`starSpecial${i}Cur`).textContent = format(collapse.stars[i - 1]);\n                    getId(`starSpecial${i}Get`).textContent = format(collapseInfo.starCheck[i - 1]);\n                }\n            }\n\n            getId('stageTime').textContent = format(player.stage.time, { type: 'time' });\n            if (player.time.offline > 0 && player.toggles.normal[0] && player.strangeness[1][7] >= 2) {\n                const time = Math.max(player.time.offline / 3600, 1);\n                getId('offlineBoostEffect').textContent = `+${format(time * 1, { digits: 0 })} seconds`;\n                getId('offlineBoostWaste').textContent = `${format(time * (8 - player.strangeness[2][6]), { digits: 0 })} seconds`;\n            }\n            if (global.lastUpgrade[active] >= 0) { getUpgradeDescription(global.lastUpgrade[active], 'upgrades'); }\n        } else if (subtab.stageCurrent === 'Advanced') {\n            if (!player.inflation.vacuum) { getId('vacuumEffect').textContent = format(global.strangeInfo.instability); }\n            getId('universeAge').textContent = format(player.inflation.age, { type: 'time' });\n        }\n    } else if (tab === 'research' || tab === 'Elements') {\n        const trueSubtab = tab === 'Elements' ? tab : subtab.researchCurrent;\n        if (trueSubtab === 'Researches') {\n            if (global.lastResearch[active][0] >= 0) { getUpgradeDescription(global.lastResearch[active][0], global.lastResearch[active][1]); }\n        } else if (trueSubtab === 'Elements') {\n            if (global.lastElement >= 1) { getUpgradeDescription(global.lastElement, 'elements'); }\n        }\n    } else if (tab === 'strangeness') {\n        if (subtab.strangenessCurrent === 'Matter') {\n            const stageGain = global.strangeInfo.gain(active) / 1e12 ** player.strangeness[5][10];\n            getId('strangeGain').textContent = `${format(stageGain)} ${global.strangeInfo.name[player.strangeness[5][10]]}`;\n            getId('strangeTime').textContent = `${format(stageGain / player.stage.time, { padding: true })} per second`;\n            getId('strangeBoost').textContent = global.strangeInfo.stageBoost[active] !== null ? format(global.strangeInfo.stageBoost[active] as number, { padding: true }) : 'none';\n            getId('strange0Cur').textContent = format(player.strange[0].current);\n            getId('strange1Cur').textContent = format(player.strange[1].current);\n        }\n    } else if (tab === 'settings') {\n        if (subtab.settingsCurrent === 'Settings') {\n            assignWithNoMove(getId('exportGain'), format(player.stage.export * exportMultiplier() / 86400 / 1e12 ** player.strangeness[5][10], { padding: true }));\n            if (global.lastSave >= 1) { getId('isSaved').textContent = `${format(global.lastSave, { type: 'time' })} ago`; }\n            getId('massShiftCur').textContent = format(global.inflationInfo.massCap);\n            getId('massShiftMin').textContent = format(shiftRange(false));\n            getId('massShiftMax').textContent = format(shiftRange());\n        } else if (subtab.settingsCurrent === 'Stats') {\n            const maxTimeExp = maxExportTime();\n\n            getId('firstPlay').textContent = `${new Date(player.time.started).toLocaleString()} (${format((Date.now() - player.time.started) / 1000, { type: 'time' })} ago)`;\n            getId('stageResetsCount').textContent = format(player.stage.resets);\n            getId('stageBestGain').textContent = format(player.stage.best);\n            getId('offlineStat').textContent = format(Math.max(player.time.offline, 0), { type: 'time' });\n            getId('maxOfflineStat').textContent = format(maxOfflineTime(), { type: 'time' });\n            getId('maxExportStat').textContent = format(exportMultiplier() * maxTimeExp / 86400 / 1e12 ** player.strangeness[5][10]);\n            getId('maxExportTime').textContent = format(maxTimeExp, { type: 'time' });\n            if (active === 1) {\n                getId('maxEnergyStat').textContent = format(player.discharge.energyMax);\n                getId('dischargeStat').textContent = format(player.discharge.current + global.dischargeInfo.bonus);\n                getId('dischargeStatTrue').textContent = `[${format(player.discharge.current)}]`;\n                if (player.strangeness[1][11] < 1) { getId('energyStatTrue').textContent = format(global.dischargeInfo.energyTrue); }\n                if (player.inflation.vacuum) {\n                    assignWithNoMove(getId('preonCapStat'), Limit(global.inflationInfo.preonCap).format({ padding: true }));\n                    assignWithNoMove(getId('preonCapTill'), Limit(global.inflationInfo.preonTrue).divide(global.inflationInfo.preonCap).format({ padding: true }));\n                }\n            } else if (active === 2) {\n                assignVaporizationInformation();\n                const before = global.vaporizationInfo.cloudEffect();\n                assignWithNoMove(getId('cloudsEffectCurrent'), Limit(before).format({ padding: true }));\n                assignWithNoMove(getId('cloudsEffectAfter'), `x${Limit(global.vaporizationInfo.cloudEffect(true)).divide(before).format({ padding: true })}`);\n                getId('maxCloudsStat').textContent = Limit(player.vaporization.cloudsMax).format();\n\n                if (player.inflation.vacuum) {\n                    const moles = player.buildings[1][5];\n\n                    buildings[0].total = Limit(moles.total).divide('6.02214076e23').toArray();\n                    buildings[0].trueTotal = Limit(moles.trueTotal).divide('6.02214076e23').toArray();\n                    buildings[0].highest = Limit(moles.highest).divide('6.02214076e23').toArray();\n\n                    assignWithNoMove(getId('oceanWorldEffect'), format(global.vaporizationInfo.oceanWorld(), { padding: true }));\n                }\n            } else if (active === 3) {\n                getId('effectiveRank').textContent = format(global.accretionInfo.effective);\n                if (player.inflation.vacuum) {\n                    const mass = player.buildings[1][0];\n\n                    buildings[0].total = Limit(mass.total).multiply('1.78266192e-33').toArray();\n                    buildings[0].trueTotal = Limit(mass.trueTotal).multiply('1.78266192e-33').toArray();\n                    buildings[0].highest = Limit(mass.highest).multiply('1.78266192e-33').toArray();\n\n                    assignWithNoMove(getId('dustCapStat'), Limit(global.inflationInfo.dustCap).format({ padding: true }));\n                    assignWithNoMove(getId('dustCapTill'), Limit(global.inflationInfo.dustTrue).divide(global.inflationInfo.dustCap).format({ padding: true }));\n                }\n            } else if (active === 4 || active === 5) {\n                assignCollapseInformation();\n                getId('maxSolarMassStat').textContent = format(player.collapse.massMax);\n                if (player.inflation.vacuum) {\n                    assignWithNoMove(getId('mainCapStat'), Limit(global.buildingsInfo.producing[1][1]).multiply('8.96499278339628e-67', global.inflationInfo.massCap).format({ padding: true }));\n                    getId('mainCapLimit').textContent = format(global.inflationInfo.massCap, { type: 'time' });\n                }\n                if (active === 4) {\n                    const { starEffect, massEffect } = global.collapseInfo;\n\n                    const before = massEffect();\n                    assignWithNoMove(getId('starMassStatCurrent'), format(before, { padding: true }));\n                    assignWithNoMove(getId('starMassStatAfter'), `x${format(massEffect(true) / before, { padding: true })}`);\n                    for (let i = 0; i <= 2; i++) {\n                        const before = starEffect[i]();\n                        assignWithNoMove(getId(`star${i + 1}StatCurrent`), format(before, { padding: true }));\n                        assignWithNoMove(getId(`star${i + 1}StatAfter`), `x${format(starEffect[i](true) / before, { padding: true })}`);\n                    }\n                } else if (active === 5) {\n                    getId('starsStatTrue').textContent = format(global.collapseInfo.trueStars);\n                    const stars = player.buildings[4];\n\n                    buildings[0].current = Limit(stars[1].current).plus(stars[2].current, stars[3].current, stars[4].current, stars[5].current).toArray();\n                    buildings[0].total = Limit(stars[1].total).plus(stars[2].total, stars[3].total, stars[4].total, stars[5].total).toArray();\n                    buildings[0].trueTotal = Limit(stars[1].trueTotal).plus(stars[2].trueTotal, stars[3].trueTotal, stars[4].trueTotal, stars[5].trueTotal).toArray();\n                    buildings[0].highest = Limit(stars[1].highest).plus(stars[2].highest, stars[3].highest, stars[4].highest, stars[5].highest).toArray();\n                }\n            }\n            for (let i = 0; i < buildings.length; i++) {\n                getId(`building${i}StatTotal`).textContent = Limit(buildings[i].total).format();\n                getId(`building${i}StatTrueTotal`).textContent = Limit(buildings[i].trueTotal).format();\n                getId(`building${i}StatHighest`).textContent = Limit(buildings[i].highest).format();\n            }\n\n            const { strange } = player;\n            const strangeMax = Math.floor(strange[1].current * 1e12);\n            for (let i = 0; i < strange.length; i++) {\n                getId(`strange${i}StatTotal`).textContent = format(strange[i].total);\n            }\n            getId('strange0StatProd').textContent = format(strangeMax);\n            getId('strange1StatProd').textContent = format(Math.max(1, (strangeMax - strange[0].current) / 600), { padding: true });\n        }\n    }\n};\n\nexport const visualUpdate = () => { //This is what can appear/disappear when inside Stage\n    const { tab, subtab } = global;\n    const active = player.stage.active;\n\n    if (global.footer && !player.toggles.normal[2]) {\n        const check = getId('ElementsTabBtn', false);\n        if (check !== null) { check.style.display = player.upgrades[4][1] === 1 ? '' : 'none'; }\n    }\n    if (active === 1) {\n        if (global.footer && player.stage.resets < 1) {\n            getId('footerStat2').style.display = player.discharge.energyMax >= (player.inflation.vacuum ? 36 : 9) ? '' : 'none';\n            getId('researchTabBtn').style.display = player.discharge.current >= 4 ? '' : 'none';\n        }\n        if (!player.events[0] && player.upgrades[1][6] === 1) { playEvent(0, 0); }\n    } else if (active === 2) {\n        if (global.footer) { getId('footerStat1').style.display = player.upgrades[2][2] === 1 ? '' : 'none'; }\n        if (!player.events[0]) {\n            assignVaporizationInformation();\n            if (Limit(global.vaporizationInfo.get).plus(player.vaporization.clouds).moreThan('1e4')) { playEvent(1, 0); }\n        }\n    } else if (active === 3) {\n        if (!player.events[0] && Limit(player.buildings[3][0].current).moreOrEqual('5e29')) { playEvent(2, 0); }\n    } else if (active === 4) {\n        if (!player.events[0] && player.elements[1] > 0) { playEvent(3, 0); }\n    }\n\n    if (tab === 'stage') {\n        if (subtab.stageCurrent === 'Structures') {\n            const buildings = player.buildings[active];\n            const multiMake = player.stage.resets >= 1 || player.discharge.current >= 1;\n            const ASR = player.ASR[active];\n\n            if (!player.inflation.vacuum) {\n                const resetMessage = active >= 4 ? 'Return back to start' : active === player.stage.current ? 'Enter next Stage' : 'Reset this Stage';\n                const failMessage = (active >= 4 ? player.strange[0].total === 0 : active === player.stage.current) ? 'Not ready for more' : 'Not ready for reset';\n                getId('stageReset').textContent = (active >= 4 ? player.events[1] && player.stage.current >= 5 : stageResetCheck(active)) ? resetMessage : failMessage;\n            }\n\n            getId('toggleBuy').style.display = multiMake ? '' : 'none';\n            getId('autoWaitInput').style.display = player.strangeness[1][7] >= 1 ? '' : 'none';\n            getId('toggleBuilding0').style.display = player.strangeness[1][7] >= 1 ? '' : 'none';\n            getId('offlineBoost').style.display = player.time.offline > 0 && player.toggles.normal[0] && player.strangeness[1][7] >= 2 ? '' : 'none';\n            getId('offlineWarning').style.display = player.time.offline > 0 && player.time.offline >= maxOfflineTime() ? '' : 'none';\n            for (let i = 1; i < global.buildingsInfo.maxActive[active]; i++) {\n                getId(`building${i}True`).style.display = Limit(buildings[i].current).notEqual(buildings[i as 1].true) ? '' : 'none';\n                getId(`toggleBuilding${i}`).style.display = ASR >= i ? '' : 'none';\n                getId(`building${i}BuyDiv`).style.display = multiMake ? '' : 'none';\n            }\n            if (active === 1) {\n                const first3Discharges = player.discharge.current >= 3;\n\n                getId('reset1Main').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('building2').style.display = Limit(buildings[1].trueTotal).moreOrEqual(player.inflation.vacuum ? '4' : '11') ? '' : 'none';\n                getId('building3').style.display = Limit(buildings[2].trueTotal).moreOrEqual('2') ? '' : 'none';\n                if (player.inflation.vacuum) {\n                    getId('building4').style.display = Limit(buildings[3].trueTotal).moreOrEqual('8') ? '' : 'none';\n                    getId('building5').style.display = Limit(buildings[4].trueTotal).moreOrEqual('2') ? '' : 'none';\n                }\n                getId('upgrade7').style.display = first3Discharges ? '' : 'none';\n                getId('upgrade8').style.display = first3Discharges ? '' : 'none';\n                getId('upgrade9').style.display = first3Discharges ? '' : 'none';\n                getId('upgrade10').style.display = first3Discharges ? '' : 'none';\n                if (player.stage.resets < 1) { getId('upgrades').style.display = player.discharge.energyMax >= (player.inflation.vacuum ? 36 : 9) ? '' : 'none'; }\n                if (player.stage.true < 2) {\n                    getId('resetStage').style.display = player.upgrades[1][9] === 1 ? '' : 'none';\n                    getId('stageTimeMain').style.display = player.upgrades[1][9] === 1 ? '' : 'none';\n                }\n            } else if (active === 2) {\n                getId('reset1Main').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('building2').style.display = Limit(buildings[1].trueTotal).moreOrEqual('200') ? '' : 'none';\n                getId('building3').style.display = Limit(buildings[1].trueTotal).moreOrEqual('4e6') ? '' : 'none';\n                getId('building4').style.display = Limit(buildings[1].trueTotal).moreOrEqual('4e17') ? '' : 'none';\n                getId('building5').style.display = Limit(buildings[1].trueTotal).moreOrEqual('4e22') ? '' : 'none';\n                getId('upgrade2').style.display = buildings[2].trueTotal[0] > 0 ? '' : 'none';\n                getId('upgrade3').style.display = buildings[3].trueTotal[0] > 0 ? '' : 'none';\n                getId('upgrade4').style.display = buildings[2].trueTotal[0] > 0 ? '' : 'none';\n                getId('upgrade5').style.display = buildings[2].trueTotal[0] > 0 ? '' : 'none';\n                getId('upgrade6').style.display = buildings[3].trueTotal[0] > 0 ? '' : 'none';\n                getId('upgrade7').style.display = buildings[4].trueTotal[0] > 0 ? '' : 'none';\n                getId('upgrade8').style.display = buildings[5].trueTotal[0] > 0 && player.strangeness[2][2] >= 3 ? '' : 'none';\n                if (player.inflation.vacuum) {\n                    getId('building6').style.display = player.strangeness[2][8] >= 1 && Limit(buildings[1].trueTotal).moreOrEqual('8e24') ? '' : 'none';\n                    //getId('upgrade9').style.display = buildings[6].trueTotal[0] > 0 && player.strangeness[2][8] >= 2 ? '' : 'none';\n                }\n            } else if (active === 3) {\n                const rank = player.accretion.rank;\n                const upgrades = player.upgrades[3];\n\n                getId('buildings').style.display = rank >= 1 ? '' : 'none';\n                getId('building2').style.display = upgrades[2] === 1 ? '' : 'none';\n                getId('building3').style.display = upgrades[4] === 1 ? '' : 'none';\n                getId('building4').style.display = upgrades[6] === 1 ? '' : 'none';\n                if (player.inflation.vacuum) { getId('building5').style.display = rank >= 5 && upgrades[11] === 1 && player.strangeness[3][8] >= 1 ? '' : 'none'; }\n                getId('upgrades').style.display = rank >= 1 ? '' : 'none';\n                getId('upgrade3').style.display = rank >= 2 ? '' : 'none';\n                getId('upgrade4').style.display = buildings[2].trueTotal[0] > 0 ? '' : 'none';\n                getId('upgrade5').style.display = rank >= 3 ? '' : 'none';\n                getId('upgrade6').style.display = rank >= 4 || upgrades[4] === 1 ? '' : 'none';\n                getId('upgrade7').style.display = rank >= 4 ? '' : 'none';\n                getId('upgrade8').style.display = rank >= 4 ? '' : 'none';\n                getId('upgrade9').style.display = rank >= 4 && player.strangeness[3][2] >= 3 ? '' : 'none';\n                getId('upgrade10').style.display = rank >= 4 ? '' : 'none';\n                getId('upgrade11').style.display = rank >= 5 ? '' : 'none';\n                getId('upgrade12').style.display = rank >= 5 ? '' : 'none';\n                getId('upgrade13').style.display = rank >= 5 ? '' : 'none';\n            } else if (active === 4) {\n                const nova = player.researchesExtra[4][0];\n\n                getId('starsSpecial').style.display = buildings[2].trueTotal[0] > 0 ? '' : 'none';\n                getId('starSpecial2').style.display = buildings[3].trueTotal[0] > 0 ? '' : 'none';\n                getId('starSpecial3').style.display = buildings[4].trueTotal[0] > 0 ? '' : 'none';\n                getId('reset1Main').style.display = player.upgrades[4][0] === 1 ? '' : 'none';\n                getId('building2').style.display = nova >= 1 ? '' : 'none';\n                getId('building3').style.display = nova >= 2 ? '' : 'none';\n                getId('building4').style.display = nova >= 3 ? '' : 'none';\n                if (player.inflation.vacuum) { getId('building5').style.display = player.strangeness[4][9] >= 1 && (player.collapse.stars[2] > 0 || player.buildings[5][3].true > 0) ? '' : 'none'; }\n                getId('upgrade4').style.display = player.strangeness[4][2] >= 1 ? '' : 'none';\n            } else if (active === 5) {\n                if (!player.inflation.vacuum) {\n                    const nebula = player.milestones[2][0] >= 6;\n                    const cluster = player.milestones[3][0] >= 7;\n\n                    getId('buildings').style.display = nebula || cluster ? '' : 'none';\n                    getId('building1').style.display = nebula ? '' : 'none';\n                    getId('building2').style.display = cluster ? '' : 'none';\n                    getId('upgrades').style.display = nebula || cluster ? '' : 'none';\n                    getId('upgrade1').style.display = nebula ? '' : 'none';\n                    getId('upgrade2').style.display = cluster ? '' : 'none';\n                }\n                getId('building3').style.display = player.strangeness[5][6] >= 1 ? '' : 'none';\n                getId('upgrade3').style.display = buildings[3].true >= 1 ? '' : 'none';\n            }\n        } else if (subtab.stageCurrent === 'Advanced') {\n            if (player.inflation.vacuum) {\n                getId('challenge1').style.display = player.strangeness[5][0] >= 1 ? '' : 'none';\n            }\n        }\n    } else if (tab === 'research' || tab === 'Elements') {\n        const trueSubtab = tab === 'Elements' ? tab : subtab.researchCurrent;\n        if (trueSubtab === 'Researches') {\n            if (active === 1) {\n                getId('stageResearch').style.display = player.discharge.current >= 4 ? '' : 'none';\n                if (player.inflation.vacuum) {\n                    getId('researchExtra2').style.display = player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                    getId('researchExtra4').style.display = player.researchesExtra[1][2] >= 1 ? '' : 'none';\n                    getId('researchExtra5').style.display = player.accretion.rank >= 6 ? '' : 'none';\n                    getId('extraResearch').style.display = player.discharge.current >= 5 ? '' : 'none';\n                }\n            } else if (active === 2) {\n                const buildings = player.buildings[2];\n\n                getId('extraResearch').style.display = player.vaporization.clouds[0] > 0 ? '' : 'none';\n                getId('research2').style.display = buildings[2].trueTotal[0] > 0 ? '' : 'none';\n                getId('research3').style.display = buildings[2].trueTotal[0] > 0 ? '' : 'none';\n                getId('research4').style.display = buildings[2].trueTotal[0] > 0 ? '' : 'none';\n                getId('research5').style.display = buildings[3].trueTotal[0] > 0 ? '' : 'none';\n                getId('research6').style.display = buildings[4].trueTotal[0] > 0 ? '' : 'none';\n                getId('researchExtra3').style.display = buildings[5].trueTotal[0] > 0 ? '' : 'none';\n                getId('researchExtra4').style.display = player.accretion.rank >= 6 ? '' : 'none';\n            } else if (active === 3) {\n                const rank = player.accretion.rank;\n\n                getId('stageResearch').style.display = rank >= 1 ? '' : 'none';\n                getId('research3').style.display = player.buildings[3][2].trueTotal[0] > 0 ? '' : 'none';\n                getId('research4').style.display = player.buildings[3][2].trueTotal[0] > 0 ? '' : 'none';\n                getId('research5').style.display = rank >= 3 ? '' : 'none';\n                getId('research6').style.display = rank >= 3 ? '' : 'none';\n                getId('research7').style.display = rank >= 4 || player.upgrades[3][4] === 1 ? '' : 'none';\n                getId('research8').style.display = rank >= 4 ? '' : 'none';\n                getId('research9').style.display = rank >= 5 ? '' : 'none';\n                getId('extraResearch').style.display = rank >= 2 ? '' : 'none';\n                getId('researchExtra2').style.display = rank >= 3 ? '' : 'none';\n                getId('researchExtra3').style.display = rank >= 4 ? '' : 'none';\n                getId('researchExtra4').style.display = rank >= 5 ? '' : 'none';\n                if (player.inflation.vacuum) {\n                    getId('researchExtra5').style.display = rank >= 3 && player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                }\n            } else if (active === 4) {\n                getId('research4').style.display = player.strangeness[4][2] >= 2 ? '' : 'none';\n                getId('research5').style.display = player.collapse.stars[2] > 0 || player.buildings[5][3].true >= 1 ? '' : 'none';\n                getId('researchExtra2').style.display = player.collapse.stars[0] > 0 || player.buildings[5][3].true >= 1 ? '' : 'none';\n                getId('researchExtra3').style.display = player.strangeness[4][2] >= 3 ? '' : 'none';\n            } else if (active === 5) {\n                if (!player.inflation.vacuum) {\n                    getId('stageResearch').style.display = player.milestones[2][0] >= 6 || player.milestones[3][0] >= 7 ? '' : 'none';\n                    getId('research1').style.display = player.milestones[2][0] >= 6 ? '' : 'none';\n                    getId('research2').style.display = player.milestones[3][0] >= 7 ? '' : 'none';\n                }\n            }\n        } else if (trueSubtab === 'Elements') {\n            const neutron = player.collapse.stars[1] > 0 || player.buildings[5][3].true >= 1;\n            const upgrades = player.upgrades[4];\n            const grid = getId('elementsGrid');\n\n            grid.style.display = upgrades[2] === 1 ? '' : 'flex';\n            for (let i = 6; i <= 10; i++) { getId(`element${i}`).style.display = upgrades[2] === 1 ? '' : 'none'; }\n            upgrades[2] === 1 && !neutron ? grid.classList.add('Elements10App') : grid.classList.remove('Elements10App');\n            for (let i = 11; i <= 26; i++) { getId(`element${i}`).style.display = neutron ? '' : 'none'; }\n            getId('element27').style.display = upgrades[3] === 1 ? '' : 'none';\n            getId('element28').style.display = upgrades[3] === 1 ? '' : 'none';\n        }\n    } else if (tab === 'strangeness') {\n        if (subtab.strangenessCurrent === 'Matter') {\n            const vacuum = player.inflation.vacuum;\n            const bound = player.strangeness[5][5] >= 1;\n\n            getId('strange1').style.display = player.strangeness[5][10] >= 1 ? '' : 'none';\n            getId('strange4Stage5').style.display = (vacuum ? bound : player.milestones[2][0] >= 6) ? '' : 'none';\n            getId('strange5Stage5').style.display = (vacuum ? bound : player.milestones[3][0] >= 7) ? '' : 'none';\n            getId('strange8Stage5').style.display = (vacuum ? bound : player.milestones[2][0] >= 6 || player.milestones[3][0] >= 7) ? '' : 'none';\n            getId('strange7Stage5').style.display = !vacuum && bound ? '' : 'none';\n            if (vacuum) {\n                const voidProgress = player.challenges.void;\n\n                getId('strange10Stage1').style.display = voidProgress[1] >= 1 ? '' : 'none';\n                getId('strange11Stage1').style.display = voidProgress[1] >= 2 ? '' : 'none';\n                getId('strange12Stage1').style.display = voidProgress[4] >= 2 ? '' : 'none';\n                getId('strange10Stage2').style.display = voidProgress[2] >= 1 ? '' : 'none';\n                getId('strange11Stage2').style.display = voidProgress[2] >= 2 ? '' : 'none';\n                getId('strange10Stage3').style.display = voidProgress[4] >= 4 ? '' : 'none';\n                getId('strange11Stage3').style.display = voidProgress[1] >= 3 ? '' : 'none';\n                getId('strange11Stage4').style.display = voidProgress[4] >= 3 ? '' : 'none';\n                getId('strange9Stage5').style.display = voidProgress[4] >= 1 ? '' : 'none';\n                getId('strange10Stage5').style.display = bound ? '' : 'none';\n                getId('strange11Stage5').style.display = voidProgress[3] >= 5 ? '' : 'none';\n            } else {\n                const strange5 = player.milestones[4][0] >= 8;\n\n                getId('strangeBoostMain').style.display = strange5 ? '' : 'none';\n                getId('strange9Stage1').style.display = strange5 ? '' : 'none';\n                getId('strange8Stage2').style.display = strange5 ? '' : 'none';\n                getId('strange8Stage3').style.display = strange5 ? '' : 'none';\n                getId('strange9Stage4').style.display = strange5 ? '' : 'none';\n                getId('strangenessSection5').style.display = strange5 ? '' : 'none';\n                getId('strange6Stage5').style.display = player.milestones[2][0] >= 6 || player.milestones[3][0] >= 7 ? '' : 'none';\n            }\n        } else if (subtab.strangenessCurrent === 'Milestones') {\n            if (!player.inflation.vacuum) {\n                getId('milestone1Stage5Div').style.display = player.strangeness[5][8] >= 1 ? '' : 'none';\n                getId('milestone2Stage5Div').style.display = player.strangeness[5][8] >= 1 && player.strangeness[5][6] >= 1 ? '' : 'none';\n            }\n        }\n    } else if (tab === 'settings') {\n        if (subtab.settingsCurrent === 'Settings') {\n            const { strangeness } = player;\n            const trueStage = player.stage.true;\n\n            getId('toggleAuto0').style.display = strangeness[5][2] >= 1 ? '' : 'none';\n            getId('toggleAuto0Main').style.display = strangeness[5][2] >= 1 ? '' : 'none';\n            getId('exportSpecial').style.display = player.strange[0].total > 0 ? '' : 'none';\n            getId('exportType').textContent = global.strangeInfo.name[strangeness[5][10]];\n            getId('saveNameMatter').style.display = strangeness[5][10] >= 1 ? '' : 'none';\n            getId('allStructuresHotkey').style.display = strangeness[1][7] >= 1 ? '' : 'none';\n            getId('toggle0').style.display = strangeness[1][7] >= 2 ? '' : 'none';\n            getId('offlineHotkey').style.display = strangeness[1][7] >= 2 ? '' : 'none';\n            getId('autoToggle5').style.display = strangeness[3][6] >= 1 ? '' : 'none';\n            getId('autoToggle6').style.display = strangeness[3][6] >= 2 ? '' : 'none';\n            getId('autoToggle7').style.display = strangeness[3][6] >= 3 ? '' : 'none';\n            getId('autoToggle8').style.display = strangeness[4][4] >= 2 ? '' : 'none';\n            getId('toggleAuto1').style.display = strangeness[1][3] >= 1 ? '' : 'none';\n            getId('toggleAuto2').style.display = strangeness[2][4] >= 1 ? '' : 'none';\n            getId('toggleAuto2Main').style.display = strangeness[2][4] >= 1 ? '' : 'none';\n            getId('toggleAuto3').style.display = strangeness[3][4] >= 1 ? '' : 'none';\n            getId('toggleAuto3Main').style.display = strangeness[3][9] >= 1 ? '' : 'none';\n            getId('toggleAuto4').style.display = strangeness[4][5] >= 1 ? '' : 'none';\n            getId('toggleAuto4Main').style.display = strangeness[4][5] >= 1 ? '' : 'none';\n            getId('stageReward').textContent = global.strangeInfo.name[strangeness[5][10]];\n            getId('collapseGalaxy').style.display = strangeness[5][6] >= 2 ? '' : 'none';\n            if (trueStage < 2) { getId('resetToggles').style.display = player.discharge.current >= 1 ? '' : 'none'; }\n            if (trueStage < 3) { getId('vaporizationToggleReset').style.display = player.vaporization.clouds[0] > 0 ? '' : 'none'; }\n            if (trueStage < 4) { getId('rankToggleReset').style.display = player.accretion.rank >= 2 ? '' : 'none'; }\n            if (trueStage < 5) {\n                getId('collapseToggleReset').style.display = player.collapse.mass > 0.01235 ? '' : 'none';\n                getId('elementsAsSubtab').style.display = player.upgrades[4][1] === 1 ? '' : 'none';\n            }\n            if (trueStage < 7) { getId('switchTheme6').style.display = trueStage === 6 && strangeness[5][0] >= 1 ? '' : 'none'; }\n        } else if (subtab.settingsCurrent === 'History') {\n            const stageBest = player.history.stage.best;\n            const converted = stageBest[0] / 1e12 ** stageBest[2];\n            getId('stageBestReset1').textContent = `${format(converted)} ${global.strangeInfo.name[stageBest[2]]}`;\n            getId('stageBestReset2').textContent = format(stageBest[1], { type: 'time' });\n            getId('stageBestReset3').textContent = `${format(converted / stageBest[1], { padding: true })} per second`;\n            updateHistory(/*'stage'*/);\n        } else if (subtab.settingsCurrent === 'Stats') {\n            const { strange } = player;\n            const buildings = player.buildings[active];\n\n            getId('maxExportStats').style.display = strange[0].total > 0 ? '' : 'none';\n            getId('maxExportType').textContent = global.strangeInfo.name[player.strangeness[5][10]];\n            getId('stageBest').style.display = strange[0].total > 0 ? '' : 'none';\n            getId('stageResets').style.display = player.stage.resets > 0 ? '' : 'none';\n            for (let i = 1; i < global.buildingsInfo.maxActive[active]; i++) {\n                getId(`building${i}Stats`).style.display = buildings[i].trueTotal[0] > 0 ? '' : 'none';\n            }\n            getId('strangeAllStats').style.display = strange[0].total > 0 ? '' : 'none';\n            for (let i = 1; i < strange.length; i++) {\n                getId(`strange${i}Stats`).style.display = strange[i].total > 0 ? '' : 'none';\n            }\n            getId('strange0StatProdDiv').style.display = player.strangeness[5][10] >= 1 ? '' : 'none';\n\n            getId('solarMassStats').style.display = active === 4 || active === 5 ? '' : 'none';\n            if (!player.inflation.vacuum) { updateUnknown(); }\n            if (active === 1) {\n                getId('energyTrue').style.display = player.strangeness[1][11] < 1 && player.discharge.energyMax >= (player.inflation.vacuum ? 36 : 9) ? '' : 'none';\n                getId('energyStats').style.display = player.discharge.energyMax >= (player.inflation.vacuum ? 36 : 9) ? '' : 'none';\n                getId('dischargeStats').style.display = player.discharge.current + global.dischargeInfo.bonus > 0 ? '' : 'none';\n                getId('dischargeStatTrue').style.display = global.dischargeInfo.bonus > 0 ? '' : 'none';\n            } else if (active === 2) {\n                getId('cloudsEffect').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('cloudsStats').style.display = player.vaporization.cloudsMax[0] > 0 ? '' : 'none';\n                getId('oceanWorld').style.display = player.strangeness[2][9] >= 1 ? '' : 'none';\n            } else if (active === 3) {\n                if (player.inflation.vacuum) {\n                    getId('rankStat0').style.display = player.strangeness[2][9] >= 1 ? '' : 'none';\n                }\n                for (let i = 1; i < global.accretionInfo.rankImage.length; i++) { getId(`rankStat${i}`).style.display = player.accretion.rank >= i ? '' : 'none'; }\n            } else if (active === 4) {\n                getId('star1Stats').style.display = buildings[2].trueTotal[0] > 0 ? '' : 'none';\n                getId('star2Stats').style.display = buildings[3].trueTotal[0] > 0 ? '' : 'none';\n                getId('star3Stats').style.display = buildings[4].trueTotal[0] > 0 ? '' : 'none';\n            }\n        }\n    }\n};\n\nexport const getUpgradeDescription = (index: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'ASR' | 'elements') => {\n    if (type === 'elements') {\n        const { elementsInfo } = global;\n        global.lastElement = index;\n\n        getId('elementText').textContent = `${elementsInfo.name[index]}.`;\n        getId('elementEffect').textContent = player.elements[index] >= 1 || (player.collapse.show >= index && index !== 0) ? elementsInfo.effectText[index]() : 'Effect is not yet known.';\n        getId('elementCost').textContent = player.elements[index] >= 1 ? 'Obtained.' : player.elements[index] > 0 ? 'Awaiting Collapse.' : `${format(elementsInfo.startCost[index])} ${global.stageInfo.priceName}.`;\n        return;\n    }\n\n    const stageIndex = player.stage.active;\n    if (type === 'upgrades') {\n        const pointer = global.upgradesInfo[stageIndex];\n        global.lastUpgrade[stageIndex] = index;\n\n        getId('upgradeText').textContent = `${pointer.name[index]}.`;\n        getId('upgradeEffect').textContent = pointer.effectText[index]();\n        getId('upgradeCost').textContent = player.upgrades[stageIndex][index] >= 1 ? 'Created.' :\n            stageIndex === 4 && global.collapseInfo.unlockU[index] > player.collapse.mass ? `Unlocked at ${format(global.collapseInfo.unlockU[index])} Mass.` :\n            `${format(pointer.startCost[index])} ${global.stageInfo.priceName}.`;\n    } else if (type === 'researches' || type === 'researchesExtra') {\n        const pointer = global[`${type}Info`][stageIndex];\n        global.lastResearch[stageIndex] = [index, type];\n        if (type === 'researchesExtra' && stageIndex === 4 && index === 0) { pointer.name[0] = ['Nova', 'Supernova', 'Hypernova'][Math.min(player.researchesExtra[4][0], 2)]; }\n\n        getId('researchText').textContent = `${pointer.name[index]}.`;\n        getId('researchEffect').textContent = pointer.effectText[index]();\n        getId('researchCost').textContent = player[type][stageIndex][index] >= pointer.max[index] ? 'Maxed.' :\n            stageIndex === 4 && type === 'researches' && global.collapseInfo.unlockR[index] > player.collapse.mass ? `Unlocked at ${format(global.collapseInfo.unlockR[index])} Mass.` :\n            `${format(pointer.cost[index])} ${global.stageInfo.priceName}.`;\n    } else if (type === 'ASR') {\n        const { ASRInfo } = global;\n        const autoIndex = Math.min(player.ASR[stageIndex] + 1, ASRInfo.max[stageIndex]);\n        let waitValue = 2;\n        if (player.inflation.vacuum && stageIndex === 3 && player.strangeness[3][4] >= 2 && Limit(global.inflationInfo.dustTrue).moreOrEqual(global.inflationInfo.dustCap)) {\n            waitValue = global.inflationInfo.massCap;\n        } else if (player.strangeness[1][7] >= 1) { waitValue = player.toggles.shop.wait[stageIndex]; }\n        global.lastResearch[stageIndex] = [0, 'ASR'];\n\n        getId('researchText').textContent = 'Structure Automation.';\n        getId('researchEffect').textContent = `Automatically make ${player.buildings[stageIndex][autoIndex].trueTotal[0] === 0 ? '(unknown)' : global.buildingsInfo.name[stageIndex][autoIndex]}.\\n(Auto will wait until ${format(waitValue)} times of the Structure cost)`;\n        getId('researchCost').textContent = player.ASR[stageIndex] >= ASRInfo.max[stageIndex] ? 'Maxed.' : `${format(ASRInfo.cost[stageIndex])} ${global.stageInfo.priceName}.`;\n    }\n};\n\nexport const getStrangenessDescription = (index: number, stageIndex: number, type: 'strangeness' | 'milestones') => {\n    const stageText = getId(`${type}Stage`);\n    stageText.style.color = global.stageInfo.textColor[stageIndex];\n    stageText.textContent = `${global.stageInfo.word[stageIndex]}. `;\n    if (type === 'strangeness') {\n        const pointer = global.strangenessInfo[stageIndex];\n\n        getId('strangenessText').textContent = `${pointer.name[index]}.`;\n        getId('strangenessEffect').textContent = pointer.effectText[index]();\n        getId('strangenessCost').textContent = player.strangeness[stageIndex][index] >= pointer.max[index] ? 'Maxed.' : `${format(pointer.cost[index])} Strange quarks.`;\n    } else {\n        const pointer = global.milestonesInfo[stageIndex];\n\n        getId('milestonesText').textContent = `${pointer.name[index]}. (${format(player.milestones[stageIndex][index])})`;\n        if (player.inflation.vacuum) {\n            getId('milestonesMultiline').innerHTML = `<p class=\"orchidText\">Requirement: <span class=\"greenText\">${pointer.needText[index]()}</span></p>\n            <p class=\"darkvioletText\">Effect: <span class=\"greenText\">${pointer.rewardText[index]()}</span></p>`;\n        } else if (pointer.need[index][0] !== 0) {\n            getId('milestonesMultiline').innerHTML = `<p class=\"orchidText\">Requirement: <span class=\"greenText\">${pointer.needText[index]()}</span></p>\n            <p class=\"darkvioletText\">Unlock: <span class=\"greenText\">Main reward unlocked after ${pointer.scalingOld[index].length - player.milestones[stageIndex][index]} more completions.</span></p>`;\n        } else { getId('milestonesMultiline').innerHTML = `<p class=\"darkvioletText\">Reward: <span class=\"greenText\">${pointer.rewardText[index]()}</span></p>`; }\n    }\n};\n\nexport const getChallengeDescription = (index: number) => {\n    const multi = getId('challengeMultiline');\n\n    let text;\n    if (index === -1) {\n        text = `<h3 class=\"orchidText\">Vacuum state: <span ${player.inflation.vacuum ? 'class=\"greenText\">true' : 'class=\"redText\">false'}</span></h3>`;\n    } else {\n        const { challengesInfo: info } = global;\n        const color = `${info.color[index]}Text`;\n        text = `<h3 class=\"${color} bigWord\">${info.name[index]}${player.challenges.active === index ? ', <span class=\"greenText\">active</span>' : ''}</h3>\n        <p class=\"whiteText\">${info.description[index]}</p>\n        <div><h4 class=\"${color} bigWord\">Effect:</h4>\n        <p>${info.effectText[index]()}</p></div>`;\n    }\n    getId('voidRewards').style.display = index === 0 ? '' : 'none';\n    if (multi.innerHTML !== text) { multi.innerHTML = text; }\n};\n\nexport const getChallengeReward = (index: number/*, type: 'void'*/) => {\n    const need = global.challengesInfo.needText[0][index];\n    const reward = global.challengesInfo.rewardText[0][index];\n    const level = player.challenges.void[index];\n    let text = '';\n    for (let i = 0; i < need.length; i++) {\n        text += `<div><p><span class=\"${level > i ? 'greenText' : 'redText'}\">\u2192</span> ${need[i]}</p>\n        <p><span class=\"${level > i ? 'greenText' : 'redText'}\">Reward:</span> ${level > i ? reward[i] : 'Not yet unlocked'}</p></div>`;\n    }\n\n    const multi = getId('voidRewardsDivText');\n    if (multi.innerHTML !== text) { multi.innerHTML = text; }\n};\n\nexport const visualUpdateUpgrades = (index: number, stageIndex: number, type: 'upgrades' | 'elements') => {\n    if (type === 'upgrades') {\n        if (stageIndex !== player.stage.active) { return; }\n\n        let color = '';\n        const image = getId(`upgrade${index + 1}`);\n        if (player.upgrades[stageIndex][index] >= 1) {\n            if (stageIndex === 1) {\n                color = 'green';\n            } else if (stageIndex === 2) {\n                color = 'darkgreen';\n            } else if (stageIndex === 3) {\n                color = '#0000b1'; //Darker blue\n            } else if (stageIndex === 4) {\n                color = '#1f1f8f'; //Brigher midnightblue\n            } else if (stageIndex === 5) {\n                color = '#990000'; //Brigher maroon\n            }\n            image.tabIndex = global.screenReader[1] ? -1 : 0;\n        } else { image.tabIndex = 0; }\n        image.style.backgroundColor = color;\n    } else /*if (type === 'elements')*/ {\n        const image = getId(`element${index}`);\n        if (player.elements[index] >= 1) {\n            image.classList.remove('awaiting');\n            image.classList.add('created');\n            image.tabIndex = global.screenReader[1] ? -1 : 0;\n        } else if (player.elements[index] > 0) {\n            image.classList.add('awaiting');\n            image.classList.remove('created');\n            image.tabIndex = 0;\n        } else {\n            image.classList.remove('awaiting');\n            image.classList.remove('created');\n            image.tabIndex = 0;\n        }\n    }\n};\n\nexport const visualUpdateResearches = (index: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'ASR' | 'strangeness') => {\n    let max: number;\n    let level: number;\n    let upgradeHTML: HTMLElement;\n    let image: HTMLElement;\n    if (type === 'researches' || type === 'researchesExtra') {\n        if (stageIndex !== player.stage.active) { return; }\n        max = global[`${type}Info`][stageIndex].max[index];\n        level = player[type][stageIndex][index];\n\n        const extra = type === 'researches' ? '' : 'Extra';\n        upgradeHTML = getId(`research${extra}${index + 1}Level`);\n        getId(`research${extra}${index + 1}Max`).textContent = `${max}`;\n        image = getQuery(`#research${extra}${index + 1} > input`);\n    } else if (type === 'ASR') {\n        if (stageIndex !== player.stage.active) { return; }\n        max = global.ASRInfo.max[stageIndex];\n        level = player.ASR[stageIndex];\n\n        upgradeHTML = getId('ASRLevel');\n        getId('ASRMax').textContent = `${max}`;\n        image = getQuery('#ASR > input');\n    } else /*if (type === 'strangeness')*/ {\n        max = global.strangenessInfo[stageIndex].max[index];\n        level = player.strangeness[stageIndex][index];\n\n        upgradeHTML = getId(`strange${index + 1}Stage${stageIndex}Level`);\n        getId(`strange${index + 1}Stage${stageIndex}Max`).textContent = `${max}`;\n        image = getQuery(`#strange${index + 1}Stage${stageIndex} > input`);\n    }\n\n    upgradeHTML.textContent = `${level}`;\n    if (level >= max) {\n        upgradeHTML.style.color = 'var(--green-text-color)';\n        image.tabIndex = global.screenReader[1] ? -1 : 0;\n    } else if (level === 0) {\n        upgradeHTML.style.color = ''; //Red\n        image.tabIndex = 0;\n    } else {\n        upgradeHTML.style.color = 'var(--orchid-text-color)';\n        image.tabIndex = 0;\n    }\n};\n\nexport const updateHistory = (/*type: 'stage'*/) => {\n    const list = global.historyStorage.stage;\n\n    let text = '';\n    if (list.length > 0) {\n        for (let i = 0; i < list.length; i++) {\n            const converted = list[i][0] / 1e12 ** list[i][2];\n            text += `<li class=\"whiteText\"><span class=\"greenText\">${format(converted)} ${global.strangeInfo.name[list[i][2]]}</span>, <span class=\"blueText\">${format(list[i][1], { type: 'time' })}</span>, <span class=\"darkorchidText\">${format(converted / list[i][1], { padding: true })} per second</span></li>`;\n        }\n    } else { text = '<li class=\"redText\">Reference list is empty</li>'; }\n\n    const listID = getId('stageResetsList');\n    if (listID.innerHTML !== text) { listID.innerHTML = text; }\n};\n\nexport const format = (input: number | overlimit, settings = {} as { digits?: number, type?: 'number' | 'input' | 'time', padding?: boolean }): string => {\n    if (typeof input !== 'number') { return Limit(input).format(settings as any); }\n    const type = settings.type !== undefined ? settings.type : 'number';\n\n    switch (type) {\n        case 'input':\n        case 'number': {\n            if (!isFinite(input)) { return `${input}`; }\n            const inputAbs = Math.abs(input);\n            if (inputAbs >= 1e6 || (inputAbs < 1e-3 && inputAbs > 0)) {\n                const precision = settings.digits !== undefined ? settings.digits : 2;\n                let digits = Math.floor(Math.log10(inputAbs));\n                let result = Math.round(input / 10 ** (digits - precision)) / (10 ** precision);\n                if (Math.abs(result) === 10) {\n                    result = 1;\n                    digits++;\n                }\n                const formated = settings.padding === true ? result.toFixed(precision) : `${result}`;\n                if (type === 'input') { return `${formated}e${digits}`; }\n                return `${formated.replace('.', player.separator[1])}e${digits}`;\n            } else {\n                const precision = inputAbs >= 1e3 ? 0 : settings.digits !== undefined ? settings.digits : (inputAbs < 1 ? 4 : 2);\n                const result = Math.round(input * 10 ** precision) / 10 ** precision;\n                const formated = settings.padding === true ? result.toFixed(precision) : `${result}`;\n                if (type === 'input') { return formated; }\n                return result >= 1e3 ?\n                    formated.replace(/\\B(?=(\\d{3})+(?!\\d))/, player.separator[0]) :\n                    formated.replace('.', player.separator[1]);\n            }\n        }\n        case 'time':\n            if (input > 86399999) { return `${Math.round(input / 31556952)} years`; }\n            if (input > 3599999) { return `${Math.round(input / 86400)} days`; }\n            if (input > 59999) { return `${Math.round(input / 3600)} hours`; }\n            if (input > 999) { return `${Math.round(input / 60)} minutes`; }\n            return `${Math.round(input)} seconds`;\n    }\n};\n\n//Soft means that Stage wasn't changed\nexport const stageUpdate = (extra = 'normal' as 'normal' | 'soft' | 'reload') => {\n    const { stageInfo, buildingsInfo } = global;\n    const { active, current, true: highest, resets } = player.stage;\n    const vacuum = player.inflation.vacuum;\n\n    stageInfo.activeAll = [vacuum ? 1 : current];\n    const activeAll = stageInfo.activeAll;\n    if (vacuum) {\n        if (player.researchesExtra[1][2] >= 2) { activeAll.push(2); }\n        if (player.researchesExtra[1][2] >= 1) { activeAll.push(3); }\n        if (player.accretion.rank >= 6) {\n            activeAll.push(4);\n            if (player.strangeness[5][5] >= 1 && (/*current >= 5 ||*/ player.challenges.active !== 0)) { activeAll.push(5); }\n        }\n    } else {\n        if (current === 4) {\n            if (player.milestones[5][0] >= 6) { activeAll.push(5); }\n        } else if (current === 5) { activeAll.unshift(4); }\n        for (let i = player.strangeness[5][0]; i >= 1; i--) {\n            if (current !== i) { activeAll.unshift(i); }\n        }\n    }\n\n    for (let s = 1; s <= 6; s++) {\n        for (const element of getClass(`stage${s}Only`)) {\n            element.style.display = active === s ? '' : 'none';\n        }\n        for (const element of getClass(`stage${s}Include`)) {\n            element.style.display = activeAll.includes(s) ? '' : 'none';\n        }\n        for (const element of getClass(`stage${s}Unlock`)) {\n            element.style.display = highest >= s ? '' : 'none';\n        }\n    }\n\n    getId('stageSelect').style.display = activeAll.length > 1 ? '' : 'none';\n    if (player.strange[0].total === 0) { getId('strangenessTabBtn').style.display = 'none'; }\n    if (vacuum) {\n        getId('stageReset').textContent = current >= 5 ? 'Return back to start' : 'Not ready for reset';\n        if (resets < 1) {\n            if (current < 5) {\n                getId('resetStage').style.display = 'none';\n                getId('stageTimeMain').style.display = 'none';\n                getId('stageToggleReset').style.display = 'none';\n                getId('stageSwitchHotkey').style.display = 'none';\n            }\n        } else {\n            getId('dischargeToggleReset').style.display = '';\n            getId('vaporizationToggleReset').style.display = '';\n            getId('rankToggleReset').style.display = '';\n            getId('collapseToggleReset').style.display = '';\n        }\n    } else {\n        for (let s = 2; s <= 4; s++) {\n            getId(`strangenessSection${s}`).style.display = resets >= s + 3 ? '' : 'none';\n            getId(`milestone1Stage${s}Div`).style.display = resets >= s + 3 ? '' : 'none';\n            getId(`milestone2Stage${s}Div`).style.display = resets >= s + 3 ? '' : 'none';\n        }\n    }\n    const stageWord = getId('stageWord');\n    stageWord.textContent = stageInfo.word[current];\n    stageWord.style.color = stageInfo.textColor[current];\n\n    if (extra === 'soft') {\n        numbersUpdate();\n        visualUpdate();\n        return;\n    } else if (global.screenReader[0]) { //Firefox doesn't support any Aria shorthands\n        getId('reset1Main').setAttribute('aria-label', `${['', 'Discharge', 'Vaporization', 'Rank', 'Collapse', ''][active]} reset (hotkey ${['', 'D', 'V', 'R', 'C'][active]})`);\n        for (let i = 1; i < buildingsInfo.maxActive[active]; i++) {\n            getId(`building${i}`).setAttribute('aria-label', `${buildingsInfo.name[active][i]} (hotkey ${i})`);\n        }\n        getId('extraResearch').setAttribute('aria-label', `${['', 'Energy', 'Cloud', 'Rank', 'Collapse', ''][active]} researches`);\n        getId('SRStage').textContent = `Current Active Stage is '${stageInfo.word[active]}'${extra === 'reload' && player.challenges.active !== 0 ? `, also inside '${global.challengesInfo.name[player.challenges.active - 1]}' challenge` : ''}`;\n    }\n\n    for (const text of ['upgrade', 'research', 'element']) {\n        getId(`${text}Text`).textContent = 'Hover to see.';\n        getId(`${text}Effect`).textContent = 'Hover to see.';\n        getId(`${text}Cost`).textContent = 'Resource.';\n    }\n    if (extra === 'reload') {\n        for (let s = 1; s <= 5; s++) {\n            global.lastUpgrade[s] = -1;\n            global.lastResearch[s][0] = -1;\n        }\n        global.lastElement = -1;\n        for (const text of ['strangeness', 'milestones']) {\n            getId(`${text}Stage`).textContent = '';\n            getId(`${text}Text`).textContent = 'Hover to see.';\n        }\n        getId('strangenessEffect').textContent = 'Hover to see.';\n        getId('strangenessCost').textContent = 'Strange quarks.';\n        getId('milestonesMultiline').innerHTML = '<p class=\"orchidText\">Requirement: <span class=\"greenText\">Hover to see.</span></p><p class=\"darkvioletText\">Unlock: <span class=\"greenText\">Hover to see.</span></p>';\n        getChallengeDescription(-1);\n\n        global.lastActive = null;\n        for (let i = 0; i < global.elementsInfo.startCost.length; i++) { visualUpdateUpgrades(i, 4, 'elements'); }\n        assignBuildingInformation();\n\n        autoUpgradesSet('all');\n        autoResearchesSet('researches', 'all');\n        autoResearchesSet('researchesExtra', 'all');\n        autoElementsSet();\n    }\n\n    for (let i = buildingsInfo.maxActive[active]; i < specialHTML.longestBuilding; i++) {\n        getId(`building${i}Stats`).style.display = 'none';\n        getId(`building${i}`).style.display = 'none';\n    }\n    for (let i = global.upgradesInfo[active].maxActive; i < specialHTML.longestUpgrade; i++) {\n        getId(`upgrade${i + 1}`).style.display = 'none';\n    }\n    for (let i = global.researchesInfo[active].maxActive; i < specialHTML.longestResearch; i++) {\n        getId(`research${i + 1}`).style.display = 'none';\n    }\n    for (let i = global.researchesExtraInfo[active].maxActive; i < specialHTML.longestResearchExtra; i++) {\n        getId(`researchExtra${i + 1}`).style.display = 'none';\n    }\n    for (let i = specialHTML.footerStatsHTML[active].length; i < specialHTML.longestFooterStats; i++) {\n        getId(`footerStat${i + 1}`).style.display = 'none';\n    }\n\n    const showU: number[] = []; //Upgrades\n    const showR: number[] = []; //Researches\n    const showRE: number[] = []; //ResearchesExtra\n    const showF: number[] = []; //Footer stats\n    if (active === 1) {\n        showU.push(3, 4, 5, 6);\n        showR.push(1, 2, 3, 4, 5, 6);\n        showF.push(1, 2);\n        if (vacuum) {\n            showU.unshift(1, 2);\n            showRE.push(1, 3);\n        } else {\n            getId('upgrade1').style.display = 'none';\n            getId('upgrade2').style.display = 'none';\n            getId('extraResearch').style.display = 'none';\n        }\n    } else if (active === 2) {\n        showU.push(1);\n        showR.push(1, 2);\n        showRE.push(1, 2);\n        showF.push(2, 3);\n    } else if (active === 3) {\n        getId('reset1Main').style.display = '';\n        showU.push(1, 2);\n        showR.push(1, 2);\n        showRE.push(1);\n        showF.push(1);\n    } else if (active === 4) {\n        getId('extraResearch').style.display = '';\n        showU.push(1, 2, 3);\n        showR.push(1, 2, 3);\n        showRE.push(1);\n        showF.push(1, 2);\n    } else if (active === 5) {\n        getId('reset1Main').style.display = 'none';\n        getId('extraResearch').style.display = 'none';\n        showF.push(1, 2, 3);\n        if (vacuum) {\n            getId('building2').style.display = '';\n            showU.push(1, 2);\n            showR.push(1, 2);\n        }\n    }\n\n    (getId('autoWaitInput') as HTMLInputElement).value = format(player.toggles.shop.wait[active], { type: 'input' });\n    getId('reset1Text').innerHTML = specialHTML.resetHTML[active]; //New ID's inside\n    if (active === 3) { updateRankInfo(); }\n\n    const buildingHTML = specialHTML.buildingHTML[active];\n    for (let i = 1; i < buildingsInfo.maxActive[active]; i++) {\n        (getId(`building${i}Image`) as HTMLImageElement).src = `Used_art/${buildingHTML[i - 1]}`;\n        getId(`building${i}StatName`).textContent = buildingsInfo.name[active][i];\n        getId(`building${i}Name`).textContent = buildingsInfo.name[active][i];\n        getQuery(`#building${i}ProdDiv > span`).textContent = buildingsInfo.type[active][i];\n        getId(`building${i}ProdDiv`).title = buildingsInfo.hoverText[active][i - 1];\n        toggleSwap(i, 'buildings');\n    }\n    getId('building0StatName').textContent = buildingsInfo.name[active][0];\n    toggleSwap(0, 'buildings');\n\n    const upgradeHTML = specialHTML.upgradeHTML[active];\n    for (let i = 0; i < global.upgradesInfo[active].maxActive; i++) {\n        const image = getId(`upgrade${i + 1}`) as HTMLInputElement;\n        if (showU.includes(i + 1)) { image.style.display = ''; }\n        image.src = `Used_art/${upgradeHTML[i][0]}`;\n        image.alt = upgradeHTML[i][1];\n        visualUpdateUpgrades(i, active, 'upgrades');\n    }\n\n    const researchHTML = specialHTML.researchHTML[active];\n    for (let i = 0; i < global.researchesInfo[active].maxActive; i++) {\n        const main = getId(`research${i + 1}`);\n        if (showR.includes(i + 1)) { main.style.display = ''; }\n        main.className = researchHTML[i][2];\n        const image = getId(`research${i + 1}Image`) as HTMLInputElement;\n        image.src = `Used_art/${researchHTML[i][0]}`;\n        image.alt = researchHTML[i][1];\n        visualUpdateResearches(i, active, 'researches');\n    }\n\n    if (active !== 5) {\n        const researchExtraHTML = specialHTML.researchExtraHTML[active];\n        for (let i = 0; i < global.researchesExtraInfo[active].maxActive; i++) {\n            const main = getId(`researchExtra${i + 1}`);\n            if (showRE.includes(i + 1)) { main.style.display = ''; }\n            main.className = researchExtraHTML[i][2];\n            const image = getId(`researchExtra${i + 1}Image`) as HTMLInputElement;\n            image.src = `Used_art/${researchExtraHTML[i][0]}`;\n            image.alt = researchExtraHTML[i][1];\n            visualUpdateResearches(i, active, 'researchesExtra');\n        }\n        getQuery('#extraResearch > div').className = specialHTML.researchExtraDivHTML[active][1];\n        (getQuery('#extraResearch > img') as HTMLImageElement).src = `Used_art/${specialHTML.researchExtraDivHTML[active][0]}`;\n    }\n    visualUpdateResearches(0, active, 'ASR');\n\n    const footerStatsHTML = specialHTML.footerStatsHTML[active];\n    for (let i = 0; i < footerStatsHTML.length; i++) {\n        if (showF.includes(i + 1)) { getId(`footerStat${i + 1}`).style.display = ''; }\n        (getQuery(`#footerStat${i + 1} > img`) as HTMLImageElement).src = `Used_art/${footerStatsHTML[i][0]}`;\n        getQuery(`#footerStat${i + 1} > p`).className = footerStatsHTML[i][1];\n        getId(`footerStat${i + 1}Name`).textContent = footerStatsHTML[i][2];\n    }\n\n    stageInfo.priceName = ['', 'Energy', 'Drops', 'Mass', 'Elements', 'Elements'][active];\n    const body = document.body.style;\n\n    if (active === 1) {\n        body.removeProperty('--stage-text-color');\n        body.removeProperty('--stage-button-color');\n        body.removeProperty('--stage-button-border');\n        body.removeProperty('--image-border-main');\n        body.removeProperty('--image-stage-outer');\n    } else {\n        body.setProperty('--stage-text-color', stageInfo.textColor[active]);\n        body.setProperty('--stage-button-color', stageInfo.buttonBackgroundColor[active]);\n        body.setProperty('--stage-button-border', stageInfo.buttonBorderColor[active]);\n        body.setProperty('--image-border-main', `url(\"Used_art/Stage${active} border.png\")`);\n        body.setProperty('--image-stage-outer', stageInfo.imageBorderColor[active]);\n    }\n    getId('currentSwitch').textContent = stageInfo.word[active];\n\n    if (global.lastActive === null) { switchTab(checkTab(global.tab) ? global.tab : 'stage'); }\n    switchTheme();\n};\n\nexport const updateRankInfo = () => { //Visual only\n    const name = getId('rankName', false);\n    if (name === null) { return; } //Safety\n    const rank = player.accretion.rank;\n\n    getId('rankMessage', false).textContent = rank === 0 ?\n        'Might need more than just water... Increase Rank with Mass.' :\n        `Increase it with Mass. (Return back to ${player.inflation.vacuum ? 'Preons' : 'Dust'}, but unlock something new)`;\n    if (global.accretionInfo.rankCost[rank] === 0) { getId('reset1Button').textContent = 'Max Rank achieved'; }\n\n    (getId('rankImage', false) as HTMLImageElement).src = `Used_art/${global.accretionInfo.rankImage[rank]}`;\n    name.textContent = global.accretionInfo.rankName[rank];\n    if (rank === 0) {\n        name.style.color = 'var(--blue-text-color)';\n    } else if (rank === 1) {\n        name.style.color = 'var(--cyan-text-color)';\n    } else if (rank === 5) {\n        name.style.color = 'var(--darkviolet-text-color)';\n    } else if (rank === 6) {\n        name.style.color = 'var(--orange-text-color)';\n    } else {\n        name.style.color = 'var(--gray-text-color)';\n    }\n};\n", "import { allowedToBeReset } from './Check';\nimport { cloneArray, global, player, playerStart } from './Player';\nimport { autoResearchesSet, autoUpgradesSet, calculateMaxLevel, calculateResearchCost, assignBuildingInformation, autoElementsSet, assignEnergy, assignNewMassCap, calculateMilestoneInformation, assignStrangeBoost } from './Stage';\nimport { numbersUpdate, stageUpdate, updateRankInfo, visualUpdate, visualUpdateResearches, visualUpdateUpgrades } from './Update';\n\nexport const reset = (type: 'discharge' | 'vaporization' | 'rank' | 'collapse' | 'galaxy', stageIndex: number[]) => {\n    if (type === 'galaxy') {\n        const { elements } = player;\n\n        for (let i = 1; i < elements.length; i++) {\n            if (!allowedToBeReset(i, 4, 'elements')) { continue; }\n\n            elements[i] = 0;\n            visualUpdateUpgrades(i, 4, 'elements');\n        }\n        autoElementsSet();\n\n        player.collapse.mass = 0.01235;\n        player.collapse.stars = [0, 0, 0];\n    }\n\n    for (const s of stageIndex) {\n        if (s === 2) {\n            if (player.strangeness[2][10] >= 1 && type !== 'vaporization' && type !== 'discharge') { continue; }\n            global.researchesInfo[2].effect[0] = 0;\n            global.researchesInfo[2].effect[1] = 0;\n        } else if (s === 4) {\n            global.collapseInfo.trueStars = 0;\n        }\n\n        const buildings = player.buildings[s];\n        buildings[0].current = cloneArray(playerStart.buildings[s][0].current);\n        buildings[0].total = cloneArray(playerStart.buildings[s][0].total);\n        for (let i = 1; i < global.buildingsInfo.maxActive[s]; i++) {\n            if (!allowedToBeReset(i, s, 'structures')) { continue; }\n\n            buildings[i as 1].true = 0;\n            buildings[i].current = [0, 0];\n            buildings[i].total = [0, 0];\n        }\n\n        if (type === 'discharge') { continue; }\n        const upgrades = player.upgrades[s];\n\n        for (let i = 0; i < global.upgradesInfo[s].maxActive; i++) {\n            if (!allowedToBeReset(i, s, 'upgrades')) { continue; }\n\n            upgrades[i] = 0;\n            visualUpdateUpgrades(i, s, 'upgrades');\n        }\n        autoUpgradesSet(s);\n\n        if (type === 'vaporization') { continue; }\n        const researches = player.researches[s];\n\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) {\n            if (!allowedToBeReset(i, s, 'researches')) { continue; }\n\n            researches[i] = 0;\n            visualUpdateResearches(i, s, 'researches');\n            calculateResearchCost(i, s, 'researches');\n        }\n        autoResearchesSet('researches', s);\n\n        if (type === 'rank') { continue; }\n        const researchesExtra = player.researchesExtra[s];\n\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) {\n            if (!allowedToBeReset(i, s, 'researchesExtra')) { continue; }\n\n            researchesExtra[i] = 0;\n            visualUpdateResearches(i, s, 'researchesExtra');\n            calculateResearchCost(i, s, 'researchesExtra');\n        }\n        autoResearchesSet('researchesExtra', s);\n    }\n\n    if (player.inflation.vacuum || type === 'discharge') {\n        if (player.strangeness[1][11] < 1) {\n            const startEnergy = type === 'galaxy' ? global.dischargeInfo.getEnergy(3, 5) : 0;\n            player.discharge.energy = startEnergy;\n            global.dischargeInfo.energyTrue = startEnergy;\n        } else { assignEnergy(); }\n    }\n\n    assignBuildingInformation();\n    if (stageIndex.includes(player.stage.active)) { numbersUpdate(); }\n    visualUpdate();\n};\n\nexport const resetStage = (stageIndex: number[], update = 'normal' as false | 'normal' | 'soft') => {\n    for (const s of stageIndex) {\n        const buildings = player.buildings[s];\n        const buildingsStart = playerStart.buildings[s];\n\n        for (let i = 1; i < global.buildingsInfo.maxActive[s]; i++) {\n            buildings[i as 1].true = 0;\n            buildings[i].current = [0, 0];\n            buildings[i].total = [0, 0];\n            buildings[i].trueTotal = [0, 0];\n        }\n        buildings[0].current = cloneArray(buildingsStart[0].current);\n        buildings[0].total = cloneArray(buildingsStart[0].total);\n        buildings[0].trueTotal = cloneArray(buildingsStart[0].trueTotal);\n\n        player.upgrades[s] = cloneArray(playerStart.upgrades[s]);\n        player.researches[s] = cloneArray(playerStart.researches[s]);\n        player.researchesExtra[s] = cloneArray(playerStart.researchesExtra[s]);\n        player.ASR[s] = player.strangeness[s][[6, 5, 5, 6, 7][s - 1]];\n        autoUpgradesSet(s);\n\n        global.lastUpgrade[s] = -1;\n        global.lastResearch[s][0] = -1;\n        if (s === 1) {\n            player.discharge.current = 0;\n            player.discharge.energy = 0;\n            global.dischargeInfo.energyTrue = 0;\n        } else if (s === 2) {\n            player.vaporization.clouds = [0, 0];\n            global.researchesInfo[2].effect[0] = 0;\n            global.researchesInfo[2].effect[1] = 0;\n        } else if (s === 3) {\n            if (player.inflation.vacuum) {\n                player.accretion.rank = 1;\n            } else {\n                player.accretion.rank = 0;\n                buildings[0].current = [5.97, 27];\n            }\n        } else if (s === 4) {\n            global.collapseInfo.trueStars = 0;\n            player.collapse.mass = 0.01235;\n            player.collapse.stars = [0, 0, 0];\n            player.elements = cloneArray(playerStart.elements);\n            player.elements[0] = player.strangeness[4][10] >= 1 ? 1 : 0;\n            autoElementsSet();\n            for (let i = 0; i < player.elements.length; i++) { visualUpdateUpgrades(i, 4, 'elements'); }\n            global.lastElement = -1;\n        } else if (s === 5) {\n            if (player.strangeness[5][6] >= 2) { player.ASR[5]++; }\n        }\n    }\n\n    for (const s of stageIndex) { //Less errors if do it separatly\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researches'); }\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researchesExtra'); }\n        calculateMaxLevel(0, s, 'ASR');\n\n        autoResearchesSet('researches', s);\n        autoResearchesSet('researchesExtra', s);\n    }\n\n    assignBuildingInformation();\n\n    if (update !== false) {\n        global.lastActive = null;\n        stageUpdate(update);\n        if (update === 'soft') {\n            const active = player.stage.active;\n            for (let i = 0; i < global.upgradesInfo[active].maxActive; i++) { visualUpdateUpgrades(i, active, 'upgrades'); }\n            if (active === 3) { updateRankInfo(); }\n        }\n    }\n};\n\nexport const resetVacuum = () => {\n    for (let s = 1; s <= 5; s++) {\n        const buildings = player.buildings[s];\n        const buildingsStart = playerStart.buildings[s];\n\n        for (let i = 1; i < buildingsStart.length; i++) {\n            buildings[i as 1].true = 0;\n            buildings[i].current = [0, 0];\n            buildings[i].total = [0, 0];\n            buildings[i].trueTotal = [0, 0];\n            buildings[i].highest = [0, 0];\n        }\n        buildings[0].current = cloneArray(buildingsStart[0].current);\n        buildings[0].total = cloneArray(buildingsStart[0].total);\n        buildings[0].trueTotal = cloneArray(buildingsStart[0].trueTotal);\n        buildings[0].highest = cloneArray(buildingsStart[0].highest);\n\n        player.upgrades[s] = cloneArray(playerStart.upgrades[s]);\n        player.researches[s] = cloneArray(playerStart.researches[s]);\n        player.researchesExtra[s] = cloneArray(playerStart.researchesExtra[s]);\n        player.strangeness[s] = cloneArray(playerStart.strangeness[s]);\n        player.milestones[s] = cloneArray(playerStart.milestones[s]);\n        player.ASR[s] = 0;\n    }\n\n    //Stage 1\n    player.discharge.energy = 0;\n    player.discharge.energyMax = 0;\n    player.discharge.current = 0;\n    global.dischargeInfo.energyTrue = 0;\n\n    //Stage 2\n    player.vaporization.clouds = [0, 0];\n    player.vaporization.cloudsMax = [0, 0];\n    global.researchesInfo[2].effect[0] = 0;\n    global.researchesInfo[2].effect[1] = 0;\n\n    //Stage 3\n    if (player.inflation.vacuum) {\n        player.accretion.rank = 1;\n    } else {\n        player.accretion.rank = 0;\n        player.buildings[3][0].current = [5.97, 27];\n    }\n\n    //Stage 4\n    global.collapseInfo.trueStars = 0;\n    player.collapse.mass = 0.01235;\n    player.collapse.massMax = 0.01235;\n    player.collapse.stars = [0, 0, 0];\n    player.collapse.show = 0;\n    player.elements = cloneArray(playerStart.elements);\n\n    //Stage 5 and rest\n    global.historyStorage.stage = [];\n    player.history.stage.best = [0, 1, 0];\n    player.stage.resets = 0;\n    player.stage.best = 0;\n    player.stage.time = 0;\n    for (let i = 0; i < player.strange.length; i++) {\n        player.strange[i].current = 0;\n        player.strange[i].total = 0;\n    }\n\n    assignStrangeBoost();\n    assignNewMassCap();\n    for (let s = 1; s <= 5; s++) {\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researches'); }\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researchesExtra'); }\n        calculateMaxLevel(0, s, 'ASR');\n    }\n    for (let s = 1; s < playerStart.strangeness.length; s++) {\n        for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'strangeness');\n        }\n    }\n    for (let s = 1; s < playerStart.milestones.length; s++) {\n        for (let i = 0; i < playerStart.milestones[s].length; i++) {\n            calculateMilestoneInformation(i, s);\n        }\n    }\n\n    stageUpdate('reload');\n};\n", "import { checkBuilding, checkUpgrade, milestoneCheck } from './Check';\nimport Limit from './Limit';\nimport { getId } from './Main';\nimport { cloneArray, global, logAny, player } from './Player';\nimport { reset, resetStage } from './Reset';\nimport { Alert, Confirm, Notify, playEvent } from './Special';\nimport { overlimit } from './Types';\nimport { format, getStrangenessDescription, numbersUpdate, stageUpdate, switchTab, updateRankInfo, visualUpdateResearches, visualUpdateUpgrades } from './Update';\n\nexport const assignBuildingInformation = () => { //Sets buildingInfo.producing for all active buildings, also most of effects\n    const { upgradesInfo, researchesInfo, researchesExtraInfo, dischargeInfo, vaporizationInfo, milestonesInfo } = global;\n    const { buildings, upgrades, researches, researchesExtra, strangeness, discharge } = player;\n    const producing = global.buildingsInfo.producing;\n    const stageBoost = global.strangeInfo.stageBoost;\n    const activeAll = global.stageInfo.activeAll;\n    const vacuum = player.inflation.vacuum;\n    const inVoid = player.challenges.active === 0;\n    const energyMin = Math.max(discharge.energy, 1);\n\n    if (activeAll.includes(1)) {\n        const b3 = vacuum ? 3 : 1;\n        const b4 = vacuum ? 4 : 2;\n        const b5 = vacuum ? 5 : 3;\n\n        dischargeInfo.bonus = strangeness[1][2] / 2;\n        if (stageBoost[1] !== null) { dischargeInfo.bonus += stageBoost[1]; }\n        const dischargeBase = 4 + researches[1][4] + strangeness[1][0];\n        upgradesInfo[1].effect[5] = inVoid ? (dischargeBase - 1) / 2 + 1 : dischargeBase;\n        upgradesInfo[1].effect[7] = (102 + researches[1][1]) / 100;\n        researchesExtraInfo[1].effect[4] = 1 + upgradesInfo[1].effect[5] / 100;\n        let totalMultiplier = (upgradesInfo[1].effect[5] ** (discharge.current + dischargeInfo.bonus)) * (1.2 ** strangeness[1][9]);\n        if (vacuum) { totalMultiplier *= milestonesInfo[1].reward[0]; }\n\n        const listForMult5 = [buildings[1][b5].current];\n        let prod5Number = 0.2 * totalMultiplier;\n        if (vacuum && upgrades[1][4] === 1) { prod5Number *= 5; }\n        if (upgrades[1][7] === 1) { listForMult5.push(Limit(upgradesInfo[1].effect[7]).power(buildings[1][b5].true).toArray()); }\n        producing[1][b5] = Limit(prod5Number).multiply(...listForMult5).toArray();\n\n        upgradesInfo[1].effect[9] = energyMin > 4e4 ? (energyMin / 4e4) ** 0.4 * 4e4 : energyMin;\n        researchesInfo[1].effect[2] = 20 + strangeness[1][5];\n        researchesInfo[1].effect[5] = (discharge.current + dischargeInfo.bonus) ** (1.25 + researches[1][5] / 4);\n        researchesExtraInfo[1].effect[1] = researchesExtra[1][1] >= 4 ? 1.1 : researchesExtra[1][1] >= 3 ? 1.2 : (20 - 3 * researchesExtra[1][1]) / 10;\n        if (Limit(producing[1][b5]).moreThan('1')) {\n            let radiation = researchesInfo[1].effect[2] ** researches[1][2];\n            if (upgrades[1][9] === 1) { radiation *= upgradesInfo[1].effect[9]; }\n            if (researches[1][5] >= 1) { radiation *= researchesInfo[1].effect[5]; }\n            upgradesInfo[1].effect[8] = Limit(producing[1][b5]).log(researchesExtraInfo[1].effect[1]).multiply(radiation).toArray();\n        } else { upgradesInfo[1].effect[8] = [0, 0]; }\n\n        const listForMult4 = [buildings[1][b4].current];\n        let prod4Number = (vacuum ? 0.2 : 0.6) * totalMultiplier;\n        if (vacuum) {\n            if (upgrades[1][3] === 1) { prod4Number *= 5; }\n        } else if (upgrades[1][4] === 1) { prod4Number *= 5; }\n        if (upgrades[1][7] === 1) { listForMult4.push(Limit(upgradesInfo[1].effect[7]).power(buildings[1][b4].true).toArray()); }\n        producing[1][b4] = Limit(prod4Number).multiply(...listForMult4).toArray();\n\n        const listForMult3 = [buildings[1][b3].current];\n        let prod3Number = (vacuum ? 0.2 : 0.4) * totalMultiplier;\n        if (upgrades[1][0] === 1) { prod3Number *= 5; }\n        if (!vacuum && upgrades[1][3] === 1) { prod3Number *= 5; }\n        if (upgrades[1][7] === 1) { listForMult3.push(Limit(upgradesInfo[1].effect[7]).power(buildings[1][b3].true).toArray()); }\n        producing[1][b3] = Limit(prod3Number).multiply(...listForMult3).toArray();\n\n        if (vacuum) {\n            const listForMult2 = [buildings[1][2].current];\n            if (upgrades[1][7] === 1) { listForMult2.push(Limit(upgradesInfo[1].effect[7]).power(buildings[1][2].true).toArray()); }\n            producing[1][2] = Limit(0.2 * totalMultiplier).multiply(...listForMult2).toArray();\n\n            const listForMult1 = [buildings[1][1].current];\n            if (upgrades[1][7] === 1) { listForMult1.push(Limit(upgradesInfo[1].effect[7]).power(buildings[1][1].true).toArray()); }\n            producing[1][1] = Limit(0.001 * totalMultiplier).multiply(...listForMult1).toArray();\n            if (Limit(producing[1][1]).moreThan('1')) { producing[1][1] = Limit(producing[1][1]).power(0.15).toArray(); }\n        }\n    }\n    if (activeAll.includes(2)) {\n        let current5 = buildings[2][5].true;\n        let current4 = buildings[2][4].true;\n        let current3 = buildings[2][3].true;\n        let current2 = buildings[2][2].true;\n        if (upgrades[2][8] === 1) { current5 += buildings[2][6].true; }\n        if (upgrades[2][7] === 1) { current4 += current5; }\n        upgradesInfo[2].effect[6] = 1 + researches[2][5];\n        if (upgrades[2][6] === 1) { current3 += current4 * upgradesInfo[2].effect[6]; }\n        upgradesInfo[2].effect[5] = 1 + researches[2][4];\n        if (upgrades[2][5] === 1) { current2 += current3 * upgradesInfo[2].effect[5]; }\n        buildings[2][5].current = Limit(current5).toArray();\n        buildings[2][4].current = Limit(current4).toArray();\n        buildings[2][3].current = Limit(current3).toArray();\n        buildings[2][2].current = Limit(current2).toArray();\n\n        producing[2][6] = Limit(Math.max(2 * buildings[2][6].true, 1)).toArray();\n\n        const listForMult5 = [producing[2][6]];\n        researchesExtraInfo[2].effect[1] = Limit(player.vaporization.clouds).power(researchesExtra[2][2] >= 1 ? 0.11 : 0.1).toNumber();\n        researchesExtraInfo[2].effect[2] = (researchesExtraInfo[2].effect[1] - 1) / 16 + 1;\n        let prod5Number = 2 * current5;\n        if (researchesExtra[2][2] >= 1) { prod5Number *= researchesExtraInfo[2].effect[2]; }\n        producing[2][5] = Limit(prod5Number).multiply(...listForMult5).max('1').toArray();\n\n        producing[2][4] = Limit(2 * current4).multiply(producing[2][5]).max('1').toArray();\n\n        producing[2][3] = Limit(2 * current3).multiply(producing[2][4]).max('1').toArray();\n\n        const listForMult2 = [producing[2][3], vaporizationInfo.cloudEffect()];\n        upgradesInfo[2].effect[3] = (1 + researches[2][2] / 2) / 100;\n        upgradesInfo[2].effect[4] = (1 + researches[2][3] / 2) / 100;\n        vaporizationInfo.tension = upgrades[2][3] === 1 ? Limit(buildings[2][0].current).max('1').power(upgradesInfo[2].effect[3]).toNumber() : 1;\n        vaporizationInfo.stress = upgrades[2][4] === 1 ? Limit(buildings[2][1].current).max('1').power(upgradesInfo[2].effect[4]).toNumber() : 1;\n        let prod2Number = (inVoid ? 0.02 : 2) * current2 * vaporizationInfo.tension * vaporizationInfo.stress * (1.5 ** strangeness[2][1]);\n        if (upgrades[2][1] === 1) {\n            if (inVoid) {\n                listForMult2.push(Limit('1.01').power((current2 - buildings[2][2].true) ** 0.7 + buildings[2][2].true).toArray());\n            } else {\n                listForMult2.push(Limit('1.02').power((current2 - buildings[2][2].true) ** 0.7 + Math.min(buildings[2][2].true, 200)).toArray());\n                if (buildings[2][2].true > 200) { listForMult2.push(Limit('1.01').power(buildings[2][2].true - 200).toArray()); }\n            }\n        }\n        if (researches[2][1] >= 1) {\n            if (researchesInfo[2].effect[1] !== researches[2][1]) {\n                const scaling = researchesInfo[2].scaling[1];\n                researchesInfo[2].effect[1] = Math.min(researches[2][1], Math.max(Math.floor(Limit(buildings[2][1].total).multiply(scaling - 1).divide(researchesInfo[2].startCost[1]).plus('1').log(scaling).toNumber()), 0));\n            }\n            prod2Number *= 2 ** researchesInfo[2].effect[1];\n        }\n        if (researchesExtra[2][1] >= 1) { prod2Number *= researchesExtraInfo[2].effect[1]; }\n        if (vacuum) { prod2Number *= milestonesInfo[2].reward[1]; }\n        if (stageBoost[2] !== null) { prod2Number *= stageBoost[2]; }\n        producing[2][2] = Limit(prod2Number).multiply(...listForMult2).toArray();\n\n        const listForMult1 = [];\n        if (inVoid) {\n            listForMult1.push(Limit(buildings[2][1].current).moreThan('1') ? Limit(buildings[2][1].current).power(0.1).toArray() : buildings[2][1].current);\n        } else if (vacuum) {\n            const excess = Limit(buildings[2][1].current).minus(buildings[2][1].true).toArray();\n            listForMult1.push(Limit(excess).moreThan('1') ? Limit(excess).power(0.2).plus(buildings[2][1].true).toArray() : buildings[2][1].current);\n        } else { listForMult1.push(buildings[2][1].current); }\n        if (upgrades[2][0] === 1) { listForMult1.push(Limit('1.04').power(buildings[2][1].true).toArray()); }\n        let prod1Number = (vacuum ? 1 : 2e-4) * (1.5 ** strangeness[2][0]);\n        if (researches[2][0] >= 1) {\n            if (researchesInfo[2].effect[0] !== researches[2][0]) { researchesInfo[2].effect[0] = Math.min(researches[2][0], Math.max(Math.floor(Limit(buildings[2][1].total).divide(researchesInfo[2].startCost[0]).log(researchesInfo[2].scaling[0]).toNumber() + 1), 0)); }\n            prod1Number *= 3 ** researchesInfo[2].effect[0];\n        }\n        producing[2][1] = Limit(prod1Number).multiply(...listForMult1).toArray();\n        if (vacuum) {\n            producing[2][1] = Limit(producing[2][1]).plus('1').toArray();\n            upgradesInfo[1].effect[8] = Limit(upgradesInfo[1].effect[8] as overlimit).multiply(producing[2][1]).toArray(); //Move to bottom if anything from further Stages will boost Drops\n        }\n    } //else if (vacuum) { producing[2][1] = [1, 0]; }\n    if (activeAll.includes(3)) {\n        global.accretionInfo.effective = (inVoid ? 1 : player.accretion.rank) + (strangeness[3][10] / 1.25);\n        if (vacuum && stageBoost[3] !== null) {\n            global.accretionInfo.effective += stageBoost[3];\n        }\n\n        producing[3][5] = Limit('1.1').power(buildings[3][5].true).toArray();\n\n        producing[3][4] = Limit((upgrades[3][12] === 1 ? '1.14' : '1.1')).power(buildings[3][4].true).multiply(producing[3][5]).toArray();\n        const satellitesBoost: overlimit = strangeness[3][3] < 1 ? [1, 0] : vacuum ? Limit(producing[3][4]).power(0.2).toArray() : producing[3][4];\n\n        const listForMult3 = [buildings[3][3].current, producing[3][4]];\n        let prod3Number = 0.2 * (1.5 ** strangeness[3][1]);\n        if (researchesExtra[3][2] >= 1) { prod3Number *= 2; }\n        if (upgrades[3][8] === 1) { listForMult3.push(Limit('1.02').power(buildings[3][3].true).toArray()); }\n        producing[3][3] = Limit(prod3Number).multiply(...listForMult3).toArray();\n\n        const listForMult2 = [buildings[3][2].current, satellitesBoost];\n        upgradesInfo[3].effect[3] = (102 + researches[3][4] / 2) / 100;\n        researchesInfo[3].effect[6] = Limit(buildings[3][0].current).power(researches[3][6] / 40).toArray();\n        let prod2Number = (3 ** researches[3][2]) * (1.5 ** strangeness[3][1]);\n        if (upgrades[3][3] === 1) { listForMult2.push(Limit(upgradesInfo[3].effect[3]).power(buildings[3][2].true).toArray()); }\n        if (upgrades[3][4] === 1) { prod2Number *= 3; }\n        if (researches[3][6] >= 1) { listForMult2.push(researchesInfo[3].effect[6]); }\n        producing[3][2] = Limit(prod2Number).multiply(...listForMult2).toArray();\n\n        const listForMult1 = [buildings[3][1].current, satellitesBoost];\n        upgradesInfo[3].effect[0] = (101 + researches[3][1]) / 100;\n        upgradesInfo[3].effect[1] = Limit(buildings[3][1].current).power((5 + researchesExtra[3][3]) / 100).toNumber();\n        upgradesInfo[3].effect[7] = 2 * 1.5 ** researches[3][7];\n        upgradesInfo[3].effect[10] = 8 * 2 ** researches[3][8];\n        researchesExtraInfo[3].effect[0] = 1.1 ** researchesExtra[3][0];\n        researchesExtraInfo[3].effect[1] = (1 + 0.1 * researchesExtra[3][1]) ** global.accretionInfo.effective;\n        let prod1Number = (vacuum ? 1 : 8e-20) * (3 ** researches[3][0]) * (2 ** researches[3][3]) * (3 ** researches[3][5]) * researchesExtraInfo[3].effect[0] * (1.5 ** strangeness[3][0]);\n        if (vacuum) { prod1Number *= milestonesInfo[3].reward[0]; }\n        if (upgrades[3][0] === 1) { listForMult1.push(Limit(upgradesInfo[3].effect[0]).power(buildings[3][1].true).toArray()); }\n        if (upgrades[3][1] === 1) { prod1Number *= upgradesInfo[3].effect[1]; }\n        if (upgrades[3][2] === 1) { prod1Number *= 2; }\n        if (upgrades[3][5] === 1) { prod1Number *= 3; }\n        if (upgrades[3][7] === 1) { prod1Number *= upgradesInfo[3].effect[7]; }\n        if (upgrades[3][9] === 1) { prod1Number *= 2; }\n        if (upgrades[3][10] === 1) { prod1Number *= upgradesInfo[3].effect[10]; }\n        if (researchesExtra[3][1] >= 1) { prod1Number *= researchesExtraInfo[3].effect[1]; }\n        producing[3][1] = Limit(prod1Number).multiply(...listForMult1).toArray();\n        if (vacuum) {\n            producing[3][1] = Limit(producing[3][1]).plus('1').toArray();\n            if (inVoid) {\n                producing[3][1] = Limit(producing[3][1]).power(player.accretion.rank >= 5 ? 0.84 : 0.92).toArray();\n            } else if (player.accretion.rank >= 5) { producing[3][1] = Limit(producing[3][1]).power(0.92).toArray(); }\n\n            researchesExtraInfo[3].effect[4] = (researchesExtraInfo[3].effect[1] - 1) / 32 * 2 ** researchesExtra[3][4] + 1;\n            if (researchesExtra[3][4] >= 1) { producing[2][2] = Limit(producing[2][2]).multiply(researchesExtraInfo[3].effect[4]).toArray(); }\n        } else if (player.accretion.rank >= 5) {\n            producing[3][1] = Limit(producing[3][1]).power(Limit(producing[3][1]).lessThan('1') ? 1.1 : 0.9).toArray();\n        }\n    } else if (vacuum) { producing[3][1] = [1, 0]; }\n    if (activeAll.includes(4)) {\n        const { elements } = player;\n        const { starEffect } = global.collapseInfo;\n        const elementsEffects = global.elementsInfo.effect;\n\n        let systemBase = inVoid ? 0.004 : 0.005;\n        if (researchesExtra[4][1] >= 1) { systemBase += 0.001; }\n        let effectiveLevel = researches[4][1] === 0 ? 0 : 1 + Math.min(researches[4][1], 4);\n        if (researches[4][1] > 4) { effectiveLevel += 0.5; }\n        if (researches[4][1] > 5) { effectiveLevel += researches[4][1] / 4 - 1.25; }\n        researchesInfo[4].effect[1] = Limit(1 + systemBase * effectiveLevel).power(global.collapseInfo.trueStars).toArray();\n        const listForTotal = [researchesInfo[4].effect[1]];\n        let planetBase = 1.3 + 0.15 * researches[4][2];\n        if (vacuum) { planetBase += milestonesInfo[3].reward[1]; }\n        researchesInfo[4].effect[0] = planetBase ** researches[4][0];\n        researchesInfo[4].effect[4] = logAny(player.collapse.stars[2] + 3, researches[4][4] >= 2 ? 2 : 3);\n        if (elements[23] === 1) { researchesInfo[4].effect[4] *= player.collapse.mass ** 0.1; }\n        elementsEffects[12] = 10 - strangeness[4][10];\n        elementsEffects[24] = vacuum || player.milestones[1][1] >= 6 ? 0.02 : 0.01;\n        elementsEffects[28] = researchesExtra[4][2] >= 1 ? 3 : 2;\n        let totalNumber = researchesInfo[4].effect[0] * global.collapseInfo.massEffect() * starEffect[1]() * (1.25 ** researches[4][3]) * (1.5 ** strangeness[4][0]);\n        if (researches[4][4] >= 1) { totalNumber *= researchesInfo[4].effect[4]; }\n        if (elements[4] === 1) { totalNumber *= 1.2; }\n        if (elements[14] === 1) { totalNumber *= 1.4; }\n        if (elements[19] === 1) { totalNumber *= 2; }\n        if (elements[24] === 1) { totalNumber *= Limit(buildings[4][0].current).max('1').power(elementsEffects[24]).toNumber(); }\n        if (elements[28] === 1) { totalNumber *= elementsEffects[28]; }\n        if (vacuum) {\n            if (researchesExtra[1][4] >= 1) { totalNumber *= (researchesExtraInfo[1].effect[4] as number) ** (discharge.current + dischargeInfo.bonus); }\n            if (researchesExtra[2][3] >= 1) { totalNumber *= vaporizationInfo.tension; }\n            if (researchesExtra[2][3] >= 2) { totalNumber *= vaporizationInfo.stress; }\n            totalNumber *= milestonesInfo[4].reward[0];\n        }\n        if (stageBoost[4] !== null) { totalNumber *= stageBoost[4]; }\n        const totalMultiplier = Limit(totalNumber).multiply(...listForTotal).toArray();\n\n        producing[4][5] = Limit('1e11').multiply(buildings[4][5].current, totalMultiplier).toArray();\n\n        producing[4][4] = Limit('2e9').multiply(buildings[4][4].current, totalMultiplier).toArray();\n\n        producing[4][3] = Limit('3e7').multiply(buildings[4][3].current, totalMultiplier).toArray();\n\n        elementsEffects[6] = researchesExtra[4][2] >= 1 ? 2 : 1.5;\n        const prod2Number = 400 * starEffect[0]() * (4 ** researches[4][3]);\n        producing[4][2] = Limit(prod2Number).multiply(buildings[4][2].current, totalMultiplier).toArray();\n\n        let prod1Number = 50;\n        if (elements[1] === 1) { prod1Number *= 2; }\n        producing[4][1] = Limit(prod1Number).multiply(buildings[4][1].current, totalMultiplier).toArray();\n    }\n    if (activeAll.includes(5)) {\n        let prod3Number = vacuum ? 2 : 10;\n        if (vacuum) {\n            if (upgrades[5][2] === 1) { prod3Number += 1; }\n            prod3Number += milestonesInfo[5].reward[1];\n        }\n        producing[5][3] = Limit(prod3Number).power(buildings[5][3].true).toArray();\n\n        const listForMult2 = [buildings[5][2].current, producing[5][3]];\n        let prod2Number = 1.5 * (3 ** researches[5][1]);\n        upgradesInfo[5].effect[1] = 2 * (3 ** strangeness[5][4]);\n        if (upgrades[5][1] === 1) { prod2Number *= upgradesInfo[5].effect[1]; }\n        producing[5][2] = Limit(prod2Number).multiply(...listForMult2).toArray();\n\n        const listForMult1 = [buildings[5][1].current, producing[5][3]];\n        let prod1Number = 4 ** researches[5][0];\n        upgradesInfo[5].effect[0] = 3 * (2 ** strangeness[5][3]);\n        if (upgrades[5][0] === 1) { prod1Number *= upgradesInfo[5].effect[0]; }\n        producing[5][1] = Limit(prod1Number).multiply(...listForMult1).toArray();\n\n        const clusterBoost = producing[5][2];\n        if (clusterBoost[0] > 0) {\n            producing[4][4] = Limit(producing[4][4]).multiply(clusterBoost).toArray();\n            if (researches[5][1] >= 1) { producing[4][3] = Limit(producing[4][3]).multiply(clusterBoost).divide('3').toArray(); }\n            if (researches[5][1] >= 2) { producing[4][2] = Limit(producing[4][2]).multiply(clusterBoost).divide('9').toArray(); }\n            if (researches[5][1] >= 3) { producing[4][1] = Limit(producing[4][1]).multiply(clusterBoost).divide('27').toArray(); }\n        }\n    }\n    if (vacuum) {\n        const { inflationInfo } = global;\n        inflationInfo.preonTrue = producing[1][1];\n        inflationInfo.dustTrue = producing[3][1];\n\n        inflationInfo.dustCap = Limit(8e46 * (shiftRange() / inflationInfo.massCap) * calculateMassGain()).toArray();\n        if (Limit(producing[3][1]).moreThan(inflationInfo.dustCap)) { producing[3][1] = inflationInfo.dustCap; }\n\n        researchesExtraInfo[1].effect[3] = researchesExtra[1][3] / 20;\n        let preonsCap = 1e14 * (energyMin ** researchesExtraInfo[1].effect[3]) * global.collapseInfo.starEffect[2]() * milestonesInfo[4].reward[1];\n        if (player.elements[10] === 1) { preonsCap *= 2; }\n        if (researchesExtra[4][1] >= 1) { preonsCap *= global.collapseInfo.effect4RE1(); }\n        inflationInfo.preonCap = Limit(preonsCap).multiply(producing[3][1]).toArray();\n        if (Limit(producing[1][1]).moreThan(inflationInfo.preonCap)) { producing[1][1] = inflationInfo.preonCap; }\n    }\n};\n\nexport const buyBuilding = (index: number, stageIndex = player.stage.active, auto = false) => {\n    if (!checkBuilding(index, stageIndex)) { return; }\n    const building = player.buildings[stageIndex][index as 1];\n\n    let pointer; //For cost\n    let currency;\n    let special = '' as '' | 'Free' | 'Moles' | 'Mass' | 'Galaxy';\n    if (stageIndex === 1) {\n        pointer = player.buildings[1][index - 1];\n        if (index === 1 && player.inflation.vacuum && player.strangeness[1][10] >= 1) { special = 'Free'; }\n    } else if (stageIndex === 2) {\n        if (index === 1 && player.inflation.vacuum) {\n            special = 'Moles';\n            pointer = player.buildings[1][5];\n            currency = Limit(pointer.current).divide('6.02214076e23').toArray();\n        } else { pointer = player.buildings[2][index === 1 ? 0 : 1]; }\n    } else if (stageIndex === 3) {\n        if (player.inflation.vacuum) {\n            special = 'Mass';\n            pointer = player.buildings[1][0];\n            currency = Limit(pointer.current).multiply('1.78266192e-33').toArray();\n        } else { pointer = player.buildings[3][0]; }\n    } else /*if (stageIndex >= 4)*/ {\n        pointer = player.buildings[4][0];\n        if (stageIndex === 5 && index === 3) {\n            special = 'Galaxy';\n            currency = player.collapse.mass;\n        }\n    }\n    if (currency === undefined) { currency = pointer.current; }\n\n    let budget = currency;\n    if (auto && building.true > 0 && special !== 'Free' && special !== 'Galaxy') {\n        let save = '2' as number | string;\n        if (special === 'Mass' && player.strangeness[3][4] >= 2 && Limit(global.inflationInfo.dustTrue).moreOrEqual(global.inflationInfo.dustCap)) {\n            save = global.inflationInfo.massCap;\n        } else if (player.strangeness[1][7] >= 1) { save = player.toggles.shop.wait[stageIndex]; }\n\n        budget = Limit(currency).divide(save).toArray();\n    }\n\n    let total = calculateBuildingsCost(index, stageIndex); //This updates cost information\n    if (Limit(total).moreThan(budget)) { return; }\n    const howMany = auto ? -1 : (player.stage.resets < 1 && player.discharge.current < 1 ? 1 : player.toggles.shop.howMany);\n\n    let canAfford = 1;\n    if (howMany !== 1) {\n        const increase = global.buildingsInfo.increase[stageIndex][index]; //Must be >1\n        const firstCost = global.buildingsInfo.firstCost[stageIndex][index];\n        if (special === 'Free') {\n            canAfford = Math.floor(Limit(budget).divide(firstCost).log(increase).toNumber()) - building.true + 1;\n\n            if (howMany !== -1) {\n                if (canAfford < howMany) { return; }\n                canAfford = howMany;\n            }\n        } else {\n            /* Alternative formula */\n            //max = floor(log((firstCost * increase ** building.true + increase * budget - budget) / firstCost) / log(increase)) - building.true;\n            //total = firstCost * (increase ** (canAfford + building.true) - increase ** building.true) / (increase - 1);\n            const totalBefore = Limit(increase).power(building.true).minus('1').divide(increase - 1).multiply(firstCost).toArray();\n            canAfford = Math.floor(Limit(budget).plus(totalBefore).multiply(increase - 1).divide(firstCost).plus('1').log(increase).toNumber()) - building.true;\n\n            if (howMany !== -1) {\n                if (canAfford < howMany) { return; }\n                canAfford = howMany;\n            }\n            total = Limit(increase).power(canAfford + building.true).minus('1').divide(increase - 1).multiply(firstCost).minus(totalBefore).toArray();\n        }\n    }\n    if (!Limit(total).isFinite()) {\n        if (global.debug.errorGain) {\n            global.debug.errorGain = false;\n            Notify(`Error inside Structure creation (${Limit(total).isNaN() ? 'NaN' : 'Infinity'} detected, debug ${stageIndex}-${index})`);\n            setTimeout(() => { global.debug.errorGain = true; }, 6e4);\n        }\n        return;\n    }\n\n    building.true += canAfford;\n    building.current = Limit(building.current).plus(canAfford).toArray();\n    building.total = Limit(building.total).plus(canAfford).toArray();\n    building.trueTotal = Limit(building.trueTotal).plus(canAfford).toArray();\n    if (Limit(building.highest).lessThan(building.current)) { building.highest = cloneArray(building.current); }\n\n    if (special === 'Galaxy') { //&& allowedToReset\n        reset('galaxy', player.inflation.vacuum ? [1, 2, 3, 4, 5] : [4, 5]);\n    } else {\n        if (special !== 'Free') {\n            currency = Limit(currency).minus(total).toArray();\n\n            /*if (special === 'Galaxy') {\n                player.collapse.mass = Math.max(currency, 0.01235);\n            } else*/ if (special === 'Moles') {\n                pointer.current = Limit(currency).multiply('6.02214076e23').toArray();\n                player.buildings[2][0].current = Limit(pointer.current).divide('6.02214076e23').toArray();\n            } else if (special === 'Mass') {\n                pointer.current = Limit(currency).divide('1.78266192e-33').toArray();\n                player.buildings[3][0].current = Limit(pointer.current).multiply('1.78266192e-33').toArray();\n            } else {\n                pointer.current = currency;\n            }\n        }\n\n        if (player.inflation.vacuum || stageIndex === 1) {\n            assignEnergy(global.dischargeInfo.getEnergy(index, stageIndex) * canAfford);\n            awardMilestone(1, 1);\n        }\n    }\n\n    //Milestones that are based on bought amount\n    if (stageIndex === 1) {\n        if (index === 5 && player.upgrades[1][8] === 0 && player.inflation.vacuum) { player.buildings[2][0].current = Limit(building.current).divide('6.02214076e23').toArray(); }\n    } else if (stageIndex === 2) {\n        if (index !== 1) { awardMilestone(1, 2); }\n    } else if (stageIndex === 3) {\n        if (index >= 4) { awardMilestone(1, 3); }\n    } else if (stageIndex === 4) {\n        global.collapseInfo.trueStars += canAfford;\n        awardMilestone(0, 5);\n    } else if (stageIndex === 5) {\n        if (index === 3) {\n            awardMilestone(1, 5);\n            if (!player.events[2]) { playEvent(5, 2); }\n        }\n    }\n\n    assignBuildingInformation();\n    if (!auto) {\n        numbersUpdate();\n        if (global.screenReader[0]) { getId('SRMain').textContent = `Made ${format(canAfford)} '${global.buildingsInfo.name[stageIndex][index]}'`; }\n    }\n};\n\nexport const assignEnergy = (add = null as number | null) => {\n    const { discharge } = player;\n\n    if (add === null) {\n        const { getEnergy, energyType } = global.dischargeInfo;\n\n        add = 0;\n        for (let s = 1; s < (player.inflation.vacuum ? energyType.length : 2); s++) {\n            const buildings = player.buildings[s];\n            for (let i = 1; i < energyType[s].length; i++) {\n                add += getEnergy(i, s) * buildings[i as 1].true;\n            }\n        }\n\n        global.dischargeInfo.energyTrue = add;\n        if (player.strangeness[1][11] >= 1) { discharge.energy = add; }\n    } else {\n        global.dischargeInfo.energyTrue += add;\n        discharge.energy += add;\n    }\n    if (discharge.energyMax < discharge.energy) { discharge.energyMax = discharge.energy; }\n};\n\nexport const calculateBuildingsCost = (index: number, stageIndex: number): overlimit => {\n    const { buildingsInfo } = global;\n\n    if (stageIndex === 1) {\n        const effect = 10 + 3 * player.researches[1][0];\n        global.upgradesInfo[1].effect[6] = effect / 100;\n\n        let increase = 140;\n        if (player.upgrades[1][6] === 1) { increase -= effect; }\n        buildingsInfo.increase[1][index] = increase / 100;\n\n        if (index === 1) {\n            let cost = buildingsInfo.startCost[1][1];\n            if (!player.inflation.vacuum && player.upgrades[1][2] === 1) { cost /= 10; }\n            buildingsInfo.firstCost[1][1] = cost;\n        } else if (index === 3) {\n            let cost = buildingsInfo.startCost[1][3];\n            if (player.upgrades[1][1] === 1) { cost /= 10; }\n            buildingsInfo.firstCost[1][3] = cost;\n        } else if (index === 4) {\n            let cost = buildingsInfo.startCost[1][4];\n            if (player.inflation.vacuum) {\n                if (player.upgrades[1][2] === 1) { cost /= 10; }\n                if (player.researchesExtra[1][0] >= 1) { cost /= 10; }\n            }\n            buildingsInfo.firstCost[1][4] = cost;\n        }\n    } else if (stageIndex === 3) {\n        buildingsInfo.firstCost[3][index] = buildingsInfo.startCost[3][index];\n        if (!player.inflation.vacuum && global.strangeInfo.stageBoost[3] !== null) { buildingsInfo.firstCost[3][index] /= global.strangeInfo.stageBoost[3]; }\n        if (index === 4) {\n            buildingsInfo.increase[3][4] = player.upgrades[3][11] === 1 ? 5 : 10;\n        }\n    } else if (stageIndex === 4) {\n        let increase = 125 + 15 * index;\n        if (player.elements[2] === 1) { increase -= 10; }\n        if (player.elements[8] === 1) { increase -= 5; }\n        buildingsInfo.increase[4][index] = increase / 100;\n\n        let cost = buildingsInfo.startCost[4][index] / (2 ** player.strangeness[4][1]);\n        if (player.elements[13] === 1) { cost /= 1e3; }\n        buildingsInfo.firstCost[4][index] = cost;\n    }\n\n    return Limit(buildingsInfo.increase[stageIndex][index]).power(player.buildings[stageIndex][index as 1].true).multiply(buildingsInfo.firstCost[stageIndex][index]).toArray();\n};\n\nexport const calculateGainedBuildings = (get: number, stageIndex: number, time: number) => {\n    let add: overlimit;\n    if (stageIndex === 1 && get === (player.inflation.vacuum ? 5 : 3)) {\n        add = Limit(global.upgradesInfo[1].effect[8] as overlimit).multiply(time).toArray();\n    } else if (stageIndex === 5) {\n        add = Limit(global.buildingsInfo.producing[5][1]).multiply(time).toArray();\n    } else {\n        add = Limit(global.buildingsInfo.producing[stageIndex][get + 1]).multiply(time).toArray();\n\n        if (stageIndex === 2 && get === 1 && player.buildings[2][2].current[0] === 0 && player.researchesExtra[2][1] >= 1) {\n            add = Limit(add).plus(time * ((global.researchesExtraInfo[2].effect[1] as number) - 1)).toArray();\n        }\n    }\n    if (add[0] === 0) { return; }\n    if (!Limit(add).isFinite()) {\n        if (global.debug.errorGain) {\n            global.debug.errorGain = false;\n            Notify(`Error inside income calculation (${Limit(add).isNaN() ? 'NaN' : 'Infinity'} detected, debug ${stageIndex}-${get})`);\n            setTimeout(() => { global.debug.errorGain = true; }, 6e4);\n        }\n        return;\n    }\n\n    let stageGet = stageIndex;\n    if (stageIndex === 4) {\n        get = 0;\n    } else if (stageIndex === 5) {\n        if (get > 0) { add = Limit(add).divide(4 ** get).toArray(); }\n        stageGet = 4;\n        get++;\n    }\n    const building = player.buildings[stageGet][get];\n\n    building.current = Limit(building.current).plus(add).toArray();\n    building.total = Limit(building.total).plus(add).toArray();\n    building.trueTotal = Limit(building.trueTotal).plus(add).toArray();\n    if (Limit(building.highest).lessThan(building.current)) { building.highest = cloneArray(building.current); }\n\n    //Milestones that are based on gained amount\n    if (stageIndex === 1) {\n        if (player.inflation.vacuum) {\n            if (get === 0) {\n                player.buildings[3][0].current = Limit(building.current).multiply('1.78266192e-33').toArray();\n                awardMilestone(0, 3);\n            } else if (get === 5) {\n                player.buildings[2][0].current = Limit(building.current).divide('6.02214076e23').toArray();\n            }\n        }\n    } else if (stageIndex === 3) {\n        if (get === 0) { //Never 0 for true vacuum\n            if (player.accretion.rank < 5 && Limit(building.current).moreThan('1e30')) { building.current = [1, 30]; }\n            awardMilestone(0, 3);\n        }\n    }\n};\n\nexport const assignStrangeBoost = () => {\n    const { strangeness } = player;\n    const stageBoost = global.strangeInfo.stageBoost;\n    const strangeQuarks = player.strange[0].current + 1;\n\n    stageBoost[1] = strangeness[1][8] < 1 ? null : strangeQuarks ** 0.12 - 1;\n    stageBoost[2] = strangeness[2][7] < 1 ? null : strangeQuarks ** 0.24;\n    stageBoost[3] = strangeness[3][7] < 1 ? null : player.inflation.vacuum ?\n        strangeQuarks ** 0.16 - 1 : strangeQuarks ** 0.8;\n    stageBoost[4] = strangeness[4][8] < 1 ? null : strangeQuarks ** 0.28;\n    stageBoost[5] = strangeness[5][9] < 1 ? null : strangeQuarks ** 0.06;\n};\n\nexport const calculateGainedStrangeness = (get: number, time: number) => {\n    const strange = player.strange[get];\n    const max = Math.floor(player.strange[get + 1].current * 1e12);\n    if (strange.current >= max) { return; }\n\n    const add = Math.max(time, (max - strange.current) * time / 600);\n    strange.current += add;\n    strange.total += add;\n    if (strange.current > max) {\n        const old = strange.current;\n        strange.current = max;\n        strange.total = Math.round(strange.total - (old - strange.current));\n    }\n\n    if (get === 0) { assignStrangeBoost(); }\n};\n\nexport const buyUpgrades = (upgrade: number, stageIndex: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'ASR' | 'elements' | 'strangeness', auto = false): boolean => {\n    if (!auto && !checkUpgrade(upgrade, stageIndex, type)) { return false; } //Auto should already checked if allowed, also allows for delayed purchase of Elements\n\n    let currency: number | overlimit;\n    if (type === 'strangeness') {\n        currency = player.strange[0].current;\n    } else if (stageIndex === 1) {\n        currency = player.discharge.energy;\n    } else if (stageIndex === 2) {\n        currency = player.buildings[2][1].current;\n    } else if (stageIndex === 3) {\n        currency = player.inflation.vacuum ? Limit(player.buildings[1][0].current).multiply('1.78266192e-33').toArray() : player.buildings[3][0].current;\n    } else /* if (stageIndex === 4 || stageIndex === 5) */ {\n        currency = player.buildings[4][0].current;\n    }\n\n    if (type === 'upgrades') {\n        if (player.upgrades[stageIndex][upgrade] >= 1) { return false; }\n\n        const pointer = global.upgradesInfo[stageIndex];\n        if (Limit(currency).lessThan(pointer.startCost[upgrade])) { return false; }\n\n        player.upgrades[stageIndex][upgrade]++;\n        currency = Limit(currency).minus(pointer.startCost[upgrade]).toArray();\n\n        /* Special cases */\n        if (stageIndex === 4 && upgrade === 1 && global.tab === 'research' && player.toggles.normal[2]) { switchTab('research'); }\n        if (!auto && global.screenReader[0]) { getId('SRMain').textContent = `New upgrade '${pointer.name[upgrade]}', has been created`; }\n    } else if (type === 'researches' || type === 'researchesExtra' || type === 'ASR') {\n        const pointer = type === 'researches' || type === 'researchesExtra' ? global[`${type}Info`][stageIndex] : global.ASRInfo;\n        const level = type === 'researches' || type === 'researchesExtra' ? player[type][stageIndex] : player.ASR;\n\n        if (level[upgrade] >= pointer.max[upgrade]) { return false; }\n        if (Limit(currency).lessThan(pointer.cost[upgrade])) { return false; }\n\n        level[upgrade]++;\n        currency = Limit(currency).minus(pointer.cost[upgrade]).toArray();\n\n        /* Special cases */\n        if (type === 'researches') {\n            if (stageIndex === 4 && upgrade === 2) {\n                calculateMaxLevel(0, 4, 'researches', true);\n            }\n        } else if (type === 'researchesExtra') {\n            if (stageIndex === 1) {\n                if (upgrade === 2) {\n                    if (player.stage.current < 4) { player.stage.current = player.researchesExtra[1][2] > 1 ? 2 : 3; }\n                    stageUpdate('soft');\n                    awardVoidReward(1);\n                }\n            }\n        }\n        if (!auto && global.screenReader[0]) { getId('SRMain').textContent = `Research '${type === 'ASR' ? 'Structure Automation' : (pointer as { name: string[] }).name[upgrade]}' level increased, it is now ${level[upgrade]} ${level[upgrade] >= pointer.max[upgrade] ? 'maxed' : ''}`; }\n    } else if (type === 'elements') {\n        let level = player.elements[upgrade];\n        if (level >= 1) { return false; }\n\n        if (level === 0) {\n            const startCost = global.elementsInfo.startCost[upgrade];\n            if (Limit(currency).lessThan(startCost)) { return false; }\n            currency = Limit(currency).minus(startCost).toArray();\n        } else if (!auto) { return false; }\n        if (player.collapse.show < upgrade) { player.collapse.show = upgrade; }\n        level = player.strangeness[4][4] >= 1 || level === 0.5 ? 1 : 0.5;\n        player.elements[upgrade] = level;\n\n        /* Special cases */\n        if (level === 1) {\n            if (upgrade === 7 || upgrade === 16 || upgrade === 20 || upgrade === 25) {\n                calculateMaxLevel(1, 4, 'researches', true);\n            } else if (upgrade === 9 || upgrade === 17) {\n                calculateMaxLevel(0, 4, 'researches', true);\n            } else if (upgrade === 11) {\n                calculateMaxLevel(2, 4, 'researches', true);\n            } else if (upgrade === 26) {\n                //awardVoidReward(4);\n                if (player.stage.current < 5) {\n                    player.stage.current = 5;\n                    if (player.stage.true === 4) { player.stage.true = 5; }\n                    stageUpdate('soft');\n                }\n            }\n        }\n        if (!auto && global.screenReader[0]) { getId('SRMain').textContent = `New Element '${global.elementsInfo.name[upgrade]}' ${player.elements[upgrade] >= 1 ? 'obtained' : 'awaiting activation'}`; }\n    } else if (type === 'strangeness') {\n        const pointer = global.strangenessInfo[stageIndex];\n\n        if (player.strangeness[stageIndex][upgrade] >= pointer.max[upgrade]) { return false; }\n        if ((currency as number) < global.strangenessInfo[stageIndex].cost[upgrade]) { return false; }\n\n        player.strangeness[stageIndex][upgrade]++;\n        (currency as number) -= pointer.cost[upgrade];\n\n        /* Special cases */\n        if (stageIndex === 1) {\n            if (upgrade === 4) {\n                assignEnergy();\n            } else if (upgrade === 6) {\n                player.ASR[1] = Math.max(player.strangeness[1][6], player.ASR[1]);\n                calculateMaxLevel(0, 1, 'ASR', true);\n            } else if (upgrade === 11) {\n                assignEnergy();\n                calculateMaxLevel(3, 1, 'strangeness', true);\n                calculateMaxLevel(4, 2, 'strangeness', true);\n                calculateMaxLevel(4, 3, 'strangeness', true);\n                calculateMaxLevel(5, 4, 'strangeness', true);\n            }\n        } else if (stageIndex === 2) {\n            if (upgrade === 2) {\n                calculateMaxLevel(4, 2, 'researches', true);\n                calculateMaxLevel(5, 2, 'researches', true);\n            } else if (upgrade === 5) {\n                player.ASR[2] = Math.max(player.strangeness[2][5], player.ASR[2]);\n                calculateMaxLevel(0, 2, 'ASR', true);\n            } else if (upgrade === 8) {\n                calculateMaxLevel(0, 2, 'ASR', true);\n                calculateMaxLevel(5, 2, 'strangeness', true);\n            }\n        } else if (stageIndex === 3) {\n            if (upgrade === 2) {\n                calculateMaxLevel(0, 3, 'researchesExtra', true);\n                calculateMaxLevel(1, 3, 'researchesExtra', true);\n            } else if (upgrade === 5) {\n                player.ASR[3] = Math.max(player.strangeness[3][5], player.ASR[3]);\n                calculateMaxLevel(0, 3, 'ASR', true);\n            } else if (upgrade === 8) {\n                calculateMaxLevel(0, 3, 'ASR', true);\n                calculateMaxLevel(5, 3, 'strangeness', true);\n            } else if (upgrade === 9) {\n                assignNewMassCap();\n            }\n        } else if (stageIndex === 4) {\n            if (upgrade === 6) {\n                player.ASR[4] = Math.max(player.strangeness[4][6], player.ASR[4]);\n                calculateMaxLevel(0, 4, 'ASR', true);\n            } else if (upgrade === 9) {\n                calculateMaxLevel(0, 4, 'ASR', true);\n                calculateMaxLevel(6, 4, 'strangeness', true);\n            } else if (upgrade === 10) {\n                if (player.elements[0] !== 1) {\n                    player.elements[0] = 1;\n                    visualUpdateUpgrades(0, 4, 'elements');\n                }\n            }\n        } else if (stageIndex === 5) {\n            if (upgrade === 0) {\n                if (!player.inflation.vacuum) { stageUpdate('soft'); }\n            } else if (upgrade === 1) {\n                player.stage.input *= 2;\n            } else if (upgrade === 5) {\n                if (player.inflation.vacuum) { stageUpdate('soft'); }\n            } else if (upgrade === 6 || upgrade === 7) {\n                player.ASR[5] = player.strangeness[5][7];\n                if (player.strangeness[5][6] >= 2) { player.ASR[5]++; }\n                calculateMaxLevel(0, 5, 'ASR', true);\n            } else if (upgrade === 8) {\n                if (player.inflation.vacuum && global.tab === 'strangeness') { switchTab('strangeness'); }\n            } else if (upgrade === 10) {\n                player.stage.input /= 1e12;\n            }\n        }\n        if (!auto && global.screenReader[0]) { getId('SRMain').textContent = `Strangeness of '${pointer.name[upgrade]}' for ${global.stageInfo.word[stageIndex]} Stage is increased, level is now ${player.strangeness[stageIndex][upgrade]}${player.strangeness[stageIndex][upgrade] >= pointer.max[upgrade] ? 'maxed' : ''}`; }\n    }\n\n    if (type === 'strangeness') {\n        player.strange[0].current = currency as number;\n        assignStrangeBoost();\n    } else if (stageIndex === 1) {\n        if (player.strangeness[1][11] < 1) {\n            player.discharge.energy = Limit(currency).toNumber();\n            if (player.toggles.auto[1]) { dischargeResetCheck('upgrade'); }\n        }\n    } else if (stageIndex === 2) {\n        player.buildings[2][1].current = currency as overlimit;\n\n        if (player.buildings[2][2].current[0] === 0 && Limit(player.buildings[2][1].current).lessThan(player.buildings[2][1].true)) {\n            const old = player.buildings[2][1].true;\n            player.buildings[2][1].true = Math.floor(Limit(player.buildings[2][1].current).toNumber());\n            if (player.inflation.vacuum) {\n                const decreased = (old - player.buildings[2][1].true) * global.dischargeInfo.getEnergy(1, 2);\n                global.dischargeInfo.energyTrue -= decreased;\n                player.discharge.energy -= decreased;\n            } else if (player.buildings[2][1].current[0] === 0 && Limit(player.buildings[2][0].current).lessThan('2.8e-3')) {\n                player.buildings[2][0].current = [2.8, -3];\n            }\n        }\n    } else if (stageIndex === 3) {\n        if (player.inflation.vacuum) {\n            player.buildings[1][0].current = Limit(currency).divide('1.78266192e-33').toArray();\n            player.buildings[3][0].current = Limit(player.buildings[1][0].current).multiply('1.78266192e-33').toArray();\n            //Currency can be assigned directly, but due to floating points accuracy will reduce a little\n        } else { player.buildings[3][0].current = currency as overlimit; }\n    } else /*if (stageIndex === 4 || stageIndex === 5)*/ {\n        player.buildings[4][0].current = currency as overlimit;\n    }\n\n    assignBuildingInformation();\n    if (type === 'upgrades' || type === 'elements') {\n        visualUpdateUpgrades(upgrade, stageIndex, type);\n    } else {\n        calculateResearchCost(upgrade, stageIndex, type);\n        visualUpdateResearches(upgrade, stageIndex, type);\n    }\n    if (!auto) {\n        if (type === 'strangeness') { getStrangenessDescription(upgrade, stageIndex, type); } //Remove if auto description will be added\n        numbersUpdate();\n    }\n    return true;\n};\n\n//Currently can't allow price to be more than 2**1024. Because missing sorting function for numbers that big\nexport const calculateResearchCost = (research: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'ASR' | 'strangeness') => {\n    if (type === 'researches' || type === 'researchesExtra') {\n        const pointer = global[`${type}Info`][stageIndex];\n\n        pointer.cost[research] = stageIndex === 1 ?\n            pointer.startCost[research] + pointer.scaling[research] * player[type][stageIndex][research] :\n            pointer.startCost[research] * pointer.scaling[research] ** player[type][stageIndex][research];\n\n        if (pointer.cost[research] < 1) { //Remove all but 2 digits\n            const digits = 10 ** (-Math.floor(Math.log10(pointer.cost[research])) + 2);\n            pointer.cost[research] = Math.round(pointer.cost[research] * digits) / digits;\n        } else {\n            pointer.cost[research] = Math.round(pointer.cost[research] * 100) / 100;\n        }\n    } else if (type === 'ASR') {\n        global.ASRInfo.cost[stageIndex] = global.ASRInfo.costRange[stageIndex][player.ASR[stageIndex]];\n    } else if (type === 'strangeness') {\n        global.strangenessInfo[stageIndex].cost[research] = player.inflation.vacuum ?\n            Math.floor(Math.round((global.strangenessInfo[stageIndex].startCost[research] * global.strangenessInfo[stageIndex].scaling[research] ** player.strangeness[stageIndex][research]) * 100) / 100) :\n            Math.floor(Math.round((global.strangenessInfo[stageIndex].startCost[research] + global.strangenessInfo[stageIndex].scaling[research] * player.strangeness[stageIndex][research]) * 100) / 100);\n    }\n};\n\nexport const calculateMaxLevel = (research: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'ASR' | 'strangeness', addAuto = false) => {\n    let max = null;\n    if (type === 'ASR') {\n        if (stageIndex === 1) {\n            max = player.inflation.vacuum ? 5 : 3;\n        } else if (stageIndex === 2) {\n            max = player.strangeness[2][8] >= 1 ? 6 : 5;\n        } else if (stageIndex === 3) {\n            max = player.strangeness[3][8] >= 1 ? 5 : 4;\n        } else if (stageIndex === 4) {\n            max = player.strangeness[4][9] >= 1 ? 5 : 4;\n        } else if (stageIndex === 5) {\n            max = player.strangeness[5][7];\n            if (player.strangeness[5][6] >= 2) { max++; }\n        }\n    } else if (type === 'researches') {\n        if (stageIndex === 2) {\n            if (research === 4) {\n                max = 2;\n                if (player.strangeness[2][2] >= 1) { max++; }\n            } else if (research === 5) {\n                max = 1;\n                if (player.strangeness[2][2] >= 2) { max++; }\n            }\n        } else if (stageIndex === 4) {\n            if (research === 0) {\n                max = 3 + (3 * player.researches[4][2]);\n                if (player.elements[9] === 1) { max += 12; }\n                if (player.elements[17] === 1) { max += 24; }\n            } else if (research === 1) {\n                max = 2;\n                if (player.elements[7] === 1) { max += 2; }\n                if (player.elements[16] === 1) { max++; }\n                if (player.elements[20] === 1) { max++; }\n                if (player.elements[25] === 1) { max++; }\n            } else if (research === 2) {\n                max = 1;\n                if (player.elements[11] === 1) { max++; }\n            }\n        }\n    } else if (type === 'researchesExtra') {\n        if (stageIndex === 3) {\n            if (research === 0) {\n                max = 12;\n                if (player.accretion.rank >= 3) { max += 17; }\n                if (player.strangeness[3][2] >= 1) { max += 7; }\n            } else if (research === 1) {\n                max = 5;\n                if (player.strangeness[3][2] >= 2) { max += 2; }\n            } else if (research === 4) {\n                max = player.accretion.rank - 2;\n            }\n        }\n    } else if (type === 'strangeness') {\n        if (stageIndex === 1) {\n            if (research === 0) {\n                max = 4 + Math.min(player.challenges.void[3], 4);\n            } else if (research === 2) {\n                max = 2 + Math.min(Math.floor(player.challenges.void[3] / 2), 2);\n            } else if (research === 3) {\n                max = player.strangeness[1][11] >= 1 ? 2 : 1;\n            } else if (research === 6) {\n                max = player.inflation.vacuum ? 5 : 3;\n            } else if (research === 9) {\n                max = 6 + Math.min(player.challenges.void[3], 4);\n            }\n        } else if (stageIndex === 2) {\n            if (research === 1) {\n                max = 6 + Math.min(player.challenges.void[3], 4);\n            } else if (research === 3) {\n                max = 3 + Math.min(Math.floor(player.challenges.void[3] / 2), 2);\n            } else if (research === 4) {\n                max = player.strangeness[1][11] >= 1 ? 2 : 1;\n            } else if (research === 5) {\n                max = player.strangeness[2][8] >= 1 ? 6 : 5;\n            } else if (research === 6) {\n                max = player.stage.true >= 6 ? 2 : 1;\n            }\n        } else if (stageIndex === 3) {\n            if (research === 0) {\n                max = 8 + Math.min(player.challenges.void[3], 4);\n            } else if (research === 1) {\n                max = 4 + Math.min(Math.floor(player.challenges.void[3] / 2), 2);\n            } else if (research === 4) {\n                max = player.strangeness[1][11] >= 1 ? 2 : 1;\n            } else if (research === 5) {\n                max = player.strangeness[3][8] >= 1 ? 5 : 4;\n            } else if (research === 10) {\n                max = 2 + Math.min(Math.floor(player.challenges.void[3] / 2), 2);\n            }\n        } else if (stageIndex === 4) {\n            if (research === 0) {\n                max = 8 + Math.min(player.challenges.void[3], 4);\n            } else if (research === 1) {\n                max = 4 + Math.min(Math.floor(player.challenges.void[3] / 2), 2);\n            } else if (research === 4) {\n                max = player.stage.true >= 6 || player.events[2] ? 2 : 1;\n            } else if (research === 5) {\n                max = player.strangeness[1][11] >= 1 ? 2 : 1;\n            } else if (research === 6) {\n                max = player.strangeness[4][9] >= 1 ? 5 : 4;\n            } else if (research === 7) {\n                max = 3 + Math.min(player.challenges.void[3], 4);\n            }\n        } else if (stageIndex === 5) {\n            if (research === 0) {\n                max = player.inflation.vacuum ? 1 : 3;\n            } else if (research === 1) {\n                max = 1 + Math.min(Math.floor(player.challenges.void[3] / 2), 2);\n            }\n        }\n    }\n    if (max !== null) {\n        if (max < 0) { max = 0; }\n        if (type === 'ASR') {\n            global.ASRInfo.max[stageIndex] = max;\n        } else {\n            global[`${type}Info`][stageIndex].max[research] = max;\n        }\n    }\n\n    calculateResearchCost(research, stageIndex, type);\n    visualUpdateResearches(research, stageIndex, type);\n    if (addAuto && (type === 'researches' || type === 'researchesExtra')) { autoResearchesSet(type, [stageIndex, research]); }\n};\n\nexport const autoUpgradesSet = (which: 'all' | number) => {\n    if (!player.toggles.auto[5]) { return; }\n    const { autoU: auto } = global.automatization;\n\n    if (which === 'all') {\n        for (let s = 0; s <= 5; s++) {\n            auto[s] = [];\n            for (let i = 0; i < global.upgradesInfo[s].maxActive; i++) {\n                if (player.upgrades[s][i] < 1) {\n                    auto[s].push(i);\n                }\n            }\n\n            const { startCost } = global.upgradesInfo[s];\n            auto[s].sort((a, b) => startCost[a] - startCost[b]);\n        }\n    } else if (typeof which === 'number') {\n        auto[which] = [];\n        for (let i = 0; i < global.upgradesInfo[which].maxActive; i++) {\n            if (player.upgrades[which][i] < 1) {\n                auto[which].push(i);\n            }\n        }\n\n        const { startCost } = global.upgradesInfo[which];\n        auto[which].sort((a, b) => startCost[a] - startCost[b]);\n    }\n};\n\nexport const autoUpgradesBuy = (stageIndex: number) => {\n    if (player.strangeness[3][6] < 1 || !player.toggles.auto[5]) { return; }\n    const auto = global.automatization.autoU[stageIndex];\n\n    for (let i = 0; i < auto.length; i++) {\n        const index = auto[i];\n\n        if (!checkUpgrade(index, stageIndex, 'upgrades')) { continue; }\n        buyUpgrades(index, stageIndex, 'upgrades', true);\n\n        if (player.upgrades[stageIndex][index] >= 1) {\n            auto.splice(i, 1);\n            i--;\n        } else { break; }\n    }\n};\n\n//All = reset all of current active stages; As number means reset that stage only; As array means add [1] into stage [0] if it's not already inside\nexport const autoResearchesSet = (type: 'researches' | 'researchesExtra', which: 'all' | number | number[]) => {\n    if (type === 'researches') {\n        if (!player.toggles.auto[6]) { return; }\n    } else if (type === 'researchesExtra') {\n        if (!player.toggles.auto[7]) { return; }\n    }\n\n    const { [type === 'researches' ? 'autoR' : 'autoE']: auto } = global.automatization;\n\n    if (which === 'all') {\n        for (let s = 0; s <= 5; s++) {\n            const pointer = global[`${type}Info`][s];\n\n            auto[s] = [];\n            for (let i = 0; i < pointer.maxActive; i++) {\n                if (player[type][s][i] < pointer.max[i]) {\n                    auto[s].push(i);\n                }\n            }\n            auto[s].sort((a, b) => pointer.cost[a] - pointer.cost[b]);\n        }\n    } else if (typeof which === 'number') {\n        const pointer = global[`${type}Info`][which];\n\n        auto[which] = [];\n        for (let i = 0; i < pointer.maxActive; i++) {\n            if (player[type][which][i] < pointer.max[i]) {\n                auto[which].push(i);\n            }\n        }\n        auto[which].sort((a, b) => pointer.cost[a] - pointer.cost[b]);\n    } else { //Will get sorted automatically\n        if (!auto[which[0]].some((a) => a === which[1])) { auto[which[0]].unshift(which[1]); }\n    }\n};\n\nexport const autoResearchesBuy = (type: 'researches' | 'researchesExtra', stageIndex: number) => {\n    if (type === 'researches') {\n        if (player.strangeness[3][6] < 2 || !player.toggles.auto[6]) { return; }\n    } else if (type === 'researchesExtra') {\n        if (player.strangeness[3][6] < 3 || !player.toggles.auto[7]) { return; }\n    }\n\n    const auto = global.automatization[type === 'researches' ? 'autoR' : 'autoE'][stageIndex];\n    const pointer = global[`${type}Info`][stageIndex];\n\n    let sort = false;\n    for (let i = 0; i < auto.length; i++) {\n        if (!checkUpgrade(auto[i], stageIndex, type)) { continue; }\n        const bought = buyUpgrades(auto[i], stageIndex, type, true);\n\n        if (player[type][stageIndex][auto[i]] >= pointer.max[auto[i]]) {\n            auto.splice(i, 1);\n            i--;\n        } else {\n            if (!bought) {\n                if (pointer.cost[auto[i]] > pointer.cost[auto[i + 1]]) {\n                    sort = true;\n                    continue;\n                }\n                break;\n            } else { i--; }\n        }\n    }\n    if (sort) { auto.sort((a, b) => pointer.cost[a] - pointer.cost[b]); }\n};\n\nexport const autoElementsSet = () => {\n    if (!player.toggles.auto[8]) { return; }\n    const { elements: auto } = global.automatization;\n    const { elements } = player;\n\n    for (let i = 1; i < global.elementsInfo.startCost.length; i++) {\n        if (elements[i] === 0) { auto.push(i); }\n    }\n\n    const { startCost } = global.elementsInfo;\n    auto.sort((a, b) => startCost[a] - startCost[b]);\n};\n\nexport const autoElementsBuy = () => {\n    if (player.strangeness[4][4] < 2 || !player.toggles.auto[8]) { return; }\n    const { elements: auto } = global.automatization;\n    const { elements } = player;\n\n    for (let i = 0; i < auto.length; i++) {\n        const index = auto[i];\n\n        if (!checkUpgrade(index, 4, 'elements')) { break; }\n        buyUpgrades(index, 4, 'elements', true);\n\n        if (elements[index] === 1) {\n            auto.splice(i, 1);\n            i--;\n        } else { break; }\n    }\n};\n\nexport const toggleSwap = (number: number, type: 'normal' | 'buildings' | 'auto', change = false) => {\n    const toggles = type === 'buildings' ? player.toggles.buildings[player.stage.active] : player.toggles[type];\n\n    if (change) {\n        if (type === 'buildings') {\n            if (number === 0) {\n                if (player.strangeness[1][7] < 1) { return; }\n\n                toggles[0] = !toggles[0];\n                for (let i = 1; i < toggles.length; i++) {\n                    toggles[i] = toggles[0];\n                    toggleSwap(i, 'buildings');\n                }\n            } else {\n                const buildings = player.buildings[player.stage.active];\n                if (number >= buildings.length) { return; }\n\n                let anyOn = false;\n                toggles[number] = !toggles[number];\n                for (let i = 1; i < global.buildingsInfo.maxActive[player.stage.active]; i++) {\n                    if (toggles[i] && buildings[i].highest[0] > 0) {\n                        anyOn = true;\n                        break;\n                    }\n                }\n                if (toggles[0] !== anyOn) {\n                    toggles[0] = anyOn;\n                    toggleSwap(0, 'buildings');\n                }\n            }\n        } else { toggles[number] = !toggles[number]; }\n    }\n\n    let toggleHTML;\n    if (type === 'normal') {\n        toggleHTML = getId(`toggle${number}`);\n    } else if (type === 'buildings') {\n        toggleHTML = getId(`toggleBuilding${number}`);\n    } else {\n        toggleHTML = getId(`toggleAuto${number}`);\n    }\n\n    const extraText = type === 'normal' ? '' : (type === 'buildings' && number === 0 ? 'All ' : 'Auto ');\n    if (!toggles[number]) {\n        toggleHTML.style.color = 'var(--red-text-color)';\n        toggleHTML.style.borderColor = 'crimson';\n        toggleHTML.textContent = `${extraText}OFF`;\n    } else {\n        toggleHTML.style.color = '';\n        toggleHTML.style.borderColor = '';\n        toggleHTML.textContent = `${extraText}ON`;\n    }\n};\n\nexport const toggleConfirm = (number: number, change = false) => {\n    const toggles = player.toggles.confirm;\n    if (change) { toggles[number] = toggles[number] === 'All' ? 'Safe' : toggles[number] === 'Safe' ? 'None' : 'All'; }\n\n    const toggleHTML = getId(`toggleConfirm${number}`);\n    if (toggles[number] === 'All' || toggles[number] === 'Safe') {\n        toggleHTML.style.color = '';\n        toggleHTML.style.borderColor = '';\n        toggleHTML.textContent = toggles[number];\n    } else {\n        toggleHTML.style.color = 'var(--red-text-color)';\n        toggleHTML.style.borderColor = 'crimson';\n        toggleHTML.textContent = 'None';\n    }\n};\n\nexport const toggleBuy = (type = 'none' as 'none' | '1' | 'max' | 'any') => {\n    const input = getId('buyAnyInput') as HTMLInputElement;\n    const shop = player.toggles.shop;\n\n    switch (type) {\n        case '1':\n            shop.howMany = 1;\n            break;\n        case 'max':\n            shop.howMany = -1;\n            break;\n        case 'any':\n            shop.input = Math.max(Math.trunc(Number(input.value)), -1);\n            if (shop.input === 0) { shop.input = 1; }\n            shop.howMany = shop.input;\n    }\n    getId('buy1x').style.backgroundColor = shop.howMany === 1 ? 'green' : '';\n    getId('buyAny').style.backgroundColor = Math.abs(shop.howMany) !== 1 ? 'green' : '';\n    getId('buyMax').style.backgroundColor = shop.howMany === -1 ? 'green' : '';\n    if (type === 'none' || type === 'any') { input.value = format(shop.input, { type: 'input' }); }\n    if (type !== 'none') { numbersUpdate(); }\n};\n\nexport const stageResetCheck = (stageIndex: number, auto = false): boolean => {\n    let allowed = false;\n    if (stageIndex >= 5) {\n        allowed = player.stage.current >= 5; //player.elements[26] === 1;\n    } else if (stageIndex === 4) {\n        return false;\n    } else if (stageIndex === 3) {\n        allowed = Limit(player.buildings[3][0].current).moreOrEqual('2.47e31');\n    } else if (stageIndex === 2) {\n        allowed = Limit(player.buildings[2][1].current).moreOrEqual('1.194e29');\n    } else if (stageIndex === 1) {\n        allowed = Limit(player.buildings[1][3].current).moreOrEqual('1.67e21');\n    }\n\n    if (auto && allowed) {\n        if (player.strangeness[5][2] < 1 || (stageIndex >= 4 && global.strangeInfo.gain(stageIndex) / 1e12 ** player.strangeness[5][10] < player.stage.input)) { return false; }\n        stageResetReward(stageIndex);\n    }\n    return allowed;\n};\n\nexport const stageAsyncReset = async() => {\n    const { stage } = player;\n    const active = player.inflation.vacuum ? 6 : (stage.active === 4 && stage.current === 5 && player.events[1] ? 5 : stage.active);\n\n    if (!stageResetCheck(active)) {\n        if (stage.resets < 1 && (player.inflation.vacuum ? stage.current < 5 : player.discharge.current < 6)) { return; }\n        if (active >= 5) { return void Alert('Awaiting \"Iron\" Element'); }\n        if (active === 4) { return void Alert('Enter Intergalactic space first'); }\n        if (active === 3) { return void Alert(`Self sustaining is not yet possible, obtain at least ${format(2.47e31)} Mass`); }\n        if (active === 2) { return void Alert(`Look's like more Mass expected, need even more Drops, around ${format(1.194e29)} in total`); }\n        if (active === 1) { return void Alert(`Not enough to form a single Drop of water, need at least ${format(1.67e21)} Molecules`); }\n    } else {\n        if (player.toggles.confirm[0] !== 'None') {\n            const noNickel = active >= 4 && player.strangeness[4][4] >= 1 && player.elements[27] < 1;\n            const inChallenge = player.challenges.active !== -1;\n            if (player.toggles.confirm[0] !== 'Safe' || inChallenge || noNickel) {\n                let text;\n                if (active === 6) {\n                    text = `Ready to reset progress for ${format(global.strangeInfo.gain(active) / 1e12 ** player.strangeness[5][10])} ${global.strangeInfo.name[player.strangeness[5][10]]}?`;\n                    if (noNickel) { text += '\\n(Not all important Elements obtained)'; }\n                    if (inChallenge) { text += `\\n(${global.challengesInfo.name[player.challenges.active]} is active)`; }\n                } else if (active === 5) {\n                    text = `Return back to Microworld for ${format(global.strangeInfo.gain(active))} Strange quarks?`;\n                    if (noNickel) { text += '\\n(Not all important Elements obtained)'; }\n                } else if (active !== stage.current) {\n                    text = `Reset this Stage for ${format(global.strangeInfo.gain(active))} Strange quarks?`;\n                } else {\n                    text = 'Ready to enter next Stage? Next one will be harder than current';\n                }\n                if (!(await Confirm(text))) { return; }\n                if (!stageResetCheck(active)) { return Notify('Stage reset canceled, requirements are no longer met'); }\n            }\n        }\n        stageResetReward(active);\n    }\n};\n\nconst stageResetReward = (stageIndex: number) => {\n    const { stage } = player;\n    const time = stage.time;\n\n    stage.resets++;\n    let update: false | 'normal' | 'soft' = 'normal';\n    const resetThese = player.inflation.vacuum ? [1, 2, 3, 4, 5] : [stageIndex];\n    if (player.inflation.vacuum) {\n        stage.active = 1;\n        stage.current = 1;\n        stage.time = 0;\n    } else if (stageIndex === stage.current) {\n        if (stageIndex < 5) {\n            stage.current++;\n            if (stage.active === stage.current - 1) {\n                stage.active = stage.current;\n            } else { update = 'soft'; }\n            if (stage.current > stage.true) {\n                stage.true = stage.current;\n                player.events[0] = false;\n            }\n        } else {\n            stage.current = 1 + player.strangeness[5][0];\n            if ((stage.active === 4 && stage.current !== 4) || stage.active === 5) {\n                stage.active = stage.current;\n            } else { update = 'soft'; }\n            resetThese.unshift(4);\n        }\n        stage.time = 0;\n    } else { update = stageIndex === stage.active ? 'soft' : false; }\n\n    if (stage.true >= 5) {\n        const trueGain = global.strangeInfo.gain(stageIndex);\n        if (trueGain > stage.best) { stage.best = trueGain; }\n\n        const resetType = player.strangeness[5][10];\n        const postGain = trueGain / 1e12 ** resetType;\n        player.strange[resetType].current += postGain;\n        player.strange[resetType].total += postGain;\n        assignStrangeBoost();\n\n        if (stageIndex >= 4) {\n            const storage = global.historyStorage.stage;\n            const history = player.history.stage;\n            storage.unshift([trueGain, time, resetType]);\n            if (storage.length > history.input[1]) { storage.length = history.input[1]; }\n            if (trueGain / time > history.best[0] / history.best[1]) { history.best = [trueGain, time, resetType]; }\n        }\n    }\n\n    resetStage(resetThese, update);\n};\n\nexport const switchStage = (stage: number) => {\n    if (player.stage.active === stage) {\n        if (global.lastActive !== null) {\n            global.lastActive = null;\n        } else if (!global.screenReader[0]) { getId('stageSelect').classList.remove('active'); }\n        return;\n    }\n    if (!global.stageInfo.activeAll.includes(stage)) { return; }\n    if (((global.tab === 'research' && global.subtab.researchCurrent === 'Elements') || global.tab === 'Elements') && stage !== 4 && stage !== 5) {\n        switchTab('research', global.tab === 'research' ? 'Researches' : null);\n    }\n\n    player.stage.active = stage;\n    stageUpdate();\n\n    if (!player.events[1]) { playEvent(4, 1); }\n};\n\nexport const assignDischargeInformation = () => {\n    global.dischargeInfo.next = Math.round((10 - (2 * player.researches[1][3]) - (player.strangeness[1][1] / 2)) ** player.discharge.current);\n};\n\nexport const dischargeResetCheck = (auto = false as false | 'interval' | 'upgrade'): boolean => {\n    if (player.upgrades[1][5] < 1 || player.buildings[1][1].true <= 0) { return false; }\n    assignDischargeInformation();\n\n    if (auto !== false) {\n        if (player.strangeness[1][3] < 1 || (auto === 'interval' && player.discharge.energy < global.dischargeInfo.next)) { return false; }\n        dischargeReset(true);\n    }\n    return true;\n};\n\nexport const dischargeAsyncReset = async() => {\n    if (!dischargeResetCheck()) { return; }\n    const info = global.dischargeInfo;\n    const energy = player.discharge.energy;\n\n    if (player.toggles.confirm[1] !== 'None') {\n        const active = player.stage.active;\n        const goalReached = energy >= info.next;\n        const energyRegain = energy < info.energyTrue;\n        if (player.toggles.confirm[1] !== 'Safe' || active !== 1 || (!goalReached && !energyRegain)) {\n            if (!(await Confirm(`${active === 1 ? 'This will reset all current Structures and Energy. ' : `Discarge attempt while inside '${global.stageInfo.word[active]}'.\\n`}${goalReached ? 'Enough Energy to gain boost from new goal' : energyRegain ? `Can regain at least ${format(info.energyTrue - energy)} Energy` : 'There is no real reason'}, continue?`))) { return; }\n            if (!dischargeResetCheck()) { return Notify('Discharge canceled, requirements are no longer met'); }\n        }\n    }\n\n    if (global.screenReader[0]) { getId('SRMain').textContent = `Structures and Energy were reset${energy >= info.next ? ', gained boost from reaching new goal' : ''}`; }\n    dischargeReset();\n};\n\nconst dischargeReset = (auto = false) => {\n    if (player.discharge.energy >= global.dischargeInfo.next) {\n        player.discharge.current++;\n    }\n    awardMilestone(0, 1);\n    awardVoidReward(1);\n    if (!auto || player.strangeness[1][3] < 2) { reset('discharge', player.inflation.vacuum ? [1, 2, 3, 4, 5] : [1]); }\n};\n\nexport const assignVaporizationInformation = () => {\n    let get = Limit(player.buildings[2][1][player.researchesExtra[2][0] >= 1 ? 'total' : 'current']).divide(global.vaporizationInfo.effect2U2()).toArray();\n\n    if (Limit(get).moreOrEqual('1')) {\n        get = player.inflation.vacuum ?\n            Limit(player.vaporization.clouds).power(2.5).plus(get).power(0.4).minus(player.vaporization.clouds).multiply(global.milestonesInfo[2].reward[0]).toArray() :\n            Limit(player.vaporization.clouds).power(1 / 0.6).plus(get).power(0.6).minus(player.vaporization.clouds).toArray();\n        global.vaporizationInfo.get = get;\n    } else { global.vaporizationInfo.get = [0, 0]; }\n};\n\nexport const vaporizationResetCheck = (auto = false): boolean => {\n    assignVaporizationInformation();\n    if (player.upgrades[2][2] < 1 || global.vaporizationInfo.get[0] === 0) { return false; }\n\n    if (auto) {\n        const toReset = player.strangeness[2][4] < 2;\n        if (toReset && (player.strangeness[2][4] < 1 || Limit(global.vaporizationInfo.cloudEffect(true)).divide(global.vaporizationInfo.cloudEffect()).lessThan(player.vaporization.input))) { return false; }\n        vaporizationReset(toReset);\n    }\n    return true;\n};\n\nexport const vaporizationAsyncReset = async() => {\n    if (!vaporizationResetCheck()) { return; }\n    const info = global.vaporizationInfo;\n    const clouds = player.vaporization.clouds;\n\n    if (player.toggles.confirm[2] !== 'None') {\n        const active = player.stage.active;\n        const increase = clouds[0] > 0 ? Limit(info.get).divide(clouds).multiply('1e2').toArray() : '1e2';\n        if (player.toggles.confirm[2] !== 'Safe' || active !== 2 || Limit(increase).lessThan('1e2')) {\n            if (!(await Confirm(`${active === 2 ? 'Reset structures and upgrades' : `Vaporization attempt while inside '${global.stageInfo.word[active]}'.\\nConfirm`} for ${Limit(info.get).format()} (+${Limit(increase).format()}%) Clouds?`))) { return; }\n            if (!vaporizationResetCheck()) { return Notify('Vaporization canceled, requirements are no longer met'); }\n        }\n    }\n\n    if (global.screenReader[0]) { getId('SRMain').textContent = `Progress were reset for ${Limit(info.get).format()} (+${clouds[0] > 0 ? Limit(info.get).divide(clouds).multiply('1e2').format() : 100}%) Clouds`; }\n    vaporizationReset();\n};\n\nconst vaporizationReset = (toReset = true) => {\n    const { vaporization } = player;\n\n    vaporization.clouds = Limit(vaporization.clouds).plus(global.vaporizationInfo.get).toArray();\n    if (Limit(vaporization.cloudsMax).lessThan(vaporization.clouds)) { vaporization.cloudsMax = cloneArray(vaporization.clouds); }\n    awardMilestone(0, 2);\n    awardVoidReward(2);\n    if (toReset) { reset('vaporization', player.inflation.vacuum ? (player.strangeness[2][10] >= 1 ? [1, 2] : [1, 2, 3, 4, 5]) : [2]); }\n};\n\nexport const rankResetCheck = (auto = false): boolean => {\n    const requirement = global.accretionInfo.rankCost[player.accretion.rank];\n    if (requirement === 0) { return false; }\n\n    if (player.inflation.vacuum) {\n        if (Limit(player.buildings[1][0].current).multiply('1.78266192e-33').lessThan(requirement)) { return false; }\n    } else if (Limit(player.buildings[3][0].current).lessThan(requirement)) { return false; }\n\n    if (auto) {\n        if (player.strangeness[3][4] < 1) { return false; }\n        rankReset();\n    }\n    return true;\n};\n\nexport const rankAsyncReset = async() => {\n    if (!rankResetCheck()) { return; }\n\n    if (player.toggles.confirm[3] !== 'None' && player.accretion.rank !== 0) {\n        const active = player.stage.active;\n        if (player.toggles.confirm[3] !== 'Safe' || active !== 3) {\n            if (!(await Confirm(active === 3 ?\n                'Increasing Rank will reset structures, upgrades and Stage researches. But unlock something new' :\n                `Rank increase attempt while inside '${global.stageInfo.word[active]}'. Continue anyway?`))) { return; }\n            if (!rankResetCheck()) { return Notify('Rank increase canceled, requirements are no longer met'); }\n        }\n    }\n\n    rankReset();\n    if (global.screenReader[0]) { getId('SRMain').textContent = `Rank is now '${global.accretionInfo.rankName[player.accretion.rank]}'`; }\n};\n\nconst rankReset = () => {\n    player.accretion.rank++;\n    if (player.accretion.rank === 6) {\n        player.stage.current = 4;\n        stageUpdate('soft');\n    }\n    awardVoidReward(3);\n    reset('rank', player.inflation.vacuum ? [1, 2, 3, 4, 5] : [3]);\n    calculateMaxLevel(0, 3, 'researchesExtra', true);\n    calculateMaxLevel(4, 3, 'researchesExtra', true);\n    if (player.stage.active === 3) { updateRankInfo(); }\n};\n\nexport const shiftRange = (max = true) => {\n    let value = 60;\n    if (max) { return value; }\n\n    if (player.strangeness[3][9] >= 1) { value /= 1.5 * player.strangeness[3][9]; }\n    return value;\n};\n\nexport const assignNewMassCap = () => {\n    let value = player.accretion.input;\n    const min = shiftRange(false);\n    if (value < min || !isFinite(value)) {\n        value = min;\n    } else {\n        const max = shiftRange();\n        if (value > max) { value = max; }\n    }\n\n    global.inflationInfo.massCap = value;\n};\n\nconst calculateMassGain = (): number => {\n    const { elements } = player;\n\n    let massGain = 0.004;\n    if (elements[3] === 1) { massGain += 0.002; }\n    if (elements[5] === 1) { massGain += 0.0002 * player.buildings[4][1].true; }\n    if (global.strangeInfo.stageBoost[5] !== null && global.stageInfo.activeAll.includes(5)) { massGain *= global.strangeInfo.stageBoost[5]; }\n    massGain *= elements[15] === 1 ? global.collapseInfo.trueStars : player.buildings[4][1].true;\n    if (player.inflation.vacuum) {\n        massGain = (massGain * 80) + 1;\n    } else {\n        if (elements[10] === 1) { massGain *= 2; }\n        if (player.researchesExtra[4][1] >= 1) { massGain *= global.collapseInfo.effect4RE1(); }\n        massGain *= global.collapseInfo.starEffect[2]();\n    }\n    return massGain;\n};\n\nexport const assignCollapseInformation = () => {\n    const building = player.buildings[4];\n    const { starCheck } = global.collapseInfo;\n    const { stars } = player.collapse;\n    global.collapseInfo.newMass = !player.inflation.vacuum ? calculateMassGain() :\n        Limit(global.buildingsInfo.producing[1][1]).multiply(global.inflationInfo.massCap).min(player.buildings[1][0].current).multiply('8.96499278339628e-67').toNumber(); //1.78266192e-33 / 1.98847e33\n    starCheck[0] = building[2].true > 0 ? Math.max(building[2].true + Math.floor(building[1].true * player.strangeness[4][3] / 10) - stars[0], 0) : 0;\n    starCheck[1] = Math.max(building[3].true - stars[1], 0);\n    starCheck[2] = Math.max(building[4].true - stars[2], 0);\n};\n\nexport const collapseResetCheck = (auto = false): boolean => {\n    if (player.upgrades[4][0] < 1) { return false; }\n    const info = global.collapseInfo;\n    assignCollapseInformation();\n\n    if (auto) {\n        if (player.strangeness[4][5] < 1) { return false; }\n        if (player.toggles.buildings[5][3] && player.strangeness[5][6] >= 2) {\n            const galaxyCost = calculateBuildingsCost(3, 5);\n            if (Limit(galaxyCost).lessOrEqual(info.newMass) && Limit(galaxyCost).moreThan(player.collapse.mass)) {\n                collapseReset();\n                return true;\n            }\n        }\n\n        let toReset = true;\n        if (player.strangeness[4][5] >= 2) {\n            toReset = info.massEffect(true) / info.massEffect() >= player.collapse.input;\n            if (!toReset && info.starCheck[0] <= 0 && info.starCheck[1] <= 0 && info.starCheck[2] <= 0) { return false; }\n        } else {\n            const { starEffect } = info;\n            if ((info.massEffect(true) / info.massEffect()) * (starEffect[0](true) / starEffect[0]()) * (starEffect[1](true) / starEffect[1]()) * (starEffect[2](true) / starEffect[2]()) < player.collapse.input) { return false; }\n        }\n        collapseReset(toReset);\n        return true;\n    }\n\n    return info.newMass > player.collapse.mass || info.starCheck[0] > 0 || info.starCheck[1] > 0 || info.starCheck[2] > 0 || player.elements.includes(0.5);\n};\n\nexport const collapseAsyncReset = async() => {\n    if (!collapseResetCheck()) { return; }\n    const info = global.collapseInfo;\n\n    if (player.toggles.confirm[4] !== 'None') {\n        const active = player.stage.active;\n        const unlockedG = (info.newMass >= 1e5 || player.collapse.mass >= 1e5) && player.strangeness[5][6] >= 1;\n        const cantAfford = !unlockedG || Limit(calculateBuildingsCost(3, 5)).lessOrEqual(info.newMass);\n        const notMaxed = player.inflation.vacuum && info.newMass > player.collapse.mass && Limit(global.buildingsInfo.producing[1][1]).multiply(global.inflationInfo.massCap).moreThan(player.buildings[1][0].current);\n        if (player.toggles.confirm[4] !== 'Safe' || active !== 4 || (cantAfford && (notMaxed || unlockedG))) {\n            let message = active === 4 ? 'This will reset all researches and upgrades' : `Collapse attempt while inside '${global.stageInfo.word[active]}'`;\n            if (info.newMass > player.collapse.mass) {\n                message += `\\nSolar mass will increase to ${format(info.newMass)}`;\n                if (notMaxed) { message += '\\n(Hardcap is not reached)'; }\n                if (unlockedG) { message += `\\n(${cantAfford ? 'Not enough for' : 'Will be able to make'} a new Galaxy)`; }\n            } else { message += \"\\nTotal Solar mass won't change\"; }\n            if (info.starCheck[0] > 0 || info.starCheck[1] > 0 || info.starCheck[2] > 0) {\n                message += '\\nAlso will gain new Star remnants:';\n                if (info.starCheck[0] > 0) { message += `\\n'Red giants' - ${format(info.starCheck[0])}`; }\n                if (info.starCheck[1] > 0) { message += `\\n'Neutron stars' - ${format(info.starCheck[1])}`; }\n                if (info.starCheck[2] > 0) { message += `\\n'Black holes' - ${format(info.starCheck[2])}`; }\n            }\n            if (player.elements.includes(0.5)) {\n                let count = 0;\n                for (let i = 1; i < player.elements.length; i++) {\n                    if (player.elements[i] === 0.5) { count++; }\n                }\n                message += `\\n${format(count)} new Elements will become active`;\n            }\n            if (active !== 4) { message += '\\nContinue?'; }\n\n            if (!(await Confirm(message))) { return; }\n            if (!collapseResetCheck()) { return Notify('Collapse canceled, requirements are no longer met'); }\n        }\n    }\n\n    if (global.screenReader[0]) {\n        let message = `Solar mass ${info.newMass > player.collapse.mass ? `is now ${format(info.newMass)}` : \"haven't changed\"}`;\n        if (info.starCheck[0] > 0 || info.starCheck[1] > 0 || info.starCheck[2] > 0) {\n            message += ', also gained';\n            if (info.starCheck[0] > 0) { message += ` ${format(info.starCheck[0])} Red giants`; }\n            if (info.starCheck[1] > 0) { message += `, ${format(info.starCheck[1])} Neutron stars`; }\n            if (info.starCheck[2] > 0) { message += `, ${format(info.starCheck[2])} Black holes`; }\n        }\n        getId('SRMain').textContent = message;\n    }\n    collapseReset();\n};\n\nconst collapseReset = (toReset = true) => {\n    const { collapseInfo } = global;\n    const { collapse } = player;\n\n    if (toReset) {\n        if (player.elements.includes(0.5)) {\n            for (let i = 1; i < player.elements.length; i++) {\n                if (player.elements[i] === 0.5) { buyUpgrades(i, 4, 'elements', true); }\n            }\n        }\n\n        if (collapseInfo.newMass > collapse.mass) {\n            collapse.mass = collapseInfo.newMass;\n            if (collapse.massMax < collapse.mass) { collapse.massMax = collapse.mass; }\n        }\n        awardMilestone(0, 4);\n    }\n    collapse.stars[0] += collapseInfo.starCheck[0];\n    collapse.stars[1] += collapseInfo.starCheck[1];\n    collapse.stars[2] += collapseInfo.starCheck[2];\n    awardMilestone(1, 4);\n    awardVoidReward(4);\n    if (toReset) {\n        const resetThese = player.inflation.vacuum ? [1, 2, 3, 4, 5] : (player.strangeness[5][5] < 1 ? [4, 5] : [4]);\n        reset('collapse', resetThese);\n        calculateMaxLevel(0, 4, 'researches');\n        calculateMaxLevel(1, 4, 'researches');\n        calculateMaxLevel(2, 4, 'researches');\n    }\n};\n\nexport const calculateInstability = () => {\n    const { milestones } = player;\n    let value = 0;\n    if (milestones[1][0] >= 6) { value++; }\n    if (milestones[2][1] >= 6) { value++; }\n    if (milestones[3][1] >= 7) { value++; }\n    if (milestones[4][1] >= 8) { value++; }\n    if (milestones[5][1] >= 6) { value++; }\n    global.strangeInfo.instability = value;\n};\n\nexport const calculateMilestoneInformation = (index: number, stageIndex: number) => {\n    const { need, reward } = global.milestonesInfo[stageIndex];\n    const level = player.milestones[stageIndex][index];\n    if (!player.inflation.vacuum) {\n        const scaling = global.milestonesInfo[stageIndex].scalingOld[index];\n        need[index] = level < scaling.length ? Limit(scaling[level]).toArray() : [0, 0];\n    } else {\n        if (stageIndex === 1) {\n            if (index === 0) {\n                need[0] = Limit('1e80').power(level).multiply('1e80').toArray();\n                reward[0] = 1.04 ** level;\n            } else if (index === 1) {\n                need[1] = Limit(4e4 + 4e4 * level).toArray();\n                reward[1] = 2 * level;\n            }\n        } else if (stageIndex === 2) {\n            if (index === 0) {\n                need[0] = Limit('1e1').power(level).multiply('1e1').toArray();\n                reward[0] = 1.05 ** level;\n            } else if (index === 1) {\n                need[1] = Limit(80 + 80 * level).toArray();\n                reward[1] = 1.02 ** level;\n            }\n        } else if (stageIndex === 3) {\n            if (index === 0) {\n                need[0] = Limit('1e3').power(level).multiply('1e-15').toArray();\n                reward[0] = 1.04 ** level;\n            } else if (index === 1) {\n                need[1] = Limit(4 + 4 * level).toArray();\n                reward[1] = level / 400;\n            }\n        } else if (stageIndex === 4) {\n            if (index === 0) {\n                need[0] = Limit('1e4').power(level).multiply('1e4').toArray();\n                reward[0] = 1.06 ** level;\n            } else if (index === 1) {\n                need[1] = Limit(20 + 20 * level).toArray();\n                reward[1] = 1.03 ** level;\n            }\n        } else if (stageIndex === 5) {\n            if (index === 0) {\n                need[0] = Limit(120 + 120 * level).toArray();\n                reward[0] = 1.04 ** level;\n            } else if (index === 1) {\n                need[1] = Limit(2 + 2 * level).toArray();\n                reward[1] = level / 40;\n            }\n        }\n    }\n};\n\nconst awardMilestone = (index: number, stageIndex: number, count = 0) => {\n    if (!milestoneCheck(index, stageIndex)) {\n        if (count > 0) {\n            Notify(`Milestone '${global.milestonesInfo[stageIndex].name[index]}' ${count > 1 ? `${format(count)} new tiers` : 'new tier'} reached\\nTotal is now: ${format(player.milestones[stageIndex][index])}`);\n            if (player.inflation.vacuum) {\n                if (stageIndex === 1) {\n                    if (index === 1) {\n                        assignEnergy();\n                        awardMilestone(1, 1);\n                    }\n                }\n            } else {\n                player.strange[0].current += count;\n                player.strange[0].total += count;\n                calculateInstability();\n                assignStrangeBoost();\n            }\n        }\n        return;\n    }\n\n    player.milestones[stageIndex][index]++;\n    calculateMilestoneInformation(index, stageIndex);\n    awardMilestone(index, stageIndex, count + 1);\n};\n\nconst awardVoidReward = (index: number) => {\n    if (player.challenges.active !== 0) { return; }\n    const old = player.challenges.void[index];\n\n    let progress = 1;\n    if (index === 1) {\n        progress += player.researchesExtra[1][2];\n    } else if (index === 2) {\n        if (Limit(player.vaporization.clouds).moreThan('1e4')) { progress++; }\n    } else if (index === 3) {\n        progress = player.accretion.rank - 1;\n    } else if (index === 4) {\n        if (player.collapse.stars[0] > 1) { progress++; }\n        if (player.collapse.stars[1] > 1) { progress++; }\n        if (player.collapse.stars[2] > 1) { progress++; }\n        //if (player.elements[26] === 1) { progress++; }\n    }\n    if (old >= progress) { return; }\n\n    player.challenges.void[index] = progress;\n    for (let i = old; i < progress; i++) {\n        Notify(`New Void reward achieved\\nReward: ${global.challengesInfo.rewardText[0][index][i]}`);\n    }\n    if (index === 3 && old < 4) {\n        calculateMaxLevel(0, 1, 'strangeness', true);\n        calculateMaxLevel(2, 1, 'strangeness', true);\n        calculateMaxLevel(9, 1, 'strangeness', true);\n        calculateMaxLevel(1, 2, 'strangeness', true);\n        calculateMaxLevel(3, 2, 'strangeness', true);\n        calculateMaxLevel(0, 3, 'strangeness', true);\n        calculateMaxLevel(1, 3, 'strangeness', true);\n        calculateMaxLevel(10, 3, 'strangeness', true);\n        calculateMaxLevel(0, 4, 'strangeness', true);\n        calculateMaxLevel(1, 4, 'strangeness', true);\n        calculateMaxLevel(7, 4, 'strangeness', true);\n        calculateMaxLevel(1, 5, 'strangeness', true);\n    }\n};\n\n/*export const enterChallenge = async(index: number) => {\n    if (player.challenges.active === index) {\n        if (await Confirm(`Leave the '${global.challengesInfo.name[index]}'?`)) { exitChallenge(); }\n        getChallengeDescription(index);\n        return;\n    }\n    if (!player.inflation.vacuum) { return; }\n    if (index === 0 && player.strangeness[5][0] < 1) { return; }\n    if (!(await Confirm(`Enter the '${global.challengesInfo.name[index]}'?\\nStage reset will be forced`))) { return; }\n    const reward = stageResetCheck(5);\n\n    player.challenges.active = index;\n    if (!reward) {\n        player.stage.time = 0;\n        player.stage.active = 1;\n        player.stage.current = 1;\n        resetStage([1, 2, 3, 4, 5]);\n    } else { stageResetReward(5); }\n\n    getChallengeDescription(index);\n    if (global.screenReader[0]) { getId('SRStage').textContent = `'${global.challengesInfo.name[index]}' is now active`; }\n};\n\nconst exitChallenge = () => {\n    player.challenges.active = -1;\n    player.stage.time = 0;\n    player.stage.active = 1;\n    player.stage.current = 1;\n    resetStage([1, 2, 3, 4, 5]);\n\n    if (global.screenReader[0]) { getId('SRStage').textContent = 'Challenge is no longer active'; }\n};*/\n", "import { getId, getQuery } from './Main';\nimport { global, player } from './Player';\nimport { calculateMaxLevel } from './Stage';\nimport { numbersUpdate, stageUpdate, visualUpdate, visualUpdateResearches } from './Update';\n\nexport const specialHTML = { //First values for images from here must be from true vacuum\n    resetHTML: [\n        '',\n        '<span class=\"bigWord orangeText\">Discharge</span>. Reset current Structures and Energy. Will also boost production by <span id=\"dischargeEffect\" class=\"orangeText\"></span>, if to reset with enough Energy.',\n        '<span class=\"bigWord grayText\">Vaporization</span>. Structures, upgrades, will be reset. But in return gain <span class=\"grayText\">Clouds</span>. It takes a lot to form more than one.',\n        '<img id=\"rankImage\" src=\"Used_art/Missing.png\" alt=\"\">Current <span class=\"bigWord darkorchidText\">Rank</span> is: <span id=\"rankName\"></span>. <span id=\"rankMessage\"></span>',\n        '<span class=\"bigWord orchidText\">Collapse</span> - Everything will be lost, but at same time gained. Even remnants have their own unique strength and effects.',\n        ''\n    ],\n    longestBuilding: 7, //+1\n    buildingHTML: [ //outerHTML is slow\n        [],\n        ['Preon.png', 'Quarks.png', 'Particle.png', 'Atom.png', 'Molecule.png'], //[0] === src\n        ['Drop.png', 'Puddle.png', 'Pond.png', 'Lake.png', 'Sea.png', 'Ocean.png'],\n        ['Cosmic%20dust.png', 'Planetesimal.png', 'Protoplanet.png', 'Natural%20satellite.png', 'Subsatellite.png'],\n        ['Brown%20dwarf.png', 'Orange%20dwarf.png', 'Red%20supergiant.png', 'Blue%20hypergiant.png', 'Quasi%20star.png'],\n        ['Nebula.png', 'Star%20cluster.png', 'Galaxy.png']\n    ],\n    longestUpgrade: 13,\n    upgradeHTML: [\n        [],\n        [\n            ['UpgradeQ1.png', 'Weak force'], //[1] === alt\n            ['UpgradeQ2.png', 'Strong force'],\n            ['UpgradeQ3.png', 'Electron'],\n            ['UpgradeQ4.png', 'Proton'],\n            ['UpgradeQ5.png', 'Neutron'],\n            ['UpgradeQ6.png', 'Superposition'],\n            ['UpgradeQ7.png', 'Protium'],\n            ['UpgradeQ8.png', 'Deuterium'],\n            ['UpgradeQ9.png', 'Tritium'],\n            ['UpgradeQ10.png', 'Fusion']\n        ],\n        [\n            ['UpgradeW1.png', 'H2O'],\n            ['UpgradeW2.png', 'Spread'],\n            ['UpgradeW3.png', 'Vaporization'],\n            ['UpgradeW4.png', 'Tension'],\n            ['UpgradeW5.png', 'Stress'],\n            ['UpgradeW6.png', 'Stream'],\n            ['UpgradeW7.png', 'River'],\n            ['UpgradeW8.png', 'Tsunami'],\n            ['UpgradeW9.png', 'Tide']\n        ],\n        [\n            ['UpgradeA1.png', 'Motion'],\n            ['UpgradeA2.png', 'Gas'],\n            ['UpgradeA3.png', 'Micrometeoroid'],\n            ['UpgradeA4.png', 'Instability'],\n            ['UpgradeA5.png', 'Gravity'],\n            ['UpgradeA6.png', 'Pile'],\n            ['UpgradeA7.png', 'Orbit'],\n            ['UpgradeA8.png', 'Magma'],\n            ['UpgradeA9.png', 'Equilibrium'],\n            ['UpgradeA10.png', 'Atmosphere'],\n            ['UpgradeA11.png', 'Pebble'],\n            ['UpgradeA12.png', 'Tidal force'],\n            ['UpgradeA13.png', 'Ring']\n        ],\n        [\n            ['UpgradeS1.png', 'Collapse'],\n            ['UpgradeS2.png', 'Reaction'],\n            ['UpgradeS3.png', 'CNO'],\n            ['UpgradeS4.png', 'Helium fusion']\n        ],\n        [\n            ['UpgradeG1.png', 'Instability'],\n            ['UpgradeG2.png', 'Super cluster'],\n            ['UpgradeG3.png', 'Quasar']\n        ]\n    ],\n    longestResearch: 9,\n    researchHTML: [\n        [],\n        [\n            ['ResearchQ1.png', 'Protium+', 'stage1borderImage'], //[2] === className\n            ['ResearchQ2.png', 'Deuterium+', 'stage1borderImage'],\n            ['ResearchQ3.png', 'Tritium+', 'stage1borderImage'],\n            ['ResearchQ4.png', 'Discharge-', 'stage4borderImage'],\n            ['ResearchQ5.png', 'Discharge+', 'stage4borderImage'],\n            ['ResearchQ6.png', 'Discharge++', 'stage4borderImage']\n        ],\n        [\n            ['ResearchW1.png', 'H2O+', 'stage2borderImage'],\n            ['ResearchW2.png', 'H2O++', 'stage2borderImage'],\n            ['ResearchW3.png', 'Tension+', 'stage2borderImage'],\n            ['ResearchW4.png', 'Stress+', 'stage2borderImage'],\n            ['ResearchW5.png', 'Streams+', 'stage2borderImage'],\n            ['ResearchW6.png', 'Channel', 'stage2borderImage']\n        ],\n        [\n            ['ResearchA1.png', 'Mass+', 'stage3borderImage'],\n            ['ResearchA2.png', 'Adhesion', 'stage2borderImage'],\n            ['ResearchA3.png', 'Weathering', 'stage3borderImage'],\n            ['ResearchA4.png', 'Shattering', 'stage3borderImage'],\n            ['ResearchA5.png', 'Collision', 'stage3borderImage'],\n            ['ResearchA6.png', 'Binary', 'stage3borderImage'],\n            ['ResearchA7.png', 'Gravity+', 'stage1borderImage'],\n            ['ResearchA8.png', 'Layers', 'stage7borderImage'],\n            ['ResearchA9.png', 'Drag', 'stage1borderImage']\n        ],\n        [\n            ['ResearchS1.png', 'Orbit', 'stage5borderImage'],\n            ['ResearchS2.png', '2 stars', 'stage5borderImage'],\n            ['ResearchS3.png', 'Protodisc', 'stage7borderImage'],\n            ['ResearchS4.png', 'Planetary nebula', 'stage5borderImage'],\n            ['ResearchS5.png', 'Gamma-rays', 'stage6borderImage']\n        ],\n        [\n            ['ResearchG1.png', 'Density', 'stage1borderImage'],\n            ['ResearchG2.png', 'Frequency', 'stage6borderImage']\n        ]\n    ],\n    longestResearchExtra: 5,\n    researchExtraDivHTML: [\n        [],\n        ['Energy%20Researches.png', 'stage4borderImage'],\n        ['Cloud%20Researches.png', 'stage2borderImage'],\n        ['Rank%20Researches.png', 'stage6borderImage'],\n        ['Collapse%20Researches.png', 'stage6borderImage'],\n        []\n    ],\n    researchExtraHTML: [\n        [],\n        [\n            ['ResearchEnergy1.png', 'Strong force+', 'stage1borderImage'],\n            ['ResearchEnergy2.png', 'Radiation+', 'stage5borderImage'],\n            ['ResearchEnergy3.png', 'Accretion', 'stage3borderImage'],\n            ['ResearchEnergy4.png', 'Preon Mass', 'stage1borderImage'],\n            ['ResearchEnergy5.png', 'Impulse', 'stage6borderImage']\n        ],\n        [\n            ['ResearchClouds1.png', 'Vaporization+', 'stage3borderImage'],\n            ['ResearchClouds2.png', 'Rain', 'stage2borderImage'],\n            ['ResearchClouds3.png', 'Storm', 'stage4borderImage'],\n            ['Missing.png'/*'ResearchClouds4.png'*/, 'Water Accretion', 'stage2borderImage']\n        ],\n        [\n            ['ResearchRank1.png', 'Ocean', 'stage3borderImage'],\n            ['ResearchRank2.png', 'Rank', 'stage3borderImage'],\n            ['ResearchRank3.png', 'Weight', 'stage3borderImage'],\n            ['ResearchRank4.png', 'Viscosity', 'stage2borderImage'],\n            ['ResearchRank5.png', 'Water rank', 'stage2borderImage']\n        ],\n        [\n            ['ResearchCollapse1.png', 'Supernova', 'stage6borderImage'],\n            ['ResearchCollapse2.png', 'Mass transfer', 'stage7borderImage'],\n            ['ResearchCollapse3.png', 'White dwarf', 'stage1borderImage']\n        ],\n        []\n    ],\n    longestFooterStats: 3,\n    footerStatsHTML: [\n        [],\n        [\n            ['Energy%20mass.png', 'stage1borderImage cyanText', 'Mass'], //[2] === textcontent\n            ['Energy.png', 'stage4borderImage orangeText', 'Energy']\n        ],\n        [\n            ['Clouds.png', 'stage3borderImage grayText', 'Clouds'],\n            ['Water.png', 'stage2borderImage blueText', 'Moles'],\n            ['Drop.png', 'stage2borderImage blueText', 'Drops']\n        ],\n        [\n            ['Mass.png', 'stage3borderImage grayText', 'Mass']\n        ],\n        [\n            ['Main_sequence%20mass.png', 'stage1borderImage cyanText', 'Mass'],\n            ['Elements.png', 'stage4borderImage orangeText', 'Elements']\n        ],\n        [\n            ['Main_sequence%20mass.png', 'stage1borderImage cyanText', 'Mass'],\n            ['Elements.png', 'stage4borderImage orangeText', 'Elements'],\n            ['Stars.png', 'stage7borderImage redText', 'Stars']\n        ]\n    ],\n    cache: {\n        imagesDiv: document.createElement('div'),\n        idMap: new Map<string, HTMLElement>(),\n        classMap: new Map<string, HTMLCollectionOf<HTMLElement>>(),\n        queryMap: new Map<string, HTMLElement>()\n    }\n};\n\nexport const preventImageUnload = () => {\n    const { footerStatsHTML: footer, buildingHTML: build, upgradeHTML: upgrade, researchHTML: research, researchExtraHTML: extra, researchExtraDivHTML: extraDiv } = specialHTML;\n    //Duplicates are ignored, unless they are from Strangeness, because duplicates from there could become unique in future\n\n    let images = '';\n    for (let s = 1; s <= 5; s++) {\n        for (let i = 0; i < footer[s].length; i++) {\n            if (s === 2) {\n                if (i === 2) { continue; } //Drops\n            } else if (s === 5 && i < 2) { continue; } //Solar mass and Elements\n            images += `<img src=\"Used_art/${footer[s][i][0]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < build[s].length; i++) {\n            images += `<img src=\"Used_art/${build[s][i]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < upgrade[s].length; i++) {\n            images += `<img src=\"Used_art/${upgrade[s][i][0]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < research[s].length; i++) {\n            images += `<img src=\"Used_art/${research[s][i][0]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < extra[s].length; i++) {\n            images += `<img src=\"Used_art/${extra[s][i][0]}\" loading=\"lazy\">`;\n        }\n        if (extraDiv[s].length > 0) { images += `<img src=\"Used_art/${extraDiv[s][0]}\" loading=\"lazy\">`; }\n        images += `<img src=\"Used_art/Stage${s}%20border.png\" loading=\"lazy\">`;\n    }\n    specialHTML.cache.imagesDiv.innerHTML = images; //Saved just in case\n};\n\nexport const setTheme = (theme: number | null) => {\n    if (theme !== null) {\n        if (theme === 6) {\n            if (player.stage.true < 7 && player.strangeness[5][0] < 1) { theme = null; }\n        } else if (player.stage.true < theme) { theme = null; }\n    }\n\n    global.theme = theme;\n    theme === null ? localStorage.removeItem('theme') : localStorage.setItem('theme', `${theme}`);\n    switchTheme();\n};\n\nexport const switchTheme = () => {\n    const body = document.body.style;\n    const theme = global.theme ?? player.stage.active;\n    getId('currentTheme').textContent = global.theme === null ? 'Default' : global.stageInfo.word[theme];\n\n    let dropStatColor = '';\n    let waterStatColor = '';\n    body.setProperty('--transition-all', '1s');\n    body.setProperty('--transition-buttons', '700ms');\n\n    /* Full reset, because better response from CSS (also easier) */\n    body.removeProperty('--background-color');\n    body.removeProperty('--window-color');\n    body.removeProperty('--window-border');\n    body.removeProperty('--footer-color');\n    body.removeProperty('--button-main-color');\n    body.removeProperty('--button-main-border');\n    body.removeProperty('--button-main-hover');\n    body.removeProperty('--building-can-buy');\n    body.removeProperty('--button-tab-border');\n    body.removeProperty('--button-tab-active');\n    body.removeProperty('--button-tab-elements');\n    body.removeProperty('--button-tab-strangeness');\n    body.removeProperty('--button-image-hover');\n    body.removeProperty('--button-footer-hover');\n    body.removeProperty('--button-delete-color');\n    body.removeProperty('--button-delete-hover');\n    body.removeProperty('--input-border-color');\n    body.removeProperty('--input-text-color');\n    body.removeProperty('--button-text-color');\n    body.removeProperty('--main-text-color');\n    body.removeProperty('--white-text-color');\n    //body.removeProperty('--cyan-text-color');\n    body.removeProperty('--blue-text-color');\n    body.removeProperty('--orange-text-color');\n    body.removeProperty('--gray-text-color');\n    body.removeProperty('--orchid-text-color');\n    body.removeProperty('--darkorchid-text-color');\n    body.removeProperty('--darkviolet-text-color');\n    body.removeProperty('--red-text-color');\n    body.removeProperty('--green-text-color');\n    body.removeProperty('--yellow-text-color');\n    /* These colors will need to be changed in other places as well: (not just 2, but from 2 to max)\n        --window-color > '.stage2windowBackground';\n        --button-main-color > '.stage2backgroundButton' and 'global.stageInfo.buttonBackgroundColor[2]';\n        --button-main-border > '.stage2borderButton' and 'global.stageInfo.buttonBorderColor[2]'; */\n    switch (theme) {\n        case 1:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Effect`).style.color = '';\n                getId(`${text}Cost`).style.color = '';\n                if (text === 'upgrade') { continue; } //Not changed anywhere\n                getId(`${text}Text`).style.color = '';\n            }\n            break;\n        case 2:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Effect`).style.color = 'var(--green-text-color)';\n                getId(`${text}Cost`).style.color = 'var(--cyan-text-color)';\n                if (text === 'upgrade') { continue; }\n                getId(`${text}Text`).style.color = '';\n            }\n            body.setProperty('--background-color', '#070026');\n            body.setProperty('--window-color', '#000052');\n            body.setProperty('--window-border', 'blue');\n            body.setProperty('--footer-color', '#0000db');\n            body.setProperty('--button-main-color', 'blue');\n            body.setProperty('--button-main-border', '#427be1');\n            body.setProperty('--button-main-hover', '#1515cf');\n            body.setProperty('--button-tab-border', '#376ac5');\n            body.setProperty('--button-tab-active', '#990000');\n            body.setProperty('--button-image-hover', '#2400d7');\n            body.setProperty('--input-border-color', '#4747ff');\n            body.setProperty('--input-text-color', 'dodgerblue');\n            body.setProperty('--main-text-color', 'var(--blue-text-color)');\n            body.setProperty('--gray-text-color', '#9b9b9b');\n            body.setProperty('--darkorchid-text-color', '#c71bff');\n            body.setProperty('--darkviolet-text-color', '#8b6bff');\n            body.setProperty('--green-text-color', '#82cb3b');\n            body.setProperty('--red-text-color', '#f70000');\n            if (player.stage.active === 2) {\n                dropStatColor = '#3099ff';\n                waterStatColor = '#3099ff';\n            }\n            break;\n        case 3:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Effect`).style.color = '';\n                getId(`${text}Cost`).style.color = 'var(--green-text-color)';\n                if (text === 'upgrade') { continue; }\n                getId(`${text}Text`).style.color = 'var(--orange-text-color)';\n            }\n            body.setProperty('--background-color', '#000804');\n            body.setProperty('--window-color', '#2e1200');\n            body.setProperty('--window-border', '#31373e');\n            body.setProperty('--footer-color', '#221a00');\n            body.setProperty('--button-main-color', '#291344');\n            body.setProperty('--button-main-border', '#404040');\n            body.setProperty('--button-main-hover', '#361f52');\n            body.setProperty('--button-tab-border', '#484848');\n            body.setProperty('--button-tab-active', '#8d4c00');\n            body.setProperty('--button-tab-elements', 'var(--button-tab-active)');\n            body.setProperty('--button-image-hover', '#5a2100');\n            body.setProperty('--button-footer-hover', '#1a1a1a');\n            body.setProperty('--button-delete-color', '#891313');\n            body.setProperty('--button-delete-hover', '#a10a0a');\n            body.setProperty('--input-border-color', '#8b4a00');\n            body.setProperty('--input-text-color', '#e77e00');\n            body.setProperty('--main-text-color', 'var(--gray-text-color)');\n            body.setProperty('--white-text-color', '#dfdfdf');\n            body.setProperty('--orange-text-color', '#f58600');\n            body.setProperty('--green-text-color', '#00db00');\n            if (player.stage.active === 2) {\n                dropStatColor = '#3099ff';\n                waterStatColor = '#3099ff';\n            }\n            break;\n        case 4:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Effect`).style.color = 'var(--green-text-color)';\n                getId(`${text}Cost`).style.color = 'var(--cyan-text-color)';\n                if (text === 'upgrade') { continue; }\n                getId(`${text}Text`).style.color = 'var(--blue-text-color)';\n            }\n            body.setProperty('--background-color', '#140e04');\n            body.setProperty('--window-color', '#4e0000');\n            body.setProperty('--window-border', '#894800');\n            body.setProperty('--footer-color', '#4e0505');\n            body.setProperty('--button-main-color', '#6a3700');\n            body.setProperty('--button-main-border', '#9f6700');\n            body.setProperty('--button-main-hover', '#914b00');\n            body.setProperty('--building-can-buy', '#007f95');\n            body.setProperty('--button-tab-border', '#af5d00');\n            body.setProperty('--button-tab-active', '#008297');\n            body.setProperty('--button-tab-elements', 'var(--button-tab-active)');\n            body.setProperty('--button-tab-strangeness', '#00a500');\n            body.setProperty('--button-image-hover', '#605100');\n            body.setProperty('--button-footer-hover', '#212121');\n            body.setProperty('--button-delete-color', '#8f0000');\n            body.setProperty('--button-delete-hover', '#ad0000');\n            body.setProperty('--input-border-color', '#008399');\n            body.setProperty('--input-text-color', '#05c3c3');\n            body.setProperty('--button-text-color', '#d9d900');\n            body.setProperty('--main-text-color', 'var(--orange-text-color)');\n            body.setProperty('--white-text-color', '#e5e500');\n            body.setProperty('--blue-text-color', '#2e96ff');\n            body.setProperty('--gray-text-color', '#8b8b8b');\n            body.setProperty('--darkorchid-text-color', '#c71bff');\n            body.setProperty('--darkviolet-text-color', '#9457ff');\n            body.setProperty('--red-text-color', 'red');\n            body.setProperty('--green-text-color', '#00e600');\n            body.setProperty('--yellow-text-color', 'var(--green-text-color)');\n            break;\n        case 5:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Effect`).style.color = 'var(--green-text-color)';\n                getId(`${text}Cost`).style.color = 'var(--red-text-color)';\n                if (text === 'upgrade') { continue; }\n                getId(`${text}Text`).style.color = 'var(--orange-text-color)';\n            }\n            body.setProperty('--background-color', '#060010');\n            body.setProperty('--window-color', '#001d42');\n            body.setProperty('--window-border', '#35466e');\n            body.setProperty('--footer-color', '#2f005c');\n            body.setProperty('--button-main-color', '#4a008f');\n            body.setProperty('--button-main-border', '#8a0049');\n            body.setProperty('--button-main-hover', '#6800d6');\n            body.setProperty('--building-can-buy', '#8603ff');\n            body.setProperty('--button-tab-border', '#9d0054');\n            body.setProperty('--button-tab-active', '#8500ff');\n            body.setProperty('--button-image-hover', '#3b0080');\n            body.setProperty('--button-footer-hover', '#1a1a1a');\n            body.setProperty('--button-delete-color', '#800000');\n            body.setProperty('--button-delete-hover', '#9b1212');\n            body.setProperty('--input-border-color', '#3656a1');\n            body.setProperty('--input-text-color', '#6a88cd');\n            body.setProperty('--button-text-color', '#fc9cfc');\n            body.setProperty('--main-text-color', 'var(--darkorchid-text-color)');\n            body.setProperty('--white-text-color', '#ff79ff');\n            body.setProperty('--orchid-text-color', '#ff00f4');\n            body.setProperty('--darkorchid-text-color', '#c000ff');\n            body.setProperty('--darkviolet-text-color', '#9f52ff');\n            body.setProperty('--yellow-text-color', 'var(--darkviolet-text-color)');\n            break;\n        case 6:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Effect`).style.color = 'var(--red-text-color)';\n                getId(`${text}Cost`).style.color = '';\n                if (text === 'upgrade') { continue; }\n                getId(`${text}Text`).style.color = 'var(--orchid-text-color)';\n            }\n            body.setProperty('--background-color', 'black');\n            body.setProperty('--window-color', '#01003c');\n            body.setProperty('--window-border', '#7100ff');\n            body.setProperty('--footer-color', '#00007a');\n            body.setProperty('--button-main-color', '#2b0095');\n            body.setProperty('--button-main-border', '#711bda');\n            body.setProperty('--button-main-hover', '#3d00d6');\n            body.setProperty('--building-can-buy', '#a80000');\n            body.setProperty('--button-tab-border', '#6719c8');\n            body.setProperty('--button-tab-active', '#8d0000');\n            body.setProperty('--button-image-hover', '#490070');\n            body.setProperty('--button-delete-color', '#930606');\n            body.setProperty('--button-delete-hover', '#b80000');\n            body.setProperty('--input-border-color', '#a50000');\n            body.setProperty('--input-text-color', 'red');\n            body.setProperty('--button-text-color', '#efe0ff');\n            body.setProperty('--main-text-color', 'var(--darkviolet-text-color)');\n            body.setProperty('--gray-text-color', '#9b9b9b');\n            body.setProperty('--darkviolet-text-color', '#8157ff');\n            body.setProperty('--white-text-color', '#f9f5ff');\n            body.setProperty('--red-text-color', 'red');\n            body.setProperty('--yellow-text-color', 'var(--red-text-color)');\n    }\n    getQuery('#footerStat2 > p').style.color = dropStatColor;\n    getQuery('#footerStat3 > p').style.color = waterStatColor;\n\n    setTimeout(() => {\n        body.removeProperty('--transition-all');\n        body.removeProperty('--transition-buttons');\n    }, 1000);\n};\n\nexport const Alert = async(text: string): Promise<void> => {\n    return await new Promise((resolve) => {\n        const blocker = getId('blocker');\n        if (blocker.style.display !== 'none') {\n            resolve();\n            Notify('Another Alert is already active');\n            return;\n        }\n\n        getId('alertText').textContent = text;\n        const confirm = getId('confirmBtn');\n        blocker.style.display = '';\n        confirm.focus();\n\n        const key = async(button: KeyboardEvent) => {\n            if (button.key === 'Escape' || button.key === 'Enter' || button.key === ' ') {\n                button.preventDefault();\n                close();\n            }\n        };\n        const close = () => {\n            blocker.style.display = 'none';\n            document.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', close);\n            resolve();\n        };\n        document.addEventListener('keydown', key);\n        confirm.addEventListener('click', close);\n    });\n};\n\nexport const Confirm = async(text: string): Promise<boolean> => {\n    return await new Promise((resolve) => {\n        const blocker = getId('blocker');\n        if (blocker.style.display !== 'none') {\n            resolve(false);\n            Notify('Another Alert is already active');\n            return;\n        }\n\n        getId('alertText').textContent = text;\n        const cancel = getId('cancelBtn');\n        const confirm = getId('confirmBtn');\n        blocker.style.display = '';\n        cancel.style.display = '';\n        confirm.focus();\n\n        const yes = () => { close(true); };\n        const no = () => { close(false); };\n        const key = (button: KeyboardEvent) => {\n            if (button.key === 'Escape') {\n                button.preventDefault();\n                no();\n            } else if (button.key === 'Enter' || button.key === ' ') {\n                if (document.activeElement !== cancel) {\n                    button.preventDefault();\n                    yes();\n                }\n            }\n        };\n        const close = (result: boolean) => {\n            blocker.style.display = 'none';\n            cancel.style.display = 'none';\n            document.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', yes);\n            cancel.removeEventListener('click', no);\n            resolve(result);\n        };\n        document.addEventListener('keydown', key);\n        confirm.addEventListener('click', yes);\n        cancel.addEventListener('click', no);\n    });\n};\n\nexport const Prompt = async(text: string, inputValue = ''): Promise<string | null> => {\n    return await new Promise((resolve) => {\n        const blocker = getId('blocker');\n        if (blocker.style.display !== 'none') {\n            resolve(null);\n            Notify('Another Alert is already active');\n            return;\n        }\n\n        getId('alertText').textContent = text;\n        const input = getId('inputArea') as HTMLInputElement;\n        const cancel = getId('cancelBtn');\n        const confirm = getId('confirmBtn');\n        blocker.style.display = '';\n        cancel.style.display = '';\n        input.style.display = '';\n        input.value = inputValue;\n        input.focus();\n\n        const yes = () => { close(input.value); };\n        const no = () => { close(null); };\n        const key = (button: KeyboardEvent) => {\n            if (button.key === 'Escape') {\n                button.preventDefault();\n                no();\n            } else if (button.key === 'Enter' || button.key === ' ') {\n                if (document.activeElement !== cancel) {\n                    button.preventDefault();\n                    yes();\n                }\n            }\n        };\n        const close = (result: string | null) => {\n            blocker.style.display = 'none';\n            cancel.style.display = 'none';\n            input.style.display = 'none';\n            document.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', yes);\n            cancel.removeEventListener('click', no);\n            resolve(result);\n        };\n        document.addEventListener('keydown', key);\n        confirm.addEventListener('click', yes);\n        cancel.addEventListener('click', no);\n    });\n};\n\nexport const Notify = (text: string) => {\n    const div = getId('notifications');\n    const notification = document.createElement('p');\n    notification.textContent = text;\n    notification.style.animation = 'hideX 1s ease-in-out reverse';\n    div.style.pointerEvents = '';\n    if (global.screenReader[0]) { notification.setAttribute('role', 'alert'); } //Firefox doesn't support any Aria shorthands\n\n    const mainDiv = getId('notifications');\n    mainDiv.appendChild(notification);\n\n    let timeout: number | undefined;\n    const remove = () => {\n        notification.removeEventListener('click', remove);\n        notification.style.animation = 'hideX 1s ease-in-out forwards';\n        setTimeout(() => {\n            mainDiv.removeChild(notification);\n            div.style.pointerEvents = '';\n        }, 1000);\n        clearTimeout(timeout);\n    };\n\n    setTimeout(() => {\n        notification.style.animation = '';\n        div.style.pointerEvents = 'auto';\n        timeout = setTimeout(remove, 9000);\n        notification.addEventListener('click', remove);\n    }, 1000);\n};\n\nexport const hideFooter = () => {\n    const footer = getId('footer');\n    const footerArea = getId('footerMain');\n    const toggle = getId('hideToggle');\n    const arrow = getId('hideArrow');\n\n    const animationReset = () => {\n        footer.style.animation = '';\n        arrow.style.animation = '';\n        toggle.addEventListener('click', hideFooter);\n    };\n\n    global.footer = !global.footer;\n    toggle.removeEventListener('click', hideFooter);\n    if (global.footer) {\n        footerArea.style.display = '';\n        arrow.style.transform = '';\n        footer.style.animation = 'hideY 1s reverse';\n        arrow.style.animation = 'rotate 1s reverse';\n        getId('hideText').textContent = 'Hide';\n        setTimeout(animationReset, 1000);\n\n        numbersUpdate();\n        visualUpdate();\n    } else {\n        footer.style.animation = 'hideY 1s backwards';\n        arrow.style.animation = 'rotate 1s backwards';\n        getId('hideText').textContent = 'Show';\n        setTimeout(() => {\n            footerArea.style.display = 'none';\n            arrow.style.transform = 'rotate(180deg)';\n            animationReset();\n        }, 1000);\n    }\n};\n\nexport const mobileDeviceSupport = (change = false) => {\n    let enabled = localStorage.getItem('support') === 'MD';\n    const toggle = getId('MDMainToggle');\n\n    if (change) { enabled = !enabled; }\n\n    if (enabled) {\n        toggle.textContent = 'ON';\n        toggle.style.color = 'var(--red-text-color)';\n        toggle.style.borderColor = 'crimson';\n        localStorage.setItem('support', 'MD');\n        global.mobileDevice = true;\n        if (change) { void Alert('To enable touchStart events (as example: touching an upgrade to view description), will need to reload'); }\n        if (global.screenReader[0]) { screenReaderSupport(); }\n        (getId('file') as HTMLInputElement).accept = ''; //Accept for unknown reason not properly supported on phones\n    } else {\n        toggle.textContent = 'OFF';\n        toggle.style.color = '';\n        toggle.style.borderColor = '';\n        global.mobileDevice = false;\n        if (change) { localStorage.removeItem('support'); }\n        (getId('file') as HTMLInputElement).accept = '.txt';\n    }\n};\n\nexport const screenReaderSupport = (change = false) => {\n    let enabled = localStorage.getItem('support') === 'SR';\n    const toggle = getId('SRMainToggle');\n\n    if (change) { enabled = !enabled; }\n\n    if (enabled) {\n        toggle.textContent = 'ON';\n        toggle.style.color = 'var(--red-text-color)';\n        toggle.style.borderColor = 'crimson';\n        localStorage.setItem('support', 'SR');\n        global.screenReader[0] = true;\n        if (change) { void Alert(\"To enable focus events (as example: view description of an upgrade by pressing 'tab'), will need to reload\"); }\n        if (global.mobileDevice) { mobileDeviceSupport(); }\n        SRCreateHTML();\n        stageUpdate();\n    } else {\n        toggle.textContent = 'OFF';\n        toggle.style.color = '';\n        toggle.style.borderColor = '';\n        global.screenReader[0] = false;\n        if (change) { localStorage.removeItem('support'); }\n    }\n};\n\nconst SRCreateHTML = () => {\n    getId('stageSelect').classList.add('active');\n    if (getId('SRMain', false) !== null) { return; }\n    global.screenReader[2] = true;\n    getId('SRMessage1', false).remove();\n\n    const SRMainDiv = document.createElement('article');\n    SRMainDiv.innerHTML = '<p id=\"SRTab\" aria-live=\"polite\"></p><p id=\"SRStage\" aria-live=\"polite\"></p><p id=\"SRMain\" aria-live=\"assertive\"></p>';\n    SRMainDiv.classList.add('reader');\n    SRMainDiv.setAttribute('aria-label', 'Information for Screen reader');\n    getId('fakeFooter').before(SRMainDiv);\n\n    const SRSettings = document.createElement('section');\n    SRSettings.innerHTML = '<button type=\"button\" id=\"SRToggle1\">Return index tab to created Upgrades/Researches and etc.</button><button type=\"button\" id=\"SRToggle2\">Return index tab to primary buttons</button>';\n    SRSettings.classList.add('reader');\n    SRSettings.setAttribute('aria-label', 'Settings for Screen reader');\n    getQuery('#settingsSubtabSettings .options').before(SRSettings);\n\n    const hangleToggle = (number: number) => {\n        global.screenReader[number] = !global.screenReader[number];\n        const toggleHTML = getId(`SRToggle${number}`) as { textContent: string };\n        toggleHTML.textContent = toggleHTML.textContent.replace(global.screenReader[number] ? 'Remove tab from' : 'Return tab to', global.screenReader[number] ? 'Return tab to' : 'Remove tab from');\n    };\n    getId('SRToggle1').addEventListener('click', () => {\n        hangleToggle(1);\n        stageUpdate('reload');\n        for (let s = 1; s < player.strangeness.length; s++) {\n            for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) {\n                visualUpdateResearches(i, s, 'strangeness');\n            }\n        }\n    });\n    getId('SRToggle2').addEventListener('click', () => {\n        hangleToggle(2);\n        const newTab = global.screenReader[2] ? -1 : 0;\n        getId('stageReset').tabIndex = newTab;\n        getId('reset1Button').tabIndex = newTab;\n        for (let i = 1; i < specialHTML.longestBuilding; i++) {\n            getId(`building${i}Btn`).tabIndex = newTab;\n            getId(`toggleBuilding${i}`).tabIndex = newTab;\n        }\n        getId('toggleBuilding0').tabIndex = newTab;\n        for (const tabText of global.tabList.tabs) {\n            getId(`${tabText}TabBtn`).tabIndex = newTab;\n            if (!Object.hasOwn(global.tabList, `${tabText}Subtabs`)) { continue; }\n            for (const subtabText of global.tabList[`${tabText as 'stage'}Subtabs`]) {\n                getId(`${tabText}SubtabBtn${subtabText}`).tabIndex = newTab;\n            }\n        }\n        for (let i = 1; i < global.stageInfo.word.length; i++) {\n            getId(`${global.stageInfo.word[i]}Switch`).tabIndex = newTab;\n        }\n    });\n};\n\nexport const changeFontSize = (change = false) => {\n    const input = getId('customFontSize') as HTMLInputElement;\n    let size = Number(change ? input.value : localStorage.getItem('fontSize'));\n    if (size === 0) { size = 16; }\n\n    if (size === 16) {\n        document.body.style.fontSize = '';\n        localStorage.removeItem('fontSize');\n    } else {\n        size = Math.floor(Math.min(Math.max(size, 10), 32) * 10) / 10;\n        document.body.style.fontSize = `${size}px`;\n        localStorage.setItem('fontSize', `${size}`);\n    }\n    input.value = `${size}`;\n};\n\nexport const changeFormat = (point: boolean) => {\n    const htmlInput = (point ? getId('decimalPoint') : getId('thousandSeparator')) as HTMLInputElement;\n    const allowed = ['.', ',', ' ', '_', '^', '\"', \"'\", '`', '|'].includes(htmlInput.value);\n    if (!allowed || (point ? player.separator[0] : player.separator[1]) === htmlInput.value) {\n        if (point && player.separator[0] === '.') {\n            (getId('thousandSeparator') as HTMLInputElement).value = '';\n            player.separator[0] = '';\n        }\n        htmlInput.value = point ? '.' : '';\n    }\n    point ? player.separator[1] = htmlInput.value : player.separator[0] = htmlInput.value;\n};\n\n//If done for span, then add class=\"noMoveSpan\";\nexport const assignWithNoMove = (html: HTMLElement, text: string) => {\n    html.textContent = text;\n    const newWidth = `${text.length * 0.63}em`;\n    if (newWidth !== html.style.width) { html.style.width = newWidth; }\n};\n\nexport const replayEvent = async() => {\n    if (getId('blocker').style.display !== 'none') { return; }\n    const { events } = player;\n\n    let last;\n    if (events[2]) {\n        last = 6;\n    } else if (events[1]) {\n        last = 5;\n    } else {\n        last = player.stage.true - (events[0] ? 0 : 1);\n    }\n\n    const event = Number(await Prompt(`Which event do you want to see again?\\n(Number of highest unlocked event is ${last})`, `${last}`));\n    if (!isFinite(event) || event <= 0) { return; }\n    if (event > last) { return void Alert(`Event ${event} isn't unlocked`); }\n\n    playEvent(event - 1, -1);\n};\n\nexport const playEvent = (event: number, index: number) => {\n    if (getId('blocker').style.display !== 'none') { return; }\n    if (index !== -1) { player.events[index] = true; }\n\n    switch (event) {\n        case 0: //[0] Discharge explanation\n            return void Alert(\"Energy that had been spent, can't be obtained again. But doing Discharge will reset spent Energy\\n(How much Energy should be if none was used can be seen in stats)\");\n        case 1: //[0] Clouds softcap\n            return void Alert('Cloud density is too high... Strength of new Clouds will be weaker (strength can be seen in stats)');\n        case 2: //[0] Accretion new Rank unlocked\n            if (index !== -1) { global.accretionInfo.rankCost[4] = 5e29; }\n            return void Alert('Getting more Mass, seems impossible. We need to change our approach, next Rank is going to be softcapped');\n        case 3: //[0] Element activation\n            return void Alert(\"Elements require Collapse to be activated. Soon even more Star remnants will be obtained through Collapse (Solar mass cannot decrease), remnants strength can be seen in stats, effects will be known with proper Elements (Like Solar mass effect and '[1] Hydrogen')\");\n        case 4: //[1] Entering Intergalactic\n            return void Alert(\"There doesn't seem to be anything here. Let's try going back to start and find what is missing\");\n        case 5: //[2] Creating Galaxy\n            if (index !== -1) { calculateMaxLevel(4, 4, 'strangeness', true); }\n            return void Alert('Galaxy will boost production of Nebulas and Star clusters, but for the cost of every other structure/upgrade and even Elements');\n    }\n};\n", "import Limit from './Limit';\nimport { getId } from './Main';\nimport { setTheme } from './Special';\nimport { assignEnergy, assignNewMassCap, assignStrangeBoost, calculateInstability, calculateMaxLevel, calculateMilestoneInformation, toggleBuy, toggleConfirm, toggleSwap } from './Stage';\nimport { globalType, overlimit, playerType } from './Types';\nimport { format, visualUpdateResearches } from './Update';\nimport { prepareVacuum } from './Vacuum';\n\nexport const player: playerType = { //Only for information that need to be saved (cannot be calculated)\n    version: 'v0.1.6', //'v0.1.7',\n    saveUpdate016: false, //Remove in v0.1.7\n    fileName: 'Fundamental, [date] [time], [stage]',\n    separator: ['', '.'], //[0] separator, [1] point\n    stage: {\n        true: 1,\n        current: 1,\n        active: 1,\n        resets: 0,\n        export: 86400,\n        best: 0,\n        time: 0,\n        input: 20\n    },\n    discharge: { //Stage 1\n        energy: 0,\n        energyMax: 0,\n        current: 0\n    },\n    vaporization: { //Stage 2\n        clouds: [0, 0],\n        cloudsMax: [0, 0],\n        input: 3\n    },\n    accretion: { //Stage 3\n        rank: 0,\n        input: 0\n    },\n    collapse: { //Stage 4, 5\n        mass: 0.01235,\n        massMax: 0.01235,\n        stars: [0, 0, 0],\n        show: 0,\n        input: 2\n    },\n    inflation: { //Stage 6\n        vacuum: false,\n        age: 0\n    },\n    intervals: {\n        main: 20,\n        numbers: 80,\n        visual: 1000,\n        autoSave: 20000\n    },\n    time: {\n        updated: Date.now(),\n        started: Date.now(),\n        offline: 0\n    },\n    buildings: [\n        [] as unknown as playerType['buildings'][0], [ //Stage 1\n            {\n                current: [3, 0],\n                total: [3, 0],\n                trueTotal: [3, 0],\n                highest: [3, 0]\n            }, {\n                true: 0, //Bought\n                current: [0, 0], //On hands\n                total: [0, 0], //This reset\n                trueTotal: [0, 0], //This stage\n                highest: [0, 0] //Highest 'current' in any stage\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }\n        ], [ //Stage 2\n            {\n                current: [2.8, -3],\n                total: [2.8, -3],\n                trueTotal: [2.8, -3],\n                highest: [2.8, -3]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }\n        ], [ //Stage 3\n            {\n                current: [1, -19],\n                total: [1, -19],\n                trueTotal: [1, -19],\n                highest: [1, -19]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }\n        ], [ //Stage 4\n            {\n                current: [1, 0],\n                total: [1, 0],\n                trueTotal: [1, 0],\n                highest: [1, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }\n        ], [ //Stage 5\n            {\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }, {\n                true: 0,\n                current: [0, 0],\n                total: [0, 0],\n                trueTotal: [0, 0],\n                highest: [0, 0]\n            }\n        ]\n    ],\n    strange: [ //Stage 5\n        {\n            current: 0,\n            total: 0\n        }, {\n            current: 0,\n            total: 0\n        }\n    ],\n    /* Because I'm lazy to write 50+ 0's, all empty [] auto added */\n    upgrades: [],\n    researches: [],\n    researchesExtra: [],\n    ASR: [], //Auto Structures Research\n    elements: [],\n    strangeness: [],\n    milestones: [],\n    challenges: {\n        active: -1,\n        void: [0, 0, 0, 0, 0, 0]\n    },\n    toggles: {\n        normal: [], //Auto added for every element with a class 'toggle'\n        /* Offline auto use[0]; Hotkeys type[1]; Elements as tab[2] */\n        confirm: [], //Class 'toggleConfirm'\n        /* Stage[0]; Discharge[1]; Vaporization[2]; Rank[3]; Collapse[4] */\n        buildings: [], //Class 'toggleBuilding' ([0] everywhere, is toggle all)\n        auto: [], //Class 'toggleAuto'\n        /* Stage[0], Discharge[1], Vaporization[2], Rank[3], Collapse[4],\n           Upgrades[5], Researches[6], ResearchesExtra[7], Elements[8] */\n        shop: {\n            howMany: 1,\n            input: 10,\n            wait: [2]\n        }\n    },\n    history: {\n        stage: {\n            best: [0, 1, 0],\n            list: [],\n            input: [5, 10]\n        }\n    },\n    events: [false, false, false] //One time events, set in playEvent\n};\n\nexport const global: globalType = { //For information that doesn't need to be saved\n    tab: 'stage',\n    subtab: {\n        stageCurrent: 'Structures',\n        settingsCurrent: 'Settings',\n        researchCurrent: 'Researches',\n        strangenessCurrent: 'Matter'\n    },\n    tabList: { //Order comes from footer\n        tabs: ['stage', 'research', 'strangeness', 'settings'],\n        stageSubtabs: ['Structures', 'Advanced'],\n        settingsSubtabs: ['Settings', 'History', 'Stats'],\n        researchSubtabs: ['Researches', 'Elements'],\n        strangenessSubtabs: ['Matter', 'Milestones']\n    },\n    debug: {\n        errorID: true, //Notify about missing ID\n        errorQuery: true, //About incorect Query\n        errorGain: true //About NaN or Infinity\n    },\n    lastActive: null,\n    lastSave: 0,\n    footer: true,\n    mobileDevice: false,\n    screenReader: [false, true], //[0] Enabled; No tabindex [1] on bought upgrades, [2] on main buttons\n    automatization: { //Sorted cheapest first\n        autoU: [ //Upgrades\n            [],\n            [],\n            [],\n            [],\n            [],\n            []\n        ],\n        autoR: [ //Researches\n            [],\n            [],\n            [],\n            [],\n            [],\n            []\n        ],\n        autoE: [ //Researches Extra\n            [],\n            [],\n            [],\n            [],\n            [],\n            []\n        ],\n        elements: []\n    },\n    theme: null,\n    dischargeInfo: {\n        getEnergy: (index: number, stageIndex: number) => {\n            let value = global.dischargeInfo.energyType[stageIndex][index];\n            if (stageIndex === 1 && index === 1) { value += player.strangeness[1][4] * (player.inflation.vacuum ? 2 : 1); }\n            if (player.inflation.vacuum) {\n                value += Math.floor(value / 100 * global.milestonesInfo[1].reward[1]);\n                if (player.challenges.active === 0) { value -= Math.ceil(value / 5); }\n            }\n            return value;\n        },\n        energyType: [\n            [],\n            [0, 1, 3, 5, 10, 20],\n            [0, 10, 20, 30, 40, 50, 60],\n            [0, 10, 20, 40, 80, 100],\n            [0, 100, 200, 300, 400, 500],\n            [0, 500, 500, 2000]\n        ],\n        energyTrue: 0,\n        bonus: 0,\n        next: 1\n    },\n    vaporizationInfo: {\n        effect2U2: () => 1e10 / 2 ** player.strangeness[2][3],\n        oceanWorld: () => {\n            if (Limit(player.vaporization.clouds).lessOrEqual('1')) { return 1; }\n            return 1.02 ** (1 + Limit(player.vaporization.clouds).log(10).toNumber());\n        },\n        cloudEffect: (post = false) => {\n            let effect = Limit(player.vaporization.clouds).plus('1').toArray();\n            if (post) { effect = Limit(effect).plus(global.vaporizationInfo.get).toArray(); }\n\n            if (Limit(effect).moreThan('1e4')) { effect = Limit(effect).minus('1e4').power(0.7).plus('1e4').toArray(); }\n            return effect;\n        },\n        tension: 1,\n        stress: 1,\n        get: [0, 0]\n    },\n    accretionInfo: {\n        effective: 0,\n        rankU: [1, 1, 2, 2, 3, 3, 4, 4, 4, 4, 5, 5, 5], //Upgrades\n        rankR: [1, 1, 2, 2, 3, 3, 3, 4, 5], //Researches\n        rankE: [2, 3, 4, 5, 3], //Researches Extra\n        rankCost: [5.97e27, 1e-7, 1e10, 1e24, 5e29, 2.47e31, 0],\n        rankName: ['Ocean world', 'Cosmic dust', 'Meteoroid', 'Asteroid', 'Planet', 'Jovian planet', 'Protostar'],\n        rankImage: ['Ocean%20world.png', 'Dust.png', 'Meteoroids.png', 'Asteroid.png', 'Planet.png', 'Giant.png', 'Protostar.png']\n    },\n    collapseInfo: {\n        effect4RE1: () => (10 + player.researches[4][1]) / 10,\n        unlockB: [0, 0.01235, 0.23, 10, 40, 1000], //Buildings (stage 4)\n        unlockG: [0, 100, 1000], //Buildings (stage 5, first two)\n        unlockU: [0.01235, 0.076, 1.3, 10], //Upgrades\n        unlockR: [0.18, 0.3, 0.8, 1.3], //Researches\n        newMass: 0,\n        massEffect: (post = false) => {\n            let minValue = 1;\n\n            let effect = player.collapse.mass;\n            if (post) {\n                minValue = 0.5;\n                if (global.collapseInfo.newMass > effect) { effect = global.collapseInfo.newMass; }\n            }\n\n            let power = 1;\n            if (player.challenges.active === 0) {\n                effect /= 10;\n                power -= 0.2;\n            }\n\n            if (player.elements[21] >= minValue) { power += 0.1; }\n            return effect ** (effect > 1 ? power : 2 - power);\n        },\n        starCheck: [0, 0, 0],\n        starEffect: [\n            (post = false) => {\n                let minValue = 1;\n\n                let effect = player.collapse.stars[0] + 1;\n                if (post) {\n                    minValue = 0.5;\n                    effect += global.collapseInfo.starCheck[0];\n                }\n\n                if (player.elements[6] >= minValue) { effect **= global.elementsInfo.effect[6] as number; }\n                return effect;\n            },\n            (post = false) => {\n                let minValue = 1;\n\n                let stars = player.collapse.stars[1];\n                if (post) {\n                    minValue = 0.5;\n                    stars += global.collapseInfo.starCheck[1];\n                    if (player.elements[22] >= minValue) { stars += global.collapseInfo.starCheck[0]; }\n                }\n                if (player.elements[22] >= minValue) { stars += player.collapse.stars[0]; }\n\n                let effect = (stars + 1) ** (0.5 + player.strangeness[4][10] / 40);\n                if (player.elements[12] >= minValue) { effect *= logAny(stars + (global.elementsInfo.effect[12] as number), global.elementsInfo.effect[12] as number); }\n                return effect;\n            },\n            (post = false) => {\n                let minValue = 1;\n\n                let blackHoles = player.collapse.stars[2];\n                if (post) {\n                    minValue = 0.5;\n                    blackHoles += global.collapseInfo.starCheck[2];\n                }\n\n                if (blackHoles < 1) { return 1; }\n                return (blackHoles + 1) / logAny(blackHoles + 2, player.elements[18] >= minValue ? 3 : 2);\n            }\n        ],\n        trueStars: 0\n    },\n    inflationInfo: {\n        preonCap: [1, 14],\n        dustCap: [8, 46],\n        massCap: 60, //Seconds\n        preonTrue: [0, 0],\n        dustTrue: [0, 0]\n    },\n    intervalsId: {\n        main: undefined,\n        numbers: undefined,\n        visual: undefined,\n        autoSave: undefined\n    },\n    stageInfo: {\n        word: ['', 'Microworld', 'Submerged', 'Accretion', 'Interstellar', 'Intergalactic', 'Void'],\n        textColor: ['', 'var(--cyan-text-color)', 'var(--blue-text-color)', 'var(--gray-text-color)', 'var(--orange-text-color)', 'var(--darkorchid-text-color)', 'var(--darkviolet-text-color)'],\n        buttonBackgroundColor: ['', 'mediumblue', 'blue', '#291344', '#6a3700', '#4a008f', '#2b0095'],\n        buttonBorderColor: ['', 'darkcyan', '#427be1', '#404040', '#9f6700', '#8a0049', '#711bda'],\n        imageBorderColor: ['', '#008b8b', '#1460a8', '#5b5b75', '#e87400', '#b324e2', '#5300c1'],\n        priceName: 'Energy',\n        activeAll: [1]\n    },\n    buildingsInfo: {\n        maxActive: [0, 4, 6, 5, 5, 4], //Pre vacuum ([1] > [5])\n        name: [\n            [],\n            ['Mass', 'Preons', 'Quarks', 'Particles', 'Atoms', 'Molecules'], //[0] Must be 'Mass'\n            ['Moles', 'Drops', 'Puddles', 'Ponds', 'Lakes', 'Seas', 'Oceans'],\n            ['Mass', 'Cosmic dust', 'Planetesimals', 'Protoplanets', 'Satellites', 'Subsatellites'],\n            ['Elements', 'Brown dwarfs', 'Main sequence', 'Red supergiants', 'Blue hypergiants', 'Quasi stars'],\n            ['Stars', 'Nebulas', 'Star clusters', 'Galaxies']\n        ],\n        hoverText: [\n            [],\n            ['Mass', 'Preons', 'Quarks', 'Particles', 'Atoms'],\n            ['Tritium', 'Drops', 'Puddles', 'Ponds', 'Lakes', 'Seas'],\n            ['Preons hardcap', 'Cosmic dust', 'Planetesimals', 'Protoplanets', 'Satellites'],\n            ['Elements', 'Elements', 'Elements', 'Elements', 'Elements'],\n            ['Interstellar Stars', 'Interstellar Stars', 'Nebulas and Star clusters']\n        ],\n        type: [ //'Not allowed index x', means that this index is reserved for gain calculation\n            [] as unknown as [''],\n            ['', 'producing', 'producing', 'producing', 'producing', 'producing'], //Not allowed index 6 (for 'producing')\n            ['', 'producing', 'producing', 'improving', 'improving', 'improving', 'improving'],\n            ['', 'producing', 'producing', 'producing', 'improving', 'improving'],\n            ['', 'producing', 'producing', 'producing', 'producing', 'producing'],\n            ['', 'producing', 'improving', 'improving'] //Not allowed index 2, 3, 4 (for 'producing')\n        ],\n        firstCost: [],\n        startCost: [\n            [],\n            [0, 0.005476, 6, 3, 24, 3],\n            [0, 0.0028, 100, 1e7, 1e18, 1e23, 2.676e25],\n            [0, 1e-19, 1e-9, 1e21, 1e17, 1e22],\n            [0, 1, 1e5, 1e15, 1e28, 1e60],\n            [0, 1e30, 1e40, 1e5]\n        ],\n        increase: [\n            [],\n            [0, 1.4, 1.4, 1.4, 1.4, 1.4],\n            [0, 1.15, 1.2, 1.25, 1.35, 1.4, 1.45],\n            [0, 1.15, 1.25, 1.35, 10, 10],\n            [0, 1.4, 1.55, 1.70, 1.85, 2],\n            [0, 4, 4, 1.11]\n        ],\n        producing: []\n    },\n    strangeInfo: {\n        Element27: () => {\n            let effect = Limit(player.buildings[4][0].trueTotal).log(10).toNumber() - 48;\n            if (!player.inflation.vacuum && player.upgrades[5][2] === 1) { effect **= 1.5; }\n            return Math.max(Math.floor(effect), 0);\n        },\n        gain: (stage: number) => {\n            const interstellar = stage >= 4 || player.inflation.vacuum;\n\n            let gain = 1;\n            if (interstellar && player.elements[27] === 1) { gain += global.strangeInfo.Element27(); }\n            if (player.inflation.vacuum) {\n                gain += player.strangeness[5][5] > 0 ? 4 : 3;\n                gain *= global.milestonesInfo[5].reward[0];\n                if (player.strangeness[2][9] >= 1) { gain *= global.vaporizationInfo.oceanWorld(); }\n            } else { gain += global.strangeInfo.instability; }\n            if (interstellar) { gain *= 1.5 ** player.strangeness[5][1]; }\n            return Math.floor(gain);\n        },\n        name: ['Strange quarks', 'Strangelets'],\n        stageBoost: [],\n        instability: 0\n    },\n    upgradesInfo: [\n        {} as globalType['upgradesInfo'][0], { //Stage 1\n            name: [\n                'Weak force',\n                'Strong force',\n                'Bigger electrons',\n                'Stronger protons',\n                'More neutrons',\n                'Superposition',\n                'Protium',\n                'Deuterium',\n                'Tritium',\n                'Nuclear fusion'\n            ],\n            effectText: [\n                () => 'Particles produce 5 times more Quarks.',\n                () => 'Gluons now bind Quarks into Particles, which makes Particles 10 times cheaper.',\n                () => `${player.inflation.vacuum ? 'Atoms' : 'Particle'} cost is 10 times cheaper.`,\n                () => `${player.inflation.vacuum ? 'Atoms' : 'Particle'} produce 5 times more ${player.inflation.vacuum ? 'Particles' : 'Quarks'}.`,\n                () => `${player.inflation.vacuum ? 'Molecules' : 'Atoms'} produce 5 times more ${player.inflation.vacuum ? 'Atoms' : 'Particles'}.`,\n                () => `Ability to reset at any time, and if had enough Energy, then also will boost production for all Structures by ${format(global.upgradesInfo[1].effect[5] as number)}.\\nTotal boost from goals: ${Limit(global.upgradesInfo[1].effect[5] as number).power(player.discharge.current + global.dischargeInfo.bonus).format()}.`,\n                () => `Cost scaling is decreased by ${format(global.upgradesInfo[1].effect[6] as number)}.`,\n                () => `Self-made structures boost themselves by ${format(global.upgradesInfo[1].effect[7] as number)} times.`,\n                () => `Molecules produce Molecules. At a reduced rate.\\n(${Limit(global.upgradesInfo[1].effect[8] as overlimit).format({ padding: true })} per second)`,\n                () => `Unspent Energy boost Molecules production of themselves ${player.discharge.energy !== global.upgradesInfo[1].effect[9] ? `${format(player.discharge.energy / (global.upgradesInfo[1].effect[9] as number), { padding: true })} to 1. (Softcapped)\\n(Actual boost is ${format(global.upgradesInfo[1].effect[9] as number, { padding: true })})` : '1 to 1.'}`\n            ],\n            effect: [],\n            startCost: [36, 48, 60, 90, 150, 400, 2000, 4000, 20000, 70000],\n            maxActive: 10\n        }, { //Stage 2\n            name: [\n                'Molecules to Moles',\n                'Water spread',\n                'Vaporization',\n                'Surface tension',\n                'Surface stress',\n                'Stream',\n                'River',\n                'Tsunami',\n                'Tide'\n            ],\n            effectText: [\n                () => `Drops will produce Moles ${format(1.04)} times faster for every self-made Drop.`,\n                () => 'Spread water faster with every Puddle, weaker for non self-made ones.',\n                () => `Gain ability to convert Drops into Clouds. (Puddles get a boost from Clouds)\\nCurrent Cloud gain is (Drops / ${format(global.vaporizationInfo.effect2U2())})^${format(player.inflation.vacuum ? 0.4 : 0.6)}.`,\n                () => `Puddles get boost based on Moles ^${format(global.upgradesInfo[2].effect[3] as number)}.\\n(Boost is equal to ${format(global.vaporizationInfo.tension, { padding: true })})`,\n                () => `Puddles get boost based on Drops ^${format(global.upgradesInfo[2].effect[4] as number)}.\\n(Boost is equal to ${format(global.vaporizationInfo.stress, { padding: true })})`,\n                () => `Ponds now create extra Puddles. (${format(global.upgradesInfo[2].effect[5] as number)} extra Puddles per Pond)`,\n                () => `Lakes now create extra Ponds. (${format(global.upgradesInfo[2].effect[6] as number)} extra Ponds per Lake)`,\n                () => 'Spreads enough water to make each Sea create 1 extra Lake.',\n                () => 'Spreads water too fast. 1 extra Sea per Ocean.'\n            ],\n            effect: [],\n            startCost: [1e4, 1e6, 1e10, 1e3, 1e4, 2e9, 5e20, 1e28, 1e44],\n            maxActive: 8\n        }, { //Stage 3\n            name: [\n                'Brownian motion',\n                'Gas',\n                'Micrometeoroid',\n                'Streaming instability',\n                'Gravitational field',\n                'Rubble pile',\n                'Satellite system',\n                'Magma ocean',\n                'Hydrostatic equilibrium',\n                'Atmosphere',\n                'Pebble accretion',\n                'Tidal force',\n                'Ring system'\n            ],\n            effectText: [\n                () => `Through random collisions every self-made Dust speeds up Accretion speed. (By ${format(global.upgradesInfo[3].effect[0] as number)})`,\n                () => `New substance for Accretion, will provide boost to Accretion speed based on current Dust quantity.\\n(${format(global.upgradesInfo[3].effect[1] as number, { padding: true })}x boost)`,\n                () => 'Just a small meteoroid, but it will be a good base for what to come. (Unlock a new Structure and get 2x boost to Dust)',\n                () => `Small bodies spontaneously concentrate into clumps. (Self-made Planetesimals boost each other by ${format(global.upgradesInfo[3].effect[3] as number, { digits: 3 })})`,\n                () => 'Bodies are now massive enough to affect each other with gravity. (Unlock a new Structure and get 3x boost to Planetesimals)',\n                () => 'Shattered pieces fall back together. Accretion speed increased by 3.',\n                () => 'Unlock yet another Structure.',\n                () => `Core melted, Accretion speed increased. (Mass production increased by ${format(global.upgradesInfo[3].effect[7] as number)})`,\n                () => 'After reaching equilibrium, Protoplanets will boost themselfs, more with each self-made one.',\n                () => 'Accretion speed increased again (because of drag and escape velocity), by 2.',\n                () => `Accretion speed greatly increased by ${format(global.upgradesInfo[3].effect[10] as number)}.`,\n                () => `Satellites cost scaling is now 2 times smaller.${player.strangeness[3][8] >= 1 ? '\\nAlso unlock a new Structure.' : ''}`,\n                () => 'Satellites effect scales better.'\n            ],\n            effect: [],\n            startCost: [1e-16, 1e-13, 1e-13, 1, 1e14, 1e17, 1e22, 1e10, 1e22, 1e23, 1e9, 1e26, 1e29],\n            maxActive: 13\n        }, { //Stage 4\n            name: [\n                'Gravitational Collapse',\n                'Proton-proton chain',\n                'Carbon-Nitrogen-Oxygen cycle',\n                'Helium fusion'\n            ],\n            effectText: [\n                () => 'As fuel runs out, every Star will boost production in its own special way.',\n                () => `Fuse with Protium instead of Deuterium. Unlock ${player.stage.true >= 5 ? '5 first Elements' : 'a new upgrade type (Research tab)'}.`,\n                () => `CNO cycle is now a better source of Helium and Energy. Unlock ${player.stage.true >= 5 ? '5 more Elements' : 'even more of that upgrade type'}.`,\n                () => 'Through Triple-alpha and then Alpha process, unlock a few more Elements.'\n            ],\n            effect: [],\n            startCost: [100, 1000, 1e9, 1e48],\n            maxActive: 4\n        }, { //Stage 5\n            name: [\n                'Jeans instability',\n                'Super star cluster',\n                'Quasar'\n            ],\n            effectText: [\n                () => `Gravitational Collapse within Nebulas will increase speed for production of Stars by ${format(global.upgradesInfo[5].effect[0] as number)} times.`,\n                () => `A very massive Star clusters, that will boost Stars by ${format(global.upgradesInfo[5].effect[1] as number)}.`,\n                () => player.inflation.vacuum ? `Boost per Galaxy increased by +1\\nRequires ${format(1e6)} Solar mass` : `'[27] Cobalt' Element receives super boost of ^${format(1.5)}.`\n            ],\n            effect: [],\n            startCost: [1e50, 1e60, 1e100],\n            maxActive: 3\n        }\n    ],\n    researchesInfo: [\n        {} as globalType['researchesInfo'][0], { //Stage 1\n            name: [\n                'Stronger Protium',\n                'Better Deuterium',\n                'Improved Tritium',\n                'Requirement decrease',\n                'Discharge improvement',\n                'Radioactive Discharge'\n            ],\n            effectText: [\n                () => `Cost scaling is ${format(0.03)} smaller with each level.`,\n                () => `Self-made Structures boost each other by additional ${format(0.01)}.`,\n                () => `Molecules now produce themselves ${format(global.researchesInfo[1].effect[2] as number)} times quicker.`,\n                () => 'Next goal for Discharge bonus scales by -2 less.',\n                () => 'Discharge production boost from reached goals is now +1.',\n                () => `Discharge will boost 'Tritium' upgrade for every reached goal. (Effect: ${format(global.researchesInfo[1].effect[5] as number)})`\n            ],\n            effect: [],\n            cost: [],\n            startCost: [2400, 6000, 24000, 30000, 24000, 30000],\n            scaling: [400, 2000, 6000, 24000, 12000, 12000],\n            max: [5, 4, 8, 2, 4, 3],\n            maxActive: 6\n        }, { //Stage 2\n            name: [\n                'Better Mole production',\n                'Better Drop production',\n                'Stronger surface tension',\n                'Stronger surface stress',\n                'More streams',\n                'Distributary channel'\n            ],\n            effectText: [\n                () => `Drops produce 3 times more Moles.${global.researchesInfo[2].effect[0] !== player.researches[2][0] ? `\\nWeakened by recent ${player.inflation.vacuum ? 'reset' : 'Vaporization'}, effective level is ${format(global.researchesInfo[2].effect[0] as number)} (will be restored with more Drops).` : ''}`,\n                () => `Puddles produce 2 times more Drops.${global.researchesInfo[2].effect[1] !== player.researches[2][1] ? `\\nWeakened by recent ${player.inflation.vacuum ? 'reset' : 'Vaporization'}, effective level is ${format(global.researchesInfo[2].effect[1] as number)} (will be restored with more Drops).` : ''}`,\n                () => `Surface tension upgrade is now +${format(0.005)} stronger.`,\n                () => `Surface stress upgrade is now +${format(0.005)} stronger.`,\n                () => 'With more streams, can have even more extra Puddles. (+1 extra Puddles per Pond)',\n                () => 'Rivers can split now, that allows even more Ponds per Lake. (+1 per)'\n            ],\n            effect: [],\n            cost: [],\n            startCost: [10, 400, 1e4, 1e5, 1e14, 1e22],\n            scaling: [1.36, 5, 1e3, 1e2, 1e3, 1e4],\n            max: [8, 8, 4, 4, 2, 1],\n            maxActive: 6\n        }, { //Stage 3\n            name: [\n                'More massive bodies',\n                'Adhesion',\n                'Space weathering',\n                'Inelastic collisions',\n                'Destructive collisions',\n                'Contact binary',\n                'Gravity',\n                'Planetary differentiation',\n                'Aerodynamic drag'\n            ],\n            effectText: [\n                () => 'Dust production is increased by 3.',\n                () => `Dust particles cling to each other. (+${format(0.01)} to 'Brownian motion')`,\n                () => 'Planetesimals produce more Dust. (3 times more)',\n                () => 'Slow encounter velocities will result in a more efficient growth, so this research will make bodies lose more Energy from each deflection. Mass production increased by 2.',\n                () => `Planetesimals when shatter replenish small grains quantity. 'Streaming instability' effect increased by +${format(0.005)}.`,\n                () => 'Some Planetesimals instead of shattering form a contact binary or even trinary. Mass production increased by 3.',\n                () => `Planetesimals attract other bodies with own gravity. Planetesimals get boost to production based on unspent Mass.\\n(Total boost: ${Limit(global.researchesInfo[3].effect[6] as overlimit).format({ padding: true })})`,\n                () => `'Magma Ocean' upgrade is stronger now. (${format(1.5)}x times)`,\n                () => \"Accretion speed for 'Pebble accretion' increased again, by 2.\"\n            ],\n            effect: [],\n            cost: [],\n            startCost: [1e-16, 1e-15, 1e-5, 1e2, 1e10, 1e11, 1e15, 1e14, 1e12],\n            scaling: [11, 111, 22, 10, 100, 100, 10, 1e4, 1e3],\n            max: [9, 3, 8, 8, 2, 2, 5, 4, 4],\n            maxActive: 9\n        }, { //Stage 4\n            name: [\n                'Planetary system',\n                'Star system',\n                'Protoplanetary disk',\n                'Planetary nebula',\n                'Gamma-ray burst'\n            ],\n            effectText: [\n                () => `From Planetesimals to Planets, will get ${format(global.researchesInfo[4].effect[0] as number, { padding: true })}x boost to all Stars.`,\n                () => `All Stars boost each other. (Total boost is ${Limit(global.researchesInfo[4].effect[1] as overlimit).format({ padding: true })})`,\n                () => \"Improve effect scaling of 'Planetary system', as well its max level by +3.\",\n                () => `Matter expelled from Red giants, this will boost Main-sequence stars by 4, as well boost all Stars by ${format(1.25)}.`,\n                () => `An immensely energetic explosion that will boost all Stars by ${format(global.researchesInfo[4].effect[4] as number, { padding: true })}. (Effect is stronger with more Black holes)`\n            ],\n            effect: [],\n            cost: [],\n            startCost: [1e3, 5e4, 1e8, 2e10, 1e28],\n            scaling: [10, 200, 1e12, 1, 2e8],\n            max: [3, 2, 1, 1, 2],\n            maxActive: 5\n        }, { //Stage 5\n            name: [\n                'Higher density',\n                'Type frequency'\n            ],\n            effectText: [\n                () => {\n                    const index = Math.min(player.researches[5][0] + 2, 4);\n                    return `Higher density of Nebulas, will allow them to produce higher tier of Stars, but each tier is 4 times slower than previous one. Also will boost Nebulas by 4.\\nNext tier will be ${player.buildings[4][index].trueTotal[0] === 0 ? '(unknown)' : global.buildingsInfo.name[4][index]}.`;\n                },\n                () => {\n                    const index = Math.max(3 - player.researches[5][1], 1);\n                    return `More types of Stars are found within Star cluster. Increasing effect by 3, but also boosting lower tier of Stars. (3 times less than higher one)\\nNext tier will be ${player.buildings[4][index].trueTotal[0] === 0 ? '(unknown)' : global.buildingsInfo.name[4][index]}.`;\n                }\n            ],\n            effect: [],\n            cost: [],\n            startCost: [1e40, 1e55],\n            scaling: [1e20, 1e15],\n            max: [3, 3],\n            maxActive: 2\n        }\n    ],\n    researchesExtraInfo: [\n        {} as globalType['researchesExtraInfo'][0], { //Stage 1\n            name: [\n                'Extra strong force',\n                'Improved formula',\n                'Accretion',\n                'Later Preons',\n                'Impulse'\n            ],\n            effectText: [\n                () => \"Mesons now binds Particles to form Atoms, which makes Atoms to be affected by 'Strong force'.\\n(Atoms are 10 times cheaper)\",\n                () => `Improve scaling for 'Tritium' formula, current formula is log${format(global.researchesExtraInfo[1].effect[1] as number)}.`,\n                () => 'First level is to begin the Accretion, second level is to Submerge it.\\nAll Structures produce Energy on creation, as well Mass from all Stages is connected.',\n                () => `Delay Preons hardcap by current Energy ^${format(global.researchesExtraInfo[1].effect[3] as number)}.\\n(Effect is equal to ${format(player.discharge.energy ** (global.researchesExtraInfo[1].effect[3] as number), { padding: true })})`,\n                () => `Discharge goals will now boost all Interstellar Stars, but at reduced base.\\nCurrent base is ${format(global.researchesExtraInfo[1].effect[4] as number)}, total boost is ${Limit(global.researchesExtraInfo[1].effect[4] as number).power(player.discharge.current + global.dischargeInfo.bonus).format()}.`\n            ],\n            effect: [],\n            cost: [],\n            startCost: [12000, 54000, 16000, 24000, 140000],\n            scaling: [0, 12000, 62000, 18000, 0],\n            max: [1, 4, 2, 6, 1],\n            maxActive: 0\n        }, { //Stage 2\n            name: [\n                'Natural Vaporization',\n                'Rain Clouds',\n                'Storm Clouds',\n                'Water Accretion'\n                //'Jeans Mass'\n            ],\n            effectText: [\n                () => 'When formed Clouds will use this reset produced Drops instead of current.',\n                () => `Some Clouds will start pouring Drops themselves. This will produce Drops until a Puddle, afterwards it will boost Puddles.\\n(Effect: ${format((global.researchesExtraInfo[2].effect[1] as number) - (player.buildings[2][2].current[0] === 0 ? 1 : 0), { padding: true })})`,\n                () => `Improve 'Rain Clouds', and also boost Seas at a reduced rate. (Boost for Seas: ${format(global.researchesExtraInfo[2].effect[2] as number, { padding: true })})`,\n                () => \"Submerge and boost Stars with 'Surface tension' upgrade, also with 'Surface stress' at level 2.\"\n                //() => \"High density of Drops resulted in gravitational Collapse. 'Water Accretion' will now boost Nebulas.\"\n            ],\n            effect: [],\n            cost: [],\n            startCost: [1e18, 1e13, 1e26, 1e13],\n            scaling: [1, 1, 1, 1e5],\n            max: [1, 1, 1, 2],\n            maxActive: 3\n        }, { //Stage 3\n            name: [\n                'Rank boost',\n                'Efficient growth',\n                'Weight',\n                'Viscosity',\n                'Efficient submersion'\n            ],\n            effectText: [\n                () => `Dust production is increased by another ${format(global.researchesExtraInfo[3].effect[0] as number)}.`,\n                () => `Accretion speed is even quicker. Improved by effective Rank. (Total boost: ${format(global.researchesExtraInfo[3].effect[1] as number)})`,\n                () => \"'Gravitational field' upgrade will now boost Protoplanets at reduced strength. (2x boost)\",\n                () => \"'Gas' upgrade is now a little stronger.\",\n                () => `'Efficient growth' will now boost Puddles at reduced rate. (Current boost: ${format(global.researchesExtraInfo[3].effect[4] as number)})`\n            ],\n            effect: [],\n            cost: [],\n            startCost: [1e-18, 1e-16, 1e26, 1e-6, 1e23],\n            scaling: [10, 100, 1, 1e5, 1e3],\n            max: [12, 5, 1, 8, 1],\n            maxActive: 4\n        }, { //Stage 4\n            name: [\n                'Nova',\n                'Mass transfer',\n                'White dwarfs'\n            ],\n            effectText: [\n                () => 'This violent stellar explosion is main source of Elements, also starts new Star formations.\\nUnlock new Structure and even more, after Collapse of that Structure.',\n                () => `Star material transfers from one Star to another, ${player.inflation.vacuum ? 'delaying Preons hardcap' : 'improving Solar mass gain'} by ${format(global.collapseInfo.effect4RE1())}.\\nAlso makes 'Star system' levels scale better.`,\n                () => `Matter were dispeled from Red giant and White dwarf is all that remained, improves effects of '[6] Carbon' by +${format(0.5)} and '[28] Titanium' by ${format(1.5)}.`\n            ],\n            effect: [],\n            cost: [],\n            startCost: [4e4, 2e9, 1e50],\n            scaling: [1e10, 1, 1],\n            max: [3, 1, 1],\n            maxActive: 3\n        }, { //Stage 5\n            name: [],\n            effectText: [],\n            effect: [],\n            cost: [],\n            startCost: [],\n            scaling: [],\n            max: [],\n            maxActive: 0\n        }\n    ],\n    ASRInfo: { //Auto Structures Research\n        cost: [0, 4000, 1e10, 1e-7, 1e6, 1],\n        costRange: [ //Random scaling\n            [],\n            [4000, 10000, 16000, 24000, 32000],\n            [1e10, 1e14, 1e18, 1e23, 1e28, 1e34],\n            [1e-7, 1e10, 5e29, 2e30, 1e36],\n            [1e6, 1e17, 1e28, 1e39, 1e72],\n            [1, 1, 1, 1]\n        ],\n        max: [0, 5, 5, 4, 4, 0]\n    },\n    elementsInfo: {\n        name: [\n            '[0] Neutronium',\n            '[1] Hydrogen',\n            '[2] Helium',\n            '[3] Lithium',\n            '[4] Beryllium',\n            '[5] Boron',\n            '[6] Carbon',\n            '[7] Nitrogen',\n            '[8] Oxygen',\n            '[9] Fluorine',\n            '[10] Neon',\n            '[11] Sodium',\n            '[12] Magnesium',\n            '[13] Aluminium',\n            '[14] Silicon',\n            '[15] Phosphorus',\n            '[16] Sulfur',\n            '[17] Chlorine',\n            '[18] Argon',\n            '[19] Potassium',\n            '[20] Calcium',\n            '[21] Scandium',\n            '[22] Titanium',\n            '[23] Vanadium',\n            '[24] Chromium',\n            '[25] Manganese',\n            '[26] Iron',\n            '[27] Cobalt',\n            '[28] Nickel'\n        ],\n        effectText: [\n            () => `Element with no protons, true head of this table.\\nThis one is ${Math.random() < 0.1 ? (Math.random() < 0.1 ? 'an illusive Tetraneutron, or maybe even Pentaneutron, wait where did it go? Was it even there?' : 'a rare Dineutron, but it is already gone...') : 'a simple Mononeutron, it will stay with you for as long as it can.'}`,\n            () => 'Most basic Element, increases Brown dwarf production by 2.\\nAlso Solar mass effect is now known - boost to all Stars.',\n            () => `Fusion reaction by product, makes everything Interstellar scale ${format(0.1)} less.`,\n            () => `First metal, ${player.inflation.vacuum ? 'hardcap for Cosmic dust' : 'Solar mass gain'} per Brown dwarf lightly ${player.inflation.vacuum ? 'delayed' : 'increased'}.`,\n            () => `Brittle earth metal, so is brittle increase to production. (${format(1.2)}x to all Stars)`,\n            () => `A new color, and a new ${player.inflation.vacuum ? 'delay to Cosmic dust hardcap' : 'boost to Solar mass gain'} that is based on current Dwarf Stars.`,\n            () => `Base for organics, boost from Red giants is now increased to the power of ${format(global.elementsInfo.effect[6] as number)}.\\nRed giants effect is now known - boost to all Main-sequence stars.`,\n            () => \"Most abundant uncombined Element in atmosphere of some Planets, also allows to have 2 extra levels of 'Star system'.\",\n            () => `An oxidizing agent, that will make everything Interstellar scale even slower. (${format(0.05)} less)`,\n            () => \"Highly toxic and reactive, +12 to max level of 'Planetary system'.\",\n            () => `A noble 2x ${player.inflation.vacuum ? 'delay to Preons hardcap' : 'boost to Solar mass gain'}.`,\n            () => \"Through leaching, get 1 extra level of 'Protoplanetary disk'.\",\n            () => `Stars are inside you, as well Neutrons stars strength is now increased by log${format(global.elementsInfo.effect[12] as number)}.\\nNeutron stars effect is now known - boost to all Stars.`,\n            () => `Has a great affinity towards Oxygen and to decrease cost for all Stars by ${format(1e3)}.`,\n            () => `Just another tetravalent metalloid, and so is another ${format(1.4)}x boost to all Stars.`,\n            () => `One of the Fundamentals of Life and to make all Stars ${player.inflation.vacuum ? 'delay Cosmic dust hardcap' : 'boost Solar mass gain'}.`,\n            () => \"From hot area, to increase max level of 'Star system' by 1.\",\n            () => \"Extremely reactive to extend max level of 'Planetary system', by another 24 levels.\",\n            () => `Less noble, but Black holes effect scales better.\\nBlack holes effect is now known - ${player.inflation.vacuum ? 'delay for Preon hardcap' : 'boost to Solar mass gain'}.`,\n            () => \"Don't forget about it and get a 2x boost to all Stars.\",\n            () => \"Get stronger with 1 extra level of 'Star system'.\",\n            () => `A new color and a rare bonus of +^${format(0.1)} to Solar mass effect.`,\n            () => 'New alloy allowing Red giants to be added into effective amount of Neutron stars.',\n            () => `Catalyst for production of Elements. 'Gamma-ray burst' effect increased by Solar mass ^${format(0.1)}.\\n(Effect is equal to ${format(player.collapse.mass ** 0.1, { padding: true })})`,\n            () => `No corrosion, only boost to all Stars that is based on unspent Elements ^${format(global.elementsInfo.effect[24] as number)}.\\n(Boost is equal to ${Limit(player.buildings[4][0].current).power(global.elementsInfo.effect[24] as number).format({ padding: true })})`,\n            () => \"Brittle Element, but not the bonus - 1 more level in 'Star system'.\",\n            () => `Any further fusion will be an endothermic process${player.inflation.vacuum ? '. Unlock a Stage reset.' : ', but what next?\\nEnter Intergalactic space. (Can change active Stage from footer)'}`,\n            () => `Combined and ready to increase Stage reset reward with every new reached digit of total Elements past 48.\\n(+${format(global.strangeInfo.Element27())} ${player.strangeness[5][10] >= 1 ? 'of a Strange value' : 'extra Strange quarks'})`,\n            () => `Slow to react, but will still boost all Stars by ${format(global.elementsInfo.effect[28] as number)}.`\n        ],\n        effect: [],\n        startCost: [\n            0, 1000, 4000, 2e4, 1e5, 1e8, 1e10, 4e11, 8e12, 6e13,\n            1e15, 1e20, 1e22, 1e24, 1.4e26, 1e28, 1e30, 1e32, 1e35, 2e36,\n            1e39, 1e41, 2e42, 3e43, 4e44, 5e45, 1e48, 1e50, 1e52\n        ]\n    },\n    strangenessInfo: [\n        {} as globalType['strangenessInfo'][0], { //Stage 1\n            name: [\n                'Stronger Discharge',\n                'Cheaper Discharge',\n                'Free Discharge',\n                'Automatic Discarge',\n                'Increased Energy',\n                'Better improvement',\n                'Keep auto Structures',\n                'More toggles',\n                'Strange boost',\n                'Fundamental boost',\n                'Conservation of Mass',\n                'Conservation of Energy'\n            ],\n            effectText: [\n                () => 'Base Discharge effect is now +1.',\n                () => `Discharge goal scales slower. (-${format(0.5)})`,\n                () => `Obtain +${format(0.5)} bonus Discharge goals.`,\n                () => `Automatically Discharge upon creating an upgrade or reaching next goal.${player.strangeness[1][11] >= 1 ? \"\\nSecond level - reaching new goal with auto Discharge doesn't cause reset.\" : ''}`,\n                () => `Gain more Energy from creating ${player.inflation.vacuum ? 'Preons, +2' : 'Particles, +1'}.`,\n                () => \"Research 'Improved Tritium' is now better. (+1)\",\n                () => `Always have auto for ${global.buildingsInfo.name[1][Math.min(player.strangeness[1][6] + 1, global.ASRInfo.max[1])]}.`,\n                () => 'First level - improve control over auto Structures toggles.\\nSecond level - improve control over consumption of Offline storage.',\n                () => 'Unspend Strange quarks will boost this Stage. (Bonus goals)',\n                () => `Minor boost of ${format(1.2)}x per level to all Microworld structures.`,\n                () => 'No Mass will be lost when Creating Preons.',\n                () => 'Energy is now directly based on current self-made amount of Structures.\\nThis will also unlock better Reset automatization. (Also improve auto Discharge to not cause reset from upgrades)'\n            ],\n            cost: [],\n            startCost: [2, 1, 4, 20, 2, 1, 2, 4, 40, 2, 18, 3000],\n            scaling: [2.4, 4, 6, 300, 4, 2.4, 2, 2, 1, 1.8, 1, 1],\n            max: [4, 4, 2, 1, 2, 4, 3, 2, 1, 6, 1, 1],\n            maxActive: 9\n        }, { //Stage 2\n            name: [\n                'More Moles',\n                'Bigger Puddles',\n                'More spread',\n                'Cloud density',\n                'Automatic Vaporization',\n                'Keep auto Structures',\n                'Longer offline',\n                'Strange boost',\n                'New Structure',\n                'Ocean world',\n                'Isolation'\n            ],\n            effectText: [\n                () => `Mole production increased by ${format(1.5)}.`,\n                () => `Puddles produce ${format(1.5)} times more.`,\n                () => 'Increase max level for one of researches by +1.\\nFinal level will instead unlock a new upgrade.',\n                () => 'Decrease requirement per Cloud.',\n                () => `Automatically Vaporize when reach enough boost from new Clouds.${player.strangeness[1][11] >= 1 ? '\\nSecond level - auto Vaporization no longer resets anything. (Also improved to reset instanly)' : ''}`,\n                () => `Always have auto for ${global.buildingsInfo.name[2][Math.min(player.strangeness[2][5] + 1, global.ASRInfo.max[2])]}.`,\n                () => 'Decrease Offline time waste by -1 second per level.',\n                () => 'Unspend Strange quarks will boost this Stage. (Puddle production)',\n                () => 'Current Universe state allows for another Submerged Structure.', //'\\nSecond level will improve spread of that Structure with a new upgrade.'\n                () => `Increase ${global.strangeInfo.name[player.strangeness[5][10]]} gained from this Stage reset based on current Cloud amount.\\n(Effect can be seen in stats)`,\n                () => \"Submerged is no longer affected by or affects non Microworld Stage reset types. (Requires level 1 of 'Conservation of Energy')\"\n            ],\n            cost: [],\n            startCost: [1, 2, 16, 2, 20, 2, 4, 40, 40, 200, 4000],\n            scaling: [1.8, 1.8, 1.6, 4, 500, 2, 2, 1, 10, 1, 1],\n            max: [6, 6, 3, 3, 1, 5, 1, 1, 1, 1, 1],\n            maxActive: 8\n        }, { //Stage 3\n            name: [\n                'Faster Accretion',\n                'Intense weathering',\n                'More levels',\n                'Improved Satellites',\n                'Automatic Rank',\n                'Keep auto Structures',\n                'Automatization for Upgrades',\n                'Strange boost',\n                'New Structure',\n                'Mass shift',\n                'Massive Ranks'\n                //'Rank raise'\n            ],\n            effectText: [\n                () => `Accretion speed is ${format(1.5)} times faster.`,\n                () => `Accretion Structures that produce another Structures now do it ${format(1.5)} times faster.`,\n                () => 'Some Rank researches receive extra Max level.\\nFinal level will instead unlock a new upgrade.',\n                () => `Satellites now improve all Accretion Structures${player.inflation.vacuum ? ' with reduced strength' : ''}.`,\n                () => `Automatically increase Rank when available.${player.strangeness[1][11] >= 1 ? '\\nSecond level - will allow to reach Solar mass hardcap easier by making Accretion Structures only when cost is times of Solar mass hardcap. (If Cosmic dust is hardcapped)' : ''}`,\n                () => `Always have auto for ${global.buildingsInfo.name[3][Math.min(player.strangeness[3][5] + 1, global.ASRInfo.max[3])]}.`,\n                () => 'All upgrades/researches from any Stage will be created automatically.\\n(Need to be enabled in settings, order of automatization is upgrades > researches > special researches)',\n                () => `Unspend Strange quarks will boost this Stage. (${player.inflation.vacuum ? 'Effective Rank' : 'Cheaper Accretion'})`,\n                () => 'Current Universe state allows for another Accretion Structure.',\n                () => `Reduce amount of time required to reach Solar mass harcap by shifting Cosmic dust and Solar mass hardcaps.\\nEffect is ${format(1.5)} times bigger per level (additive). (Can be reverted in Rank settings)`,\n                () => `Increase effective Rank by +${format(0.8)} with each level.`\n            ],\n            cost: [],\n            startCost: [1, 2, 3, 9, 20, 3, 12, 40, 20, 1800, 20],\n            scaling: [1.8, 2.8, 2, 1, 200, 2.4, 3, 1, 1, 2, 4],\n            max: [8, 4, 3, 1, 1, 4, 3, 1, 1, 4, 2],\n            maxActive: 8\n        }, { //Stage 4\n            name: [\n                'Hotter Stars',\n                'Cheaper Stars',\n                'New Upgrade',\n                'Main giants',\n                'Remnants of past',\n                'Automatic Collapse',\n                'Keep auto Structures',\n                'Daily gain',\n                'Strange boost',\n                'New Structure',\n                'Neutronium'\n            ],\n            effectText: [\n                () => `All Stars produce ${format(1.5)} times more Elements.`,\n                () => 'Stars are 2 times cheaper.',\n                () => 'Unlock a new Upgrade.\\nFirst one is extra good.',\n                () => '10% of Brown dwarfs will turn into Red giants now.',\n                () => `Elements will not require Collapse for activation.\\n${player.stage.true >= 6 || player.events[2] ? 'Second level will unlock auto creation of Elements.' : '(Auto creation of Elements is not yet possible in Interstellar space)'}`,\n                () => `Automatically Collapse once reached enough boost.${player.strangeness[1][11] >= 1 ? '\\nSecond level - Star remnants from auto Collapse will be gained automatically without resets. (Also improved to check boost only from Solar mass)' : ''}`,\n                () => `Always have auto for ${global.buildingsInfo.name[4][Math.min(player.strangeness[4][6] + 1, global.ASRInfo.max[4])]}.`,\n                () => `Increase multiplier of ${global.strangeInfo.name[player.strangeness[5][10]]} gained from export per day by +1.${player.strangeness[5][10] >= 1 ? '' : \" (Can claim only full one's)\"}`,\n                () => 'Unspend Strange quarks will boost this Stage. (All Stars production)',\n                () => 'Current Universe state allows for another Interstellar Structure.',\n                () => \"Improve Neutron Stars strength and improve scaling of '[12] Magnesium' effect.\"\n            ],\n            cost: [],\n            startCost: [1, 3, 5, 5, 6, 20, 3, 4, 40, 60, 1800],\n            scaling: [1.8, 2.8, 2.4, 4, 18, 400, 2.4, 3, 1, 1, 1.4],\n            max: [8, 4, 3, 2, 1, 1, 4, 3, 1, 1, 8],\n            maxActive: 9\n        }, { //Stage 5\n            name: [\n                'Omnipresent reality',\n                'Strange gain',\n                'Auto Stage',\n                'Bigger Nebulas',\n                'Denser Clusters',\n                'Gravitational bound',\n                'Hypercompact stellar system',\n                'Auto Structures',\n                'New Milestones',\n                'Strange boost',\n                'Strange growth'\n            ],\n            effectText: [\n                () => player.inflation.vacuum ? 'Unlock the Void. (Advanced subtab)\\nAlso a new color theme.' : `Gain ability to be inside multiple Stages at once. (Next one to always be inside is ${global.stageInfo.word[player.strangeness[5][0] + 1]})\\nPermanent Stages do not appear in history or reset timer.`,\n                () => `Gain ${format(1.5)} times more ${global.strangeInfo.name[player.strangeness[5][10]]} from ${player.inflation.vacuum ? '' : 'Interstellar'} Stage resets.`,\n                () => 'Allows to auto reset Stage, has some special settings.',\n                () => \"Bigger Nebulas, more matter for Accretion. 'Jeans instability' upgrade is 2 times stronger.\",\n                () => \"'Super star cluster' is now even bigger. Effect increased by 3.\",\n                () => player.inflation.vacuum ? 'Unlock Intergalactic Stage.' : 'Intergalactic is no longer affected by Collapse reset.',\n                () => `With this a new Structure can be created.${player.stage.true >= 6 ? '' : \" (Also will increase max level of 'Remnants of past' after creating that Structure)\"}\\nSecond level unlocks auto for it and improves auto Collapse.`,\n                () => \"Increase permanent level of auto Structures. It's the only way to do it.\",\n                () => `Unlock ${player.inflation.vacuum ? 'Void' : 'Intergalactic'} Milestones.`,\n                () => `Unspend Strange quarks will boost this Stage. (${player.inflation.vacuum ? 'Cosmic dust hardcap delay' : 'Solar mass gain'})`,\n                () => `Unlock a new Strange structure and replace Stage reset reward, it will produce ${global.strangeInfo.name[player.strangeness[5][10]]}, but hardcaps easily.\\n(Hardcap delayed by quantity of a higher tier Structure)`\n            ],\n            cost: [],\n            startCost: [8, 20, 2000, 10, 10, 40, 1500, 60, 1500, 200, 800],\n            scaling: [1, 10, 1, 1.7, 1.75, 1, 5, 2, 1, 1, 1],\n            max: [3, 1, 1, 9, 9, 1, 2, 2, 1, 1, 1],\n            maxActive: 10\n        }\n    ],\n    lastUpgrade: [-1, -1, -1, -1, -1, -1], //One per subtab\n    lastResearch: [[-1, 'researches'], [-1, 'researches'], [-1, 'researches'], [-1, 'researches'], [-1, 'researches'], [-1, 'researches']],\n    lastElement: -1,\n    milestonesInfo: [\n        {} as globalType['milestonesInfo'][0], { //Stage 1\n            name: [\n                'Fundamental Matter',\n                'Energized'\n            ],\n            needText: [\n                () => `Discharge at least ${Limit(global.milestonesInfo[1].need[0]).format()} ${player.inflation.vacuum ? 'Preons' : 'Quarks'} at once.`,\n                () => `Have current Energy reach ${Limit(global.milestonesInfo[1].need[1]).format()}.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `All Microworld Structures receive ${format(global.milestonesInfo[1].reward[0])}x boost.` : \"Unknown Structure, it doesn't belong to this Universe.\\nVacuum instability increased.\",\n                () => player.inflation.vacuum ? `Energy from creating Stuctures increased by ${format(global.milestonesInfo[1].reward[1])}%. (Rounds down)` : `Improve effect of '[24] Chromium' by +${format(0.01)}.`\n            ],\n            need: [[1, 200], [4, 4]],\n            reward: [1, 1],\n            scalingOld: [\n                [1e160, 1e170, 1e180, 1e190, 1e200, 1e220],\n                [24000, 26000, 28000, 30000, 32000, 34000]\n            ]\n        }, { //Stage 2\n            name: [\n                'A Nebula of Drops',\n                'Just a bigger Puddle'\n            ],\n            needText: [\n                () => `Vaporize ${player.inflation.vacuum ? 'to at least' : ''} ${Limit(global.milestonesInfo[2].need[0]).format()} ${player.inflation.vacuum ? 'Clouds' : 'Drops at once'}.`,\n                () => `Have at least ${Limit(global.milestonesInfo[2].need[1]).format()} Puddles at same time.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Clouds gain increased by ${format(global.milestonesInfo[2].reward[0])}.` : 'A new Intergalactic Structure.',\n                () => player.inflation.vacuum ? `Puddles are now stronger by ${format(global.milestonesInfo[2].reward[1])}.` : \"Unknown Structure, it doesn't belong to this Universe.\\nVacuum instability increased.\"\n            ],\n            need: [[1, 30], [1.5, 3]],\n            reward: [1, 1],\n            scalingOld: [\n                [1e30, 1e33, 1e36, 1e39, 1e42, 1e45],\n                [1000, 2500, 4000, 5500, 7000, 9000]\n            ]\n        }, { //Stage 3\n            name: [\n                'Cluster of Mass',\n                'Satellites of Satellites'\n            ],\n            needText: [\n                () => `Have at least ${Limit(global.milestonesInfo[3].need[0]).format()} Mass at once.`,\n                () => `Have more Satellites ${player.inflation.vacuum ? 'and Subsatellites' : ''} than ${Limit(global.milestonesInfo[3].need[1]).format()}.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Accretion speed increased by ${format(global.milestonesInfo[3].reward[0])}.` : 'A new Intergalactic Structure.',\n                () => player.inflation.vacuum ? `Improve effect of 'Planetary system' base by +${format(global.milestonesInfo[3].reward[1])}.` : \"Unknown Structure, it doesn't belong to this Universe.\\nVacuum instability increased.\"\n            ],\n            need: [[1, 30], [2.5, 1]],\n            reward: [1, 1],\n            scalingOld: [\n                [1e30, 1e33, 1e36, 1e39, 1e42, 1e45, 1e48],\n                [25, 35, 45, 55, 65, 75, 85]\n            ]\n        }, { //Stage 4\n            name: [\n                'Supermassive',\n                'Biggest of all'\n            ],\n            needText: [\n                () => `Collapse ${player.inflation.vacuum ? '' : 'to'} at least ${Limit(global.milestonesInfo[4].need[0]).format()} ${player.inflation.vacuum ? 'Elements' : 'Solar mass'}.`,\n                () => `Collapse to ${Limit(global.milestonesInfo[4].need[1]).format()} Black holes or more.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Stars produce ${format(global.milestonesInfo[4].reward[0])} times more Elements.` : 'New Intergalactic themed Strangenesses.',\n                () => player.inflation.vacuum ? `Preons hardcap delayed by ${format(global.milestonesInfo[4].reward[1])}.` : \"Unknown Structure, it doesn't belong to this Universe.\\nVacuum instability increased.\"\n            ],\n            need: [[8, 3], [1, 2]],\n            reward: [1, 1],\n            scalingOld: [\n                [8000, 10000, 12000, 14000, 16000, 18000, 20000, 22000],\n                [100, 120, 140, 160, 180, 200, 220, 240]\n            ]\n        }, { //Stage 5\n            name: [\n                'Light in the dark',\n                'End of Greatness'\n            ],\n            needText: [\n                () => `Have self-made Stars count reach at least ${Limit(global.milestonesInfo[5].need[0]).format()}.`,\n                () => `Have ${Limit(global.milestonesInfo[5].need[1]).format()} Galaxies or more.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Increase ${global.strangeInfo.name[player.strangeness[5][10]]} income from Stage reset by ${format(global.milestonesInfo[5].reward[0])}.` : 'Intergalactic is always unlocked with Interstellar.',\n                () => player.inflation.vacuum ? `Boost per Galaxy is now +${format(global.milestonesInfo[5].reward[1])} bigger.` : 'Unknown Structure, it cannot exist in false Vacuum.\\nVacuum instability increased.'\n            ],\n            need: [[1.5, 3], [2, 0]],\n            reward: [5, 25],\n            scalingOld: [\n                [1500, 1600, 1700, 1800, 1900, 2000],\n                [2, 4, 8, 12, 16, 20]\n            ]\n        }\n    ],\n    challengesInfo: {\n        name: [\n            'Void'\n        ],\n        description: [\n            'Result of Vacuum Instabillity, investigate at your own will'\n        ],\n        effectText: [\n            () => {\n                const progress = player.challenges.void;\n                if (progress[1] === 0) { return '<span class=\"orangeText\">- Unknown, but maybe with more Energy</span>'; }\n                let text = '<span class=\"orangeText\">- Energy gain is decreased by 20%\\n- Discharge base reduced</span>';\n                if (progress[1] >= 3) { text += `\\n\\n<span class=\"blueText\">- ${progress[2] > 0 ? `Effective Drops production count softcap no longer delayed by self-made amount and is stronger (^${format(0.2)} > ^${format(0.1)})\\n- Puddles are 100 times weaker\\n- 'Water spread' upgrade is weaker` : 'Unknown, but maybe if deeper'}</span>`; }\n                if (progress[1] >= 2) { text += `\\n\\n<span class=\"grayText\">- ${progress[3] > 0 ? `'Jovian planet' Rank softcap starts immediately (^${format(0.92)})\\n- Softcap is stronger after reaching that Rank (^${format(0.84)})\\n- Increasing Rank doesn't increase effective Rank` : 'Unknown, but maybe if more Mass'}</span>`; }\n                if (progress[3] >= 5) { text += `\\n\\n<span class=\"darkorchidText\">- ${progress[4] > 0 ? \"Solar mass effect is 10 times weaker and scales slower\\n- 'Star system' is weaker\\n- Intergalactic Stage unlocked later\" : 'Unknown, but maybe if long enough'}</span>`; }\n                //if (progress[4] >= 5) { text += '\\n\\n<span class=\"cyanText\">- Unknown, but maybe if far enough</span>'; }\n                return text;\n            }\n        ],\n        needText: [\n            [\n                [],\n                ['Perform Discharge', \"Get first level of 'Accretion'\", \"Get second level of 'Accretion'\"],\n                ['Have more than 1 Cloud', 'Have more than 1e4 Clouds'],\n                [\"Reach 'Meteoroid' Rank\", \"Reach 'Asteroid' Rank\", \"Reach 'Planet' Rank\", \"Reach 'Jovian planet' Rank\", \"Reach 'Protostar' Rank\"],\n                ['Cause the Collapse', 'Get first Red giant', 'Get first Neutron star', 'Get first Black hole'],\n                []\n            ]\n        ],\n        rewardText: [\n            [\n                [],\n                [\"'Fundamental boost' (Microworld)\", \"'Conservation of Mass' (Microworld)\", \"'Massive Ranks' (Accretion)\"],\n                [\"'Ocean world' (Submerged)\", \"'Isolation' (Submerged)\"],\n                ['Multiple max level increases', 'Multiple max level increases', 'Multiple max level increases', 'Multiple max level increases', \"'Strange growth' (Intergalactic)\"],\n                [\"'New Milestones' (Intergalactic)\", \"'Conservation of Energy' (Microworld)\", \"'Neutronium' (Interstellar)\", \"'Mass shift' (Accretion)\"],\n                []\n            ]\n        ],\n        color: [\n            'darkviolet'\n        ]\n    },\n    historyStorage: {\n        stage: []\n    }\n};\n\n//Math.log extension for any base\nexport const logAny = (number: number, base: number) => Math.log(number) / Math.log(base);\n\n//Not for deep copy. Actual type is any[], it's because TS is dumb\nexport const cloneArray = <ArrayClone extends Array<number | string | boolean | null | undefined>>(array: ArrayClone) => array.slice(0) as ArrayClone; //[...array] is better when >10000 keys\n\n//For non deep clone use { ...object } or cloneArray when possible\nexport const deepClone = <CloneType>(toClone: CloneType): CloneType => {\n    if (typeof toClone !== 'object' || toClone === null) { return toClone; }\n\n    let value: any;\n    if (Array.isArray(toClone)) {\n        value = []; //Faster this way\n        for (let i = 0; i < toClone.length; i++) { value.push(deepClone(toClone[i])); }\n    } else {\n        value = {};\n        for (const check in toClone) { value[check] = deepClone(toClone[check]); }\n    }\n    return value;\n};\n\nconst createArray = (amount: number, type: 'toggle' | 'toggleAuto' | 'toggleConfirm' | 'upgrade') => {\n    const array = [];\n    for (let i = 0; i < amount; i++) {\n        if (type === 'toggle') {\n            array.push(true);\n        } else if (type === 'toggleAuto') {\n            array.push(false);\n        } else if (type === 'toggleConfirm') {\n            array.push('All');\n        } else if (type === 'upgrade') {\n            array.push(0);\n        }\n    }\n    return array;\n};\n\nfor (let s = 0; s < global.buildingsInfo.startCost.length; s++) {\n    global.buildingsInfo.firstCost[s] = cloneArray(global.buildingsInfo.startCost[s]);\n    global.buildingsInfo.producing[s] = [];\n    for (let i = 0; i < global.buildingsInfo.startCost[s].length; i++) {\n        global.buildingsInfo.producing[s].push([0, 0]);\n    }\n}\nfor (const upgradeType of ['researches', 'researchesExtra', 'strangeness'] as const) {\n    const pointer = global[`${upgradeType}Info`];\n    for (let s = 1; s < pointer.length; s++) {\n        pointer[s].cost = cloneArray(pointer[s].startCost);\n    }\n}\nfor (const upgradeType of ['upgrades', 'researches', 'researchesExtra'] as const) {\n    const pointer = global[`${upgradeType}Info`];\n    for (let s = 1; s < pointer.length; s++) {\n        for (let i = 0; i < pointer[s].name.length; i++) {\n            pointer[s].effect[i] = null;\n        }\n    }\n}\nfor (let i = 0; i < global.elementsInfo.name.length; i++) {\n    global.elementsInfo.effect[i] = null;\n}\n\nObject.assign(player, {\n    upgrades: [\n        [],\n        createArray(global.upgradesInfo[1].startCost.length, 'upgrade'),\n        createArray(global.upgradesInfo[2].startCost.length, 'upgrade'),\n        createArray(global.upgradesInfo[3].startCost.length, 'upgrade'),\n        createArray(global.upgradesInfo[4].startCost.length, 'upgrade'),\n        createArray(global.upgradesInfo[5].startCost.length, 'upgrade')\n    ],\n    researches: [\n        [],\n        createArray(global.researchesInfo[1].startCost.length, 'upgrade'),\n        createArray(global.researchesInfo[2].startCost.length, 'upgrade'),\n        createArray(global.researchesInfo[3].startCost.length, 'upgrade'),\n        createArray(global.researchesInfo[4].startCost.length, 'upgrade'),\n        createArray(global.researchesInfo[5].startCost.length, 'upgrade')\n    ],\n    researchesExtra: [\n        [],\n        createArray(global.researchesExtraInfo[1].startCost.length, 'upgrade'),\n        createArray(global.researchesExtraInfo[2].startCost.length, 'upgrade'),\n        createArray(global.researchesExtraInfo[3].startCost.length, 'upgrade'),\n        createArray(global.researchesExtraInfo[4].startCost.length, 'upgrade'),\n        createArray(global.researchesExtraInfo[5].startCost.length, 'upgrade')\n    ],\n    ASR: createArray(global.ASRInfo.costRange.length, 'upgrade'),\n    elements: createArray(global.elementsInfo.startCost.length, 'upgrade'),\n    strangeness: [\n        [],\n        createArray(global.strangenessInfo[1].startCost.length, 'upgrade'),\n        createArray(global.strangenessInfo[2].startCost.length, 'upgrade'),\n        createArray(global.strangenessInfo[3].startCost.length, 'upgrade'),\n        createArray(global.strangenessInfo[4].startCost.length, 'upgrade'),\n        createArray(global.strangenessInfo[5].startCost.length, 'upgrade')\n    ],\n    milestones: [\n        [],\n        createArray(global.milestonesInfo[1].need.length, 'upgrade'),\n        createArray(global.milestonesInfo[2].need.length, 'upgrade'),\n        createArray(global.milestonesInfo[3].need.length, 'upgrade'),\n        createArray(global.milestonesInfo[4].need.length, 'upgrade'),\n        createArray(global.milestonesInfo[5].need.length, 'upgrade')\n    ]\n});\nObject.assign(player.toggles, { //Done separately to keep 'shop'\n    normal: createArray(document.getElementsByClassName('toggle').length, 'toggle'),\n    confirm: createArray(document.getElementsByClassName('toggleConfirm').length, 'toggleConfirm'),\n    buildings: [\n        [],\n        createArray(player.buildings[1].length, 'toggleAuto'),\n        createArray(player.buildings[2].length, 'toggleAuto'),\n        createArray(player.buildings[3].length, 'toggleAuto'),\n        createArray(player.buildings[4].length, 'toggleAuto'),\n        createArray(player.buildings[5].length, 'toggleAuto')\n    ],\n    auto: createArray(document.getElementsByClassName('toggleAuto').length, 'toggleAuto')\n});\nplayer.toggles.normal[0] = false;\n\n//player.example = playerStart.example; Is not allowed (if example is an array or object), instead iterate or create clone\nexport const playerStart = deepClone(player);\n\nexport const updatePlayer = (load: playerType): string => {\n    if (Object.hasOwn(load, 'player')) { load = load['player' as keyof unknown]; } //Old save had it\n\n    for (const key in playerStart) {\n        if (!Object.hasOwn(load, key)) {\n            if (key === 'discharge') {\n                throw new ReferenceError('This save file is missing important information and is most likely not from this game');\n            } else if (key !== 'version') {\n                load[key as 'ASR'] = deepClone(playerStart[key as 'ASR']);\n            } else { load.version = '0.0.0'; }\n        }\n    }\n\n    const oldVersion = load.version;\n    if (oldVersion !== playerStart.version) {\n        if (load.version === '0.0.0') {\n            load.version = 'v0.0.1';\n            if (Object.hasOwn(load, 'energy')) { load.discharge.energy = load['energy' as 'discharge']['current' as 'energy']; }\n            load.researchesExtra = [];\n        }\n        if (load.version === 'v0.0.1') {\n            load.version = 'v0.0.2';\n            load.stage.resets = load.stage.current - 1;\n        }\n        if (load.version === 'v0.0.2') {\n            load.version = 'v0.0.3';\n            load.toggles = deepClone(playerStart.toggles);\n        }\n        if (load.version === 'v0.0.3') {\n            load.version = 'v0.0.4';\n            delete load['energy' as keyof unknown];\n            delete load['buyToggle' as keyof unknown];\n        }\n        if (load.version === 'v0.0.4' || load.version === 'v0.0.5') {\n            load.version = 'v0.0.6';\n            load.events = [false];\n        }\n        if (load.version === 'v0.0.6') {\n            load.version = 'v0.0.7';\n            load.vaporization.input = 3;\n            load.stage.input = 20;\n        }\n        if (load.version === 'v0.0.7') {\n            load.version = 'v0.0.8';\n            load.stage.export = 86400;\n        }\n        if (load.version === 'v0.0.8') {\n            load.version = 'v0.0.9';\n            load.stage.active = Math.min(load.stage.current, 4);\n            const a = load.stage.active;\n            const oldB = load.buildings as unknown as playerType['buildings'][0];\n            load.buildings = deepClone(playerStart.buildings);\n            load.buildings[a] = oldB;\n            const oldU = load.upgrades as unknown as playerType['upgrades'][0];\n            load.upgrades = deepClone(playerStart.upgrades);\n            load.upgrades[a] = oldU;\n            const oldR = load.researches as unknown as playerType['researches'][0];\n            load.researches = deepClone(playerStart.researches);\n            load.researches[a] = oldR;\n            const oldE = load.researchesExtra as unknown as playerType['researchesExtra'][0];\n            load.researchesExtra = deepClone(playerStart.researchesExtra);\n            load.researchesExtra[a] = oldE;\n            if (load.strangeness.length < 5) { load.strangeness.unshift([]); }\n        }\n        if (load.version === 'v0.0.9') {\n            load.version = 'v0.1.0';\n            if (load.upgrades[3].length < 13) { load.upgrades[3].splice(8, 0, 0); }\n        }\n        if (load.version === 'v0.1.0') {\n            load.version = 'v0.1.1';\n            if (Object.hasOwn(load.discharge, 'energyCur')) { load.discharge.energy = load.discharge['energyCur' as 'energy']; }\n            delete load.discharge['energyCur' as keyof unknown];\n            load.collapse.massMax = load.collapse.mass;\n        }\n        if (load.version === 'v0.1.1') {\n            load.version = 'v0.1.2';\n            for (let s = 1; s < load.buildings.length; s++) {\n                const buildings = load.buildings[s];\n                for (let i = 0; i < buildings.length; i++) {\n                    buildings[i].current = Limit(buildings[i].current).toArray();\n                    buildings[i].total = Limit(buildings[i].total).toArray();\n                    buildings[i].trueTotal = Limit(buildings[i].total).toArray(); //Intentional\n                    buildings[i].highest = [0, 0];\n                }\n            }\n            load.vaporization.clouds = Limit(load.vaporization.clouds).toArray();\n            if (Object.hasOwn(load.strange[0], 'true')) { load.strange[0].current = load.strange[0]['true' as 'current']; }\n            if (load.upgrades[1].length < 10) { load.upgrades[1].unshift(0, 0); }\n            delete load.vaporization['current' as keyof unknown];\n            delete load.strange[0]['true' as keyof unknown];\n            load.time.offline = 0;\n        }\n        if (load.version === 'v0.1.2') {\n            load.version = 'v0.1.3';\n            load.stage.best = 0;\n            load.stage.time = 0;\n            load.inflation.age = 0;\n            load.accretion.input = 0;\n            load.discharge.energyMax = load.discharge.energy;\n            load.vaporization.cloudsMax = cloneArray(load.vaporization.clouds);\n        }\n        if (load.version === 'v0.1.3') {\n            load.version = 'v0.1.4';\n            delete load.collapse['disabled' as keyof unknown];\n            delete load.collapse['inputM' as keyof unknown];\n            delete load.collapse['inputS' as keyof unknown];\n        }\n        if (load.version === 'v0.1.4') {\n            load.version = 'v0.1.5';\n            delete load.toggles.shop['strict' as keyof unknown];\n        }\n        if (load.version === 'v0.1.5') {\n            load.version = 'v0.1.6';\n            load.collapse.show = 0;\n            load.collapse.input = 2;\n            load.toggles.shop.wait = [2];\n            load.toggles.normal = cloneArray(playerStart.toggles.normal);\n            load.toggles.confirm = cloneArray(playerStart.toggles.confirm);\n            for (let s = 1; s < load.toggles.buildings.length; s++) {\n                const newLength = playerStart.toggles.buildings[s].length;\n                if (load.toggles.buildings[s].length > newLength) { load.toggles.buildings[s].length = newLength; }\n            }\n            load.history.stage.best[2] = 0;\n            for (let i = 0; i < load.history.stage.list.length; i++) {\n                load.history.stage.list[i][2] = 0;\n            }\n            delete load.time['disabled' as keyof unknown];\n            delete load['researchesAuto' as keyof unknown];\n            delete load.discharge['unlock' as keyof unknown];\n\n            /* Can be removed eventually */\n            load.vaporization.clouds = Limit(load.vaporization.clouds).minus('1').toArray();\n            if (load.inflation.vacuum) {\n                if (load.strangeness[3][9] > 0) {\n                    load.strange[0].current += (4 ** load.strangeness[3][9] - 1) * 8;\n                    load.strangeness[3][9] = 0;\n                }\n                if (load.strangeness[5][2] > 0) {\n                    load.strange[0].current += 50;\n                    load.strangeness[5][2] = 0;\n                }\n            }\n            load.accretion.input = 0;\n        }\n        /*if (load.version === 'v0.1.6') {\n            load.version = 'v0.1.7';\n            if (!Object.hasOwn(load, 'saveUpdate016')) {\n                load.strangeness[2].splice(6, 1);\n                load.strangeness[4].splice(8, 1);\n                load.intervals = deepClone(playerStart.intervals);\n            }\n            delete load['saveUpdate016' as keyof unknown];\n            //delete load.accretion['input' as keyof unknown]; //If Mass shift will become automatic\n            delete load.collapse['elementsMax' as keyof unknown];\n        }*/\n\n        if (load.version !== playerStart.version) {\n            throw new ReferenceError('Save file version is higher than game version');\n        }\n    }\n\n    if (!load.saveUpdate016) { //Remove in v0.1.7\n        load.intervals = deepClone(playerStart.intervals);\n        load.strangeness[2].splice(6, 1);\n        load.strangeness[4].splice(8, 1);\n        load.saveUpdate016 = true;\n    }\n\n    for (let s = 1; s < playerStart.buildings.length; s++) {\n        if (isNaN(load.toggles.shop.wait[s])) { load.toggles.shop.wait[s] = 2; }\n        if (!Array.isArray(load.buildings[s])) {\n            load.buildings[s] = deepClone(playerStart.buildings[s]);\n        } else {\n            for (let i = load.buildings[s].length; i < playerStart.buildings[s].length; i++) {\n                load.buildings[s][i] = deepClone(playerStart.buildings[s][i]);\n            }\n        }\n    }\n    for (let i = load.strange.length; i < playerStart.strange.length; i++) {\n        load.strange[i] = deepClone(playerStart.strange[i]);\n    }\n\n    for (let s = 1; s < playerStart.upgrades.length; s++) {\n        if (!Array.isArray(load.upgrades[s])) {\n            load.upgrades[s] = cloneArray(playerStart.upgrades[s]);\n        } else {\n            for (let i = load.upgrades[s].length; i < playerStart.upgrades[s].length; i++) {\n                load.upgrades[s][i] = 0;\n            }\n        }\n    }\n    for (let s = 1; s < playerStart.researches.length; s++) {\n        if (!Array.isArray(load.researches[s])) {\n            load.researches[s] = cloneArray(playerStart.researches[s]);\n        } else {\n            for (let i = load.researches[s].length; i < playerStart.researches[s].length; i++) {\n                load.researches[s][i] = 0;\n            }\n        }\n    }\n    for (let s = 1; s < playerStart.researchesExtra.length; s++) {\n        if (!Array.isArray(load.researchesExtra[s])) {\n            load.researchesExtra[s] = cloneArray(playerStart.researchesExtra[s]);\n        } else {\n            for (let i = load.researchesExtra[s].length; i < playerStart.researchesExtra[s].length; i++) {\n                load.researchesExtra[s][i] = 0;\n            }\n        }\n    }\n    for (let i = load.ASR.length; i < playerStart.ASR.length; i++) {\n        load.ASR[i] = 0;\n    }\n    for (let i = load.elements.length; i < playerStart.elements.length; i++) {\n        load.elements[i] = 0;\n    }\n    for (let s = 0; s < playerStart.strangeness.length; s++) {\n        if (!Array.isArray(load.strangeness[s])) {\n            load.strangeness[s] = cloneArray(playerStart.strangeness[s]);\n        } else {\n            for (let i = load.strangeness[s].length; i < playerStart.strangeness[s].length; i++) {\n                load.strangeness[s][i] = 0;\n            }\n        }\n    }\n    for (let s = 0; s < playerStart.milestones.length; s++) {\n        if (!Array.isArray(load.milestones[s])) {\n            load.milestones[s] = cloneArray(playerStart.milestones[s]);\n        } else {\n            for (let i = load.milestones[s].length; i < playerStart.milestones[s].length; i++) {\n                load.milestones[s][i] = 0;\n            }\n        }\n    }\n\n    for (let s = 1; s < playerStart.toggles.buildings.length; s++) {\n        if (!Array.isArray(load.toggles.buildings[s])) {\n            load.toggles.buildings[s] = cloneArray(playerStart.toggles.buildings[s]);\n        } else {\n            for (let i = load.toggles.buildings[s].length; i < playerStart.toggles.buildings[s].length; i++) {\n                load.toggles.buildings[s][i] = false;\n            }\n        }\n    }\n    for (let i = load.toggles.confirm.length; i < playerStart.toggles.confirm.length; i++) {\n        load.toggles.confirm[i] = playerStart.toggles.confirm[i];\n    }\n    for (let i = load.toggles.normal.length; i < playerStart.toggles.normal.length; i++) {\n        load.toggles.normal[i] = playerStart.toggles.normal[i];\n    }\n    for (let i = load.toggles.auto.length; i < playerStart.toggles.auto.length; i++) {\n        load.toggles.auto[i] = false;\n    }\n\n    if (load.intervals.main < 20) { load.intervals.main = 20; }\n    for (let i = load.events.length; i < playerStart.events.length; i++) {\n        load.events[i] = false;\n    }\n\n    Object.assign(player, load);\n\n    /* Prepare fake save file data */\n    prepareVacuum();\n\n    global.debug.errorID = true;\n    global.debug.errorQuery = true;\n    global.debug.errorGain = true;\n\n    global.researchesInfo[2].effect[0] = 0;\n    global.researchesInfo[2].effect[1] = 0;\n    global.accretionInfo.rankCost[4] = player.stage.true > 3 || (player.stage.true === 3 && player.events[0]) ? 5e29 : 0;\n    const stars = player.buildings[4];\n    global.collapseInfo.trueStars = stars[1].true + stars[2].true + stars[3].true + stars[4].true + stars[5].true;\n    global.historyStorage.stage = player.history.stage.list;\n    if (player.inflation.vacuum) {\n        player.buildings[2][0].current = Limit(player.buildings[1][5].current).divide('6.02214076e23').toArray();\n        player.buildings[3][0].current = Limit(player.buildings[1][0].current).multiply('1.78266192e-33').toArray();\n    } else if (player.accretion.rank === 0) { player.buildings[3][0].current = [5.97, 27]; }\n\n    for (let s = 1; s < playerStart.milestones.length; s++) {\n        for (let i = 0; i < playerStart.milestones[s].length; i++) {\n            calculateMilestoneInformation(i, s);\n        }\n    }\n    for (let s = 1; s < playerStart.strangeness.length; s++) {\n        const strangeness = player.strangeness[s];\n        const strangenessMax = global.strangenessInfo[s].max;\n        for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'strangeness');\n            if (strangeness[i] > strangenessMax[i]) {\n                strangeness[i] = strangenessMax[i];\n                visualUpdateResearches(i, s, 'strangeness');\n            }\n        }\n    }\n    for (let s = 1; s <= 5; s++) {\n        calculateMaxLevel(0, s, 'ASR');\n        const extra = player.researchesExtra[s];\n        const extraMax = global.researchesExtraInfo[s].max;\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'researchesExtra');\n            if (extra[i] > extraMax[i]) {\n                extra[i] = extraMax[i];\n            }\n        }\n        const researches = player.researches[s];\n        const researchesMax = global.researchesInfo[s].max;\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'researches');\n            if (researches[i] > researchesMax[i]) {\n                researches[i] = researchesMax[i];\n            }\n        }\n    }\n\n    assignStrangeBoost();\n    assignEnergy();\n    assignNewMassCap();\n    if (!player.inflation.vacuum) { calculateInstability(); }\n\n    /* Finish visuals */\n    const theme = localStorage.getItem('theme');\n    setTheme(theme === null ? null : Number(theme));\n\n    (getId('saveFileNameInput') as HTMLInputElement).value = player.fileName;\n    (getId('mainInterval') as HTMLInputElement).value = `${player.intervals.main}`;\n    (getId('numbersInterval') as HTMLInputElement).value = `${player.intervals.numbers}`;\n    (getId('visualInterval') as HTMLInputElement).value = `${player.intervals.visual / 1000}`;\n    (getId('autoSaveInterval') as HTMLInputElement).value = `${player.intervals.autoSave / 1000}`;\n    (getId('thousandSeparator') as HTMLInputElement).value = player.separator[0];\n    (getId('decimalPoint') as HTMLInputElement).value = player.separator[1];\n    (getId('stageInput') as HTMLInputElement).value = format(player.stage.input, { type: 'input' });\n    (getId('vaporizationInput') as HTMLInputElement).value = format(player.vaporization.input, { type: 'input' });\n    (getId('rankShiftInput') as HTMLInputElement).value = format(player.accretion.input, { type: 'input' });\n    (getId('collapseStarsInput') as HTMLInputElement).value = format(player.collapse.input, { type: 'input' });\n    (getId('stageResetsSave') as HTMLInputElement).value = `${player.history.stage.input[0]}`;\n    (getId('stageResetsKeep') as HTMLInputElement).value = `${player.history.stage.input[1]}`;\n    for (let i = 0; i < playerStart.toggles.normal.length; i++) { toggleSwap(i, 'normal'); }\n    for (let i = 0; i < playerStart.toggles.confirm.length; i++) { toggleConfirm(i); }\n    for (let i = 0; i < playerStart.toggles.auto.length; i++) { toggleSwap(i, 'auto'); }\n    toggleBuy();\n\n    return oldVersion;\n};\n\nexport const buildVersionInfo = () => {\n    if (getId('versionText', false) !== null) { return; }\n\n    const changeVersion = (version: string) => {\n        let text = '';\n        switch (version) {\n            case 'v0.0.1':\n                text = '- Stage 2 full rework\\n- Introduced automatic changelog\\n- Auto Structures do not wait for 2x cost if making the 1st one\\n\\n';\n                text += '- Mobile device support\\n\\n';\n                text += \"- 'Tritium' now shows how much Molecules being produced per second\\n- Upgrades auto update description\";\n                break;\n            case 'v0.0.2':\n                text = '- Added stats subtab\\n- Added Stage resets into save file';\n                break;\n            case 'v0.0.3':\n                text = '- Added new content (Stage 3)\\n- Stage 2 extended\\n- Max offline time base and from research is now 2 times longer\\n- Offline time calculated better\\n- Toggles have been reset\\n- Researches auto update description\\n- Some new stats';\n                break;\n            case 'v0.0.4':\n                text = '- Buffed all Stages\\n- Added events for early Stages\\n- Update to stats visuals\\n- Intervals have been reset\\n\\n';\n                text += '- Numbers are now formated\\n\\n';\n                text += '- New stat for Stage 3';\n                break;\n            case 'v0.0.5':\n                text = '- New content (Stage 4)\\n- Basic loading screen\\n- Full visual update\\n- New formula for multi making Structures\\n- Visual indication for how many Structures can be made\\n\\n';\n                text += '- Created Elements will show effects after Collapse\\n- Improved transition when changing themes\\n- Fixed being able to create automatization research when can\\'t afford them\\n\\n';\n                text += '- Added hotkeys\\n- Stage event reset';\n                break;\n            case 'v0.0.6':\n                text = '- List of hotkeys can be seen now\\n\\n';\n                text += '- Option to remove text movement\\n- Ability to rename save file';\n                break;\n            case 'v0.0.7':\n                text = '- New content (Stage 5)\\n- Stage 1 rework\\n- Self-made Structures stat moved into Stage tab\\n- Hotkeys for Resets\\n- Pressing keyboard (unless tab) no longer highlights buttons\\n- Removed old number format (it was painfully slow) in favor of self-made one\\n\\n';\n                text += '- Numpad can now be used as digits for hotkeys\\n\\n';\n                text += '- Save file name can now display in game stats';\n                break;\n            case 'v0.0.8':\n                text = '- Minor speed up to almost all Stages (not first one)';\n                break;\n            case 'v0.0.9':\n                text = '- New content (Milestones)\\n- Stage 4 speed up\\n- Fixed export reward not being saved into exported file\\n- Auto Structures toggles have been reset\\n\\n';\n                text += '- Fixed F1 - F12 buttons working as digits\\n- Milestones are now unlocked instanly (with Stage 5)\\n- New event that must be triggered to progress (entering Intergalactic space)\\n\\n';\n                text += '- Max offline base and research is increased by 2 times, related Strangeness cost and max level have been balanced\\n\\n';\n                text += '- Some quick balance changes for Stage 3 and 5';\n                break;\n            case 'v0.1.0':\n                text = '- New content and balance for end of Stage 5\\n- New stats for Stage 5';\n                break;\n            case 'v0.1.1':\n                text = '- More balance for Stage 5\\n- New stats for Stage 2 and 4, max energy no longer resets\\n- New hotkeys to change Active Stage';\n                break;\n            case 'v0.1.2':\n                text = '- New content (Vacuum)\\n- Some descriptions have been expanded\\n- Added self-made break infinity\\n- Offline time been reworked\\n- Added version window (removed automatic change log)\\n- Removed option to remove text movement (always on now)\\n\\n';\n                text += '- New color theme\\n- Offline warp now unlocked instantly\\n- New stats for Stage 4\\n\\n';\n                text += '- Auto Structures now correctly spend currency';\n                break;\n            case 'v0.1.3':\n                text = '- Puddles production base increased from 3 to 4, Clouds gain decreased by -1 (formula fix)\\n- New stats for Stage 3, 4 and 5\\n- More Stage 6 balance (Strangeness, reduced max level and adjusted cost; Submerged proper balance; Strange boost new effects)\\n- Replay event button\\n\\n';\n                text += '- History for Stage resets\\n- New hotkeys (A - toggle all Structures, O - toggle Offline)\\n\\n';\n                text += '- Added requirement to unlock better control over Warp (also Warp now has a minimum value)\\n- Automatically made Structures/Upgrades no longer visually update numbers';\n                break;\n            case 'v0.1.4':\n                text = '- Warps now waste offline (half of normal); Max offline from upgrades decreased, cost adjusted\\n- Custom scrolls\\n- Notifications\\n- Fixed and updated Mobile device and Screen reader supports\\n- Auto Collapse settings reset';\n                break;\n            case 'v0.1.5':\n                text = \"- Stage 6 minor balance changes\\n- Images should no longer unload on Stage change\\n- Elements subtab can now be entered from any Stage or turned into a tab\\n- Footer now affects page height\\n- Many small changes to improve quality of life\\n- 'Any' make toggle is now always Strict, related button removed\\n- More information for save files\\n- New hotkeys\\n- Screen reader support rework (also removed special tab)\";\n                break;\n            case 'v0.1.6':\n                text = '- Massive rebalance and reworks for all Stages\\n- Auto Collapse reworked (also its settings reset)\\n- Small changes to auto Vaporization\\n- New input for Auto Structures wait value\\n- New stats for Stage 1, 2 and 3\\n- New notifications\\n- Removed almost all Automatization researches\\n- Export reward now unlocked for free\\n- Created Elements will show effects after Stage reset\\n- Auto Galaxy is now better\\n- Descriptions no longer reset when changing active Stage\\n- More quality of life improvements\\n- More work on Mobile device and Screen reader supports\\n- Some toggles were reset';\n                break;\n            case 'v0.1.7':\n                text = \"- New content (Void)\\n- Further balance and quality of life changes\\n- Removed 'Max gain' and 'Longer offline' strangeness\\n- Max offline storage is based on Stage resets now\\n- Offline storage will no longer decrease when switching vacuum state\\n- Export base is now improved by best Stage reset\\n- '[27] Cobalt' effect is now based on total Elements\\n- Updated logic for entering and leaving Elements subtab\\n- Fixed import not working on some Mobile devices\\n- Intervals have been reset\\n- Small art updates\";\n        }\n        getId('versionText').textContent = text;\n        getId('currentVesion').textContent = version;\n    };\n\n    const max = 17; //v0.2.4 -> 24\n    let autoText = '';\n    for (let i = 1; i <= max; i++) {\n        const index = `${i}`.padStart(2, '0');\n        const version = `v0.${index[0]}.${index[1]}`;\n        autoText += `<button type=\"button\" id=\"${version}\">${version}</button>`;\n    }\n\n    getId('versionInfo').innerHTML = `<div style=\"display: flex; flex-direction: column; justify-content: space-between; align-items: center; width: clamp(42vw, 36em, 80vw); height: clamp(26vh, 36em, 90vh); background-color: var(--window-color); border: 3px solid var(--window-border); border-radius: 12px; padding: 1em 1em 0.8em; row-gap: 1em;\">\n        <div style=\"display: flex; justify-content: center; flex-wrap: wrap; gap: 0.06em;\">${autoText}</div>\n        <div style=\"width: 100%; overflow-y: auto;\">\n            <label id=\"currentVesion\" class=\"bigWord\"></label>\n            <p id=\"versionText\" class=\"whiteText\" style=\"white-space: pre-line; line-height: 1.3em; margin-top: 0.4em;\"></p>\n        </div>\n        <button type=\"button\" id=\"closeVersionInfo\" style=\"width: 6em; border-radius: 4px; font-size: 0.92em;\">Close</button>\n    </div>`;\n    document.head.appendChild(document.createElement('style')).textContent = '#versionInfo > div > div:first-of-type > button { width: 3.8em; height: 2em; font-size: 0.88em; }';\n    getId('closeVersionInfo').addEventListener('click', () => { getId('versionInfo').style.display = 'none'; });\n    for (let i = 1; i <= max; i++) {\n        const index = `${i}`.padStart(2, '0');\n        const version = `v0.${index[0]}.${index[1]}`;\n        getId(version).addEventListener('click', () => changeVersion(version));\n    }\n    changeVersion(playerStart.version);\n};\n", "import { global, player } from './Player';\nimport { checkTab } from './Check';\nimport { switchTab } from './Update';\nimport { buyBuilding, collapseAsyncReset, dischargeAsyncReset, rankAsyncReset, stageAsyncReset, switchStage, toggleSwap, vaporizationAsyncReset } from './Stage';\nimport { timeWarp } from './Main';\n\nexport const detectHotkey = (check: KeyboardEvent) => {\n    if (check.code === 'Tab') {\n        document.body.classList.add('outlineOnFocus');\n        return;\n    } else {\n        const activeType = (document.activeElement as HTMLInputElement).type;\n        if (activeType === 'text' || activeType === 'number') { return; }\n        document.body.classList.remove('outlineOnFocus');\n    }\n    if (check.ctrlKey || check.altKey) { return; }\n    const { key, code } = check;\n\n    const numberKey = Number(code.slice(-1));\n    if (!isNaN(numberKey)) {\n        let isShift = check.shiftKey;\n        if (isNaN(Number(key))) {\n            if (code[0] === 'F') { return; }\n            if (!isShift) { //Numpad\n                isShift = true;\n                check.preventDefault();\n            }\n        }\n\n        if (isShift) {\n            if (check.repeat) { return; }\n            toggleSwap(numberKey, 'buildings', true);\n        } else { buyBuilding(numberKey); }\n    } else if (key.length === 1) {\n        const stringKey = (player.toggles.normal[1] ? code.replace('Key', '') : key).toLowerCase();\n        if (check.shiftKey) {\n            if (stringKey === 'a') {\n                toggleSwap(0, 'buildings', true);\n            }\n        } else {\n            if (stringKey === 'o') {\n                toggleSwap(0, 'normal', true);\n            } else if (stringKey === 'w') {\n                check.preventDefault();\n                void timeWarp();\n            } else if (stringKey === 's') {\n                void stageAsyncReset();\n            } else if (stringKey === 'd') {\n                if (global.stageInfo.activeAll.includes(1)) { void dischargeAsyncReset(); }\n            } else if (stringKey === 'v') {\n                if (global.stageInfo.activeAll.includes(2)) { void vaporizationAsyncReset(); }\n            } else if (stringKey === 'r') {\n                if (global.stageInfo.activeAll.includes(3)) { void rankAsyncReset(); }\n            } else if (stringKey === 'c') {\n                if (global.stageInfo.activeAll.includes(4)) { void collapseAsyncReset(); }\n            }\n        }\n    } else if (key === 'ArrowLeft' || key === 'ArrowRight') {\n        if (check.repeat) { return; }\n        if (check.shiftKey) {\n            const activeAll = global.stageInfo.activeAll;\n            if (activeAll.length === 1) { return; }\n            let index = activeAll.indexOf(player.stage.active);\n\n            if (key === 'ArrowLeft') {\n                if (index <= 0) {\n                    index = activeAll.length - 1;\n                } else { index--; }\n                switchStage(activeAll[index]);\n            } else {\n                if (index >= activeAll.length - 1) {\n                    index = 0;\n                } else { index++; }\n                switchStage(activeAll[index]);\n            }\n        } else {\n            const tabs = global.tabList.tabs;\n            let index = tabs.indexOf(global.tab);\n\n            if (key === 'ArrowLeft') {\n                do {\n                    if (index <= 0) {\n                        index = tabs.length - 1;\n                    } else { index--; }\n                } while (!checkTab(tabs[index]));\n                switchTab(tabs[index]);\n            } else {\n                do {\n                    if (index >= tabs.length - 1) {\n                        index = 0;\n                    } else { index++; }\n                } while (!checkTab(tabs[index]));\n                switchTab(tabs[index]);\n            }\n        }\n    } else if (key === 'ArrowDown' || key === 'ArrowUp') {\n        if (check.shiftKey || check.repeat || !Object.hasOwn(global.subtab, `${global.tab}Current`)) { return; }\n        const subtabs = global.tabList[`${global.tab as 'stage'}Subtabs`];\n        let index = subtabs.indexOf(global.subtab[`${global.tab as 'stage'}Current`]);\n\n        if (key === 'ArrowDown') {\n            do {\n                if (index <= 0) {\n                    index = subtabs.length - 1;\n                } else { index--; }\n            } while (!checkTab(global.tab, subtabs[index]));\n            switchTab(global.tab, subtabs[index]);\n        } else {\n            do {\n                if (index >= subtabs.length - 1) {\n                    index = 0;\n                } else { index++; }\n            } while (!checkTab(global.tab, subtabs[index]));\n            switchTab(global.tab, subtabs[index]);\n        }\n    }\n};\n", "import { player, global, playerStart, updatePlayer, buildVersionInfo, deepClone } from './Player';\nimport { getUpgradeDescription, timeUpdate, switchTab, numbersUpdate, visualUpdate, format, maxOfflineTime, exportMultiplier, maxExportTime, getChallengeDescription, getChallengeReward, stageUpdate, getStrangenessDescription } from './Update';\nimport { assignNewMassCap, assignStrangeBoost, autoElementsSet, autoResearchesSet, autoUpgradesSet, buyBuilding, buyUpgrades, collapseAsyncReset, dischargeAsyncReset, rankAsyncReset, stageAsyncReset, switchStage, toggleBuy, toggleConfirm, toggleSwap, vaporizationAsyncReset } from './Stage';\nimport { Alert, hideFooter, Prompt, setTheme, changeFontSize, screenReaderSupport, mobileDeviceSupport, changeFormat, specialHTML, replayEvent, Confirm, preventImageUnload, Notify } from './Special';\nimport { detectHotkey } from './Hotkeys';\nimport { prepareVacuum, switchVacuum } from './Vacuum';\n\n/* This is how much I like to non stop write that element is not null */\nexport const getId = (id: string, cacheIn = true): HTMLElement => {\n    if (!cacheIn) { return document.getElementById(id) as HTMLElement; }\n    const test = specialHTML.cache.idMap.get(id);\n    if (test === undefined) {\n        const store = document.getElementById(id);\n        if (store === null) {\n            if (global.debug.errorID) {\n                global.debug.errorID = false;\n                Notify(`Error encountered, ID - '${id}' doesn't exist`);\n                setTimeout(() => { global.debug.errorID = true; }, 6e4);\n            }\n            throw new ReferenceError(`ID - '${id}' doesn't exist`);\n        }\n        specialHTML.cache.idMap.set(id, store);\n        return store;\n    }\n    return test;\n};\nexport const getClass = (idCollection: string): HTMLCollectionOf<HTMLElement> => {\n    //Might require to remove old values: 'specialHTML.cache.classMap.delete(oldValue)'\n    const test = specialHTML.cache.classMap.get(idCollection);\n    if (test === undefined) {\n        const store = document.getElementsByClassName(idCollection) as HTMLCollectionOf<HTMLElement>;\n        specialHTML.cache.classMap.set(idCollection, store);\n        return store;\n    }\n    return test;\n};\nexport const getQuery = (query: string): HTMLElement => {\n    const test = specialHTML.cache.queryMap.get(query);\n    if (test === undefined) {\n        const store = document.querySelector(query) as HTMLElement;\n        if (store === null) {\n            if (global.debug.errorQuery) {\n                global.debug.errorQuery = false;\n                Notify(`Error encountered, Query - '${query}' failed to find anything`);\n                setTimeout(() => { global.debug.errorQuery = true; }, 6e4);\n            }\n            throw new ReferenceError(`Query - '${query}' failed`);\n        }\n        specialHTML.cache.queryMap.set(query, store);\n        return store;\n    }\n    return test;\n};\n\nconst handleOfflineTime = (): number => {\n    const { time } = player;\n    const timeNow = Date.now();\n    const offlineTime = (timeNow - time.updated) / 1000;\n    time.updated = timeNow;\n    const maxOffline = maxOfflineTime();\n    if (time.offline < maxOffline) { time.offline = Math.min(time.offline + offlineTime, maxOffline); }\n    player.stage.export = Math.min(player.stage.export + offlineTime, maxExportTime());\n    return offlineTime;\n};\n\nconst changeIntervals = (pause = false) => {\n    const { intervalsId } = global;\n    const { intervals } = player;\n\n    clearInterval(intervalsId.main);\n    clearInterval(intervalsId.numbers);\n    clearInterval(intervalsId.visual);\n    clearInterval(intervalsId.autoSave);\n    intervalsId.main = pause ? undefined : setInterval(timeUpdate, intervals.main);\n    intervalsId.numbers = pause ? undefined : setInterval(numbersUpdate, intervals.numbers);\n    intervalsId.visual = pause ? undefined : setInterval(visualUpdate, intervals.visual);\n    intervalsId.autoSave = pause ? undefined : setInterval(saveLoad, intervals.autoSave, 'save');\n};\n\ntry { //Start everything\n    preventImageUnload();\n\n    const save = localStorage.getItem('testing_save');\n    if (save !== null) {\n        const load = JSON.parse(atob(save));\n        const versionCheck = updatePlayer(load);\n        void Alert(`Welcome back, you were away for ${format(handleOfflineTime(), { type: 'time' })}\\n${versionCheck !== player.version ? `Game have been updated from ${versionCheck} to ${player.version}` : `Current version is ${player.version}`}`);\n    } else {\n        prepareVacuum();\n        updatePlayer(deepClone(playerStart));\n        void Alert(`Welcome to 'Fundamental' ${player.version}, a test-project created by awWhy\\n(This idle game is not meant to be fast)`);\n    }\n\n    if (!player.toggles.normal[2]) {\n        const elementsArea = getId('researchSubtabElements', false);\n        elementsArea.id = 'ElementsTab';\n        getId('researchTab').after(elementsArea);\n\n        const elementsButton = getId('researchSubtabBtnElements', false);\n        elementsButton.id = 'ElementsTabBtn';\n        elementsButton.classList.add('stage4Include');\n        getId('researchTabBtn').after(elementsButton);\n\n        const tabList = global.tabList;\n        tabList.researchSubtabs.splice(tabList.researchSubtabs.indexOf('Elements'), 1);\n        tabList.tabs.splice(tabList.tabs.indexOf('research') + 1, 0, 'Elements');\n    }\n    mobileDeviceSupport();\n    screenReaderSupport();\n    changeFontSize();\n\n    /* Global */\n    const SR = global.screenReader[0];\n    const hover = global.mobileDevice ? 'touchstart' : 'mouseover';\n    document.addEventListener('keydown', (key: KeyboardEvent) => detectHotkey(key));\n    for (let i = 0; i < playerStart.toggles.normal.length; i++) {\n        getId(`toggle${i}`).addEventListener('click', () => toggleSwap(i, 'normal', true));\n    }\n    for (let i = 0; i < playerStart.toggles.confirm.length; i++) {\n        getId(`toggleConfirm${i}`).addEventListener('click', () => toggleConfirm(i, true));\n    }\n    for (let i = 0; i < specialHTML.longestBuilding; i++) {\n        getId(`toggleBuilding${i}`).addEventListener('click', () => toggleSwap(i, 'buildings', true));\n    }\n    for (let i = 0; i < playerStart.toggles.auto.length; i++) {\n        getId(`toggleAuto${i}`).addEventListener('click', () => toggleSwap(i, 'auto', true));\n    }\n\n    /* Stage tab */\n    for (let i = 1; i < specialHTML.longestBuilding; i++) {\n        getId(`building${i}Btn`).addEventListener('click', () => buyBuilding(i));\n    }\n    for (let i = 0; i < specialHTML.longestUpgrade; i++) {\n        const image = getId(`upgrade${i + 1}`);\n        if (SR) { image.addEventListener('focus', () => getUpgradeDescription(i, 'upgrades')); }\n        image.addEventListener(hover, () => getUpgradeDescription(i, 'upgrades'));\n        image.addEventListener('click', () => buyUpgrades(i, player.stage.active, 'upgrades'));\n    }\n    getId('stageReset').addEventListener('click', () => { void stageAsyncReset(); });\n    getId('reset1Button').addEventListener('click', () => {\n        const { active } = player.stage;\n        if (active === 1) {\n            void dischargeAsyncReset();\n        } else if (active === 2) {\n            void vaporizationAsyncReset();\n        } else if (active === 3) {\n            void rankAsyncReset();\n        } else if (active === 4) {\n            void collapseAsyncReset();\n        }\n    });\n    getId('buy1x').addEventListener('click', () => toggleBuy('1'));\n    getId('buyAny').addEventListener('click', () => toggleBuy('any'));\n    getId('buyMax').addEventListener('click', () => toggleBuy('max'));\n    getId('buyAnyInput').addEventListener('change', () => toggleBuy('any'));\n    getId('autoWaitInput').addEventListener('change', () => {\n        const input = getId('autoWaitInput') as HTMLInputElement;\n        let value = Math.max(Number(input.value), 1);\n        if (isNaN(value)) { value = 2; }\n        player.toggles.shop.wait[player.stage.active] = value;\n        input.value = format(value, { type: 'input' });\n    });\n\n    for (let i = -1; i < global.challengesInfo.name.length; i++) {\n        const image = getId(`challenge${i + 1}`);\n        if (SR) { image.addEventListener('focus', () => getChallengeDescription(i)); }\n        image.addEventListener(hover, () => getChallengeDescription(i));\n        if (i === -1) { image.addEventListener('click', switchVacuum); }\n        //image.addEventListener('click', i === -1 ? switchVacuum : () => { void enterChallenge(i); });\n    }\n    for (let i = 1; i < global.challengesInfo.rewardText[0].length; i++) {\n        if (i === 5) { continue; } //Missing for now\n        getId(`voidReward${global.stageInfo.word[i]}`).addEventListener('click', () => getChallengeReward(i/*, 'void'*/));\n    }\n\n    /* Research tab */\n    for (let i = 0; i < specialHTML.longestResearch; i++) {\n        const image = getId(`research${i + 1}Image`);\n        if (SR) { image.addEventListener('focus', () => getUpgradeDescription(i, 'researches')); }\n        image.addEventListener(hover, () => getUpgradeDescription(i, 'researches'));\n        image.addEventListener('click', () => buyUpgrades(i, player.stage.active, 'researches'));\n    }\n    for (let i = 0; i < specialHTML.longestResearchExtra; i++) {\n        const image = getId(`researchExtra${i + 1}Image`);\n        if (SR) { image.addEventListener('focus', () => getUpgradeDescription(i, 'researchesExtra')); }\n        image.addEventListener(hover, () => getUpgradeDescription(i, 'researchesExtra'));\n        image.addEventListener('click', () => buyUpgrades(i, player.stage.active, 'researchesExtra'));\n    }\n    {\n        const image = getId('ASRImage');\n        if (SR) { image.addEventListener('focus', () => getUpgradeDescription(0, 'ASR')); }\n        image.addEventListener(hover, () => getUpgradeDescription(0, 'ASR'));\n        image.addEventListener('click', () => buyUpgrades(player.stage.active, player.stage.active, 'ASR'));\n    }\n\n    getId('element0').addEventListener('dblclick', () => getUpgradeDescription(0, 'elements'));\n    for (let i = 1; i < global.elementsInfo.startCost.length; i++) {\n        const image = getId(`element${i}`);\n        if (SR) { image.addEventListener('focus', () => getUpgradeDescription(i, 'elements')); }\n        image.addEventListener(hover, () => getUpgradeDescription(i, 'elements'));\n        image.addEventListener('click', () => buyUpgrades(i, 4, 'elements'));\n    }\n\n    /* Strangeness tab */\n    for (let s = 1; s < global.strangenessInfo.length; s++) {\n        for (let i = 0; i < global.strangenessInfo[s].startCost.length; i++) {\n            const image = getId(`strange${i + 1}Stage${s}Image`);\n            if (SR) { image.addEventListener('focus', () => getStrangenessDescription(i, s, 'strangeness')); }\n            image.addEventListener(hover, () => getStrangenessDescription(i, s, 'strangeness'));\n            image.addEventListener('click', () => buyUpgrades(i, s, 'strangeness'));\n        }\n    }\n    for (let s = 1; s < global.milestonesInfo.length; s++) {\n        for (let i = 0; i < global.milestonesInfo[s].need.length; i++) {\n            const image = getQuery(`#milestone${i + 1}Stage${s}Div > img`);\n            if (SR) { image.addEventListener('focus', () => getStrangenessDescription(i, s, 'milestones')); }\n            image.addEventListener(hover, () => getStrangenessDescription(i, s, 'milestones'));\n        }\n    }\n\n    /* Settings tab */\n    getId('vaporizationInput').addEventListener('change', () => {\n        const input = getId('vaporizationInput') as HTMLInputElement;\n        player.vaporization.input = Math.max(Number(input.value), 0);\n        input.value = format(player.vaporization.input, { type: 'input' });\n    });\n    getId('rankShiftInput').addEventListener('change', () => {\n        const input = getId('rankShiftInput') as HTMLInputElement;\n        player.accretion.input = Number(input.value);\n        input.value = format(player.accretion.input, { type: 'input' });\n        assignNewMassCap();\n    });\n    getId('collapseStarsInput').addEventListener('change', () => {\n        const input = getId('collapseStarsInput') as HTMLInputElement;\n        player.collapse.input = Math.max(Number(input.value), 1);\n        input.value = format(player.collapse.input, { type: 'input' });\n    });\n    getId('stageInput').addEventListener('change', () => {\n        const input = getId('stageInput') as HTMLInputElement;\n        player.stage.input = Math.max(Number(input.value), 0);\n        input.value = format(player.stage.input, { type: 'input' });\n    });\n    getId('versionButton').addEventListener('click', () => {\n        buildVersionInfo();\n        getId('versionInfo').style.display = '';\n    });\n    getId('save').addEventListener('click', () => { void saveLoad('save'); });\n    getId('file').addEventListener('change', () => { void saveLoad('import'); });\n    getId('export').addEventListener('click', () => { void saveLoad('export'); });\n    getId('delete').addEventListener('click', () => { void saveLoad('delete'); });\n    getId('switchTheme0').addEventListener('click', () => setTheme(null));\n    for (let i = 1; i < global.stageInfo.word.length; i++) {\n        getId(`switchTheme${i}`).addEventListener('click', () => setTheme(i));\n    }\n    getId('toggleAuto8').addEventListener('click', () => autoElementsSet());\n    getId('toggleAuto5').addEventListener('click', () => autoUpgradesSet('all'));\n    getId('toggleAuto6').addEventListener('click', () => autoResearchesSet('researches', 'all'));\n    getId('toggleAuto7').addEventListener('click', () => autoResearchesSet('researchesExtra', 'all'));\n    getId('saveFileNameInput').addEventListener('change', () => changeSaveFileName());\n    {\n        const button = getId('saveFileHoverButton');\n        if (SR) { button.addEventListener('focus', () => (getId('saveFileNamePreview').textContent = replaceSaveFileSpecials())); }\n        button.addEventListener(hover, () => (getId('saveFileNamePreview').textContent = replaceSaveFileSpecials()));\n    }\n    getId('mainInterval').addEventListener('change', () => {\n        const mainInput = getId('mainInterval') as HTMLInputElement;\n        player.intervals.main = Math.min(Math.max(Math.trunc(Number(mainInput.value)), 20), 100);\n        mainInput.value = `${player.intervals.main}`;\n        changeIntervals();\n    });\n    getId('numbersInterval').addEventListener('change', () => {\n        const numberInput = getId('numbersInterval') as HTMLInputElement;\n        player.intervals.numbers = Math.min(Math.max(Math.trunc(Number(numberInput.value)), 40), 200);\n        numberInput.value = `${player.intervals.numbers}`;\n        changeIntervals();\n    });\n    getId('visualInterval').addEventListener('change', () => {\n        const visualInput = getId('visualInterval') as HTMLInputElement;\n        player.intervals.visual = Math.min(Math.max(Math.trunc(Number(visualInput.value) * 1000), 200), 4000);\n        visualInput.value = `${player.intervals.visual / 1000}`;\n        changeIntervals();\n    });\n    getId('autoSaveInterval').addEventListener('change', () => {\n        const autoSaveInput = getId('autoSaveInterval') as HTMLInputElement;\n        player.intervals.autoSave = Math.min(Math.max(Math.trunc(Number(autoSaveInput.value) * 1000), 4000), 1800000);\n        autoSaveInput.value = `${player.intervals.autoSave / 1000}`;\n        changeIntervals();\n    });\n    getId('thousandSeparator').addEventListener('change', () => changeFormat(false));\n    getId('decimalPoint').addEventListener('change', () => changeFormat(true));\n    getId('MDMainToggle').addEventListener('click', () => mobileDeviceSupport(true));\n    getId('SRMainToggle').addEventListener('click', () => screenReaderSupport(true));\n    getId('pauseGame').addEventListener('click', () => { void pauseGame(); });\n    getId('reviewEvents').addEventListener('click', () => { void replayEvent(); });\n    getId('offlineWarp').addEventListener('click', () => { void timeWarp(); });\n    getId('customFontSize').addEventListener('change', () => changeFontSize(true));\n\n    getId('stageResetsSave').addEventListener('change', () => {\n        const inputID = getId('stageResetsSave') as HTMLInputElement;\n        const { input } = player.history.stage;\n        input[0] = Math.min(Math.max(Math.trunc(Number(inputID.value)), 0), 20);\n        inputID.value = `${input[0]}`;\n\n        if (input[1] < input[0]) {\n            (getId('stageResetsKeep') as HTMLInputElement).value = inputID.value;\n            input[1] = input[0];\n        }\n    });\n    getId('stageResetsKeep').addEventListener('change', () => {\n        const input = getId('stageResetsKeep') as HTMLInputElement;\n        player.history.stage.input[1] = Math.min(Math.max(Math.trunc(Number(input.value)), player.history.stage.input[0], 3), 100);\n        input.value = `${player.history.stage.input[1]}`;\n    });\n\n    /* Footer */\n    getId('hideToggle').addEventListener('click', hideFooter);\n    for (const tabText of global.tabList.tabs) {\n        getId(`${tabText}TabBtn`).addEventListener('click', () => switchTab(tabText));\n        if (!Object.hasOwn(global.tabList, `${tabText}Subtabs`)) { continue; }\n        for (const subtabText of global.tabList[`${tabText as 'stage'}Subtabs`]) {\n            getId(`${tabText}SubtabBtn${subtabText}`).addEventListener('click', () => switchTab(tabText, subtabText));\n        }\n    }\n    for (let i = 1; i < global.stageInfo.word.length; i++) {\n        getId(`${global.stageInfo.word[i]}Switch`).addEventListener('click', () => switchStage(i));\n    }\n    getId('currentSwitch').addEventListener('click', () => getId('stageSelect').classList.add('active'));\n\n    /* Post */\n    stageUpdate('reload');\n    getId('body').style.display = '';\n    getId('loading').style.display = 'none';\n    Notify(`Game successfully loaded after ${Date.now() - playerStart.time.started} ms`);\n\n    changeIntervals();\n    document.title = `Fundamental ${playerStart.version}`;\n} catch (error) {\n    const buttonDiv = document.createElement('div');\n    buttonDiv.innerHTML = '<button type=\"button\" id=\"exportError\" style=\"width: 7em;\">Export save</button><button type=\"button\" id=\"deleteError\" style=\"width: 7em;\">Delete save</button>';\n    buttonDiv.style.cssText = 'display: flex; column-gap: 0.6em; margin-top: 0.4em;';\n    getId('loading').append(buttonDiv);\n    getId('exportError').addEventListener('click', () => {\n        const save = localStorage.getItem('testing_save');\n        if (save === null) { return void Alert('No save file detected'); }\n        const a = document.createElement('a');\n        a.href = `data:text/plain,${save}`;\n        a.download = 'Fundamental post error export';\n        a.click();\n    });\n    getId('deleteError').addEventListener('click', async() => {\n        if (!(await Confirm(\"Press 'Confirm' to delete your save file\\nThis will not be possible to undo, so export save file first\"))) { return; }\n        if (!(await Confirm(\"Last warning, press 'Confirm' to delete your save file\"))) { return; }\n        localStorage.removeItem('testing_save');\n        window.location.reload();\n        void Alert('Game will auto refresh. If not then do it manually');\n    });\n    void Alert(`Error detected during game loading:\\n${error}`);\n}\n\nasync function saveLoad(type: 'import' | 'save' | 'export' | 'delete'): Promise<void> {\n    switch (type) {\n        case 'import': {\n            const id = getId('file') as HTMLInputElement;\n            changeIntervals(true);\n\n            try {\n                const save = await (id.files as FileList)[0].text();\n                const versionCheck = updatePlayer(JSON.parse(atob(save)));\n\n                Notify(`This save is ${format(handleOfflineTime(), { type: 'time' })} old. Save file version is ${versionCheck}`);\n                getId('isSaved').textContent = 'Imported';\n                global.lastSave = 0;\n                stageUpdate('reload');\n            } catch (error) {\n                void Alert(`Incorrect save file format\\nFull error is: '${error}'`);\n            } finally {\n                changeIntervals();\n                id.value = '';\n            }\n            return;\n        }\n        case 'save': {\n            if (player.time.offline < 0) { return Notify(`Saving is disabled until ${new Date(Date.now() - player.time.offline * 1000).toLocaleString()}\\nReason: possible time manipulation`); }\n            try {\n                player.history.stage.list = global.historyStorage.stage.slice(0, player.history.stage.input[0]);\n\n                const save = btoa(JSON.stringify(player));\n                localStorage.setItem('testing_save', save);\n                clearInterval(global.intervalsId.autoSave);\n                global.intervalsId.autoSave = setInterval(saveLoad, player.intervals.autoSave, 'save');\n                getId('isSaved').textContent = 'Saved';\n                global.lastSave = 0;\n            } catch (error) {\n                void Alert(`Failed to save file\\nFull error is: '${error}'`);\n            }\n            return;\n        }\n        case 'export': {\n            if (player.time.offline < 0) { return; }\n            player.history.stage.list = global.historyStorage.stage.slice(0, player.history.stage.input[0]);\n\n            if (player.strange[0].total > 0 && player.stage.export > 0) {\n                const rewardType = player.strangeness[5][10];\n                const multiplier = exportMultiplier();\n\n                let strangeGain;\n                if (rewardType >= 1) {\n                    strangeGain = player.stage.export * multiplier / 86400 / 1e12 ** rewardType;\n                    player.stage.export = 0;\n                } else {\n                    strangeGain = Math.floor(player.stage.export * multiplier / 86400);\n                    player.stage.export -= strangeGain * 86400 / multiplier;\n                }\n                player.strange[rewardType].current += strangeGain;\n                player.strange[rewardType].total += strangeGain;\n                if (rewardType === 0) { assignStrangeBoost(); }\n            }\n\n            const save = btoa(JSON.stringify(player));\n            const a = document.createElement('a');\n            a.href = `data:text/plain,${save}`;\n            a.download = replaceSaveFileSpecials();\n            a.click();\n            return;\n        }\n        case 'delete': {\n            const ok = await Prompt(\"Type 'delete' to confirm delete your save file (there is no reward for doing it)\\nOr 'clear' to clear local storage (this will delete all data from domain, including other games)\");\n            if (ok === null || ok === '') { return; }\n            const lower = ok.toLowerCase();\n            if (lower !== 'delete' && lower !== 'clear') { return Notify(`Deletion canceled, wrong input '${ok}'`); }\n\n            changeIntervals(true);\n            if (lower === 'delete') {\n                localStorage.removeItem('testing_save');\n            } else { localStorage.clear(); }\n            window.location.reload();\n            void Alert('Game will auto refresh. If not then do it manually');\n        }\n    }\n}\n\nconst changeSaveFileName = () => {\n    const input = getId('saveFileNameInput') as HTMLInputElement;\n    const newValue = input.value.length === 0 ? playerStart.fileName : input.value.replaceAll(/[\\\\/:*?\"<>|]/g, '_');\n\n    try {\n        btoa(newValue); //Test for any illegal characters\n        player.fileName = newValue;\n        input.value = newValue;\n    } catch (error) {\n        void Alert(`Save file name is not allowed\\nFull error is: '${error}'`);\n    }\n};\n\nconst replaceSaveFileSpecials = (): string => {\n    let realName = player.fileName;\n    const special = [\n        '[stage]',\n        '[true]',\n        '[strange]',\n        '[matter]',\n        '[vacuum]',\n        '[date]',\n        '[time]'\n    ];\n    const replaceWith = [\n        global.stageInfo.word[player.stage.active],\n        global.stageInfo.word[player.stage.true],\n        `${global.strangeInfo.gain(player.stage.active)}`,\n        `${global.strangeInfo.name[player.strangeness[5][10]]}`,\n        `${player.inflation.vacuum}`,\n        getDate('dateDMY'),\n        getDate('timeHMS')\n    ];\n    for (let i = 0; i < special.length; i++) {\n        realName = realName.replaceAll(special[i], replaceWith[i]);\n    }\n    return `${realName}.txt`;\n};\n\nconst getDate = (type: 'dateDMY' | 'timeHMS'): string => {\n    const current = new Date();\n    switch (type) {\n        case 'dateDMY': {\n            const day = current.getDate();\n            const month = current.getMonth() + 1;\n            return `${day < 10 ? `0${day}` : day}.${month < 10 ? `0${month}` : month}.${current.getFullYear()}`;\n        }\n        case 'timeHMS': {\n            const minutes = current.getMinutes();\n            const seconds = current.getSeconds();\n            return `${current.getHours()}-${minutes < 10 ? `0${minutes}` : minutes}-${seconds < 10 ? `0${seconds}` : seconds}`;\n        }\n    }\n};\n\nexport const timeWarp = async() => {\n    const { time } = player;\n    const waste = (8 - player.strangeness[2][6]) / 2;\n    if (time.offline < 900 * waste) { return void Alert(`Need at least ${format(15 * waste)} minutes (effective is 15 minutes) of storaged Offline time to Warp`); }\n\n    const warpTime = Math.min(player.strangeness[1][7] < 2 ? (await Confirm(`Do you wish to Warp forward? Current effective Offline time is ${format(time.offline / waste, { type: 'time' })}, will be consumed up to half an hour (uses ${format(waste)} seconds per added second)\\nCalculates a minute per tick`) ? 1800 : 0) :\n        Number(await Prompt(`How many seconds do you wish to Warp forward? Current effective Offline time is ${format(time.offline / waste, { type: 'time' })} (uses ${format(waste)} seconds per added second, minimum value is 15 minutes)\\nBigger number will result in more lag (calculates a minute per tick)`, '900')), time.offline / waste);\n    if (warpTime < 900 || !isFinite(warpTime)) { return warpTime === 0 ? undefined : Notify('Warp failed, input or storage is below minimum value or invalid'); }\n\n    time.offline -= warpTime * waste;\n    timeUpdate(warpTime);\n};\n\nconst pauseGame = async() => {\n    changeIntervals(true);\n    await Alert(\"Game is currently paused. Press 'confirm' to unpause it. Time spend here will be moved into offline storage\");\n\n    Notify(`Game was paused for ${format(handleOfflineTime(), { type: 'time' })}`);\n    changeIntervals();\n    numbersUpdate();\n    visualUpdate();\n};\n"],
  "mappings": "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",
  "names": ["overlimit", "number", "technical", "result", "numbers", "array", "i", "power", "base", "compare", "allEqual", "settings", "toSort", "descend", "main", "initial", "target", "merge", "first", "second", "f", "s", "clone", "left", "right", "check", "difference", "after", "digits", "negative", "base10", "tooSmall", "test", "exponent", "player", "formated", "index", "convert", "Limit", "LimitAlt", "Limit_default", "checkTab", "tab", "subtab", "player", "global", "checkBuilding", "index", "stageIndex", "checkUpgrade", "upgrade", "type", "allowedToBeReset", "check", "milestoneCheck", "need", "Limit_default", "prepareVacuum", "buildings", "playerStart", "buildingsInfo", "upgradesInfo", "researchesInfo", "researchesExtraInfo", "strangenessInfo", "global", "player", "specialHTML", "maxBuildings", "upgrades1Cost", "researches1Cost", "researches1Scaling", "strangeness1Cost", "strangeness1Scaling", "strangeness2Cost", "strangeness2Scaling", "strangeness3Cost", "strangeness3Scaling", "strangeness4Cost", "strangeness4Scaling", "strangeness5Cost", "strangeness5Scaling", "getId", "milestone1S2", "getQuery", "s", "element", "getClass", "i", "newValue", "cloneArray", "switchVacuum", "Alert", "count", "Confirm", "resetVacuum", "updateUnknown", "milestones", "text", "div", "switchTab", "tab", "subtab", "oldTab", "global", "getId", "inside", "subtabAmount", "checkTab", "oldSubtab", "switchStage", "active", "player", "visualUpdate", "numbersUpdate", "maxOfflineTime", "maxExportTime", "exportMultiplier", "mult", "timeUpdate", "timeWarp", "auto", "autoBuy", "vacuum", "maxActive", "type", "autoU", "autoR", "autoE", "autoElements", "passedSeconds", "extraTime", "time", "currentTime", "stageResetCheck", "i", "calculateGainedStrangeness", "assignBuildingInformation", "s", "collapseResetCheck", "autoElementsBuy", "rankResetCheck", "vaporizationResetCheck", "dischargeResetCheck", "autoUpgradesBuy", "autoResearchesBuy", "buyBuilding", "calculateGainedBuildings", "research", "buildings", "Limit_default", "format", "stars", "buildingsInfo", "howMany", "trueCountID", "assignWithNoMove", "costName", "currency", "free", "e", "extra", "totalBuy", "totalCost", "calculateBuildingsCost", "increase", "firstCost", "totalBefore", "assignDischargeInformation", "effect", "assignVaporizationInformation", "rankCost", "collapse", "collapseInfo", "assignCollapseInformation", "getUpgradeDescription", "trueSubtab", "stageGain", "shiftRange", "maxTimeExp", "before", "moles", "mass", "starEffect", "massEffect", "strange", "strangeMax", "check", "playEvent", "multiMake", "ASR", "resetMessage", "failMessage", "first3Discharges", "rank", "upgrades", "nova", "nebula", "cluster", "neutron", "grid", "bound", "voidProgress", "strange5", "strangeness", "trueStage", "stageBest", "converted", "updateHistory", "updateUnknown", "index", "elementsInfo", "stageIndex", "pointer", "ASRInfo", "autoIndex", "waitValue", "getStrangenessDescription", "stageText", "getChallengeDescription", "multi", "text", "info", "color", "getChallengeReward", "need", "reward", "level", "visualUpdateUpgrades", "image", "visualUpdateResearches", "max", "upgradeHTML", "getQuery", "list", "listID", "input", "settings", "inputAbs", "precision", "digits", "result", "formated", "stageUpdate", "stageInfo", "current", "highest", "resets", "activeAll", "element", "getClass", "stageWord", "autoUpgradesSet", "autoResearchesSet", "autoElementsSet", "specialHTML", "showU", "showR", "showRE", "showF", "updateRankInfo", "buildingHTML", "toggleSwap", "researchHTML", "main", "researchExtraHTML", "footerStatsHTML", "body", "switchTheme", "name", "reset", "type", "stageIndex", "elements", "player", "i", "allowedToBeReset", "visualUpdateUpgrades", "autoElementsSet", "s", "global", "buildings", "cloneArray", "playerStart", "upgrades", "autoUpgradesSet", "researches", "visualUpdateResearches", "calculateResearchCost", "autoResearchesSet", "researchesExtra", "startEnergy", "assignEnergy", "assignBuildingInformation", "numbersUpdate", "visualUpdate", "resetStage", "update", "buildingsStart", "calculateMaxLevel", "stageUpdate", "active", "updateRankInfo", "resetVacuum", "assignStrangeBoost", "assignNewMassCap", "calculateMilestoneInformation", "assignBuildingInformation", "upgradesInfo", "researchesInfo", "researchesExtraInfo", "dischargeInfo", "vaporizationInfo", "milestonesInfo", "global", "buildings", "upgrades", "researches", "researchesExtra", "strangeness", "discharge", "player", "producing", "stageBoost", "activeAll", "vacuum", "inVoid", "energyMin", "b3", "b4", "b5", "dischargeBase", "totalMultiplier", "listForMult5", "prod5Number", "Limit_default", "radiation", "listForMult4", "prod4Number", "listForMult3", "prod3Number", "listForMult2", "listForMult1", "current5", "current4", "current3", "current2", "prod2Number", "scaling", "excess", "prod1Number", "satellitesBoost", "elements", "starEffect", "elementsEffects", "systemBase", "effectiveLevel", "listForTotal", "planetBase", "logAny", "totalNumber", "clusterBoost", "inflationInfo", "shiftRange", "calculateMassGain", "preonsCap", "buyBuilding", "index", "stageIndex", "auto", "checkBuilding", "building", "pointer", "currency", "special", "budget", "save", "total", "calculateBuildingsCost", "howMany", "canAfford", "increase", "firstCost", "totalBefore", "Notify", "cloneArray", "reset", "assignEnergy", "awardMilestone", "playEvent", "numbersUpdate", "getId", "format", "add", "getEnergy", "energyType", "s", "i", "buildingsInfo", "effect", "cost", "calculateGainedBuildings", "get", "time", "stageGet", "assignStrangeBoost", "strangeQuarks", "calculateGainedStrangeness", "strange", "max", "old", "buyUpgrades", "upgrade", "type", "checkUpgrade", "switchTab", "level", "calculateMaxLevel", "stageUpdate", "awardVoidReward", "startCost", "assignNewMassCap", "visualUpdateUpgrades", "dischargeResetCheck", "decreased", "calculateResearchCost", "visualUpdateResearches", "getStrangenessDescription", "research", "digits", "addAuto", "autoResearchesSet", "autoUpgradesSet", "which", "b", "a", "autoUpgradesBuy", "autoResearchesBuy", "sort", "bought", "autoElementsSet", "autoElementsBuy", "toggleSwap", "number", "change", "toggles", "anyOn", "toggleHTML", "extraText", "toggleConfirm", "toggleBuy", "input", "shop", "stageResetCheck", "allowed", "stageResetReward", "stageAsyncReset", "stage", "active", "noNickel", "inChallenge", "text", "Confirm", "Alert", "update", "resetThese", "trueGain", "resetType", "postGain", "storage", "history", "resetStage", "switchStage", "assignDischargeInformation", "dischargeReset", "dischargeAsyncReset", "info", "energy", "goalReached", "energyRegain", "assignVaporizationInformation", "vaporizationResetCheck", "toReset", "vaporizationReset", "vaporizationAsyncReset", "clouds", "vaporization", "rankResetCheck", "requirement", "rankReset", "rankAsyncReset", "updateRankInfo", "value", "min", "massGain", "assignCollapseInformation", "starCheck", "stars", "collapseResetCheck", "galaxyCost", "collapseReset", "collapseAsyncReset", "unlockedG", "cantAfford", "notMaxed", "message", "count", "collapseInfo", "collapse", "calculateInstability", "milestones", "calculateMilestoneInformation", "need", "reward", "milestoneCheck", "progress", "specialHTML", "preventImageUnload", "footer", "build", "upgrade", "research", "extra", "extraDiv", "images", "s", "i", "setTheme", "theme", "player", "global", "switchTheme", "_a", "body", "getId", "dropStatColor", "waterStatColor", "text", "getQuery", "Alert", "resolve", "blocker", "Notify", "confirm", "key", "button", "close", "Confirm", "cancel", "yes", "no", "result", "Prompt", "inputValue", "input", "div", "notification", "mainDiv", "timeout", "remove", "hideFooter", "footerArea", "toggle", "arrow", "animationReset", "numbersUpdate", "visualUpdate", "mobileDeviceSupport", "change", "enabled", "screenReaderSupport", "SRCreateHTML", "stageUpdate", "SRMainDiv", "SRSettings", "hangleToggle", "number", "toggleHTML", "visualUpdateResearches", "newTab", "tabText", "subtabText", "changeFontSize", "size", "changeFormat", "point", "htmlInput", "assignWithNoMove", "html", "newWidth", "replayEvent", "events", "last", "event", "playEvent", "index", "calculateMaxLevel", "player", "global", "index", "stageIndex", "value", "Limit_default", "post", "effect", "minValue", "power", "stars", "logAny", "blackHoles", "stage", "interstellar", "gain", "format", "progress", "text", "number", "base", "cloneArray", "array", "deepClone", "toClone", "i", "check", "createArray", "amount", "type", "s", "upgradeType", "pointer", "playerStart", "updatePlayer", "load", "key", "oldVersion", "oldB", "oldU", "oldR", "oldE", "buildings", "newLength", "prepareVacuum", "calculateMilestoneInformation", "strangeness", "strangenessMax", "calculateMaxLevel", "visualUpdateResearches", "extra", "extraMax", "researches", "researchesMax", "assignStrangeBoost", "assignEnergy", "assignNewMassCap", "calculateInstability", "theme", "setTheme", "getId", "toggleSwap", "toggleConfirm", "toggleBuy", "buildVersionInfo", "changeVersion", "version", "max", "autoText", "detectHotkey", "check", "activeType", "key", "code", "numberKey", "stringKey", "player", "toggleSwap", "timeWarp", "stageAsyncReset", "global", "dischargeAsyncReset", "vaporizationAsyncReset", "rankAsyncReset", "collapseAsyncReset", "activeAll", "index", "switchStage", "tabs", "checkTab", "switchTab", "subtabs", "isShift", "buyBuilding", "getId", "id", "cacheIn", "test", "specialHTML", "store", "global", "Notify", "getClass", "idCollection", "getQuery", "query", "handleOfflineTime", "time", "player", "timeNow", "offlineTime", "maxOffline", "maxOfflineTime", "maxExportTime", "changeIntervals", "pause", "intervalsId", "intervals", "timeUpdate", "numbersUpdate", "visualUpdate", "saveLoad", "preventImageUnload", "save", "load", "versionCheck", "updatePlayer", "Alert", "format", "prepareVacuum", "deepClone", "playerStart", "elementsArea", "elementsButton", "tabList", "mobileDeviceSupport", "screenReaderSupport", "changeFontSize", "SR", "hover", "key", "detectHotkey", "i", "toggleSwap", "toggleConfirm", "buyBuilding", "image", "getUpgradeDescription", "buyUpgrades", "stageAsyncReset", "active", "dischargeAsyncReset", "vaporizationAsyncReset", "rankAsyncReset", "collapseAsyncReset", "toggleBuy", "input", "value", "getChallengeDescription", "switchVacuum", "getChallengeReward", "s", "getStrangenessDescription", "assignNewMassCap", "buildVersionInfo", "setTheme", "autoElementsSet", "autoUpgradesSet", "autoResearchesSet", "changeSaveFileName", "button", "replaceSaveFileSpecials", "mainInput", "numberInput", "visualInput", "autoSaveInput", "changeFormat", "pauseGame", "replayEvent", "timeWarp", "inputID", "hideFooter", "tabText", "switchTab", "subtabText", "switchStage", "stageUpdate", "error", "buttonDiv", "a", "Confirm", "type", "rewardType", "multiplier", "exportMultiplier", "strangeGain", "assignStrangeBoost", "ok", "Prompt", "lower", "newValue", "realName", "special", "replaceWith", "getDate", "current", "day", "month", "minutes", "seconds", "waste", "warpTime"]
}
